<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dusko Pijetlovic</title>
    <description>Dusko Pijetlovic - My Personal Web Space</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 19 Oct 2022 14:20:18 -0700</pubDate>
    <lastBuildDate>Wed, 19 Oct 2022 14:20:18 -0700</lastBuildDate>
    <generator>Jekyll v3.9.0</generator>
    
      <item>
        <title>Time Management with Graphviz</title>
        <description>&lt;p&gt;OS: FreeBSD 13, Shell: csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat timegraph.gv
/*
  Colours:
    green = done
    orange = in progress
    red = not started
 */ 

digraph timegraph
{

  /*
    Graphviz - FaqClusterEdge - How can I create edges between cluster
  boxes? http://www.graphviz.org/content/FaqClusterEdge
  */
  compound = true; 

  graph [newrank = true]; 
  node [fontsize=10, shape = box];
  splines = &quot;line&quot;; // Force edges to be straight, no curves or angles

  subgraph clusterToday 
  {
    label = &quot;Today&quot;;
    style = &quot;filled&quot;;
    color = &quot;#91cf60&quot;;

    &quot;Inspect HP server fans&quot;;
  }

  subgraph clusterTomorrow
  {
    label = &quot;Tomorrow&quot;;

    //{ rank = same; &quot;Email backupmap&quot; ; }
  }

  subgraph clusterWeek1
  {
    label = &quot;1st Week of Oct&quot;;
  }

  subgraph clusterWeek2
  {
    label = &quot;2nd Week of Oct&quot;;
  }

  subgraph clusterWeek3
  {
    label = &quot;3rd Week of Oct&quot;;

    CVM [label = &quot;Clone groups2 VM&quot;]; 
    SVM [label = &quot;Stop KVM VM&quot;, color = &quot;red&quot;];
    EXVM [label = &quot;Export KVM VM&quot;, color = &quot;red&quot;];

    /*
      Group these three nodes - to keep the edges straight.

      From Graphviz documentation:  Attributes - group:
        Name for a group of nodes, for bundling edges avoiding crossings.
        If the end points of an edge belong to the same group, i.e., have the 
        same group attribute, parameters are set to avoid crossings and keep 
        the edges straight.
    */
    CVRT [group = gConvert, label = &quot;Convert QCOW2 to VMDK image&quot;, color = &quot;red&quot;];
    CNO [group = gConvert, label = &quot;Reqeust a new org in VMware Cloud Director&quot;, color = &quot;orange&quot;];
    IMPIMG [group = gConvert, label = &quot;Import VMDK image in VMware Cloud Director&quot;, color = &quot;red&quot;];
  
    CVM -&amp;gt; SVM -&amp;gt; EXVM -&amp;gt; CVRT; 
    CVM -&amp;gt; CNO;
    CNO -&amp;gt; IMPIMG;

    CVRT -&amp;gt; IMPIMG;
  }

  subgraph clusterWeek4
  {
    label = &quot;4th Week of Oct&quot;;
    &quot;Install SSL certs&quot;;
    &quot;Email reviews to Jill&quot;;
  }

  subgraph clusterWeek5
  {
    label = &quot;5th Week of Oct&quot;;
    &quot;Install git&quot;;   
  }

  subgraph clusterFuture
  {
    label = &quot;Future&quot;;

    &quot;Clone NE1032T switch\n
     Install Nagios\n
     Configure an automation system\n
     Backup QCOW2 images for all VMs&quot;;
  }

  label = &quot;Updated on Oct 19, 2022&quot;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Command to generate diagram:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dot -Tpng timemgraph.gv -o timemgraph.png 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Command to view the graph:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xv timegraph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Command to generate diagram with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make(1)&lt;/code&gt; tool.&lt;/p&gt;

&lt;p&gt;First create the Makefile file.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  Each of the lines with target in the Makefile must be
           preceded by a tab (in this case, lines with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dot&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rm&lt;/code&gt;,
           and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xv&lt;/code&gt; commands).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat Makefile
timegraph.png timegraph.pdf: timegraph.gv
	dot -Tpng timegraph.gv -o timegraph.png
	dot -Tpdf timegraph.gv -o timegraph.pdf
	xv timegraph.png
clean:
	rm -i *png *pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use the make(1):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you want to delete generated PDF and PNG files:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ make clean
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv timegraph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/timegraph.png&quot; alt=&quot;Displaying a time management diagram png image created by Grapvhiz&quot; title=&quot;Displaying a time management diagram png image created by Grapvhiz&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; To see the image in full size in a web browser, right-click on it and select “Open Image in New Tab”.&lt;/p&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://zwischenzugs.com/2017/12/18/project-management-as-code-with-graphviz/&quot;&gt;Project Management as Code with Graphviz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=15950325&quot;&gt;HackerNews Discussion&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ianmiell/pm-as-code&quot;&gt;Graphviz Source Code&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.graphviz.org/documentation/TSE93.pdf&quot;&gt;A Technique for Drawing Directed Graphs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Manpages for: make(1), style.Makefile(5) (on FreeBSD)&lt;/p&gt;

</description>
        <pubDate>Wed, 19 Oct 2022 08:03:09 -0700</pubDate>
        <link>http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/10/19/timemanagement-graphviz.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/10/19/timemanagement-graphviz.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>Using Graphviz Clusters</title>
        <description>&lt;p&gt;Host OS: FreeBSD 13, Shell: csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat backupmap.dot
/*
   Command to create the graph (when splines = &quot;line&quot;;): 
       dot -Tpng backupmap.dot -o backupmap.png

   Command to create the graph (when splines = &quot;ortho&quot;; in the dot file): 
       dot -Gsplines=none backupmap.dot | neato -n -Gsplines=ortho -Tpng -o backupmap.png
   ---&amp;gt; https://stackoverflow.com/questions/7922960/block-diagram-layout-with-dot-graphviz

   To view the graph:
   Install image viewer and cataloguer; for example:
       xv backupmap.png &amp;amp;
   Or: 
       feh backupmap.png &amp;amp;
*/

/*
  From:
    https://stackoverflow.com/questions/7586376/graphviz-subgraph-doesnt-get-visualized

  From the graphiz documentation, section &quot;Subgraphs and Clusters&quot;:

  The third role for subgraphs directly involves how the graph will be laid 
  out by certain layout engines.  

  From the graphviz documentation:
    https://graphviz.org/docs/attrs/cluster/

  If the name of the subgraph begins with &quot;cluster&quot;, Graphviz notes the 
  subgraph as a special cluster subgraph. 

  Alternatively, you can use
    cluster=true;
  within a cluster.
*/

digraph backupMap {
  /* 
     http://graphs.grevian.org/reference
     Used to influence the &apos;spring&apos; used in the layout. 
     Can be used to push nodes further apart, which is especially useful 
     for twopi and sfdp layouts
  */
  K = 0.6;
  
  /*
     Graphviz - FaqClusterEdge - How can I create edges between cluster boxes?
     http://www.graphviz.org/content/FaqClusterEdge
  */ 
  compound = true; 

  splines = &quot;line&quot;; // Force edges to be straight, no curves or angles
  //splines = &quot;ortho&quot;; 
  rankdir = &quot;LR&quot;;   // NOTE: rankdir can be used only once
  //rankdir = &quot;TB&quot;;
  graph [newrank = true]; 
  // To get the list of fonts:  fc-list
  node[fontname = &quot;Hermit-Bold&quot;, width = 1.5, height = 0.45, fontsize=9];
  nodesep = 0.14;

  /*  Subgraph Clusters
  
      Graphviz cluster alignment
        https://stackoverflow.com/questions/67295008/graphviz-cluster-alignment
  */

  subgraph clusterMain
  {
    style = &quot;dashed&quot;; 
    color = &quot;#625a5a&quot;;
    //peripheries = 0;  // To remove border around the cluster

    //label = &quot;MAIN CLUSTER&quot;;
    //graph[rankdir = &quot;LR&quot;];
    node [shape = box, style = filled, color = black, fillcolor = &quot;#91cf60&quot;];

    node [group = vert];
    a[group = g1, label = &quot;Servers&quot;];
    nfsServer [group = g1, label = &quot;NFS Servers&quot;]; 
    b[group = g1, label = &quot;Backup Destinations&quot;];

    // Added minlen in order to push the three &quot;Backup Destination&quot; clusters further away
    // NOTE:  This is the first  minlen; there&apos;s another one further below
    a -&amp;gt; nfsServer [minlen = 2.7, style = invis]; 
    nfsServer -&amp;gt; b [style = invis];
  }

  subgraph clusterA
  {
    color = &quot;#625a5a&quot;;
    node [shape = box, style = filled, color = black, fillcolor = &quot;#fee08b&quot;];
    peripheries = 0;  // To remove border around the cluster

    a15[label = &quot;redwood&quot;];
    a14[label = &quot;chestnut&quot;];
    a13[label = &quot;neon&quot;];
    a12[label = &quot;www&quot;];
    a11[label = &quot;xenon&quot;];
    a10[label = &quot;mail&quot;];
    a9[label  = &quot;mailx&quot;];
    a8[label  = &quot;groups&quot;];
    a7[label  = &quot;titanium&quot;];
    a6[label  = &quot;chemapps&quot;];
    a5[label  = &quot;wapps&quot;];
    a4[label  = &quot;www5&quot;];
    a3[label  = &quot;abacus&quot;];
    a2[label  = &quot;kvmhost3&quot;];
    a1[label  = &quot;ost&quot;];
  }

  {rank = same a -&amp;gt; {a1 a2 a3 a4 a5 a6 a7 a8 a9 a10 a11 a12 a13 a14 a15} [style = invis] };
  {rank = same b -&amp;gt; {LenovoDS2200 dcds1821 zfs} [ style = invis ] };  


  subgraph clusterBackupToLenovoSANds2200
  {
    //label = &quot;Backup Destination 1&quot;;
    label = &quot;                    &quot;;

    node [fillcolor = &quot;#F5F5F5&quot;, style = filled, shape = &quot;rectangle&quot;]; 

    /*
      Group these two nodes - to keep the edges straight.

      From Graphviz documentation:  Attributes - group:

        Name for a group of nodes, for bundling edges avoiding crossings.

        If the end points of an edge belong to the same group, i.e., have the 
        same group attribute, parameters are set to avoid crossings and keep 
        the edges straight.
    */
    kvmhost2 [group = gLenovoSAN, height = 0.10];
    LenovoDS2200 [group = gLenovoSAN, penwidth=5.0, shape = &quot;cylinder&quot;, label = &quot;Lenovo DS2200\n\nSAN Array&quot;]; 

    kvmhost2 -&amp;gt; LenovoDS2200 [label = &quot;iSCSI&quot;]; 
  }


  {rank = same kvmhost2 -&amp;gt; legend [style = invis] };


  subgraph clusterBackupToDcDs1821NAS
  {
    //label = &quot;Backup Destination 2&quot;;
    label = &quot;                   &quot;;

    node [fillcolor = &quot;#F5F5F5&quot;, style = filled, shape = &quot;rectangle&quot;];
    dummy1821 [style = invis];
    dcds1821 [penwidth = 5.0, shape = &quot;cylinder&quot;, label = &quot;dc-ds1821\n\nSynology NAS&quot;];

    // To force the subgraph to be similar size to the other two Backup Destinations subgraphs
    dummy1821 -&amp;gt; dcds1821 [style = invis]; 
  }

  subgraph clusterBackupToKrypton
  {
    //label = &quot;Backup Destination 3&quot;;
    label = &quot;                    &quot;;

    node [fillcolor=&quot;#F5F5F5&quot;, style=filled, shape=&quot;rectangle&quot;]; 

    krypton [group = gKrypton, height = 0.10];
    zfs [group = gKrypton, penwidth = 5.0, shape = &quot;cylinder&quot;, label = &quot;napp-it Appliance\nZFS\nOpenIndiana&quot;];

    krypton -&amp;gt; zfs [label = &quot;iSCSI&quot;];
  } 

  subgraph clusterLegend
  {
    dLC [ style = invis ];
    peripheries = 0;  // To remove border around the cluster

    legend
    [shape=none, margin=0, label=
      &amp;lt;
        &amp;lt;table border=&quot;0&quot; cellborder=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;4&quot;&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td colspan=&quot;2&quot;&amp;gt;Legend&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;red&quot;&amp;gt;red&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;red&quot;&amp;gt;Nightly rsync via NFS&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;green&quot;&amp;gt;green&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;green&quot;&amp;gt;tar via NFS&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;blue&quot;&amp;gt;blue&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;blue&quot;&amp;gt;Nightly rsync&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;D&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;Databases&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;W&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;/web or /www or /var/www dir&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;H&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;/home dir&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;G&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;/global dir&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;E&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;/etc, /opt, /root, /usr, /var directories&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
        &amp;lt;/table&amp;gt;
      &amp;gt;];

      dLC -&amp;gt; legend [style = invis];
  }

  edge [fontsize=9.0];

  a1:e  -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;green&quot;];                  // ost
  a2:e  -&amp;gt; kvmhost2 [taillabel=&quot;E&quot;, color=&quot;red&quot;];                       // kvmhost3
  a3:e  -&amp;gt; kvmhost2 [taillabel=&quot;G, H, E&quot;, color=&quot;red&quot;];                 // abacus 
  a4:e  -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;green&quot;];                  // www5
  a5:e  -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;red&quot;];                    // wapps
  a6:e  -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;red&quot;];                    // chemapps
  // Added minlen in order to push the three &quot;Backup Destination&quot; clusters further away
  // NOTE:  This is the second minlen; the first one is around 200 lines above
  a7:e  -&amp;gt; kvmhost2 [taillabel=&quot;E, W, H&quot;, minlen = 2.7, color=&quot;green&quot;]; // titanium 
  a8:e  -&amp;gt; kvmhost2 [taillabel=&quot;H, D&quot;, color=&quot;red&quot;];                    // groups
  a9:n  -&amp;gt; kvmhost2 [taillabel=&quot;H&quot;, color=&quot;red&quot;];                       // mailx
  a9:e  -&amp;gt; zfs      [taillabel=&quot;H&quot;, color=&quot;blue&quot;];                      // mailx
  a9    -&amp;gt; dcds1821 [taillabel=&quot;H, E&quot;, color=&quot;blue&quot;];                   // mailx
  a10:e -&amp;gt; kvmhost2 [taillabel=&quot;H&quot;, color=&quot;red&quot;];                       // mail
  a11:e -&amp;gt; kvmhost2 [taillabel=&quot;H, D, W&quot;, color=&quot;green&quot;];               // xenon 
  a12:e -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;green&quot;];                  // www
  a13:e -&amp;gt; zfs [taillabel=&quot;D, W&quot;, color=&quot;green&quot;];                       // neon
  a14:e -&amp;gt; dcds1821 [taillabel=&quot;E&quot;, color=&quot;blue&quot;];                      // chestnut
  a15:e -&amp;gt; dcds1821 [taillabel=&quot;E&quot;, color=&quot;blue&quot;];                      // redwood

/*
   Graphiz FAQ
     https://graphviz.org/faq/#FaqGraphLabel
   Q: How can I set a graph or cluster label without its propagating to all sub-clusters?
   A: Set the label at the end of the graph (before the closing brace), 
      after all its contents have been defined. (We admit it seems desirable 
      to define some special syntax for non-inherited attribute settings.)
*/
  label = &quot;Backup Map\nUpdated on: Sep 24, 2022&quot;;

}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% dot -Tpng backupmap.dot -o backupmap.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv backupmap.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/backupmap.png&quot; alt=&quot;Displaying a backup diagram png image created by Grapvhiz&quot; title=&quot;Displaying a backup diagram png image created by Grapvhiz&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; To see the image in full size in a web browser, right-click on it and select “Open Image in New Tab”.&lt;/p&gt;

</description>
        <pubDate>Sat, 24 Sep 2022 09:13:07 -0700</pubDate>
        <link>http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/09/24/graphviz-clusters.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/09/24/graphviz-clusters.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>How To Run diagrams.net (aka draw.io or drawio) Locally with Docker on FreeBSD 13 with vm-bhyve and Debian GNU/Linux</title>
        <description>&lt;p&gt;Host OS: FreeBSD 13, Shell: csh  &lt;br /&gt;
Guest OS: Debian GNU/Linux, Shell: bash&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Prerequsites:&lt;/p&gt;

&lt;p&gt;In Debian GNU/Linux VM guest (running inside bhyve):&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Docker installed&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker.service&lt;/code&gt; running&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;containerd.service&lt;/code&gt; running&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You can follow instructions outlined here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/freebsd/docker/vm/virtualization/howto/diagram/2022/02/24/freebsd-docker-linux-kroki-diagrams.html&quot;&gt;How to Run Kroki on FreeBSD 13 with vm-bhyve and Debian GNU/Linux VM&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm list
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    2048M   -    No         Stopped 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm start debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm console debianvm1
---- snip ----

debianvm1 login: dusko
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
docker run -d -p 9000:9000 -v \
/var/run/docker.sock:/var/run/docker.sock -v \
portainer_data:/data portainer/portainer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ss -an | grep 9000
tcp   LISTEN 0      4096    0.0.0.0:9000             0.0.0.0:*
tcp   LISTEN 0      4096    [::]:9000                [::]:*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
docker \
run -it --rm --name=&quot;draw&quot; \
-p 8080:8080 -p 8443:8443 \
jgraph/drawio
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;IP address of the guest VM (GNU/Linux Debian) is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.8.18&lt;/code&gt;.
The network interface name assigned by the OS is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enp0s5&lt;/code&gt;, and 
when you run the following inside the guest, you get its IP address:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show dev enp0s5 | grep -w inet 
    inet 192.168.8.18/24 brd 192.168.8.255 scope global dynamic enp0s5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use a Web browser on the FreeBSD host and open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://192.168.8.18:8080/&lt;/code&gt; 
or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://192.168.8.18:8443/&lt;/code&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jgraph.github.io/drawio/&quot;&gt;drawio&lt;/a&gt;
(Source to app.diagrams.net, &lt;a href=&quot;https://www.diagrams.net/&quot;&gt;www.diagrams.net&lt;/a&gt;) 
(Retrieved on Aug 28, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;draw.io, this project, is a configurable diagramming/whiteboarding 
visualization application. draw.io is owned and developed by JGraph Ltd, 
a UK based software company.&lt;/p&gt;

  &lt;p&gt;As well as running this project, we run a production-grade deployment 
of the diagramming interface at https://app.diagrams.net.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Scope of the Project&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;draw.io is a diagramming or whiteboarding application, depending on 
which theme is selected.  It is not an SVG editing app, the SVG export 
is designed only for embedding in web pages, not for further editing 
in other tools.&lt;/p&gt;

  &lt;p&gt;The application is designed to be used largely as-is.  It’s possible to 
alter the major parts of the interface, but if you’re looking for an 
editor with very specific editing features, the project is likely not 
a good base to use.&lt;/p&gt;

  &lt;p&gt;That is to say, if you wanted to create/deploy a whiteboard or 
diagramming application where the functionality in the main canvas is 
as this project provides, it more likely to be a good base to use. 
The default libraries, the menus, the toolbar, the default colours, 
the storage location, these can all be changed.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Running&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;One way to run diagrams.net is to fork this project, &lt;a href=&quot;https://help.github.com/categories/github-pages-basics/&quot;&gt;publish the master 
branch to GitHub pages&lt;/a&gt; and the &lt;a href=&quot;https://jgraph.github.io/drawio/src/main/webapp/index.html&quot;&gt;pages sites&lt;/a&gt; will have the full editor 
functionality (sans the integrations).&lt;/p&gt;

  &lt;p&gt;Another way is to use &lt;a href=&quot;https://github.com/jgraph/docker-drawio&quot;&gt;the recommended Docker project&lt;/a&gt; or to download &lt;a href=&quot;https://get.diagrams.net/&quot;&gt;draw.io Desktop&lt;/a&gt;.&lt;/p&gt;

  &lt;p&gt;The full packaged .war of the client and servlets is built when the 
project is tagged and available on the &lt;a href=&quot;https://github.com/jgraph/draw.io/releases&quot;&gt;releases page&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        <pubDate>Sun, 28 Aug 2022 11:27:04 -0700</pubDate>
        <link>http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/08/28/run-diagrams-dot-net-aka-drawio-locally.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/08/28/run-diagrams-dot-net-aka-drawio-locally.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>java</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>How To Run diagrams.net (aka draw.io or drawio) Locally with a Java war File on FreeBSD 13</title>
        <description>&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From the draw.io project’s 
&lt;a href=&quot;https://github.com/jgraph/drawio#readme&quot;&gt;Readme&lt;/a&gt; file:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The full packaged .war of the client and servlets is built when the 
project is tagged and available on the &lt;a href=&quot;https://github.com/jgraph/draw.io/releases&quot;&gt;releases page&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;As of Aug 27, 2022, the latest draw.io version is 20.2.6.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir drawio
% cd drawio
% fetch https://github.com/jgraph/drawio/releases/download/v20.2.6/draw.war
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file draw.war
draw.war: Zip archive data, at least v1.0 to extract, compression method=store
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% unzip draw.war 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pwd
/usr/home/dusko/drawio
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ifconfig
---- snip ----
ue0: flags=8843&amp;lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500 
  options=68009b&amp;lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,VLAN_HWCSUM,
  LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6&amp;gt;
---- snip ----
        inet 192.168.1.9 netmask 0xffffff00 broadcast 192.168.1.255
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example, to run it with python3 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http.server&lt;/code&gt; module on port &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;8081&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.9 -m http.server 8081
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use a Web browser and open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://localhost:8081&lt;/code&gt; or
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://127.0.0.1:8081/&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://192.168.1.9:8081/&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Alternatively, on this system I could also run it with 
python 3.8. &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.8 -m http.server 8081
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;   If you use python2, to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SimpleHTTPServer&lt;/code&gt; module, 
you need to run this command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python2 -m SimpleHTTPServer 8081
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] About Python versions on this system:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg info --regex python 
python38-3.8.13_2
python39-3.9.13
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python; type python; whereis python; which python
python: not found
python:
python: Command not found.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python3.8; type python3.8; whereis python3.8; which python3.8
/usr/local/bin/python3.8
python3.8 is /usr/local/bin/python3.8
python3.8: /usr/local/bin/python3.8 /usr/local/man/man1/python3.8.1.gz
/usr/local/bin/python3.8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python3.9; type python3.9; whereis python3.9; which python3.9
/usr/local/bin/python3.9
python3.9 is /usr/local/bin/python3.9
python3.9: /usr/local/bin/python3.9 /usr/local/man/man1/python3.9.1.gz
/usr/local/bin/python3.9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/bin/python*
-r-xr-xr-x  1 root  wheel   5.1K Jul  3 05:11 /usr/local/bin/python3.8
-r-xr-xr-x  1 root  wheel   3.1K Jul  3 05:11 /usr/local/bin/python3.8-config
-r-xr-xr-x  1 root  wheel   5.1K Jul  2 18:17 /usr/local/bin/python3.9
-r-xr-xr-x  1 root  wheel   3.1K Jul  2 18:18 /usr/local/bin/python3.9-config
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 27 Aug 2022 10:34:06 -0700</pubDate>
        <link>http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/08/27/run-diagrams-dot-net-aka-drawio-with-java-war-image.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/08/27/run-diagrams-dot-net-aka-drawio-with-java-war-image.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>java</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>Fonts in X11 - aka Fonts in X (Xorg)</title>
        <description>&lt;p&gt;OS: FreeBSD 13   &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;iconv&lt;/li&gt;
  &lt;li&gt;python; e.g.:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;print(b.decode(&quot;utf8&quot;))&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Perl&lt;/li&gt;
  &lt;li&gt;Also, basically all or most from here:
&lt;a href=&quot;https://charbase.com/02b7-unicode-modifier-letter-small-w&quot;&gt;https://charbase.com/02b7-unicode-modifier-letter-small-w&lt;/a&gt;:  &lt;strong&gt;Decomposition&lt;/strong&gt;, Index, Class, Block, Java escape, Javascript escape, Python escape, HTML escapes, URL encoded, UTF8, UTF16&lt;/li&gt;
  &lt;li&gt;xterm tests - from e.g. Thomas E. Dickey &lt;a href=&quot;http://invisible-island.net/ncurses/&quot;&gt;http://invisible-island.net/ncurses/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;fonts-in-x11-x-window-system-aka-x&quot;&gt;Fonts in X11 (X Window System, aka X)&lt;/h2&gt;

&lt;p&gt;From “Linux in a Windows World” by Roderick W Smith
(O’Reilly Media, Inc. February 2005):&lt;/p&gt;

&lt;p&gt;Two font systems:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The X core fonts (a.k.a. X fonts)
    &lt;ul&gt;
      &lt;li&gt;Designed with bitmap fonts in mind, meaning that individual characters
were designed for display at a specific size in pixels.
        &lt;ul&gt;
          &lt;li&gt;To support scaleable fonts, which can be resized, multiple bitmap
font files are required, one for each size. X servers ship with
several bitmap fonts in a variety of sizes, designed for both
72 dots per inch (dpi) and 100-dpi displays.&lt;/li&gt;
          &lt;li&gt;Most modern fonts, though, use scaleable font (a.k.a. outline font)
technologies, in which the font is described in terms of mathematical
descriptions of lines and curves.  These descriptions provide an
outline of a character, which the font renderer can scale to any
desired resolution and fill in.
            &lt;ul&gt;
              &lt;li&gt;The two most common scaleable font formats today are
&lt;strong&gt;PostScript Type 1&lt;/strong&gt; (a.k.a. Adobe Type Manager or ATM) fonts and
&lt;strong&gt;TrueType&lt;/strong&gt; fonts (TTF).&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Xft fonts (aka outline fonts or scalable fonts)
    &lt;ul&gt;
      &lt;li&gt;Designed around the FreeType library, which was originally a tool for
rendering TrueType fonts.  Today, though, Xft supports both TrueType
and Type 1 fonts.&lt;/li&gt;
      &lt;li&gt;Improved limitations in the X core fonts:
        &lt;ul&gt;
          &lt;li&gt;X core fonts can’t readily handle more than two colors per font
(Required a font technology known as font smoothing or anti-aliasing.
 Font smoothing uses shades of gray to deliberately blur fonts,
 which has the subjective effect of improving the appearance of
 fonts because it tends to hide the jagged edges along diagonal
 lines and curves.)&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Installing the X core fonts can be tricky.&lt;/li&gt;
      &lt;li&gt;X core fonts were not designed with printing in mind, and coordinating
the display and print fonts can be a challenge when using these fonts.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;
Individual X-based programs sometimes employ their own font-handling systems.&lt;/p&gt;

&lt;h2 id=&quot;installing-x-core-fonts-aka-traditional-x-fonts&quot;&gt;Installing X Core Fonts (aka “Traditional” X Fonts)&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  ORDER&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Install font; that is, copy its files&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfontdir&lt;/code&gt; to recreate the font database&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfontscale&lt;/code&gt; to recreate an index of scalable font files for X&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xset fp+ /path/to/the/new/font&lt;/code&gt;  to append it to the font path&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xset fp rehash&lt;/code&gt; to  reread the font databases in the font path&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;file-fontsdir----todo&quot;&gt;File fonts.dir    &lt;strong&gt;[TODO]&lt;/strong&gt;&lt;/h3&gt;

&lt;h3 id=&quot;file-fontsscale--todo&quot;&gt;File fonts.scale  &lt;strong&gt;[TODO]&lt;/strong&gt;&lt;/h3&gt;

&lt;h3 id=&quot;refresh-rehash-the-font-databases&quot;&gt;Refresh (Rehash) the Font Databases&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset fp rehash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xset(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;fp rehash
        The rehash argument resets the font path to its current value,
        causing the server to reread the font databases in the current
        font path.  This is generally only used when adding new fonts
        to a font directory (after running mkfontdir to recreate the
        font database).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
To reset the font path to the server’s (that is, X server’s) default:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset fp default
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;xlsfonts1---server-font-list-displayer-for-x&quot;&gt;xlsfonts(1) - Server Font List Displayer for X&lt;/h3&gt;

&lt;p&gt;List all X core fonts on the system:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | wc -l
   25462
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo xlsfonts | wc -l
Password:
   25462
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;converting-a-file-from-an-8-bit-character-set-for-example-iso_8859-1-to-utf-8-without-posting-the-file-to-a-remote-server&quot;&gt;Converting a File from an 8-bit Character Set (For Example ISO_8859-1) to UTF-8 without POSTing the File to a Remote server&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;http://www.acc.umu.se/~saasha/charconv/&quot;&gt;Converting a file from an 8-bit character set (for example ISO_8859-1) to UTF-8 without POSTing the file to a remote server&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt; In many cases, the most obvious way to solve such a problem is to save 
the file, open a terminal, move to the directory where the file resides 
(with cd …) and use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv&lt;/code&gt; similarly to:&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv -f iso88591 -t utf8 fileToConvert.txt &amp;gt; convertedFile.txt&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;Unfortunately, finding out how to start a terminal is not always easy 
in today’s GUI’s!&lt;/p&gt;

  &lt;p&gt;Here, you are given the opportunity to achieve such a conversion locally. 
Choose a character set (charset, encoding) in the list below and choose 
the file you wish to convert.  The JavaScript program linked to by this 
page will try to make your browser convert the file to UTF-8. 
If the conversion succeeds, you will be given the opportunity to save 
the converted file.&lt;/p&gt;

  &lt;p&gt;You do not need any Internet connection to achieve this conversion. 
You can save this page locally together with (in the same directory than) 
the JavaScript program it is linked to and open it in a browser to 
achieve the conversions even without any Internet connection.&lt;/p&gt;

  &lt;p&gt;Comments and suggestions may be sent to saasha@acc.umu.se.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;installing-xft-fonts-aka-fontconfig&quot;&gt;Installing Xft Fonts (aka Fontconfig)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/share/fonts/ | wc -l
      42

% ls -lh /usr/local/share/fonts/ | wc -l
      40
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /usr/local/etc/fonts/
drwxr-xr-x  4 root  wheel  7 Feb  3  2022 /usr/local/etc/fonts/

% ls -alh /usr/local/etc/fonts/ | wc -l
       8

% ls -lh /usr/local/etc/fonts/ | wc -l
       6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/fonts/
total 79
drwxr-xr-x  2 root  wheel    51B Feb  3  2022 conf.avail
drwxr-xr-x  2 root  wheel    33B Feb  3  2022 conf.d
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 fonts.conf
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 fonts.conf.sample
-rw-r--r--  1 root  wheel   8.1K Dec  3  2020 fonts.dtd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/fonts/conf.avail/ | wc -l
      52

% ls -lh /usr/local/etc/fonts/conf.avail/ | wc -l
      50
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/fonts/conf.d/ | wc -l
      34

% ls -lh /usr/local/etc/fonts/conf.d/ | wc -l
      32
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/fonts/conf.d/README
conf.d/README

Each file in this directory is a fontconfig configuration file.  Fontconfig
scans this directory, loading all files of the form [0-9][0-9]*.conf.
These files are normally installed in /usr/local/etc/fonts/conf.avail
and then symlinked here, allowing them to be easily installed and then
enabled/disabled by adjusting the symlinks.

The files are loaded in numeric order, the structure of the configuration
has led to the following conventions in usage:

 Files beginning with:  Contain:

 00 through 09          Font directories
 10 through 19          system rendering defaults (AA, etc)
 20 through 29          font rendering options
 30 through 39          family substitution
 40 through 49          generic identification, map family-&amp;gt;generic
 50 through 59          alternate config file loading
 60 through 69          generic aliases, map generic-&amp;gt;family
 70 through 79          select font (adjust which fonts are available)
 80 through 89          match target=&quot;scan&quot; (modify scanned patterns)
 90 through 99          font synthesis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/fonts/fonts.conf*
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 /usr/local/etc/fonts/fonts.conf
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 /usr/local/etc/fonts/fonts.conf.sample
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff /usr/local/etc/fonts/fonts.conf.sample /usr/local/etc/fonts/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file /usr/local/etc/fonts/fonts.conf
/usr/local/etc/fonts/fonts.conf: XML 1.0 document, ASCII text
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l /usr/local/etc/fonts/fonts.conf
     103 /usr/local/etc/fonts/fonts.conf

% sed &apos;/^[[:space:]]*$/d&apos; /usr/local/etc/fonts/fonts.conf | grep -v \# | wc -l
      87
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed &apos;/^[[:space:]]*$/d&apos; /usr/local/etc/fonts/fonts.conf | grep -v \#
&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;
&amp;lt;!DOCTYPE fontconfig SYSTEM &quot;urn:fontconfig:fonts.dtd&quot;&amp;gt;
&amp;lt;!-- /etc/fonts/fonts.conf file to configure system font access --&amp;gt;
&amp;lt;fontconfig&amp;gt;
        &amp;lt;description&amp;gt;Default configuration file&amp;lt;/description&amp;gt;
&amp;lt;!--
        DO NOT EDIT THIS FILE.
        IT WILL BE REPLACED WHEN FONTCONFIG IS UPDATED.
        LOCAL CHANGES BELONG IN &apos;local.conf&apos;.
        The intent of this standard configuration file is to be adequate for
        most environments.  If you have a reasonably normal environment and
        have found problems with this configuration, they are probably
        things that others will also want fixed.  Please submit any
        problems to the fontconfig bugzilla system located at fontconfig.org
        Note that the normal &apos;make install&apos; procedure for fontconfig is to
        replace any existing fonts.conf file with the new version.  Place
        any local customizations in local.conf which this file references.
        Keith Packard
--&amp;gt;
&amp;lt;!-- Font directory list --&amp;gt;
        &amp;lt;dir&amp;gt;/usr/local/share/fonts&amp;lt;/dir&amp;gt;
        &amp;lt;dir&amp;gt;/usr/local/lib/X11/fonts&amp;lt;/dir&amp;gt;
        &amp;lt;dir prefix=&quot;xdg&quot;&amp;gt;fonts&amp;lt;/dir&amp;gt;
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;dir&amp;gt;~/.fonts&amp;lt;/dir&amp;gt;
&amp;lt;!--
  Accept deprecated &apos;mono&apos; alias, replacing it with &apos;monospace&apos;
--&amp;gt;
        &amp;lt;match target=&quot;pattern&quot;&amp;gt;
                &amp;lt;test qual=&quot;any&quot; name=&quot;family&quot;&amp;gt;
                        &amp;lt;string&amp;gt;mono&amp;lt;/string&amp;gt;
                &amp;lt;/test&amp;gt;
                &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&amp;gt;
                        &amp;lt;string&amp;gt;monospace&amp;lt;/string&amp;gt;
                &amp;lt;/edit&amp;gt;
        &amp;lt;/match&amp;gt;
&amp;lt;!--
  Accept alternate &apos;sans serif&apos; spelling, replacing it with &apos;sans-serif&apos;
--&amp;gt;
        &amp;lt;match target=&quot;pattern&quot;&amp;gt;
                &amp;lt;test qual=&quot;any&quot; name=&quot;family&quot;&amp;gt;
                        &amp;lt;string&amp;gt;sans serif&amp;lt;/string&amp;gt;
                &amp;lt;/test&amp;gt;
                &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&amp;gt;
                        &amp;lt;string&amp;gt;sans-serif&amp;lt;/string&amp;gt;
                &amp;lt;/edit&amp;gt;
        &amp;lt;/match&amp;gt;
&amp;lt;!--
  Accept deprecated &apos;sans&apos; alias, replacing it with &apos;sans-serif&apos;
--&amp;gt;
        &amp;lt;match target=&quot;pattern&quot;&amp;gt;
                &amp;lt;test qual=&quot;any&quot; name=&quot;family&quot;&amp;gt;
                        &amp;lt;string&amp;gt;sans&amp;lt;/string&amp;gt;
                &amp;lt;/test&amp;gt;
                &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&amp;gt;
                        &amp;lt;string&amp;gt;sans-serif&amp;lt;/string&amp;gt;
                &amp;lt;/edit&amp;gt;
        &amp;lt;/match&amp;gt;
&amp;lt;!--
  Accept alternate &apos;system ui&apos; spelling, replacing it with &apos;system-ui&apos;
--&amp;gt;
        &amp;lt;match target=&quot;pattern&quot;&amp;gt;
                &amp;lt;test qual=&quot;any&quot; name=&quot;family&quot;&amp;gt;
                        &amp;lt;string&amp;gt;system ui&amp;lt;/string&amp;gt;
                &amp;lt;/test&amp;gt;
                &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&amp;gt;
                        &amp;lt;string&amp;gt;system-ui&amp;lt;/string&amp;gt;
                &amp;lt;/edit&amp;gt;
        &amp;lt;/match&amp;gt;
&amp;lt;!--
  Load local system customization file
--&amp;gt;
        &amp;lt;include ignore_missing=&quot;yes&quot;&amp;gt;conf.d&amp;lt;/include&amp;gt;
&amp;lt;!-- Font cache directory list --&amp;gt;
        &amp;lt;cachedir&amp;gt;/var/db/fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;cachedir prefix=&quot;xdg&quot;&amp;gt;fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;cachedir&amp;gt;~/.fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;config&amp;gt;
&amp;lt;!--
  Rescan configuration every 30 seconds when FcFontSetList is called
 --&amp;gt;
                &amp;lt;rescan&amp;gt;
                        &amp;lt;int&amp;gt;30&amp;lt;/int&amp;gt;
                &amp;lt;/rescan&amp;gt;
        &amp;lt;/config&amp;gt;
&amp;lt;/fontconfig&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /etc/fonts/fonts.conf
ls: /etc/fonts/fonts.conf: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;font-directory-list&quot;&gt;Font Directory List&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n &apos;Font directory list&apos; /usr/local/etc/fonts/fonts.conf
25:&amp;lt;!-- Font directory list --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 25,35p /usr/local/etc/fonts/fonts.conf
&amp;lt;!-- Font directory list --&amp;gt;

        &amp;lt;dir&amp;gt;/usr/local/share/fonts&amp;lt;/dir&amp;gt;
        &amp;lt;dir&amp;gt;/usr/local/lib/X11/fonts&amp;lt;/dir&amp;gt;


        &amp;lt;dir prefix=&quot;xdg&quot;&amp;gt;fonts&amp;lt;/dir&amp;gt;
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;dir&amp;gt;~/.fonts&amp;lt;/dir&amp;gt;

&amp;lt;!--
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.fonts&lt;/code&gt; directory will be removed in the future:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n removed /usr/local/etc/fonts/fonts.conf
32:     &amp;lt;!-- the following element will be removed in the future --&amp;gt;
91:     &amp;lt;!-- the following element will be removed in the future --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 32,34p /usr/local/etc/fonts/fonts.conf
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;dir&amp;gt;~/.fonts&amp;lt;/dir&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/share/fonts/ | wc -l
      42

% ls -lh /usr/local/share/fonts/ | wc -l
      40
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls /usr/local/share/fonts/
100dpi                  gnu-unifont             SourceHanSansK
75dpi                   ipamjm                  SourceHanSansSC
adobe-cmaps             jmk-x11-fonts           SourceHanSansTC
bitstream-vera          Liberation              SourceSansPro
Caladea                 LinLibertineG           symbola
cantarell               misc                    terminus-font
Carlito                 Monoid                  TerminusTTF
ChromeOS                nanum-coding-ttf        TTF
comic-neue              nanum-ttf               twemoji-color-font-ttf
cyrillic                noto                    Type1
dejavu                  OTF                     uw-ttyp0
encodings               SourceCodePro           vlgothic
GentiumBasic            SourceHanSans           wqy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /usr/local/lib/X11/fonts
ls: /usr/local/lib/X11/fonts: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld ~/.fonts/
drwxr-xr-x  3 dusko  dusko  214 Nov 22  2021 /home/dusko/.fonts/

% ls -alh ~/.fonts/ | wc -l
     215

% ls -lh ~/.fonts/ | wc -l
     213
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;font-cache-directory-list&quot;&gt;Font Cache Directory List&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n -i list /usr/local/etc/fonts/fonts.conf
25:&amp;lt;!-- Font directory list --&amp;gt;
87:&amp;lt;!-- Font cache directory list --&amp;gt;
96:  Rescan configuration every 30 seconds when FcFontSetList is called
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 87,94p /usr/local/etc/fonts/fonts.conf
&amp;lt;!-- Font cache directory list --&amp;gt;

        &amp;lt;cachedir&amp;gt;/var/db/fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;cachedir prefix=&quot;xdg&quot;&amp;gt;fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;cachedir&amp;gt;~/.fontconfig&amp;lt;/cachedir&amp;gt;

        &amp;lt;config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.fontconfig&lt;/code&gt; directory will be removed in the future:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n removed /usr/local/etc/fonts/fonts.conf
32:     &amp;lt;!-- the following element will be removed in the future --&amp;gt;
91:     &amp;lt;!-- the following element will be removed in the future --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 91,92p /usr/local/etc/fonts/fonts.conf
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;cachedir&amp;gt;~/.fontconfig&amp;lt;/cachedir&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /var/db/fontconfig/
drwxr-xr-x  2 root  wheel  57 Mar 31 13:49 /var/db/fontconfig/

% ls -alh /var/db/fontconfig/ | wc -l
      58

% ls -lh /var/db/fontconfig/ | wc -l
      56
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /var/db/fontconfig/CACHEDIR.TAG
Signature: 8a477f597d28d172789f06886806bc55
# This file is a cache directory tag created by fontconfig.
# For information about cache directory tags, see:
#       http://www.brynosaurus.com/cachedir/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld ~/.fontconfig
ls: /home/dusko/.fontconfig: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;file--fontsalias&quot;&gt;File:  fonts.alias&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo locate fonts.alias
/usr/local/share/fonts/100dpi/fonts.alias
/usr/local/share/fonts/75dpi/fonts.alias
/usr/local/share/fonts/cyrillic/fonts.alias
/usr/local/share/fonts/misc/fonts.alias
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;list-information-about-current-fonts-configuration-font-path&quot;&gt;List Information about Current Fonts Configuration, Font Path&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xset -q | grep -n Font
22:Font Path:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xset -q | sed -n 22,23p
Font Path:
  /usr/local/share/fonts/misc/,/usr/local/share/fonts/TTF/,/usr/local/share/fonts/OTF/,/usr/local/share/fonts/Type1/,/usr/local/share/fonts/100dpi/,/usr/local/share/fonts/75dpi/,catalogue:/usr/local/etc/X11/fontpath.d,built-ins,/usr/local/share/fonts/100dpi,/usr/local/share/fonts/75dpi,/usr/local/share/fonts/adobe-cmaps,/usr/local/share/fonts/bitstream-vera,/usr/local/share/fonts/Caladea,/usr/local/share/fonts/cantarell,/usr/local/share/fonts/Carlito,/usr/local/share/fonts/ChromeOS,/usr/local/share/fonts/comic-neue,/usr/local/share/fonts/cyrillic,/usr/local/share/fonts/dejavu,/usr/local/share/fonts/GentiumBasic,/usr/local/share/fonts/gnu-unifont,/usr/local/share/fonts/ipamjm,/usr/local/share/fonts/jmk-x11-fonts,/usr/local/share/fonts/Liberation,/usr/local/share/fonts/LinLibertineG,/usr/local/share/fonts/misc,/usr/local/share/fonts/Monoid,/usr/local/share/fonts/nanum-coding-ttf,/usr/local/share/fonts/nanum-ttf,/usr/local/share/fonts/noto,/usr/local/share/fonts/OTF,/usr/local/share/fonts/SourceCodePro,/usr/local/share/fonts/SourceHanSans,/usr/local/share/fonts/SourceHanSansK,/usr/local/share/fonts/SourceHanSansSC,/usr/local/share/fonts/SourceHanSansTC,/usr/local/share/fonts/SourceSansPro,/usr/local/share/fonts/symbola,/usr/local/share/fonts/terminus-font,/usr/local/share/fonts/TerminusTTF,/usr/local/share/fonts/TTF,/usr/local/share/fonts/twemoji-color-font-ttf,/usr/local/share/fonts/Type1,/usr/local/share/fonts/uw-ttyp0,/usr/local/share/fonts/vlgothic,/usr/local/share/fonts/wqy,/usr/home/dusko/.fonts/knxt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;fc-cache1---build-font-information-cache-files&quot;&gt;fc-cache(1) - Build Font Information Cache Files&lt;/h3&gt;

&lt;p&gt;To refresh only system fonts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-cache -sv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DESCRIPTION
       fc-cache scans the font directories on the system and builds font
       information cache files for applications using fontconfig for their
       font handling.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-s     Only scan system-wide directories, omitting the places located
       in the user&apos;s home directory.

-v     Display status information while busy.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To force refresh fonts cache:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-cache -fv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-f     Force re-generation of apparently up-to-date cache files,
       overriding the timestamp checking.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Erase all existing cache files and rescan:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-cache -rv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;fc-list1---list-available-fonts&quot;&gt;fc-list(1) - List Available Fonts&lt;/h3&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DESCRIPTION
       fc-list lists fonts and styles available on the system for applications
       using fontconfig.  If any elements are specified, only those are
       printed.  Otherwise family and style are printed, unless verbose output
       is requested.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Number of &lt;strong&gt;fontconfig&lt;/strong&gt; fonts available to the user (lists all font faces):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list | wc -l
    3182
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Number of &lt;strong&gt;fontconfig&lt;/strong&gt; fonts available to root user (lists all font faces):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo fc-list | wc -l
Password:
    2966
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;fc-conflist1---show-the-ruleset-files-information-on-the-system&quot;&gt;fc-conflist(1) - Show the ruleset files information on the system&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-conflist | wc -l
      51

% sudo fc-conflist | wc -l
      50
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-conflist | grep dusko
+ /home/dusko/.config/fontconfig/fonts.conf: No description
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo fc-conflist | grep dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /home/dusko/.config/fontconfig/fonts.conf
-rw-r--r--  1 dusko  dusko   1.8K Oct 21  2021 /home/dusko/.config/fontconfig/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;: Courtesy of &lt;strong&gt;vermaden&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l /home/dusko/.config/fontconfig/fonts.conf
      52 /home/dusko/.config/fontconfig/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /home/dusko/.config/fontconfig/fonts.conf
&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;
&amp;lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&amp;gt;

&amp;lt;fontconfig&amp;gt;

  &amp;lt;!-- ANTIALIAS ALL FONTS --&amp;gt;
  &amp;lt;match target=&quot;font&quot;&amp;gt;
    &amp;lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;bool&amp;gt;true&amp;lt;/bool&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;edit name=&quot;hinting&quot;   mode=&quot;assign&quot;&amp;gt;&amp;lt;bool&amp;gt;false&amp;lt;/bool&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;edit name=&quot;hintstyle&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;int&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;edit name=&quot;dpi&quot;       mode=&quot;assign&quot;&amp;gt;&amp;lt;double&amp;gt;75&amp;lt;/double&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;edit name=&quot;rgba&quot;      mode=&quot;assign&quot;&amp;gt;&amp;lt;const&amp;gt;none&amp;lt;/const&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;!-- REPLACE THESE WITH A BETTER LOOKING FONT (MONO) --&amp;gt;
  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;Courier [Adobe]&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;Courier 10 Pitch&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;Fixed&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;Courier 10 Pitch&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;courier&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;Courier 10 Pitch&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;!-- REPLACE THESE WITH A BETTER LOOKING FONT (SANS) --&amp;gt;
  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;helvetica&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;arial&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;times&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;garamond&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;lucida&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;trebuchet ms&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;!-- DISABLE EMBEDDED BITMAPS --&amp;gt;
  &amp;lt;match target=&quot;font&quot; &amp;gt;
    &amp;lt;edit name=&quot;embeddedbitmap&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;bool&amp;gt;false&amp;lt;/bool&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

&amp;lt;/fontconfig&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;useful-tools-commands-and-code-snippets-for-exploring-fonts-in-x11&quot;&gt;Useful Tools, Commands and Code Snippets for Exploring Fonts in X11&lt;/h2&gt;

&lt;p&gt;Start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm&lt;/code&gt; with red cursor, font Source Code Pro and font size 18:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -cr red -fa &apos;Source Code Pro&apos; -fs 18
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fa&lt;/code&gt; option enables &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm&lt;/code&gt; to render &lt;strong&gt;Xft&lt;/strong&gt; fonts 
(a.k.a. fontconfig).&lt;/p&gt;

&lt;p&gt;The venerable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;file(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file /usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf
/usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf: TrueType Font data, digitally signed, 15 tables, 1st &quot;BASE&quot;, 72 names, Microsoft, language 0x408, type 256 string, \261\300\273\314 a\261\300\273\314 gi &amp;amp; l \274\265 \261\272\301\265\274\314\275\265\302\243\254\
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Report information about OpenType fonts with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;otfinfo(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% otfinfo --info /usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% otfinfo --features /usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print supported scripts and languages:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% otfinfo --scripts /usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DFLT            Default
cyrl            Cyrillic
cyrl.SRB        Cyrillic/Serbian
grek            Greek
latn            Latin
latn.ATH        Latin/Athapaskan
latn.NSM        Latin/Northern Sami
latn.SKS        Latin/Skolt Sami
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Other interesting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;otfinfo&lt;/code&gt;’s options:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-g, --glyphs
     Print the name of every glyph in each font, one per line.

-u, --unicode
     Print each Unicode code point supported by the font, followed by
     the glyph number representing that code point (and, if present,
     the name of the corresponding glyph).

-t, --tables
     Print the size and name of every OpenType table in the font.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-z, --optical-size
     Print optical size information.

-p, --postscript-name
      Print each font&apos;s PostScript name.

-a, --family
     Print each font&apos;s family name.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xset -q
Keyboard Control:
  auto repeat:  on    key click percent:  0    LED mask:  00000000
  XKB indicators:
    00: Caps Lock:   off    01: Num Lock:    off    02: Scroll Lock: off
    03: Compose:     off    04: Kana:        off    05: Sleep:       off
    06: Suspend:     off    07: Mute:        off    08: Misc:        off
    09: Mail:        off    10: Charging:    off    11: Shift Lock:  off
    12: Group 2:     off    13: Mouse Keys:  off
  auto repeat delay:  660    repeat rate:  25
  auto repeating keys:  00ffffffdffffbbf
                        fadfffefffedffff
                        9fffffffffffffff
                        fff7ffffffffffff
  bell percent:  0    bell pitch:  400    bell duration:  100
Pointer Control:
  acceleration:  2/1    threshold:  4
Screen Saver:
  prefer blanking:  yes    allow exposures:  yes
  timeout:  600    cycle:  600
Colors:
  default colormap:  0x22    BlackPixel:  0x0    WhitePixel:  0xffffff
Font Path:
  /usr/local/share/fonts/misc/,/usr/local/share/fonts/TTF/,/usr/local/share/fonts/OTF/,/usr/local/share/fonts/Type1/,/usr/local/share/fonts/100dpi/,/usr/local/share/fonts/75dpi/,catalogue:/usr/local/etc/X11/fontpath.d,built-ins,/usr/local/share/fonts/100dpi,/usr/local/share/fonts/75dpi,/usr/local/share/fonts/adobe-cmaps,/usr/local/share/fonts/bitstream-vera,/usr/local/share/fonts/Caladea,/usr/local/share/fonts/cantarell,/usr/local/share/fonts/Carlito,/usr/local/share/fonts/ChromeOS,/usr/local/share/fonts/comic-neue,/usr/local/share/fonts/cyrillic,/usr/local/share/fonts/dejavu,/usr/local/share/fonts/GentiumBasic,/usr/local/share/fonts/gnu-unifont,/usr/local/share/fonts/ipamjm,/usr/local/share/fonts/jmk-x11-fonts,/usr/local/share/fonts/Liberation,/usr/local/share/fonts/LinLibertineG,/usr/local/share/fonts/misc,/usr/local/share/fonts/Monoid,/usr/local/share/fonts/nanum-coding-ttf,/usr/local/share/fonts/nanum-ttf,/usr/local/share/fonts/noto,/usr/local/share/fonts/OTF,/usr/local/share/fonts/politika-otf,/usr/local/share/fonts/politika-ttf,/usr/local/share/fonts/SourceCodePro,/usr/local/share/fonts/SourceHanSans,/usr/local/share/fonts/SourceHanSansK,/usr/local/share/fonts/SourceHanSansSC,/usr/local/share/fonts/SourceHanSansTC,/usr/local/share/fonts/SourceSansPro,/usr/local/share/fonts/symbola,/usr/local/share/fonts/terminus-font,/usr/local/share/fonts/TerminusTTF,/usr/local/share/fonts/TTF,/usr/local/share/fonts/twemoji-color-font-ttf,/usr/local/share/fonts/Type1,/usr/local/share/fonts/uw-ttyp0,/usr/local/share/fonts/vlgothic,/usr/local/share/fonts/wqy,/usr/home/dusko/.fonts/knxt
DPMS (Energy Star):
  Standby: 600    Suspend: 600    Off: 600
  DPMS is Enabled
  Monitor is On
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt; the content of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Font Path:&lt;/code&gt; line.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xrdb -query
! screen-independent resources
XTerm*saveLines:        1048576
XTerm*loginShell:       true
XTerm*charClass:        33:48,35:48,37:48,43:48,45-47:48,64:48,95:48,126:48
XTerm*eightBitInput:    false
XTerm*borderWidth:      4
Xcursor.theme:  Vanilla-DMZ
XTerm*cursorBlink:      true
XTerm*scrollKey:        true
XTerm*colorUL:  Yellow
XTerm*colorULMode:      true
XTerm*cursorColor:      Cyan
XTerm*background:       Black
XTerm*foreground:       White
XTerm*locale:   UTF-8
XTerm*faceNameDoublesize:       Noto Serif CJK JP
XTerm*scrollTtyOutput:  false
XTerm*selectToClipboard:        true
Xft.autohint:   0
Xft.antialias:  1
Xft.hinting:    1
Xft.rgba:       rgb
Xft.hintstyle:  hintlight
Xft.lcdfilter:  lcddefault
*VT100.Translations:    #override Button1 &amp;lt;Btn3Down&amp;gt;: select-end(PRIMARY,CUT_BUFFER0,CLIPBOARD) \n !Shift &amp;lt;Btn2Up&amp;gt;: insert-selection(CLIPBOARD) \n ~Shift ~Ctrl ~Meta &amp;lt;Btn2Up&amp;gt;: insert-selection(PRIMARY,CUT_BUFFER0) \n &amp;lt;Key&amp;gt;F3: string(&quot;cd ~/scratch/tmpscratch2&quot;) string(0x0d) \n Alt &amp;lt;Key&amp;gt;t: string(&quot;date | dzen2 -xs 2 -p 5 -bg blue&quot;) string(0x0d)
Xmessage*Scrollbar.thumb:       vlines2
Xmessage*Scrollbar.width:       2

! screen 0 resources
#if SCREEN_NUM == 0
#endif

! screen 1 resources
#if SCREEN_NUM == 1
#endif
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; This environment has two monitors so there are references to 
both of them: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#if SCREEN_NUM == 0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#if SCREEN_NUM == 1&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*VT100.Translations:&lt;/code&gt; is my own customization.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;List all monospaced fonts:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ fc-list | cut -f2 -d: | sort -u | grep -i Mono&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Print out the fixed width fonts that are available:&lt;/strong&gt; 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ fc-list :scalable=true:spacing=mono:&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Print out the fixed width fonts that are available with their family name:&lt;/strong&gt; 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ fc-list :scalable=true:spacing=mono: family&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Sort and page through the available fonts - not only fixed width fonts:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ fc-list | cut -f2 -d: | sort -u | less&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;To test the status of your colour support in XTerm:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tput colors
80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References: &lt;br /&gt;
(Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.futurile.net/2016/06/14/xterm-setup-and-truetype-font-configuration/&quot;&gt;XTerm introduction and TrueType fonts configuration&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.futurile.net/2016/06/15/xterm-256color-themes-molokai-terminal-theme/&quot;&gt;XTerm colour set-up and Molokai theme&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;installing-an-xft-font-aka-fontconfig---a-full-example&quot;&gt;Installing an Xft Font (aka Fontconfig) - A Full Example&lt;/h3&gt;

&lt;p&gt;OS:  FreeBSD 13.0 &lt;br /&gt;
Shell:  csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | wc -l
    3186
 
$ sudo fc-list | wc -l
    2968
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | grep -i hermit
$ sudo fc-list | grep -i hermit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsfonts | wc -l
   25462
 
$ sudo xlsfonts | wc -l
   25462
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsfonts | grep -i hermit
$ sudo xlsfonts | grep -i hermit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search hermit
hermit-font-2.0_1      Monospaced font for programmers by a programmer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install hermit-font
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | wc -l
    3192
 
$ sudo fc-list | wc -l
    2974
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | grep -i hermit | wc -l
       6

$ sudo fc-list | grep -i hermit | wc -l
       6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | grep -i hermit
/usr/local/share/fonts/hermit/Hermit-LightItalic.otf: Hermit,Hermit LightItalic:style=LightItalic,Regular
/usr/local/share/fonts/hermit/Hermit-Bold.otf: Hermit:style=Bold
/usr/local/share/fonts/hermit/Hermit-Regular.otf: Hermit:style=Regular
/usr/local/share/fonts/hermit/Hermit-RegularItalic.otf: Hermit:style=RegularItalic,Italic
/usr/local/share/fonts/hermit/Hermit-Light.otf: Hermit,Hermit Light:style=Light,Regular
/usr/local/share/fonts/hermit/Hermit-BoldItalic.otf: Hermit:style=BoldItalic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsfonts | wc -l
   25462

$ sudo xlsfonts | wc -l
   25462
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsfonts | grep -i hermit
$ sudo xlsfonts | grep -i hermit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list : fullname | grep -i hermit | wc -l
       6

$ fc-list : fullname | grep -i hermit
:fullname=Hermit Bold
:fullname=Hermit Light
:fullname=Hermit RegularItalic
:fullname=Hermit BoldItalic
:fullname=Hermit LightItalic
:fullname=Hermit Regular
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list : postscriptname | grep -i hermit | wc -l
       6

$ fc-list : postscriptname | grep -i hermit
:postscriptname=Hermit-Regular
:postscriptname=Hermit-RegularItalic
:postscriptname=Hermit-LightItalic
:postscriptname=Hermit-Bold
:postscriptname=Hermit-Light
:postscriptname=Hermit-BoldItalic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-match hermit 
Hermit-Regular.otf: &quot;Hermit&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-match Hermit
Hermit-Regular.otf: &quot;Hermit&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-query /usr/local/share/fonts/hermit/Hermit-Regular.otf | wc -l
      41
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-query /usr/local/share/fonts/hermit/Hermit-Regular.otf 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ file /usr/local/share/fonts/hermit/Hermit-Regular.otf
/usr/local/share/fonts/hermit/Hermit-Regular.otf: OpenType font data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --info /usr/local/share/fonts/hermit/Hermit-Regular.otf
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --features /usr/local/share/fonts/hermit/Hermit-Regular.otf
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --scripts /usr/local/share/fonts/hermit/Hermit-Regular.otf
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --glyphs /usr/local/share/fonts/hermit/Hermit-Regular.otf | wc -l
     393
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --glyphs /usr/local/share/fonts/hermit/Hermit-Regular.otf | wc -l
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --unicode /usr/local/share/fonts/hermit/Hermit-Regular.otf | wc -l
     391
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --unicode /usr/local/share/fonts/hermit/Hermit-Regular.otf 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --font-version /usr/local/share/fonts/hermit/Hermit-Regular.otf
Version 2.000;PS 002.000;hotconv 1.0.88;makeotf.lib2.5.64775
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --optical-size /usr/local/share/fonts/hermit/Hermit-Regular.otf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --postscript-name /usr/local/share/fonts/hermit/Hermit-Regular.otf
Hermit-Regular
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list -v Hermit-Regular charset 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list -v Hermit-Regular
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xfd -fa Hermit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa Hermit -fs 14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa &apos;Hermit:light&apos; -fs 14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Font face size (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fs&lt;/code&gt; option for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm&lt;/code&gt;) and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pixelsize&lt;/code&gt; are 
not the same so the following two are different:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa &apos;Hermit:light:pixelsize=14:antialias=true:autohint=true&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa &apos;Hermit:light:antialias=true:autohint=true&apos; -fs 14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This table gives an approximate conversion between points and pixels:&lt;br /&gt;
&lt;a href=&quot;https://reeddesign.co.uk/test/points-pixels.html&quot;&gt;Approximate conversion from points to pixels - ReedDesign&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Here’s a chart that converts points to pixels (and ems and %). 
It’s an approximation, which will depend on font, browser and OS, but 
it’s a good starting point.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;As per that table, 14pt is approximately 19px:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa &apos;Hermit:light:pixelsize=19:antialias=true:autohint=true&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and that’s the same (similar) to the font face size of 14: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ xterm -fa &apos;Hermit:light:antialias=true:autohint=true&apos; -fs 14&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Hermit font setup reference: &lt;br /&gt;
&lt;a href=&quot;http://eradman.com/posts/openbsd-workstation.html&quot;&gt;Eric Radman - Workstation Notes&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;h2 id=&quot;converting-unicode-to-utf-8&quot;&gt;Converting Unicode to UTF-8&lt;/h2&gt;

&lt;h3 id=&quot;a-short-introduction&quot;&gt;A Short Introduction&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Not going into details about different operating systems, 
different shells, different fonts, locales, different editors, 
different ordering and byte format (7-bit, 8-bit, single byte, 
double byte, multi-byte), double-wide characters, collation, 
endianness, composing &amp;amp; decomposing, UTF-8 vs. UTF-16 vs. UTF-32
&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, etc.&lt;/p&gt;

&lt;p&gt;Here’s just a few references to illustrate how complex this area is:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;amp;id=UnicodeSupport&quot;&gt;Software requirements for different levels of Unicode Support&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Vim supports editing Unicode in the GUI version and in terminals that 
support UTF-8.  Double-wide characters can be used, and up to two 
composing characters are supported.  When reading a file, Vim can often 
detect how it is encoded and convert the text when necessary. 
UTF-8 files are edited without conversion.  Other Unicode formats 
(16 bit and 32 bit) are converted internally.  Conversion is also used 
to edit files in just about any encoding, using an external converter.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://invisible-island.net/ncurses/ncurses.faq.html&quot;&gt;About Vim’s Unicode support - from What is ncurses? - by Thomas E. Dickey, developer and maintainer of xterm&lt;/a&gt; &lt;br /&gt;
(Updated on Mar 16, 2022) (Retrieved on Apr 17, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Vim &lt;br /&gt;
Vim’s developers provide their own termcap definitions, just in case 
there is nothing good enough on the system, and provide features for 
overriding the system’s termcap capabilities even when using the system 
definition as a starting point.  Because of this, vim has had little 
impact on ncurses development; the change-log does not mention vim. 
On the other hand, unlike screen, the source-code for vim still contains 
a comment about a bug in ncurses which was addressed in late 1997, 
before ncurses 4.2 was released.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://vi.stackexchange.com/questions/341/what-is-the-relation-between-vi-nvi-and-vim&quot;&gt;History of - What is the relation between vi, nvi and vim? - Vi and Vim Stack Exchange&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;http://ex-vi.sourceforge.net/&quot;&gt;The Traditional Vi&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;This port of vi has generally preserved the original style, terminal 
control, and feature set.  It adds &lt;strong&gt;support for international character 
sets, including multibyte encodings such as UTF-8&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;), 
and some minor enhancements that were not present in BSD vi 3.7, but had 
been included in later vi versions for System V or in POSIX.2.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;http://ex-vi.sourceforge.net/README&quot;&gt;The Traditional Vi README&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Welcome to the ex/vi port!
==========================

This implementation is derived from ex/vi 3.7 of 6/7/85 and the BSD
termcap library, originally from the 2.11BSD distribution. All of them
were changed to compile and run on newer POSIX compatible Unix systems.
Support for international character sets was added, including support
for multibyte locales (based on UTF-8 or East Asian encodings), and some
changes were made to get closer to the POSIX.2 guidelines for ex and
vi. Some issues that were clearly bugs and not features have also been
resolved; see the Changes file for details.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On FreeBSD 13.1 - RELEASE:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v vi; type vi; whereis vi; which vi
/usr/bin/vi
vi is /usr/bin/vi
vi: /usr/bin/vi /usr/share/man/man1/vi.1.gz
/usr/bin/vi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/bin/vi
-r-xr-xr-x  6 root  wheel   463K Jul 27 11:06 /usr/bin/vi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v nvi; type nvi; whereis nvi; which nvi
/usr/bin/nvi
nvi is /usr/bin/nvi
nvi: /usr/bin/nvi /usr/share/man/man1/nvi.1.gz
/usr/bin/nvi
 
% ls -lh /usr/bin/nvi
-r-xr-xr-x  6 root  wheel   463K Jul 27 11:06 /usr/bin/nvi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff /usr/bin/vi /usr/bin/nvi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference:  &lt;br /&gt;
From a FreeBSD Forum post started on Dec 24, 2014 &lt;br /&gt;
&lt;a href=&quot;https://forums.freebsd.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/&quot;&gt;How do I type in special characters, such as ∞ in the terminal in vi?&lt;/a&gt;, 
post #3 &lt;a href=&quot;https://forums.FreeBSD.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/post-277491&quot;&gt;https://forums.FreeBSD.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/post-277491&lt;/a&gt; (Retrieved on Apr 17, 2022): &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;For a complete and detailed list of differences and improvements, 
here’s the official &lt;a href=&quot;https://vimhelp.org/vi_diff.txt.html#vi-differences&quot;&gt;Differences between Vim and Vi&lt;/a&gt; document at the &lt;a href=&quot;https://vimhelp.org/&quot;&gt;Vim help files&lt;/a&gt; site (an HTML version of the Vim help pages).&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;converting-unicode-to-utf-8-when-you-know-unicode-code-point&quot;&gt;Converting Unicode to UTF-8 When You Know Unicode Code Point&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  Code point is also known as codepoint or code position.&lt;/p&gt;

&lt;h4 id=&quot;converting-with-od1&quot;&gt;Converting with od(1)&lt;/h4&gt;

&lt;p&gt;OS: FreeBSD 13.1 &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;p&gt;For example, use the character U+02B7: MODIFIER LETTER SMALL W for testing: &lt;br /&gt;
&lt;a href=&quot;https://charbase.com/02b7-unicode-modifier-letter-small-w&quot;&gt;U+02B7: MODIFIER LETTER SMALL W&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://charbase.com/&quot;&gt;Charbase - A visual Unicode database&lt;/a&gt;
(Retrieved on Apr 17, 2022)&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Charbase is a visual database of characters from the Unicode 6.1 
standard, made available without clutter.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni.pl&lt;/code&gt; Perl script, obtained from Leah Neukirchen’s dotfiles and bin section:  &lt;br /&gt;
&lt;a href=&quot;https://leahneukirchen.org/dotfiles/bin/uni&quot;&gt;uni PATTERN - list unicode symbols matching PATTERN&lt;/a&gt;) (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl ʷ
ʷ       02B7    MODIFIER LETTER SMALL W
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ʷ &amp;gt; chartest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat chartest
ʷ% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -ac chartest
0000000   ca  b7
           ʷ  **
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n ʷ &amp;gt; chartest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat chartest
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -ac chartest
0000000   ca  b7  nl
           ʷ  **  \n
0000003
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 1 -ac chartest
0000000   ca
         312
0000001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a 2-byte character:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 2 -ac chartest
0000000   ca  b7
           ʷ  **
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In &lt;strong&gt;UTF-8&lt;/strong&gt;, this character is  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CA B7&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 2 -t x1 chartest
0000000    ca  b7
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 2 -c -t x1 chartest
0000000    ʷ  **
           ca  b7
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 2 -ab chartest
0000000   ca  b7
          312 267
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;TIP:&lt;/strong&gt;&lt;br /&gt;
For POSIX compliance, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/65803/why-is-printf-better-than-echo&quot;&gt;Why is printf better than echo?&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.in-ulm.de/%7Emascheck/various/echo+printf/&quot;&gt;echo(1) and printf(1)&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.etalabs.net/sh_tricks.html&quot;&gt;Rich’s sh (POSIX shell) tricks&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;For POSIX compliance, for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; you need &lt;strong&gt;octal&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Not going into details about different operating systems, 
different shells, different fonts, locales, etc.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\312\267&apos;
ʷ%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\312\267\n&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  On FreeBSD 13.1-RELEASE in csh:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v printf; type printf; whereis printf; which printf
printf
printf is a shell builtin
printf: /usr/bin/printf /usr/share/man/man1/printf.1.gz
/usr/bin/printf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version
13.1-RELEASE

% ps $$
  PID TT  STAT    TIME COMMAND
22492  9  Ss   0:00.17 -csh (csh)

% printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;TIP:&lt;/strong&gt;  You can use the Posix-standard &lt;a href=&quot;https://pubs.opengroup.org/onlinepubs/9699919799/utilities/command.html&quot;&gt;command&lt;/a&gt; command to avoid the use of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; builtin: &lt;br /&gt;
  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;command printf&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;You can also do it directly by specifying the complete path to the 
non-builtin &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt;:  &lt;br /&gt;
  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/bin/printf&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Discussion about this (retrieved on Apr 17, 2022): &lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/27652458/whats-the-best-way-to-embed-a-unicode-character-in-a-posix-shell-script&quot;&gt;What’s the best way to embed a Unicode character in a POSIX shell script?&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Per this reference (retrieved on Apr 17, 2022):  &lt;br /&gt;
&lt;a href=&quot;https://askubuntu.com/questions/601137/how-to-print-an-octal-values-corresponding-utf-8-character-in-bash&quot;&gt;https://askubuntu.com/questions/601137/how-to-print-an-octal-values-corresponding-utf-8-character-in-bash&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%b\n&quot; &apos;\312\267&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% awk &apos;BEGIN {print &quot;\312\267&quot;}&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;converting-unicode-to-utf-8-when-you-dont-know-unicode-code-point&quot;&gt;Converting Unicode to UTF-8 When You Don’t Know Unicode Code Point&lt;/h3&gt;

&lt;p&gt;From 
&lt;a href=&quot;https://unix.stackexchange.com/questions/55770/does-hexdump-respect-the-endianness-of-its-system&quot;&gt;Does hexdump respect the endianness of its system?&lt;/a&gt; 
(Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The traditional BSD hexdump utility uses the platform’s endianness so 
the output you see means your machine is little-endian.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;TIP:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump -C&lt;/code&gt; (or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od -t x1&lt;/code&gt;) to get &lt;strong&gt;consistent byte-by-byte output 
irrespective of the platform’s endianness&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Therefore:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ʷ | hexdump -C
00000000  ca b7                                             |..|
00000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ʷ | od -t x1
0000000    ca  b7
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From here, follow the instructions above for:  &lt;br /&gt;
&lt;a href=&quot;#converting-unicode-to-utf-8-when-you-know-unicode-code-point&quot;&gt;Converting Unicode to UTF-8 When You Know Unicode Code Point&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also, from the same question - different answer:  &lt;br /&gt;
&lt;a href=&quot;https://unix.stackexchange.com/questions/55770/does-hexdump-respect-the-endianness-of-its-system/55771#55771&quot;&gt;https://unix.stackexchange.com/questions/55770/does-hexdump-respect-the-endianness-of-its-system/55771#55771&lt;/a&gt;
(Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;p&gt;Your output is little-endian (least significant byte first), which is also the endianness of the x86 and x86_64 architectures, which you are probably using.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  If no format strings are specified, the default display 
in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump(1)&lt;/code&gt; is equivalent to specifying the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-x&lt;/code&gt; option – From the 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump(1)&lt;/code&gt; manpage:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-x      Two-byte hexadecimal display.  Display the input offset in hexa‐
        decimal, followed by eight, space separated, four column, zero-
        filled, two-byte quantities of input data, in hexadecimal, per
        line.

... 

If no format strings are specified, the default display is equivalent 
to specifying the -x option.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ʷ | hexdump
0000000 b7ca
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;troubleshooting-fonts&quot;&gt;Troubleshooting Fonts&lt;/h2&gt;

&lt;h3 id=&quot;try-a-different-application&quot;&gt;Try a Different Application&lt;/h3&gt;

&lt;p&gt;Even though you can list a font with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list(1)&lt;/code&gt; and then grep for it,
sometimes it will not be available in some applications, or if it’s
available it will not work.&lt;/p&gt;

&lt;p&gt;Possible fix: try a different app.
For example, I had a problem with a font in TEA &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;
and LibreOffice &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; – The fix was to use
AbiWord &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;, which worked fine with that font.&lt;/p&gt;

&lt;h3 id=&quot;useful-tools-commands-and-code-snippets-for-troubleshooting-fonts-in-x11&quot;&gt;Useful Tools, Commands and Code Snippets for Troubleshooting Fonts in X11&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Search for a font by its name:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list : fullname | grep -i FontNameHere&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Search for a font by its PostScript name:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list : postscriptname | grep -i FontNameHere&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Show the list of supported characters in a font:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list -v &apos;FontName: style=Regular&apos; charset&lt;/code&gt;   &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list -v &apos;FontName&apos; charset&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Query the font:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-query /usr/local/share/fonts/FontNameHere/FontFile.ttf&lt;/code&gt;
Number of elts (size) that pattern has, family, style (e.g. Regular),
fullname, slant, weight, width, foundry, is it outline, is it scalable,
charset, lang (supported languages), fontversion, postscriptname,
is it color.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Display the font (display all the characters) in an X core font:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd -fn FontName&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Display the font (display all the characters) in an Xft font:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd -fa FontName&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Check if the current terminal and font support a Unicode character
(with Perl) (e.g. “ʷ” U+02B7: Modifier Letter Small W):&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perl -C -e &apos;print chr 0x02B7&apos;&lt;/code&gt;
    or
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perl -C -e &apos;print pack(&quot;U&quot;,0x02b7).&quot;\n&quot;&apos;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Reference:  Create unicode character with pack &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;A simple Perl one-liner:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;print chr(0x02b7); print &quot;\n&quot;&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Wide character in print at -e line 1.
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;print &quot;\x{02b7}\n&quot;&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Wide character in print at -e line 1.
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  “Wide character in print at …”
Perl warns you if you print a string that has a character with an ordinal
value greater than 255 (hence it is a “wide” character that requires more
than one byte of storage).
Explicitly &lt;a href=&quot;https://en.wikibooks.org/wiki/Perl_Programming/Unicode_UTF-8#3._Encoding_and_output&quot;&gt;encode your output&lt;/a&gt; to avoid this warning:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;binmode STDOUT, &quot;:encoding(utf8)&quot;; print &quot;\x{02b7}\n&quot;&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;binmode STDOUT, &quot;:encoding(utf8)&quot;; print chr(0x02b7); print &quot;\n&quot;&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From &lt;a href=&quot;https://stackoverflow.com/questions/31198425/perl-pack-a-utf-8-chinese-character-how-to-unpack-to-get-this-character&quot;&gt;perl pack a utf-8 Chinese Character how to unpack to get this Character?&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat unpack.pl
#!/usr/local/bin/perl

use utf8;
binmode STDOUT,&quot;:utf8&quot;;

my $packed = pack(&quot;U*&quot;, 0x02b7);
print &quot;$packed\n&quot;;  # ʷ

my $unpacked = unpack(&quot;U*&quot;, &quot;ʷ&quot;);
printf &quot;0x%X\n&quot;, $unpacked;  # 0x02b7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% chmod 0744 unpack.pl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./unpack.pl
ʷ
0x2B7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another useful Perl Unicode code snippet:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -MDevel::Peek -e &apos;Dump(pack(&quot;U&quot;, 0x02b7));&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SV = PV(0x800e28060) at 0x800e5f7b0
  REFCNT = 1
  FLAGS = (PADTMP,POK,READONLY,PROTECT,pPOK,UTF8)
  PV = 0x800f16480 &quot;\312\267&quot;\0 [UTF8 &quot;\x{2b7}&quot;]
  CUR = 2
  LEN = 32
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Check if the current terminal and font support a Unicode character
(with Python):&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python; which python
python: Command not found.

% command -v python2; which python2
python2: Command not found.

% command -v python3; which python3
python3: Command not found.

% command -v python3.7; which python3.7
python3.7: Command not found.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python3.8; which python3.8
/usr/local/bin/python3.8
/usr/local/bin/python3.8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.8 -c &apos;print(u&quot;\u02B7&quot;)&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.8 -c &apos;print(u&quot;\u02B7\n&quot;)&apos;
ʷ

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From “Beyond Linux® From Scratch (System V Edition) - Version r11.1-906 - Chapter 24. Graphical Environments”, &lt;a href=&quot;https://www.linuxfromscratch.org/blfs/view/svn/x/tuning-fontconfig.html&quot;&gt;Tuning Fontconfig&lt;/a&gt;
(retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list | less&lt;/code&gt;: show a list of all available fonts (/path/to/filename:
Font Name:style).  If you installed a font more than 30 seconds ago but
it does not show, then it or one of its directories is not readable by
your user.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match &apos;Font Name&apos;&lt;/code&gt;: will tell you which font will be used if the named
font is requested.  Typically you would use this to see what happens if a
font you have not installed is requested, but you can also use it if the
system is giving you a different font from what you expected (perhaps
because fontconfig does not agree that the font supports your language).&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match -a &apos;Type&apos; | less&lt;/code&gt;: will provide a list of all fonts which can be
used for that type (Monospace, Sans, Serif).  Note that in-extremis
fontconfig will take a glyph from any available font, even if it is not of
the specified type, and unless it knows about the font’s type it will
assume it is Sans.&lt;/p&gt;

&lt;p&gt;If you wish to know which font will be used for a string of text (i.e. one
or more glyphs, preceded by a space), paste the following command and
replace the xyz by the text you care about:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FC_DEBUG=4 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;: this requires
&lt;a href=&quot;https://www.linuxfromscratch.org/blfs/view/svn/x/pango.html&quot;&gt;Pango-1.50.8&lt;/a&gt;
and &lt;a href=&quot;https://www.linuxfromscratch.org/blfs/view/svn/general/imagemagick.html&quot;&gt;ImageMagick-7.1.0-25&lt;/a&gt; - it will invoke display to show the
text in a tiny window, and after closing that the last line of the output
will show which font was chosen.  This is particularly useful for CJK
languages, and you can also pass a language,
e.g. PANGO_LANGUAGE=en;ja (English, then assume Japanese) or
just zh-cn (or other variants - ‘zh’ on its own is not valid). – My Note:
This works in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bash&lt;/code&gt; and compatible shells.
For &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh/tcsh&lt;/code&gt;, use:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env DISPLAY=:0 FC_DEBUG=4 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;
    or
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env FC_DEBUG=4 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;
    or (for no output, reduce debugging level to zero):
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env FC_DEBUG=0 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;tools-and-test-pages-available-online-unicode-utf-8-encodings&quot;&gt;Tools and Test Pages Available Online: Unicode, UTF-8, Encodings&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://jkorpela.fi/chars/test8.htm&quot;&gt;Test page for 8-bit encodings&lt;/a&gt; &lt;br /&gt;
(Created on May 11, 2005 - Retrieved on Apr 17, 2022)
    &lt;blockquote&gt;
      &lt;p&gt;The table contains alternating rows with octets in the range 
128–255 (decimal) and ISO 8859-1 characters with the same code numbers. 
The first two rows for ISO 8859-1 have been greyed out, since those 
code positions do not contain printable characters but are reserved 
for control character purposes.&lt;/p&gt;

      &lt;p&gt;This document has no character encoding information.  This allows you 
to view it using various 8-bit encodings.  On Internet Explorer, 
&amp;lt; for example, select View, then Encoding, and then for example 
Baltic (Windows) in order to compare Windows Baltic with ISO 8859-1.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jkorpela.fi/fui.html8&quot;&gt;Full Unicode Input utility (for Unicode version 14)&lt;/a&gt; &lt;br /&gt;
(Created on Oct 2, 2012 - Retrieved on Apr 17, 2022)
    &lt;blockquote&gt;
      &lt;p&gt;This utility can be characterized as an online extended character map 
oriented towards writing characters.  It displays a table that looks 
like a set of keyboard buttons, and clicking on a button you enter the 
character in question.  The characters will be appended to the text 
input area on the right.&lt;/p&gt;

      &lt;p&gt;You can also type the Unicode number of a character in the box prefixed 
by “U+” and press Enter or click on the Add button.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;And, of course, have in mind:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://eev.ee/blog/2015/05/20/i-stared-into-the-fontconfig-and-the-fontconfig-stared-back-at-me/&quot;&gt;I stared into the fontconfig, and the fontconfig stared back at me&lt;/a&gt; - Posted: May 20, 2015 – Retrieved: Apr 17, 2022&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/linux/comments/97z73q/i_stared_into_the_fontconfig_and_the_fontconfig/&quot;&gt;I stared into the fontconfig, and the fontconfig stared back at me / fuzzy notepad - r/linux&lt;/a&gt; – Retrieved: Apr 17, 2022&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/programming/comments/36wcu7/i_stared_into_the_fontconfig_and_the_fontconfig/&quot;&gt;I stared into the fontconfig, and the fontconfig stared back at me - r/programming&lt;/a&gt; – Retrieved: Apr 17, 2022&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From blog post:
&lt;a href=&quot;https://eev.ee/blog/2015/05/20/i-stared-into-the-fontconfig-and-the-fontconfig-stared-back-at-me/&quot;&gt;I stared into the fontconfig, and the fontconfig stared back at me&lt;/a&gt; - Posted: May 20, 2015 – Retrieved: Apr 17, 2022:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Some hot parting tips&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache&lt;/code&gt; will force fontconfig to pick up any changes.  There’s a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-f&lt;/code&gt;,
but in all my fighting with fontconfig it never once made a difference.&lt;/p&gt;

&lt;p&gt;As far as I can tell, there is no reason to ever run sudo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache -vf&lt;/code&gt;.
This has been floating around the Internet for years, but it seems to be
apocryphal copy/paste.  You don’t need to flush root’s fontconfig cache
unless you’re running GUI stuff as root.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match &amp;lt;font&amp;gt;&lt;/code&gt; will tell you what font will be used in practice.
You might think that’s what &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-query&lt;/code&gt; does, and you’d be wrong.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-query&lt;/code&gt;’s primary use is to produce bizarre error messages when you
accidentally use it instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;It is really fxxxing difficult to figure out what font will be used for
a specific glyph.  There are two approaches:&lt;/p&gt;

&lt;p&gt;1. Do it in a [web] browser.  Make a URL like this (that is, enter it in the
browser’s address bar):
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data:text/html,&amp;lt;meta charset=&quot;utf8&quot;&amp;gt;&amp;lt;p style=&quot;font-family: monospace;&quot;&amp;gt;☺&amp;lt;/p&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Then pop open your dev tools, and look for where it tells you the fonts
that are actually being used.  Firefox’s Inspector has a dedicated “fonts”
tab in the panel on the right; Chromium’s Elements lists fonts at the
bottom of the “computed” tab.&lt;/p&gt;

&lt;p&gt;Fair warning: this is one level removed from fontconfig, because CSS font
rules may interfere.  This bit me above when I tried to confirm my new
cursive font in Firefox!&lt;/p&gt;

&lt;p&gt;Another warning: while Firefox picks up fontconfig changes more or less
instantly (after an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache&lt;/code&gt;), Chromium does not.  Worse, Chromium seems
to outright ignore fontconfig when it feels like it, such as when it used
a sans serif Japanese font for text styled as serif.&lt;/p&gt;

&lt;p&gt;2. You can also do this nonsense in a terminal:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DISPLAY=:0 FC_DEBUG=4 pango-view --font=monospace -t ☺ | grep family:&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;My note:&lt;/strong&gt; -&amp;gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh/tcsh&lt;/code&gt;:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env DISPLAY=:0 FC_DEBUG=4 pango-view --font=monospace -t ☺ | grep family:&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pango-view&lt;/code&gt; is a tiny program that just pops open a window containing
some text in a particular font.  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FC_DEBUG&lt;/code&gt; is an environment variable to
make fontconfig spit out mountains of fxxxing text on stdout.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grep&lt;/code&gt;
cuts it down to something a little more manageable.  Most likely the last
family you see listed is the font actually being used to render your
favourite glyph.&lt;/p&gt;

&lt;p&gt;If you’re really curious how the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;match&amp;gt;&lt;/code&gt; blocks work, good news:
they are the one thing the &lt;a href=&quot;http://www.freedesktop.org/software/fontconfig/fontconfig-user.html&quot;&gt;fontconfig docs&lt;/a&gt; actually kind of explain.
And of course your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/fonts/conf.d&lt;/code&gt;
(&lt;strong&gt;my note:&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/fonts/conf.d&lt;/code&gt; on FreeBSD) is probably full
of real-world practical examples.&lt;/p&gt;

&lt;p&gt;…&lt;/p&gt;

&lt;p&gt;From the same blog:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;I haven’t put my fontconfig font config (…) in my
&lt;a href=&quot;https://github.com/eevee/rc/&quot;&gt;rc.git&lt;/a&gt;; it seems pretty specific to my
desktop’s particular setup.
But here’s &lt;a href=&quot;https://gist.github.com/eevee/ba231c1b9b64e6ced70d&quot;&gt;the whole thing in a gist&lt;/a&gt;, if you’re interested.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] A nice overview and discussion about UTF-8, UTF-16 and UTF-32 on StackOverflow:  &lt;a href=&quot;https://stackoverflow.com/questions/496321/utf-8-utf-16-and-utf-32&quot;&gt;UTF-8, UTF-16, and UTF-32&lt;/a&gt; (Posted on Jan 30, 2009; Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;[2] From a FreeBSD Forum post started on Dec 24, 2014 &lt;a href=&quot;https://forums.freebsd.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/&quot;&gt;How do I type in special characters, such as ∞ in the terminal in vi?&lt;/a&gt;, 
post #3 &lt;a href=&quot;https://forums.FreeBSD.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/post-277491&quot;&gt;https://forums.FreeBSD.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/post-277491&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Which vi?  vi on Linux is just a soft link to Vim.  On BSDs vi is 
symbolic link to nvi (new vi) which is a re-implementation of the 
“classic Berkeley vi”.  “Classical Berkeley vi” has multiple versions 
IIRC one of which is personal copy of Bill Joy.  Solaris’ version of vi 
could also be considered classical as well as traditional vi 
&lt;a href=&quot;http://ex-vi.sourceforge.net/&quot;&gt;http://ex-vi.sourceforge.net/&lt;/a&gt;. 
Reading documentation of traditional vi project is a good start.&lt;/p&gt;

  &lt;p&gt;To make matters more confusing BSD projects continue to use nvi 
version 1.79 due to licensing issues between Berkeley Database 1.85 and 
the later versions by Sleepycat Software.  nvi has a support for Unicode 
but I am not sure if the version 1.79 includes or not as I have never 
used Unicode with nvi.
Now &lt;a href=&quot;https://forums.freebsd.org/members/scottro.1587/&quot;&gt;scottro&lt;/a&gt; made 
a major mistake mentioning Unicode as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$\infty$&lt;/code&gt; as written in TeX is 
extended ASCII character and one doesn’t need Unicode to type it. 
I do not know how would you type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$\infty$&lt;/code&gt; in nvi as a professional 
mathematician I have never seen any mathematical symbols or mathematical 
text typing without serious text typing system such as TeX or Troff. 
TeX is de-facto standard for typing mathematics adopted since 
1979 by AMS.  Troff uses mathematical pre-processor and is definitely 
able to produce all special mathematical characters.  On the web we use 
MathJax, a cross-browser JavaScript library that displays in web, 
using MathML, LaTeX and ASCIIMathML markup to write mathematics.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[3] Retrieved on Apr 17, 2022: &lt;br /&gt;
    &lt;a href=&quot;https://tea.ourproject.org/&quot;&gt;TEA - text editor&lt;/a&gt;    &lt;br /&gt;
    &lt;a href=&quot;https://en.wikipedia.org/wiki/TEA_%28text_editor%29&quot;&gt;TEA (text editor) - Wikipedia&lt;/a&gt;   &lt;br /&gt;
    &lt;a href=&quot;https://www.linuxinsider.com/story/tea-a-smooth-text-editor-that-hits-the-sweet-spot-74677.html&quot;&gt;TEA: A Smooth Text Editor That Hits the Sweet Spot&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[4] Retrieved on Apr 17, 2022:  &lt;br /&gt;
    &lt;a href=&quot;https://www.libreoffice.org/&quot;&gt;LibreOffice&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[5] Retrieved on Apr 17, 2022:  &lt;br /&gt;
    &lt;a href=&quot;http://www.abisource.com/&quot;&gt;AbiWord&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[6] Retrieved on Apr 17, 2022:  &lt;br /&gt;
    &lt;a href=&quot;https://stackoverflow.com/questions/30851728/create-unicode-character-with-pack&quot;&gt;Create unicode character with pack&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sun, 17 Apr 2022 09:14:33 -0700</pubDate>
        <link>http://localhost:4000/font/freebsd/unix/x11/xorg/dotfiles/2022/04/17/x-fonts.html</link>
        <guid isPermaLink="true">http://localhost:4000/font/freebsd/unix/x11/xorg/dotfiles/2022/04/17/x-fonts.html</guid>
        
        
        <category>font</category>
        
        <category>freebsd</category>
        
        <category>unix</category>
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>dotfiles</category>
        
      </item>
    
      <item>
        <title>FVWM - F Virtual Window Manager</title>
        <description>&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install fvwm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;About FVWM - from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg info --regex --full fvwm&lt;/code&gt; 3 &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;/&lt;sub&gt;4&lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt; &lt;br /&gt;
Replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mydotfiles...&lt;/code&gt; with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fetch https://zensites.net/fvwm/guide/fvwm-guide-icons.tar.bz2&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cp -rf \
 /mnt/usbflashdrive/mydotfiles/FVWM.freebsd.lenovo.x280.2022_07_10_2200/THEME-2-ARCTIC/.fvwm/* \
 ~/.fvwm/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -n icons ~/.fvwm/config
36:#   2. Place all icons in this directory:
37:#        /usr/local/share/icons/gnant
38:#   3. It might take a couple of minutes for some icons in the dock
40:#      clock icons.
49:SetEnv  fvwm_icon               /usr/local/share/icons/$[fvm_gnome_icon_theme]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -n fvm_gnome_icon_theme ~/.fvwm/config
48:SetEnv  fvm_gnome_icon_theme    gnant
49:SetEnv  fvwm_icon               /usr/local/share/icons/$[fvm_gnome_icon_theme]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://strog.org/files/gnant-0.2.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tar xf gnant-0.2.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mv gnant /usr/local/share/icons/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ rm -i gnant-0.2.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://zensites.net/fvwm/guide/fvwm-guide-icons.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tar xf fvwm-guide-icons.tar.bz2 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh
total 198
drwxr-xr-x   3 dusko  wheel     4B Apr 16 08:25 .
drwxrwxrwt  37 root   wheel   570B Apr 16 08:23 ..
drwxr-xr-x   7 dusko  wheel     8B Aug  5  2004 .fvwm
-rw-r--r--   1 dusko  wheel    73K Jan 14  2008 fvwm-guide-icons.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh .fvwm/
total 20
drwxr-xr-x  7 dusko  wheel     8B Aug  5  2004 .
drwxr-xr-x  3 dusko  wheel     4B Jul 11 19:25 ..
-rw-r--r--  1 dusko  wheel    17K Aug  5  2004 fvwm2rc-guide
drwxr-xr-x  5 dusko  wheel     5B Aug  5  2004 icons
drwxr-xr-x  5 dusko  wheel     5B Aug  5  2004 images
drwxr-xr-x  2 dusko  wheel     2B Aug  4  2004 screenshot
drwxr-xr-x  2 dusko  wheel     2B Aug  4  2004 scripts
drwxr-xr-x  2 dusko  wheel     2B Aug  4  2004 tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh .fvwm/icons/
total 35
drwxr-xr-x  5 dusko  wheel     5B Aug  5  2004 .
drwxr-xr-x  7 dusko  wheel     8B Aug  5  2004 ..
drwxr-xr-x  2 dusko  wheel    10B Aug  5  2004 48x48
drwxr-xr-x  2 dusko  wheel    28B Aug  5  2004 menu
drwxr-xr-x  2 dusko  wheel     7B Aug  5  2004 mini
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cp -rf .fvwm/icons/menu /usr/local/share/icons/gnant/
$ sudo cp -rf .fvwm/icons/mini /usr/local/share/icons/gnant/
$ sudo cp -rf .fvwm/icons/48x48/* /usr/local/share/icons/gnant/48x48/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ rm -rf .fvwm/
$ rm -i fvwm-guide-icons.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install rox-filer
% sudo pkg install 3ddesktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;pre&gt;&lt;code class=&quot;language-`&quot;&gt;% pkill Xorg
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Start X:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec xinit 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ exec startx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg info --regex --full fvwm&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;WWW            : http://www.fvwm.org/
Comment        : Popular virtual window manager for X

Description    :
Fvwm is a very famous window manager for X, which provides a
virtual/multiple disjoint desktop, a 3-D look for windows decorations,
shaped/color icons. It gives a very good emulation of mwm. A nice
button-bar can be used to provide convenient access to frequently used
functions or programs.

WWW: http://www.fvwm.org/

Jason C. Wells
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.fvwm.org/&quot;&gt;https://www.fvwm.org/&lt;/a&gt; (Retrieved on Apr 16, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Fvwm is a virtual window manager for the X windows system. It was 
originally a feeble fork of TWM by Robert Nation in 1993 (fvwm history), 
and has evolved into the fantastic, fabulous, famous, flexible, and so on, 
window manager we have today.

Fvwm is ICCCM-compliant and highly configurable. Starting from a minimal 
configuration, Fvwm can be configured with both internal tools and third 
party software to customize most aspects of a desktop.

This site is an archive of documentation for Fvwm version 2.6.x, which is 
the current frozen release. For information about the development of Fvwm 
version 3, check out fvwmorg/fvwm3 on GitHub.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 16 Apr 2022 08:12:34 -0700</pubDate>
        <link>http://localhost:4000/2022/04/16/fvwm.html</link>
        <guid isPermaLink="true">http://localhost:4000/2022/04/16/fvwm.html</guid>
        
        
      </item>
    
      <item>
        <title>Converting Traditional sysV Init Scripts to systemd Unit Files</title>
        <description>&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;(All references retrieved on Apr 9, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://0pointer.de/blog/projects/systemd-for-admins-3.html&quot;&gt;How Do I Convert A SysV Init Script Into A systemd Service File? (systemd for Administrators, Part III)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.redhat.com/en/blog/converting-traditional-sysv-init-scripts-red-hat-enterprise-linux-7-systemd-unit-files&quot;&gt;Converting traditional sysV init scripts to Red Hat Enterprise Linux 7 systemd unit files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.golinuxcloud.com/create-systemd-service-example/&quot;&gt;Create systemd service in Linux [Explained with Example]&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 09 Apr 2022 09:03:31 -0700</pubDate>
        <link>http://localhost:4000/systemd/linux/howto/cli/terminal/shell/rhel/centos/sysadmin/2022/04/09/convert-sysvinit-to-systemd-service.html</link>
        <guid isPermaLink="true">http://localhost:4000/systemd/linux/howto/cli/terminal/shell/rhel/centos/sysadmin/2022/04/09/convert-sysvinit-to-systemd-service.html</guid>
        
        
        <category>systemd</category>
        
        <category>linux</category>
        
        <category>howto</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>rhel</category>
        
        <category>centos</category>
        
        <category>sysadmin</category>
        
      </item>
    
      <item>
        <title>TWM - Tab Window Manager for the X Window System</title>
        <description>&lt;p&gt;OS: FreeBSD 13.0  &lt;br /&gt;
Shell: csh/tcsh&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat ~/.twmrc
RestartPreviousState      # Reiconify iconified windows on startup
UsePPosition        &quot;on&quot;  # Use program-specified size hints accepted
NoTitle                   # No titlebars
BorderWidth         1     # Number of pixels for border around entire window
DontMoveOff               # Disallow moving windows off the visible screen
IconifyByUnmapping        # Iconifying a window sends it to the Icon Manager
AutoRelativeResize        # Don&apos;t wait until the window edge is crossed
NoGrabServer
RandomPlacement

IconManagerFont           &quot;a14&quot;
IconRegion                &quot;90x44-0+0&quot; North East 40 30 
IconManagerGeometry       &quot;90x44-0+0&quot; 1

IconManagerDontShow
{
  &quot;xclock&quot; &quot;xload&quot;
}

Color
{
    BorderColor &quot;red&quot;
    {
      &quot;XTerm&quot; &quot;red&quot;       # Active xterm window border: red
    }

    BorderColor           &quot;yellow&quot;
    BorderTileBackground  &quot;yellow&quot;
    BorderTileForeground  &quot;yellow&quot;

    DefaultBackground     &quot;rgb:2/a/9&quot;
    DefaultForeground     &quot;gray85&quot;
    TitleBackground       &quot;rgb:2/a/9&quot;
    TitleForeground       &quot;gray85&quot;
    MenuBackground        &quot;rgb:2/a/9&quot;
    MenuForeground        &quot;gray85&quot;
    MenuBorderColor       &quot;slategrey&quot;
    MenuTitleBackground   &quot;gray70&quot;
    MenuTitleForeground   &quot;rgb:2/a/9&quot;
    IconBackground        &quot;rgb:2/a/9&quot;
    IconForeground        &quot;gray85&quot;
    IconBorderColor       &quot;gray85&quot;

    IconManagerHighlight  &quot;white&quot;

    IconManagerBackground &quot;rgb:2/a/9&quot;
    {
      &quot;XTerm&quot;             &quot;#ff595e&quot;
      &quot;tea&quot;               &quot;#1982c4&quot;
      &quot;KeePassXC&quot;         &quot;#ffca3a&quot;
      &quot;Thunderbird&quot;       &quot;#6a4c93&quot;
      &quot;Firefox&quot;           &quot;#8ac926&quot; 
      &quot;LibreOffice&quot;       &quot;#deff0a&quot;
      &quot;soffice.bin&quot;       &quot;#deff0a&quot;
      &quot;Zathura&quot;           &quot;#be0aff&quot;
    }

    IconManagerForeground &quot;gray85&quot;
    {
      &quot;XTerm&quot;             &quot;#fae0e4&quot;
      &quot;tea&quot;               &quot;#84DE02&quot;
      &quot;KeePassXC&quot;         &quot;#219ebc&quot; 
      &quot;Thunderbird&quot;       &quot;#ff595e&quot;
      &quot;Firefox&quot;           &quot;#ffff3f&quot;
      &quot;LibreOffice&quot;       &quot;#ff595e&quot;
      &quot;soffice.bin&quot;       &quot;#ff595e&quot;
      &quot;Zathura&quot;           &quot;#0aff99&quot;
    }
}

Cursors
{
  Frame     &quot;left_ptr&quot;
  Title     &quot;left_ptr&quot;
  Icon      &quot;left_ptr&quot;
  IconMgr   &quot;left_ptr&quot;
  Move      &quot;fleur&quot;
  Resize    &quot;fleur&quot;
  Menu      &quot;hand1&quot;
  Button    &quot;hand2&quot;
  Wait      &quot;clock&quot;
  Select    &quot;dot&quot;
  Destroy   &quot;pirate&quot;
}

# ----  Mouse and keyboard bindings  ----
# Mouse:     Button1=left, Button2=middle, Button3=right
# Keyboard:  m=meta (alt), c=ctrl, s=shift, m4=mod4 (Win)

Button1 =   : root    : f.menu &quot;defops&quot;
Button1 =   : iconmgr : f.iconify
Button1 = m : window  : f.move      # Alt + left mouse button
Button3 = m : window  : f.resize    # Alt + right mouse button

&quot;s&quot; =     m : all : f.showiconmgr   # Show the Icon Manager  (Alt + s)
&quot;s&quot; = s | m : all : f.hideiconmgr   # Hide the Icon Manager  (Alt + Shift + s)
&quot;r&quot; =     m : all : f.raiselower    # Raise window if behind (Alt + r)
&quot;v&quot; =     m : all : f.iconify       # &quot;Minimize&quot; window      (Alt + v)

# Cycle through windows with vi(1)-style key bindings 
# NOTE: For best results, make sure that the Icon Manager is *not* hidden
#       when the Icon Manager is hidden, only &quot;l&quot; and &quot;j&quot; work 
&quot;h&quot; =     m : all : f.backiconmgr  # previous column
&quot;l&quot; =     m : all : f.forwiconmgr  # next column
&quot;k&quot; =     m : all : f.upiconmgr    # previous row
&quot;j&quot; =     m : all : f.downiconmgr  # next row

# Use keyboard arrow keys to change the input focus between windows
# NOTE: For best results, make sure that the Icon Manager is *not* hidden
&quot;Left&quot;  = m : all : f.backiconmgr  # previous column
&quot;Right&quot; = m : all : f.forwiconmgr  # next column
&quot;Up&quot;    = m : all : f.upiconmgr    # previous row
&quot;Down&quot;  = m : all : f.downiconmgr  # next row

# Show time and date (local and UTC):  Press Ctrl + Alt + t
&quot;t&quot; =  m | c: all : f.exec &quot;(date; echo &apos;&apos;; date -u) | \
/usr/local/bin/xmessage -bg \&quot;#DE3163\&quot; -fg \&quot;#F6EABE\&quot; -rv -fn \
\&quot;-b&amp;amp;h-lucidatypewriter-bold-r-normal-sans-26-190-100-100-m-159-iso10646-1\&quot; \
-geometry -0+0 -buttons OK:1 -default OK -file - &amp;amp;&quot;

# Display virtual desktop number:      Press Ctrl + Alt + d
&quot;d&quot; =  m | c: all : f.exec &quot;(vdesk) | \
/usr/local/bin/xmessage -bg \&quot;#DE3163\&quot; -fg \&quot;#F6EABE\&quot; -rv -fn \
\&quot;-b&amp;amp;h-lucidatypewriter-bold-r-normal-sans-26-190-100-100-m-159-iso10646-1\&quot; \
-geometry -0+0 -buttons &apos; &apos; -default OK -file - &amp;amp;&quot;

# Launch dmenu with Alt + p
&quot;p&quot; = m      : all : f.exec &quot;/usr/local/bin/dmenu_run&quot;

&quot;i&quot; = m      : all : f.identify   # Alt + i
&quot;d&quot; = m      : all : f.delete     # For closing e.g. &quot;About&quot; windows
&quot;h&quot; = s | m4 : all : f.leftzoom   # [Shift + mod4 (Win)] + h
&quot;l&quot; = s | m4 : all : f.rightzoom  # [Shift + mod4 (Win)] + l
&quot;k&quot; = s | m4 : all : f.topzoom    # [Shift + mod4 (Win)] + k
&quot;j&quot; = s | m4 : all : f.bottomzoom # [Shift + mod4 (Win)] + j
&quot;f&quot; = s | m4 : all : f.fullzoom   # [Shift + mod4 (Win)] + o
&quot;m&quot; = s | m4 : all : f.zoom       # [Shift + mod4 (Win)] + m &amp;lt;- Zoom vertically
&quot;c&quot; = s | m4 : all : f.circledown # [Shift + mod4 (Win)] + c
&quot;u&quot; = s | m4 : all : f.circleup   # [Shift + mod4 (Win)] + u

# QUIT menu
# Defined here, used in the &quot;Main Menu&quot; (below),
#      i.e.  it&apos;s a sub-menu of the Main Menu
menu &quot;quitmenu&quot;
{
 &quot;Really Quit?&quot;   f.title
 &quot;No&quot;             f.nop
 &quot;Yes&quot;            f.quit
}

# Add a menu with the usual things
menu &quot;defops&quot;
{
  &quot;Twm&quot;           f.title
  &quot;Iconify&quot;       f.iconify
  &quot;Resize&quot;        f.resize
  &quot;Move&quot;          f.move
  &quot;Raise&quot;         f.raise
  &quot;Lower&quot;         f.lower
  &quot;&quot;              f.nop
  &quot;Focus&quot;         f.focus
  &quot;Unfocus&quot;       f.unfocus
  &quot;Show Iconmgr&quot;  f.showiconmgr
  &quot;Hide Iconmgr&quot;  f.hideiconmgr
  &quot;&quot;              f.nop
  &quot;Xterm&quot;         f.exec &quot;exec xterm &amp;amp;&quot;
  &quot;&quot;              f.nop
  &quot;Kill&quot;          f.destroy
  &quot;Delete&quot;        f.delete
  &quot;&quot;              f.nop
  &quot;Restart&quot;       f.restart
  &quot;Exit&quot;          f.menu &quot;quitmenu&quot;
}

# Virtual desktops with vdesk  ---- http://offog.org/code/vdesk.html -----

function &quot;set-desktop-1&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 1&quot;
}
    
function &quot;set-desktop-2&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 2&quot;
}
  
function &quot;set-desktop-3&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 3&quot;
}

function &quot;set-desktop-4&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 4&quot;
}

function &quot;set-desktop-5&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 5&quot;
}

function &quot;set-desktop-6&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 6&quot;
}

function &quot;set-desktop-7&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 7&quot;
}

function &quot;set-desktop-8&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 8&quot;
}

function &quot;set-desktop-9&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 9&quot;
}

function &quot;desktop-back&quot;
{
   f.exec &quot;A=$((`vdesk`-1)); if [ $A = 0 ] ; then A=9 ; fi ; vdesk $A&quot;
}

# To switch to one of nine virtual desktop: Alt + [1-9]:
&quot;1&quot;     =     m : all : f.function &quot;set-desktop-1&quot;
&quot;2&quot;     =     m : all : f.function &quot;set-desktop-2&quot;
&quot;3&quot;     =     m : all : f.function &quot;set-desktop-3&quot;
&quot;4&quot;     =     m : all : f.function &quot;set-desktop-4&quot;
&quot;5&quot;     =     m : all : f.function &quot;set-desktop-5&quot;
&quot;6&quot;     =     m : all : f.function &quot;set-desktop-6&quot;
&quot;7&quot;     =     m : all : f.function &quot;set-desktop-7&quot;
&quot;8&quot;     =     m : all : f.function &quot;set-desktop-8&quot;
&quot;9&quot;     =     m : all : f.function &quot;set-desktop-9&quot;

# To cycle forward through virtual desktops:
#     Ctrl + Meta (Win key) + right arrow key
&quot;Right&quot; = c | m : all : f.function &quot;desktop-forward&quot;
# To cycle backwards through virtual desktops:
#     Ctrl + Meta (Win key) + left arrow key
&quot;Left&quot;  = c | m : all : f.function &quot;desktop-back&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat ~/.xinitrc
xrdb -load $HOME/.Xresources 

xsetroot -solid slategrey
xset b off

# Add fonts
for m in `ls /usr/local/share/fonts/`; do
    if [ -d &quot;/usr/local/share/fonts/$m&quot; ]; then
        xset fp+ &quot;/usr/local/share/fonts/$m&quot;
    fi
done

exec twm &amp;gt; /tmp/twmrclog 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to have a clock or clocks, add one or more of the following
four lines to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.xinitrc&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;exec /usr/local/bin/xclock -digital -strftime &quot;Vancouver: %a %d %b %H:%M:%S&quot; \
  -update 1 -face mono:size=10 -bg &quot;#002020&quot; -fg &quot;red&quot; -geometry -0-2 &amp;amp;
exec env TZ=Europe/Belgrade xclock -digital -strftime \
  &quot;Belgrade: %a %d %b %H:%M&quot; -face mono:size=10 -bg &quot;#002020&quot; -fg &quot;gold&quot; \
  -geometry -256-2 &amp;amp;
exec env TZ=UTC /usr/local/bin/xclock -digital -strftime \
  &apos;UTC: %a %d %b %H:%M&apos; -face mono:size=10 -bg &apos;#002020&apos; -fg &apos;#f6eabe&apos; \
  -geometry -480-2 &amp;amp; 
exec env TZ=GMT /usr/local/bin/xclock -digital -strftime \
  &apos;GMT: %a %d %b %H:%M&apos; -face mono:size=10 -bg &apos;#002020&apos; -fg &apos;#aaaaaa&apos; \
  -geometry -664-2 &amp;amp; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to have xload, you first need to install it (with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo pkg install xload&lt;/code&gt;), and after that add this line to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.xinitrc&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;exec xload -bg steelblue -fg &apos;#001013&apos; -nolabel -geometry 224x33-840-2 &amp;amp;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;X&lt;/code&gt; with:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec startx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec xinit 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Man pages:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;twm(1) - Tab Window Manager for the X Window System&lt;/li&gt;
  &lt;li&gt;xterm(1) - terminal emulator for X&lt;/li&gt;
  &lt;li&gt;xwininfo(1) - window information utility for X&lt;/li&gt;
  &lt;li&gt;Xsecurity(7) - X display access control, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.Xauthority&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Xserver(1) - X Window System display server&lt;/li&gt;
  &lt;li&gt;X(7) - Keyboards, modifiers and keysym - section KEYBOARDS&lt;/li&gt;
  &lt;li&gt;Xorg(1) - X11R7 X server&lt;/li&gt;
  &lt;li&gt;XOrgFoundation(7) -  X.Org Foundation information&lt;/li&gt;
  &lt;li&gt;xinit(1) - X Window System initializer&lt;/li&gt;
  &lt;li&gt;x11perf(1) - X11 server performance test program&lt;/li&gt;
  &lt;li&gt;xauth(1) - X authority file utility&lt;/li&gt;
  &lt;li&gt;showrgb(1) - display an rgb color-name database&lt;/li&gt;
  &lt;li&gt;xkbwatch(1) - XKB extension user utility&lt;/li&gt;
  &lt;li&gt;xkbevd(1) - XKB event daemon&lt;/li&gt;
  &lt;li&gt;xkbvleds(1) - display the state of LEDs on an XKB keyboard&lt;/li&gt;
  &lt;li&gt;xkill(1) - kill a client by its X resource&lt;/li&gt;
  &lt;li&gt;xlsatoms(1) - list interned atoms defined on server&lt;/li&gt;
  &lt;li&gt;xprop(1) - property displayer for X&lt;/li&gt;
  &lt;li&gt;xmodmap(1) - utility for modifying keymaps and pointer button mappings in X&lt;/li&gt;
  &lt;li&gt;xrdb(1) - X server resource database utility&lt;/li&gt;
  &lt;li&gt;xset(1) - user preference utility for X&lt;/li&gt;
  &lt;li&gt;xrefresh(1) - refresh all or part of an X screen&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Retrieved on Apr 3, 2022:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.custompc.plus.com/twm/twmrc.htm&quot;&gt;Graham’s TWM Page!&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.custompc.plus.com/twm2/Grahams_TWM_page2.html&quot;&gt;Graham’s TWM Page! - Updated for 2021&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://offog.org/code/vdesk/&quot;&gt;vdesk -  a virtual desktop manager&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;word-cloud&quot;&gt;Word Cloud&lt;/h3&gt;

&lt;p&gt;X(7), libX11, modifier, keysum, the vmodmap array, locale, 
XkbLatchModifiers(3)&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sun, 03 Apr 2022 09:27:31 -0700</pubDate>
        <link>http://localhost:4000/wm/x11/xorg/freebsd/unix/dotfiles/2022/04/03/twm.html</link>
        <guid isPermaLink="true">http://localhost:4000/wm/x11/xorg/freebsd/unix/dotfiles/2022/04/03/twm.html</guid>
        
        
        <category>wm</category>
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>freebsd</category>
        
        <category>unix</category>
        
        <category>dotfiles</category>
        
      </item>
    
      <item>
        <title>How To Setup Two Separate Bridges for a QEMU Guest with Two NICs Connected to Two Different Networks</title>
        <description>&lt;hr /&gt;
&lt;p&gt;Host OS: RHEL 8.5 - Shell: csh  &lt;br /&gt;
Guest OS: CentOS Linux 7.9 - Shell: bash&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Assumptions:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The host server was already configured for virtualization.  It had the 
following packages installed on it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ipxe-roms-qemu, libvirt-daemon-driver-qemu, qemu-guest-agent, qemu-img, 
qemu-kvm, qemu-kvm-block-curl, qemu-kvm-block-gluster, qemu-kvm-block-iscsi, 
qemu-kvm-block-rbd, qemu-kvm-block-ssh, qemu-kvm-common, qemu-kvm-core,
libvirt, virt-install, virt-manager, libguestfs-tools, libguestfs-gfs2, 
libguestfs-rescue, ibguestfs-rsync libguestfs-xfs,
virt-dib, virt-v2v, virt-p2v-maker, virt-viewer, virt-who, virt-top, virtio-win

minicom 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;about-bridge-switch-bridge-mode-of-qemu-bridged-networking-tun-connection-tap-mode-tap-device-nat-mode&quot;&gt;About Bridge Switch, Bridge Mode of QEMU, Bridged Networking, TUN Connection, TAP Mode (TAP Device), NAT Mode&lt;/h3&gt;

&lt;p&gt;A &lt;strong&gt;bridge&lt;/strong&gt; is a &lt;strong&gt;network switch&lt;/strong&gt; but implemented in software.&lt;/p&gt;

&lt;p&gt;From the &lt;a href=&quot;https://wiki.archlinux.org/index.php/Network_bridge&quot;&gt;Arch Wiki&lt;/a&gt; (Retrieved on Apr 2, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A &lt;strong&gt;bridge&lt;/strong&gt; is a piece of software used to &lt;strong&gt;unite&lt;/strong&gt; two or 
more &lt;strong&gt;network segments&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;A bridge behaves like a virtual network &lt;strong&gt;switch&lt;/strong&gt;, working 
transparently (other machines do not need to know about its 
existence).  Any real devices (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eth0&lt;/code&gt;) and virtual devices
(e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt;) can be connected to it.&lt;/p&gt;

  &lt;p&gt;[…]   &lt;br /&gt;
When the bridge is fully set up, it can be &lt;strong&gt;assigned an IP address&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Or as per &lt;a href=&quot;https://wiki.linuxfoundation.org/networking/bridge&quot;&gt;Bridge - The Linux Foundation Wiki&lt;/a&gt; (Retrieved on Apr 2, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;[…] a bridge connects two or more physical Ethernets together to 
form one &lt;strong&gt;bigger (logical) Ethernet&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;When you install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libvirt&lt;/code&gt;, a &lt;strong&gt;virtual bridge&lt;/strong&gt; (aka &lt;strong&gt;virtual network 
switch&lt;/strong&gt;), the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt;, is automatically created.  When you later 
create virtual machines, they connect to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; bridge.&lt;/p&gt;

&lt;p&gt;By default, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; uses &lt;strong&gt;NAT&lt;/strong&gt; mode and gets assigned an 
IP address 192.168.122.1.  Also, it can provide DHCP service for 
other virtual interfaces that connect to it.&lt;/p&gt;

&lt;p&gt;From the &lt;a href=&quot;https://wiki.archlinux.org/title/Network_bridge&quot;&gt;Arch Wiki&lt;/a&gt;: 
a bridge is a network switch but implemented in software.  Any real 
devices (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eth0&lt;/code&gt;) and virtual devices (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt;) can be connected 
to it.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking/NAT&quot;&gt;NAT Networking - QEMU Documentation&lt;/a&gt; (Retrieved on Apr 2, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;NAT &lt;br /&gt;
Configuring Network Address Translation (NAT) is a useful way to network 
virtual machines in a desktop environment (particularly, when using 
wireless networking).  A NAT network will allow your guests to fully 
access the network, allow networking between your host and guests, but 
&lt;strong&gt;prevent the guests&lt;/strong&gt; from being directly &lt;strong&gt;visible&lt;/strong&gt; on the physical network.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;References:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/523245/whats-the-function-of-virbr0-and-virbr0-nic&quot;&gt;What’s the function of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0-nic&lt;/code&gt;?&lt;/a&gt; &lt;br /&gt;
(Retrieved on Apr 2, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://listman.redhat.com/archives/libvirt-users/2012-September/msg00038.html&quot;&gt;[libvirt-users] virtual networking - virbr0-nic interface&lt;/a&gt; &lt;br /&gt;
(Retrieved on Apr 2, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/378264/what-is-virtual-bridge-with-nic-in-the-end-of-name/444863#444863&quot;&gt;What is virtual bridge with -nic in the end of name&lt;/a&gt; &lt;br /&gt;
(Retrieved on Apr 2, 2022)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli
eno1: connected to eno1
[...]
eno2: connected to eno2
[...]
virbr0: connected (externally) to virbr0
        &quot;virbr0&quot;
        bridge, 52:54:00:11:22:33, sw, mtu 1500
        inet4 192.168.122.1/24
        route4 192.168.122.0/24
eno3: disconnected
[...]
eno4: disconnected
[...]
lo: unmanaged
        &quot;lo&quot;
        loopback (unknown), 00:00:00:00:00:00, sw, mtu 65536

virbr0-nic: unmanaged
        &quot;virbr0-nic&quot;
        tun, 52:54:00:11:22:33, sw, mtu 1500

DNS configuration:
        servers: 208.67.222.222, 208.67.220.220  &amp;lt;-- Will list your DNS servers
        interface: eno1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0
GENERAL.DEVICE:               virbr0
GENERAL.TYPE:                 bridge
[...]
GENERAL.STATE:                100 (connected (externally))
GENERAL.CONNECTION:           virbr0
[...]
IP4.ADDRESS[1]:               192.168.122.1/24
IP4.GATEWAY:                  --
IP4.ROUTE[1]:                 dst = 192.168.122.0/24, nh = 0.0.0.0, mt = 0
IP6.GATEWAY:                  --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The network &lt;strong&gt;interface&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0-nic&lt;/code&gt; (virtual network interface) is not 
a bridge.  It is a regular Ethernet interface (although a virtual one, 
created with ip add type &lt;a href=&quot;https://man7.org/linux/man-pages/man4/veth.4.html&quot;&gt;veth&lt;/a&gt;).  It’s there so that the bridge has at least one interface beneath it to 
use its MAC address from.  It doesn’t pass real traffic since it’s not 
really connected to any physical device.
The bridge would work without it but then it could change its MAC address 
as interfaces enter and exit the bridge, and when the MAC of the bridge 
changes, external switches may be confused, making the host lose network 
for some time.&lt;/p&gt;

&lt;p&gt;According to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli device show&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip -details link show&lt;/code&gt; commands, 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0-nic&lt;/code&gt; virtual network interface is a &lt;strong&gt;TUN&lt;/strong&gt; device:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GENERAL.DEVICE:               virbr0-nic
GENERAL.TYPE:                 tun
GENERAL.HWADDR:               52:54:00:11:22:33
GENERAL.MTU:                  1500
GENERAL.STATE:                10 (unmanaged)
GENERAL.CONNECTION:           --
GENERAL.CON-PATH:             --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip -details link show virbr0-nic | \
egrep -woi &quot;tun|tap|bridge|bridge_slave|vlan_tunnel&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tun
tap
bridge_slave
vlan_tunnel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;IP forwarding &lt;a href=&quot;#footnotes&quot;&gt;¹&lt;/a&gt; was already enabled on this server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo /sbin/sysctl --all | grep &apos;net.ipv4.ip_forward&apos;
net.ipv4.ip_forward = 1
net.ipv4.ip_forward_update_priority = 1
net.ipv4.ip_forward_use_pmtu = 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Additional package that you need to install is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bridge-utils&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install bridge-utils
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It provides &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl&lt;/code&gt; tool.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf whatprovides /usr/sbin/brctl
[...]
bridge-utils-1.5-9.el7.x86_64 : Utilities for configuring the linux 
                              : ethernet bridge
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -V brctl; type brctl; which brctl; whereis brctl
brctl is /usr/sbin/brctl
brctl is /usr/sbin/brctl
/usr/sbin/brctl
brctl: /usr/sbin/brctl /usr/share/man/man8/brctl.8.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl(8)&lt;/code&gt; tool is used for the Ethernet bridge administration. 
From its man page:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[...]
DESCRIPTION
    brctl is used to set up, maintain, and inspect the ethernet bridge 
    configuration in the linux kernel.

    An ethernet bridge is a device commonly used to connect different  
    networks of ethernets together, so that these ethernets will appear 
    as one ethernet to the participants.

    Each of the ethernets being connected corresponds to one physical
    interface in the bridge.  These individual ethernets are bundled into
    one bigger (&apos;logical&apos;) ethernet, this bigger ethernet corresponds to
    the bridge network interface.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently, this server has one bridge device (named virbr0) installed by 
the libvirt library so the output of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl show&lt;/code&gt; and  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl show virbr0&lt;/code&gt; 
is the same.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show 
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show virbr0
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;qemu-networking&quot;&gt;QEMU Networking&lt;/h2&gt;

&lt;p&gt;Two parts:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The front-end.  The virtual network device; e.g. a PCI network card
(aka NIC - network interface controller) that the guest sees.&lt;/li&gt;
  &lt;li&gt;The network back-end on the host side; that is, the interface that QEMU uses 
to exchange network packets with the outside (like other QEMU instances
or other real hosts in your intranet or the internet).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;QEMU supports networking by emulating some popular network cards
(aka NICs - network interface controllers) and establishing virtual
LANs (VLAN). There are four ways that QEMU guests can be connected:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;User mode (SLiRP)&lt;/li&gt;
  &lt;li&gt;Tap&lt;/li&gt;
  &lt;li&gt;Socket redirection&lt;/li&gt;
  &lt;li&gt;VDE networking&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;References:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.qemu.org/2018/05/31/nic-parameter/&quot;&gt;QEMU’s new -nic command line option&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking&quot;&gt;Networking - QEMU Documentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikibooks.org/wiki/QEMU/Networking&quot;&gt;Networking - QEMU on wikibooks.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The difference between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-nic&lt;/code&gt; options of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu&lt;/code&gt; command:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt; option can create either a front-end or a back-end (and also does other things)&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; can only create a back-end&lt;/li&gt;
  &lt;li&gt;a single occurrence of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-nic&lt;/code&gt; creates both a front-end and a back-end&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;slirp-user-networking&quot;&gt;SLiRP (user networking)&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Provides access to the host’s network via NAT&lt;/li&gt;
  &lt;li&gt;It doesn’t support protocols other than TCP and UDP so e.g. ping and other ICMP utilities won’t work from the guest&lt;/li&gt;
  &lt;li&gt;A virtual DHCP server on 10.0.2.2&lt;/li&gt;
  &lt;li&gt;A virtual DNS server on 10.0.2.3&lt;/li&gt;
  &lt;li&gt;Gateway: 10.0.2.3&lt;/li&gt;
  &lt;li&gt;An IP address starting from 10.0.2.15&lt;/li&gt;
  &lt;li&gt;NO tap0 on the host&lt;/li&gt;
  &lt;li&gt;ssh from the guest to the host&lt;/li&gt;
  &lt;li&gt;By default it acts as a firewall and does not permit any incoming traffic&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;starting-a-qemu-vm-with-slirp-user-networking&quot;&gt;Starting a QEMU VM with SLiRP (User Networking)&lt;/h4&gt;

&lt;p&gt;With the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev user,id=network0 \
-device e1000,netdev=network0 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you don’t specify any network configuration options, then QEMU creates 
a SLiRP user network back-end and an appropriate virtual network device 
for the guest (e.g. an E1000 PCI card for most x86 PC guests):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, you can use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt; (&lt;a href=&quot;https://www.qemu.org/2018/05/31/nic-parameter/&quot;&gt;QEMU’s new -nic command line option&lt;/a&gt;) instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-net nic \
-net user \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;tap&quot;&gt;Tap&lt;/h3&gt;

&lt;h4 id=&quot;how-to-create-a-bridged-networking-tun-device-in-tap-mode-for-qemu-with-an-ip-address-provided-by-libvirts-bridge-virbr0&quot;&gt;How To Create a Bridged Networking (Tun Device in Tap Mode) for QEMU with an IP Address Provided by libvirt’s Bridge virbr0&lt;/h4&gt;

&lt;p&gt;References: &lt;br /&gt;
&lt;a href=&quot;https://wiki.qemu.org/Features/HelperNetworking&quot;&gt;Helper Networking&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Allows the guest to directly access the host’s network&lt;/li&gt;
  &lt;li&gt;ICMP utilities (e.g. ping) working&lt;/li&gt;
  &lt;li&gt;192.168.122.x (gw: 192.168.122.254)&lt;/li&gt;
  &lt;li&gt;tap0 on the host&lt;/li&gt;
  &lt;li&gt;IP address visible on the host’s network -&amp;gt; ssh from the guest to the host&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When you install the libvirt &lt;a href=&quot;#footnotes&quot;&gt;²&lt;/a&gt; package, a virtual network 
switch named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; is created.&lt;/p&gt;

&lt;p&gt;To allow unprivileged user access to the bridge from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt;
tool, create or modify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/qemu-kvm/bridge.conf&lt;/code&gt; (in other Linux 
distributions, the location of this configuration file might be different, 
for example, /etc/qemu/bridge.conf).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;allow virbr0&quot; | sudo tee -a /etc/qemu-kvm/bridge.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bridge.conf&lt;/code&gt; are in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-kvm-common&lt;/code&gt; package:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dnf repoquery --file /etc/qemu-kvm/bridge.conf 
[...]
qemu-kvm-common-15:2.12.0-63.module+el8+2833+c7d6d092.x86_64

$ dnf repoquery --file /usr/libexec/qemu-bridge-helper
[...]
qemu-kvm-common-15:2.12.0-63.module+el8+2833+c7d6d092.x86_64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Both examples below use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option for the back-end, together 
with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-device&lt;/code&gt; for the front-end.  That combination configures a network 
connection where the emulated NIC is directly connected to a host network
back-end, without a hub in between (as opposed to a network connection 
created with the legacy &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt; option).&lt;/p&gt;

&lt;h4 id=&quot;tap-with-virbr0-default-virtual-network-switch-created-by-the-libvirt-library---method-1&quot;&gt;Tap with virbr0 (Default Virtual Network Switch Created by the libvirt Library) - Method 1&lt;/h4&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br=&amp;lt;bridge name&amp;gt;&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev bridge,br=virbr0,id=hn0 \
-device virtio-net-pci,netdev=hn0,id=nic1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;tap-with-virbr0-default-virtual-network-switch-created-by-the-libvirt-library---method-2&quot;&gt;Tap with virbr0 (Default Virtual Network Switch Created by the libvirt Library) - Method 2&lt;/h4&gt;

&lt;p&gt;In the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option, for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap&lt;/code&gt; specify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;helper&lt;/code&gt; and point &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--br&lt;/code&gt; to 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; because by default the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; expects that the 
bridge name is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=virbr0&quot;,id=hn0 \
-device virtio-net-pci,netdev=hn0,id=nic1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;how-to-create-a-bridged-networking-tun-device-in-tap-mode-for-qemu-with-an-ip-address-visible-on-the-hosts-network-and-via-a-bridge-interface-you-created&quot;&gt;How To Create a Bridged Networking (Tun Device in Tap Mode) for QEMU with an IP Address Visible on the Host’s Network and via a Bridge Interface You Created&lt;/h3&gt;

&lt;p&gt;When you don’t want to use the [default] bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; provided by the 
libvirt library, you need to configure the new bridge &lt;em&gt;before&lt;/em&gt; running qemu.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Steps:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Create a network bridge device and bind your default-route NIC to it.&lt;/li&gt;
  &lt;li&gt;Create a tap device attached to the bridge for QEMU to use.
    &lt;ul&gt;
      &lt;li&gt;Instead of setting it up manually, you can let QEMU to set up
the necessary &lt;strong&gt;tap&lt;/strong&gt; device using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool
(location on this host with the operating system RHEL 8.5:
 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/libexec/qemu-bridge-helper&lt;/code&gt;).  This example shows this, that is,
it leaves the tap device creation and deletion to QEMU.&lt;/li&gt;
      &lt;li&gt;To set up a bridge as a regular user, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool 
must be run as root so you have to add the setuid bit; that is, 
permission (access) needs to be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(4755/-rwsr-xr-x)&lt;/code&gt;.  On this system
I didn’t have to do it as the helper was already configured with the setuid.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Configure the host’s firewall to allow packets to move across the bridge.
I didn’t have to make changes for this item because IP forwarding
&lt;a href=&quot;#footnotes&quot;&gt;¹&lt;/a&gt; was already enabled on this host.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lsmod | grep ^bridge
bridge                192512  0

$ lsmod | grep ^tun
tun                    53248  1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip tuntap list
virbr0-nic: tap persist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:  &lt;br /&gt;
I haven’t tried network bridging with wireless interface.&lt;/p&gt;

&lt;p&gt;As per &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configure_network_bridging&quot;&gt;Configure Network Bridging - Red Hat Product Documentation (RHEL 7)&lt;/a&gt; (Retrieved on Apr 2, 2022), network bridging doesn’t work with Wi-Fi in Ad-Hoc or Infrastructure modes:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Note that a bridge cannot be established over Wi-Fi networks operating 
in Ad-Hoc or Infrastructure modes.  This is due to the IEEE 802.11 
standard that specifies the use of 3-address frames in Wi-Fi for the 
efficient use of airtime.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;To configure bridged networking with a wireless adapter on the host, use NAT:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking#How_to_use_tap_with_a_wireless_adapter_on_the_host&quot;&gt;How to use tap with a wireless adapter on the host&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking/NAT&quot;&gt;QEMU Documentation - Networking - NAT&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bbs.archlinux.org/viewtopic.php?id=207907&quot;&gt;[SOLVED] qemu vm tap networking with internet via host wifi&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;create-a-new-bridge-connection&quot;&gt;Create a New Bridge Connection&lt;/h4&gt;

&lt;p&gt;This new bridge connection will be linked to the eno1 network interface.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 08:94:ef:f4:00:04 brd ff:ff:ff:ff:ff:ff
    inet 123.12.23.148/24 brd 123.12.23.254 scope global noprefixroute eno1
       valid_lft forever preferred_lft forever
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a new bridge connection named br0.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add type bridge con-name br0 ifname br0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | grep -w br0
br0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.000000000000       yes
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eno1&lt;/code&gt; network interface to the bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add type bridge-slave ifname eno1 master br0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli -f bridge connection show br0
bridge.mac-address:                     --
bridge.stp:                             yes
bridge.priority:                        32768
bridge.forward-delay:                   15
bridge.hello-time:                      2
bridge.max-age:                         20
bridge.ageing-time:                     300
bridge.group-forward-mask:              0
bridge.multicast-snooping:              yes
bridge.vlan-filtering:                  no
bridge.vlan-default-pvid:               1
bridge.vlans:                           --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;convert-settings-from-nic-network-interface-controller-to-bridge-interface&quot;&gt;Convert Settings from NIC (Network Interface Controller) to Bridge Interface&lt;/h5&gt;

&lt;p&gt;Allocate a static IP address to the new br0 interface.  (If the DHCP server 
is available, it would provide IP addresses and other settings but since 
this is a server, I chose a set up with a static IP address.)&lt;/p&gt;

&lt;p&gt;In this example, network settings of the existing network interface 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eno1&lt;/code&gt; are converted to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; bridge settings.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show eno1 | grep &apos;ipv4.addresses&apos;
ipv4.addresses:   123.12.23.148/24

$ nmcli connection show eno1 | grep gateway
ipv4.gateway:     123.12.23.254

$ nmcli connection show eno1 | grep &apos;ipv4.dns&apos;
ipv4.dns:         208.67.222.222,208.67.220.220  &amp;lt;-- Will show your DNS servers

$ nmcli connection show eno1 | grep &apos;ipv4.method&apos;
ipv4.method:                            manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection modify br0 ipv4.addresses &apos;123.12.23.148/24&apos;
$ sudo nmcli connection modify br0 ipv4.gateway &apos;123.12.23.254&apos;
$ sudo nmcli connection modify br0 ipv4.dns &apos;208.67.222.222,208.67.220.220&apos;
$ sudo nmcli connection modify br0 ipv4.method manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection up br0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Connection successfully activated (master waiting for slaves) 
(D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/28)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.0894eff40004       yes             eno1
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show
NAME               UUID                                  TYPE      DEVICE 
eno1               4d928341-...........................  ethernet  eno1   
eno2               e94a2707-...........................  ethernet  eno2   
br0                07d25404-...........................  bridge    br0    
virbr0             3216d7f0-...........................  bridge    virbr0 
bridge-slave-eno1  02132481-...........................  ethernet  --     
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show br0
40: br0: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu 1500 qdisc noqueue 
      state DOWN group default qlen 1000
      link/ether 5a:18:0d:a2:18:26 brd ff:ff:ff:ff:ff:ff
      inet 123.12.23.148/24 brd 123.12.23.255 scope global noprefixroute br0
      valid_lft forever preferred_lft forever
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eno1&lt;/code&gt; network interface because now the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; bridge 
has a static IP address and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eno1&lt;/code&gt; will be in forwarding state.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection delete eno1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Allow a regular user access to the new bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; from 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt;.  Add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;allow br0&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bridge.conf&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;allow br0&quot; | sudo tee -a /etc/qemu-kvm/bridge.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/qemu-kvm/bridge.conf
allow virbr0
allow br0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
You don’t need to create a tap device (a.k.a. a tap interface) manually 
because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool (location on the host’s OS, RHEL 8.5: 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/libexec/qemu-bridge-helper&lt;/code&gt;) creates it automatically when you 
start a guest VM.  By default the helper assumes that the bridge name 
is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;.  Also, the name of a tap device that the helper automatically 
creates when the guest VM is started is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev bridge,br=br0,id=hn0 \
-device virtio-net-pci,netdev=hn0,id=nic1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(NOTE:   You can skip &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br=br0&lt;/code&gt; because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool assumes that the name of the bridge is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;.   Also, you can skip &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id=nic1&lt;/code&gt;.)&lt;/p&gt;

&lt;p&gt;Explanation for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;device&lt;/code&gt; options:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev bridge,br=br0,id=hn0&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create a bridge network back-end (with id hn0) via bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;. 
This will connect to a tap interface tap0 device (aka tap0 interface), 
which will be automatically setup with the helper &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-device virtio-net-pci,netdev=hn0,id=nic1&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create a NIC (of a model &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virtio-net-pci&lt;/code&gt; and with id nic1) and connect 
to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hn0&lt;/code&gt; back-end created by the previous parameter.&lt;/p&gt;

&lt;p&gt;NOTE:  To list all devices, including network devices, 
run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/libexec/qemu-kvm -device help&lt;/code&gt;, which shows help on possible 
drivers and properties (in this case, since you’d be interested in network devices, you’d look under the section titled “Network devices”).&lt;/p&gt;

&lt;p&gt;While the guest VM is running, start another shell on the host.
Run the following set of commands on the host system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | egrep &quot;^br|^virbr|^tap&quot;
br0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
tap0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a | egrep &quot;^br|^virbr|^tap&quot;
br0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
tap0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
virbr0-nic: flags=4098&amp;lt;BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection | egrep -i &quot;bridge|tun|tap|type&quot;
NAME               UUID                                  TYPE      DEVICE 
br0                07d25404-5b85-4006-bdbc-272c63b9aaf0  bridge    br0    
virbr0             3216d7f0-124e-4c66-a6de-5b218d18377c  bridge    virbr0 
bridge-slave-eno1  02132481-584a-413d-97f5-46b161a4de9f  ethernet  eno1   
tap0               37ddcf4a-1105-4ab4-b076-0b62f87df4a8  tun       tap0   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show br0 | egrep -wi &quot;type|mode|name|master|slave&quot;
connection.type:                    bridge
connection.interface-name:          br0
connection.master:                  --
connection.slave-type:              --
ipv6.addr-gen-mode:                 stable-privacy
GENERAL.NAME:                       br0
GENERAL.MASTER-PATH:                --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show tap0 | egrep -wi &quot;type|mode|name|master|slave&quot;
connection.type:                    tun
connection.interface-name:          tap0
connection.master:                  br0
connection.slave-type:              bridge
bridge-port.hairpin-mode:           no
tun.mode:                           2 (tap)
GENERAL.NAME:                       tap0
GENERAL.MASTER-PATH:                /org/freedesktop/NetworkManager/Devices/34
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device | egrep -i &quot;bridge|tun|type&quot;
DEVICE      TYPE      STATE                   CONNECTION        
br0         bridge    connected               br0               
virbr0      bridge    connected (externally)  virbr0            
eno1        ethernet  connected               bridge-slave-eno1 
tap0        tun       connected (externally)  tap0              
virbr0-nic  tun       unmanaged               --                
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show br0
GENERAL.DEVICE:         br0
GENERAL.TYPE:           bridge
GENERAL.HWADDR:         08:94:EF:F4:00:04
GENERAL.MTU:            1500
GENERAL.STATE:          100 (connected)
GENERAL.CONNECTION:     br0
GENERAL.CON-PATH:       /org/freedesktop/NetworkManager/ActiveConnection/28
IP4.ADDRESS[1]:         123.12.23.148/24 
IP4.GATEWAY:            123.12.23.254
IP4.ROUTE[1]:           dst = 123.12.23.0/24, nh = 0.0.0.0, mt = 426
IP4.ROUTE[2]:           dst = 0.0.0.0/0, nh = 123.12.23.254, mt = 426
IP4.DNS[1]:             208.67.222.222
IP4.DNS[2]:             208.67.220.220
IP6.ADDRESS[1]:         fe80::c929:3169:74dd:2429/64
IP6.GATEWAY:            fe80::a68c:dbff:fede:1301
IP6.ROUTE[1]:           dst = fe80::/64, nh = ::, mt = 426
IP6.ROUTE[2]:           dst = ::/0, nh = fe80::a68c:dbff:fede:1301, mt = 426
IP6.ROUTE[3]:           dst = ff00::/8, nh = ::, mt = 256, table=255
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show tap0
GENERAL.DEVICE:         tap0
GENERAL.TYPE:           tun
GENERAL.HWADDR:         FE:90:76:81:BE:CF
GENERAL.MTU:            1500
GENERAL.STATE:          100 (connected (externally))
GENERAL.CONNECTION:     tap0
GENERAL.CON-PATH:       /org/freedesktop/NetworkManager/ActiveConnection/30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.0894eff40004       yes             eno1
                                                        tap0
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip link show master br0
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq master br0 
    state UP mode DEFAULT group default qlen 1000
    link/ether 08:94:ef:f4:00:04 brd ff:ff:ff:ff:ff:ff
44: tap0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc fq_codel 
    master br0 state UNKNOWN mode DEFAULT group default qlen 1000
    link/ether fe:90:76:81:be:cf brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bridge link show
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 
     state forwarding priority 32 cost 100 
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 hwmode VEPA 
[...]
44: tap0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 
      state forwarding priority 32 cost 100 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show br0 | grep -i type
GENERAL.TYPE:                           bridge

$ nmcli device show tap0 | grep -i type
GENERAL.TYPE:                           tun

$ nmcli device show eno1 | grep -i type
GENERAL.TYPE:                           ethernet
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Return to the first shell, and in the guest VM, power off the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back on the host system, after the VM is powered off:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | egrep &quot;^br|^virbr|^tap&quot;
br0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a | egrep &quot;^br|^virbr|^tap&quot;
br0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
virbr0-nic: flags=4098&amp;lt;BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection | egrep -i &quot;bridge|tun|tap|type&quot;
NAME               UUID                                  TYPE      DEVICE 
br0                07d25404-5b85-4006-bdbc-272c63b9aaf0  bridge    br0    
virbr0             3216d7f0-124e-4c66-a6de-5b218d18377c  bridge    virbr0 
bridge-slave-eno1  02132481-584a-413d-97f5-46b161a4de9f  ethernet  eno1   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device | egrep -i &quot;bridge|tun|tap|type&quot;
DEVICE      TYPE      STATE                   CONNECTION        
br0         bridge    connected               br0               
virbr0      bridge    connected (externally)  virbr0            
eno1        ethernet  connected               bridge-slave-eno1 
virbr0-nic  tun       unmanaged               --                
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.0894eff40004       yes             eno1
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip link show master br0
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq master br0 
    state UP mode DEFAULT group default qlen 1000
    link/ether 08:94:ef:f4:00:04 brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bridge link show
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 
     state forwarding priority 32 cost 100 
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 hwmode VEPA 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-a-second-bridge-connection&quot;&gt;Create a Second Bridge Connection&lt;/h3&gt;

&lt;p&gt;This new bridge connection will be linked to the eno2 network interface, 
which is used for a non-routable private network (for a cluster of compute 
nodes).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show
[...]
5: eno2: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq state UP 
      group default qlen 1000
    link/ether 08:94:ef:00:11:22 brd ff:ff:ff:ff:ff:ff
    inet 192.168.80.210/24 brd 192.168.80.255 scope global noprefixroute eno2
       valid_lft forever preferred_lft forever
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a new bridge connection named br1 on the host system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add type bridge con-name br1 ifname br1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;convert-settings-from-nic-network-interface-controller-to-bridge-interface-1&quot;&gt;Convert Settings from NIC (Network Interface Controller) to Bridge Interface&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show eno2 | grep &apos;ipv4.addresses&apos;
ipv4.addresses :                  192.168.80.210/24

$ nmcli connection show eno2 | grep &apos;ipv4.gateway&apos; 
ipv4.gateway:                     --

$ nmcli connection show eno2 | grep &apos;ipv4.dns&apos;
ipv4.dns:                         --

$ nmcli connection show eno2 | grep &apos;ipv4.method&apos;
ipv4.method:                      manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add type bridge-slave ifname eno2 master br1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection modify br1 ipv4.addresses &apos;192.168.80.210/24&apos;
$ sudo nmcli connection modify br1 ipv4.method manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection delete eno2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show br1
53: br1: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu 1500 qdisc noqueue 
      state DOWN group default qlen 1000
    link/ether 52:c3:05:11:22:33 brd ff:ff:ff:ff:ff:ff
    inet 192.168.80.210/24 brd 192.168.80.255 scope global noprefixroute br1
       valid_lft forever preferred_lft forever
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show
NAME               UUID                                  TYPE      DEVICE
br0                07d25404-...........................  bridge    br0
br1                1f0c11be-...........................  bridge    br1
virbr0             3216d7f0-...........................  bridge    virbr0
bridge-slave-eno1  02132481-...........................  ethernet  eno1
bridge-slave-eno2  6f94adf1-...........................  ethernet  eno2
eno3               70568f00-...........................  ethernet  --
eno4               39d9c6c1-...........................  ethernet  --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device
DEVICE      TYPE      STATE                   CONNECTION
br0         bridge    connected               br0
br1         bridge    connected               br1
virbr0      bridge    connected (externally)  virbr0
eno1        ethernet  connected               bridge-slave-eno1
eno2        ethernet  connected               bridge-slave-eno2
eno3        ethernet  disconnected            --
eno4        ethernet  disconnected            --
lo          loopback  unmanaged               --
virbr0-nic  tun       unmanaged               --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;allow br1&quot; | sudo tee  -a /etc/qemu-kvm/bridge.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/qemu-kvm/bridge.conf
allow virbr0
allow br0
allow br1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl restart NetworkManager
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You might need to restart dhcpd service too.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl restart dhcpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After you launch an instance of QEMU guest VM that uses the both bridge 
devices (br0 and br1) you’ve created (see section below), QEMU automatically
creates TUN devices named tun0 and tun1.  Run the following three commands
on the host while the guest virtual machine is running.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection
NAME               UUID                                  TYPE      DEVICE
br0                07d25404-...........................  bridge    br0
br1                1f0c11be-...........................  bridge    br1
virbr0             3216d7f0-...........................  bridge    virbr0
bridge-slave-eno1  02132481-...........................  ethernet  eno1
bridge-slave-eno2  6f94adf1-...........................  ethernet  eno2
tap0               4da9861f-...........................  tun       tap0
tap1               9837b7c2-...........................  tun       tap1
eno3               70568f00-...........................  ethernet  --
eno4               39d9c6c1-...........................  ethernet  --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device
DEVICE      TYPE      STATE                   CONNECTION
br0         bridge    connected               br0
br1         bridge    connected               br1
virbr0      bridge    connected (externally)  virbr0
eno1        ethernet  connected               bridge-slave-eno1
eno2        ethernet  connected               bridge-slave-eno2
tap0        tun       connected (externally)  tap0
tap1        tun       connected (externally)  tap1
eno3        ethernet  disconnected            --
eno4        ethernet  disconnected            --
lo          loopback  unmanaged               --
virbr0-nic  tun       unmanaged               --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.0894eff40004       yes             eno1
                                                        tap0
br1             8000.0894eff40005       yes             eno2
                                                        tap1
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;how-to-launch-a-qemu-instance-in-bridge-network-with-two-nics-in-two-separate-networks-via-tap-network-connections---aka-configure-host-tap-network-backendshost-tap-interfaces&quot;&gt;How To Launch a QEMU Instance in Bridge Network with Two NICs in Two Separate Networks via TAP Network Connections - aka Configure Host TAP Network Backends/Host TAP Interfaces&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
You can use the same bridge on the host for connecting two guest NICs to it,
in which case the both guest network connections get IP address assigned from
the host’s bridge subnet.&lt;/p&gt;

&lt;p&gt;This example shows a different configuration, where the guest VM needs to 
be connected to two different networks so one of two guest NICs is 
connected to one bridge and the other guest NIC is connected to the other 
bridge on the host side.&lt;/p&gt;

&lt;h4 id=&quot;two-bridges---method-1&quot;&gt;Two Bridges - Method 1&lt;/h4&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;Launch a QEMU instance with two NICs, each connected to a TAP device.
Use the default network script but instead of using the script’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; 
bridge, connect the both TAP devices to bridgess &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br1&lt;/code&gt;,
respectively:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br0&quot;,id=hn0 \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br1&quot;,id=hn1 \
-device virtio-net-pci,netdev=hn0 \
-device virtio-net-pci,netdev=hn1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When it starts the guest VM, QEMU automatically creates two &lt;strong&gt;TUN&lt;/strong&gt;
connections (aka tun devices) of type &lt;strong&gt;TAP&lt;/strong&gt;.  In this case QEMU names
these two devices tap0 and tap1.  You can obtain the details by starting
a separate shell (while the guest VM is running) and by using the 
following commands: 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip --details address show&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip --details link show&lt;/code&gt;, 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip --details tuntap&lt;/code&gt;, 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli connection&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli device&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli device show&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl show&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&quot;two-bridges---method-2&quot;&gt;Two Bridges - Method 2&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev bridge,br=br0,id=hn0 \
-netdev bridge,br=br1,id=hn1 \
-device virtio-net-pci,netdev=hn0 \
-device virtio-net-pci,netdev=hn1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;vde-networking&quot;&gt;VDE Networking&lt;/h3&gt;

&lt;p&gt;From &lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking&quot;&gt;Networking - QEMU Wiki - Documentation&lt;/a&gt; (Retrieved on Apr 2, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;VDE&lt;/p&gt;

  &lt;p&gt;The VDE networking backend uses the &lt;a href=&quot;https://github.com/virtualsquare/vde-2&quot;&gt;Virtual Distributed Ethernet&lt;/a&gt; infrastructure to network guests. 
Unless you specifically know that you want to use VDE, it is probably 
not the right backend to use.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;redirecting-ports&quot;&gt;Redirecting Ports&lt;/h3&gt;

&lt;h4 id=&quot;how-to-get-ssh-access-to-a-guest-with-port-forwarding&quot;&gt;How to Get SSH Access to a Guest with Port Forwarding&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;No tap0 on the guest.&lt;/li&gt;
  &lt;li&gt;IP address in the guest:  10.0.2.x  (gw: 10.0.2.254)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-device e1000,netdev=net0 \
-netdev user,id=net0,hostfwd=tcp::5555-:22 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first line creates a virtual e1000 network device, while the second 
line created one user typed backend, forwarding local port 5555 to guest 
port 22.  Then from the host:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh -p 5555 username@localhost
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to have SSH access to guest after its network setup (if there are any 
firewalls in the guest or host, disable them or allow the needed ports).&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;how-to-start-a-qemu-vm-with-bridged-networking-with-the-legacy--net-option-aka-via-hub&quot;&gt;How To Start a QEMU VM with Bridged Networking (with the Legacy -net Option, aka via Hub)&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Task:&lt;/em&gt;  Start a guest VM with the virtual network bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; 
(installed by the libvirt).&lt;/p&gt;

&lt;p&gt;When QEMU starts (e.g. when you invoke it by starting a VM via QEMU), 
it runs the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool, which automatically creates 
a new tap device, which is effectively a virtual NIC (network interface
controller) with its own MAC address, and connects that device to the bridge.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;NOTE:&lt;/em&gt; &lt;br /&gt;
This example shows the use of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt; &lt;a href=&quot;#footnotes&quot;&gt;³&lt;/a&gt; legacy option.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Possible to ping from the guest VM&lt;/li&gt;
  &lt;li&gt;The NIC is an e1000 by default on the PC target so if you want to emulate 
an e1000 NIC in the guest you can skip &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-model=e1000&lt;/code&gt; in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic&lt;/code&gt; option.
As such, in the example below, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic,model=e1000&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;The emulated NIC and the host back-end are not &lt;em&gt;directly&lt;/em&gt; connected.
They are rather both connected to an emulated &lt;strong&gt;hub&lt;/strong&gt; (called “vlan” in older versions of QEMU).&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-global ide-hd.physical_block_size=4096 \
-m 4G \
-net nic,model=e1000 \
-net bridge,br=virbr0 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  CentOS Linux (3.10.0-1160.el7.x86_64) 7 (Core)
  CentOS Linux (0-rescue-d01c41227ec248b983c9ea19758c73b0) 7 (Core)


  Use the ↑ and ↓ keys to change the selection.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to the guest VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

xcatmn login: root
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Networking information in the guest VM:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ifconfig | grep -w inet
    inet 192.168.122.76  netmask 255.255.255.0  broadcast 192.168.122.255
    inet 127.0.0.1  netmask 255.0.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli connection 
NAME  UUID                                  TYPE      DEVICE 
ens3  e5ec08b7-...........................  ethernet  ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip address show ens3 | grep -w inet
    inet 192.168.122.76/24 brd 192.168.122.255 scope global noprefixroute dynam3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/sysconfig/network-scripts/ifcfg-ens3
TYPE=&quot;Ethernet&quot;
PROXY_METHOD=&quot;none&quot;
BROWSER_ONLY=&quot;no&quot;
BOOTPROTO=&quot;dhcp&quot;
DEFROUTE=&quot;yes&quot;
IPV4_FAILURE_FATAL=&quot;no&quot;
IPV6INIT=&quot;no&quot;
IPV6_AUTOCONF=&quot;yes&quot;
IPV6_DEFROUTE=&quot;yes&quot;
IPV6_FAILURE_FATAL=&quot;no&quot;
IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;
NAME=&quot;ens3&quot;
UUID=&quot;e5ec08b7-...........................&quot;
DEVICE=&quot;ens3&quot;
ONBOOT=&quot;yes&quot;
DNS1=&quot;208.67.222.222&quot;  &amp;lt;-- Will list your DNS1 server
DNS2=&quot;208.67.220.220&quot;  &amp;lt;-- Will list your DNS2 server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli device show ens3 | grep DNS
IP4.DNS[1]:         192.168.122.1  
IP4.DNS[2]:         208.67.222.222    &amp;lt;-- Will show your DNS2 server
IP4.DNS[3]:         208.67.220.220    &amp;lt;-- Will show your DNS3 server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The kernel routing tables:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# netstat -rn
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
0.0.0.0         192.168.122.1   0.0.0.0         UG        0 0          0 ens3
192.168.122.0   0.0.0.0         255.255.255.0   U         0 0          0 ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# route -e
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         gateway         0.0.0.0         UG        0 0          0 ens3
192.168.122.0   0.0.0.0         255.255.255.0   U         0 0          0 ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or with the new tool &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip(8)&lt;/code&gt;, from the iproute2 package (a collection of 
userspace utilities for controlling and monitoring various aspects of 
networking in the Linux kernel):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip route
default via 192.168.122.1 dev ens3 proto dhcp metric 100 
192.168.122.0/24 dev ens3 proto kernel scope link src 192.168.122.76 metric 100 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf 
# Generated by NetworkManager
search yourdomain.org
nameserver 192.168.122.1
nameserver 208.67.222.222   &amp;lt;-- Will list your nameserver1
nameserver 208.67.220.220   &amp;lt;-- Will list your nameserver2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;virbr0-nic-ethernet-interface-and-tap0-device-are-created-automatically-when-guest-vm-is-running&quot;&gt;virbr0-nic Ethernet Interface and tap0 Device are Created Automatically when Guest VM is Running&lt;/h4&gt;

&lt;p&gt;While the guest VM is running, start another shell on the host.&lt;/p&gt;

&lt;p&gt;On the host system, run the following commands, which show that 
the &lt;strong&gt;tun&lt;/strong&gt; device named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt; (a.k.a. network interface of type 
&lt;strong&gt;tun&lt;/strong&gt; - tun mode &lt;strong&gt;tap&lt;/strong&gt; ) is created automatically (as a slave 
of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; bridge) when the guest VM is powered on.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | egrep -i &quot;virbr|tap&quot;
tap0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a | egrep -i &quot;virbr|tap&quot;
tap0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0-nic: flags=4098&amp;lt;BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection | egrep -i &quot;bridge|tun|tap|type&quot;
NAME    UUID                                  TYPE      DEVICE
virbr0  3216d7f0-124e-4c66-a6de-5b218d18377c  bridge    virbr0
tap0    72e1da4b-5a73-40ec-9cce-c480078f3c68  tun       tap0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show virbr0 | egrep -wi &quot;type|mode|name|master|slave&quot;
connection.type:                    bridge
connection.interface-name:          virbr0
connection.master:                  --
connection.slave-type:              --
ipv6.addr-gen-mode:                 stable-privacy
GENERAL.NAME:                       virbr0
GENERAL.MASTER-PATH:                --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show tap0 | egrep -wi &quot;type|mode|name|master|slave&quot;
connection.type:                    tun
connection.interface-name:          tap0
connection.master:                  virbr0
connection.slave-type:              bridge
bridge-port.hairpin-mode:           no
tun.mode:                           2 (tap)
GENERAL.NAME:                       tap0
GENERAL.MASTER-PATH:                /org/freedesktop/NetworkManager/Devices/6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device | egrep -i &quot;bridge|tun|type&quot;
DEVICE      TYPE      STATE                   CONNECTION
virbr0      bridge    connected (externally)  virbr0
tap0        tun       connected (externally)  tap0
virbr0-nic  tun       unmanaged               --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0
GENERAL.DEVICE:           virbr0
GENERAL.TYPE:             bridge
[...]
GENERAL.STATE:            100 (connected (externally))
GENERAL.CONNECTION:       virbr0
[...]
IP4.ADDRESS[1]:           192.168.122.1/24
IP4.GATEWAY:              --
IP4.ROUTE[1]:             dst = 192.168.122.0/24, nh = 0.0.0.0, mt = 0
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0-nic
GENERAL.DEVICE:           virbr0-nic
GENERAL.TYPE:             tun
[...]
GENERAL.STATE:            10 (unmanaged)
GENERAL.CONNECTION:       --
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show tap0
GENERAL.DEVICE:           tap0
GENERAL.TYPE:             tun
[...]
GENERAL.STATE:            100 (connected (externally))
GENERAL.CONNECTION:       tap0
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             tap0
                                                        virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;verification-of-bridge-creation-and-network-connection&quot;&gt;Verification of Bridge Creation and Network Connection&lt;/h4&gt;

&lt;p&gt;Use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip&lt;/code&gt; utility to display the link status of Ethernet devices that 
are ports of the bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip link show master virbr0
7: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 qdisc fq_codel master 
      virbr0 state DOWN mode DEFAULT group default qlen 1000
      link/ether 52:54:00:a7:c2:ab brd ff:ff:ff:ff:ff:ff
33: tap0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc fq_codel master 
      virbr0 state UNKNOWN mode DEFAULT group default qlen 1000
      link/ether fe:0e:7b:05:f6:b1 brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can also use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bridge&lt;/code&gt; utility to display the status of Ethernet 
devices that are ports of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; bridge device.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bridge link show 
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 hwmode VEPA 
5: eno2: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 hwmode VEPA 
7: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 master virbr0 state disabled 
     priority 32 cost 100 
33: tap0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master virbr0 state 
     forwarding priority 32 cost 100
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0 | grep -i type
GENERAL.TYPE:                           bridge

$ nmcli device show virbr0-nic | grep -i type
GENERAL.TYPE:                           tun

$ nmcli device show tap0 | grep -i type
GENERAL.TYPE:                           tun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back in the first shell, in the guest VM, power off the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;virbr0-nic-network-interface-and-tap0-device-are-automatically-removed-when-guest-vm-is-powered-down&quot;&gt;virbr0-nic Network Interface and tap0 Device are Automatically Removed when Guest VM is Powered Down&lt;/h4&gt;

&lt;p&gt;Back on the host system, after the VM is powered off, run the following 
set of commands.  They show that the the &lt;strong&gt;tun&lt;/strong&gt; device named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt; 
(network interface of type &lt;strong&gt;tun&lt;/strong&gt; - tun mode &lt;strong&gt;tap&lt;/strong&gt; ) is automatically 
removed after the guest VM is powered off.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | egrep -i &quot;virbr|tap&quot;
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a | egrep -i &quot;virbr|tap&quot;
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
virbr0-nic: flags=4098&amp;lt;BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection | egrep -i &quot;bridge|tun|tap|type&quot;
NAME    UUID                                  TYPE      DEVICE
virbr0  3216d7f0-124e-4c66-a6de-5b218d18377c  bridge    virbr0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device | egrep -i &quot;bridge|tun|tap|type&quot;
DEVICE      TYPE      STATE                   CONNECTION
virbr0      bridge    connected (externally)  virbr0
virbr0-nic  tun       unmanaged               --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip link show master virbr0
7: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 qdisc fq_codel master virbr0 
      state DOWN mode DEFAULT group default qlen 1000
      link/ether 52:54:00:a7:c2:ab brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bridge link show
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 hwmode VEPA 
5: eno2: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 hwmode VEPA 
7: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 master virbr0 state disabled 
      priority 32 cost 100 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;appendix&quot;&gt;Appendix&lt;/h2&gt;

&lt;p&gt;This section shows how the guest VM used in the examples was created.&lt;/p&gt;

&lt;h3 id=&quot;create-a-customized-centosrhel-dvd-iso-for-installation-in-text-mode-via-serial-console&quot;&gt;Create a Customized CentOS/RHEL DVD ISO for Installation in Text Mode via Serial Console&lt;/h3&gt;

&lt;p&gt;Download CentOS 7.9 DVD ISO image and verify the SHA256 checksum 
of the ISO image file to ensure its integrity – Verify that the SHA256 
checksum of the downloaded file matches that of the SHA256 checksum listed 
at the CentOS.org official download site.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd /tmp/

$ wget https://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Everything-2009.iso

$ wget https://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/sha256sum.txt

$ ls -lh sha256sum.txt
-rw-rw-r-- 1 dusko dusko 398 Nov  4  2020 sha256sum.txt

$ wc -l sha256sum.txt
4 sha256sum.txt

$ grep -n &apos;CentOS-7-x86_64-Everything-2009.iso&apos; sha256sum.txt
1:689531cce9cf484378481ae762fae362791a9be078fda10e4f6977bf8fa71350  CentOS-7-x86_64-Everything-2009.iso

$ grep CentOS-7-x86_64-Everything-2009.iso sha256sum.txt &amp;gt; /tmp/sha256sum.txt.tmp

$ mv /tmp/sha256sum.txt.tmp /tmp/sha256sum.txt

$ cat /tmp/sha256sum.txt
689531cce9cf484378481ae762fae362791a9be078fda10e4f6977bf8fa71350  CentOS-7-x86_64-Everything-2009.iso

$ sha256sum --check sha256sum.txt
CentOS-7-x86_64-Everything-2009.iso: OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Customize the DVD ISO image so that the installer redirects its text output 
to the serial console, specifically to the first serial device (ttyS0), 
with baud rate of 19200. (This is to meet the requirement of the system 
that this VM is going to replicate.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir -p /mnt/{dvd,customdvd}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
mount \
-t iso9660 \
/tmp/CentOS-7-x86_64-Everything-2009.iso \
/mnt/dvd/
mount: /mnt/dvd: WARNING: device write-protected, mounted read-only.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rsync -a /mnt/dvd/ /mnt/customdvd/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /mnt/customdvd/isolinux/
total 60M
drwxr-xr-x 2 root root  198 Oct 26  2020 .
drwxr-xr-x 8 root root  254 Oct 29  2020 ..
-r--r--r-- 1 root root 2.0K Nov  2  2020 boot.cat
-rw-r--r-- 1 root root   84 Oct 26  2020 boot.msg
-rw-r--r-- 1 root root  281 Oct 26  2020 grub.conf
-rw-r--r-- 1 root root  53M Oct 26  2020 initrd.img
-rw-r--r-- 1 root root  24K Oct 26  2020 isolinux.bin
-rw-r--r-- 1 root root 3.0K Oct 26  2020 isolinux.cfg
-rw-r--r-- 1 root root 187K Nov  5  2016 memtest
-rw-r--r-- 1 root root  186 Sep 30  2015 splash.png
-r--r--r-- 1 root root 2.2K Nov  2  2020 TRANS.TBL
-rw-r--r-- 1 root root 150K Oct 30  2018 vesamenu.c32
-rwxr-xr-x 1 root root 6.5M Oct 19  2020 vmlinuz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/isolinux/boot.msg


splash.lss

 -  Press the 01&amp;lt;ENTER&amp;gt;07 key to begin the installation process.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Delete the line with ‘splash.lss’ from the ‘boot.msg’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sed -i.bkp &apos;/splash.lss/d&apos; /mnt/customdvd/isolinux/boot.msg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
--unified=0 \
/mnt/customdvd/isolinux/boot.msg.bkp \
/mnt/customdvd/isolinux/boot.msg
--- /mnt/customdvd/isolinux/boot.msg.bkp      2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/boot.msg    2022-04-02 08:09:31.109458847 -0700
@@ -2 +1,0 @@
-splash.lss
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/isolinux/boot.msg



 -  Press the 01&amp;lt;ENTER&amp;gt;07 key to begin the installation process.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rm -i /mnt/customdvd/isolinux/boot.msg.bkp
rm: remove regular file &apos;/mnt/customdvd/isolinux/boot.msg.bkp&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove ‘boot.cat’. It will be regenerated in a later step.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rm -i /mnt/customdvd/isolinux/boot.cat
rm: remove regular file &apos;/mnt/customdvd/isolinux/boot.cat&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tell ISOLINUX to use a serial port as the console. “port” is a number
(0 = /dev/ttyS0 = COM1, etc.) or an I/O port address (e.g. 0x3F8)
(&lt;a href=&quot;https://www.syslinux.org/old/faq.php&quot;&gt;https://www.syslinux.org/old/faq.php&lt;/a&gt;,
&lt;a href=&quot;https://wiki.syslinux.org/wiki/index.php?title=SYSLINUX&quot;&gt;https://wiki.syslinux.org/wiki/index.php?title=SYSLINUX&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Here I want to use the port 0 so the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console&lt;/code&gt; statement uses tty0 and ttyS0.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /mnt/customdvd/isolinux/isolinux.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
--unified=0 \
/mnt/dvd/isolinux/isolinux.cfg \
/mnt/customdvd/isolinux/isolinux.cfg
--- /mnt/dvd/isolinux/isolinux.cfg      2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/isolinux.cfg        2022-04-02 08:12:12.604830661 -0700
@@ -64 +64 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet console=tty0 console=ttyS0,19200
@@ -70 +70 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet console=tty0 console=ttyS0,19200
@@ -86 +86 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet console=tty0 console=ttyS0,19200
@@ -96 +96 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet console=tty0 console=ttyS0,19200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /mnt/customdvd/EFI/BOOT/
total 6.0M
-rwxr--r-- 1 root root 978K Jul 31  2020 BOOTIA32.EFI
-rwxr--r-- 1 root root 1.2M Jul 31  2020 BOOTX64.EFI
drwxr-xr-x 2 root root   42 Oct 26  2020 fonts
-rw-r--r-- 1 root root 1.3K Oct 26  2020 grub.cfg
-rwxr--r-- 1 root root 745K Jul 28  2020 grubia32.efi
-rwxr--r-- 1 root root 1.1M Jul 28  2020 grubx64.efi
-rwxr--r-- 1 root root 898K Jul 31  2020 mmia32.efi
-rwxr--r-- 1 root root 1.2M Jul 31  2020 mmx64.efi
-r--r--r-- 1 root root 1.8K Nov  2  2020 TRANS.TBL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /mnt/customdvd/EFI/BOOT/grub.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff --unified=0 /mnt/dvd/EFI/BOOT/grub.cfg /mnt/customdvd/EFI/BOOT/grub.cfg
--- /mnt/dvd/EFI/BOOT/grub.cfg  2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/EFI/BOOT/grub.cfg    2022-04-02 08:23:17.334493194 -0700
@@ -16,0 +17,4 @@
+serial --unit=0 --speed=19200 --word=8 --parity=no --stop=1
+terminal_input serial console=tty0 console=ttyS0,19200
+terminal_output serial console=tty0 console=ttyS0,19200
+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/EFI/BOOT/grub.cfg
set default=&quot;1&quot;

function load_video {
  insmod efi_gop
  insmod efi_uga
  insmod video_bochs
  insmod video_cirrus
  insmod all_video
}

load_video
set gfxpayload=keep
insmod gzio
insmod part_gpt
insmod ext2

serial --unit=0 --speed=19200 --word=8 --parity=no --stop=1
terminal_input serial console=tty0 console=ttyS0,19200
terminal_output serial console=tty0 console=ttyS0,19200

set timeout=60
### END /etc/grub.d/00_header ###

search --no-floppy --set=root -l &apos;CentOS 7 x86_64&apos;

### BEGIN /etc/grub.d/10_linux ###
menuentry &apos;Install CentOS 7&apos; --class fedora --class gnu-linux --class gnu --class os {
        linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet
        initrdefi /images/pxeboot/initrd.img
}
menuentry &apos;Test this media &amp;amp; install CentOS 7&apos; --class fedora --class gnu-linux --class gnu --class os {
        linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet
        initrdefi /images/pxeboot/initrd.img
}
submenu &apos;Troubleshooting --&amp;gt;&apos; {
        menuentry &apos;Install CentOS 7 in basic graphics mode&apos; --class fedora --class gnu-linux --class gnu --class os {
                linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet
                initrdefi /images/pxeboot/initrd.img
        }
        menuentry &apos;Rescue a CentOS system&apos; --class fedora --class gnu-linux --class gnu --class os {
                linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet
                initrdefi /images/pxeboot/initrd.img
        }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ isoinfo -d -i /tmp/CentOS-7-x86_64-Everything-2009.iso | grep &quot;Volume id&quot;
Volume id: CentOS 7 x86_64

$ isoinfo -d -i /tmp/CentOS-7-x86_64-Everything-2009.iso | grep Joliet
Joliet with UCS level 3 found

$ isoinfo -d -i /tmp/CentOS-7-x86_64-Everything-2009.iso | grep prepare
Data preparer id:

$ isoinfo -d -i /tmp/CentOS-7-x86_64-Everything-2009.iso | grep Torito
El Torito VD version 1 found, boot catalog is in sector 1430
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ blkid /tmp/CentOS-7-x86_64-Everything-2009.iso
/tmp/CentOS-7-x86_64-Everything-2009.iso: BLOCK_SIZE=&quot;2048&quot; 
  UUID=&quot;2020-11-02-15-15-23-00&quot; LABEL=&quot;CentOS 7 x86_64&quot; TYPE=&quot;iso9660&quot; 
  PTUUID=&quot;6b8b4567&quot; PTTYPE=&quot;dos&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
mkisofs \
-o /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso \
-b isolinux/isolinux.bin \
-J \
-R \
-l \
-c isolinux/boot.cat \
-no-emul-boot \
-boot-load-size 4 \
-boot-info-table \
-eltorito-alt-boot \
-e images/efiboot.img \
-no-emul-boot \
-graft-points \
-input-charset utf-8 \
-output-charset utf-8 \
-V &quot;CentOS 7 x86_64&quot; \
/mnt/customdvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo chown dusko:dusko /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ blkid /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso
/tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso: BLOCK_SIZE=&quot;2048&quot; 
  UUID=&quot;2022-04-02-08-31-52-00&quot; LABEL=&quot;CentOS 7 x86_64&quot; TYPE=&quot;iso9660&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Implant an MD5 checksum in the ISO image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ implantisomd5 /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check an MD5 checksum implanted by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;implantisomd5&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ checkisomd5 --verbose /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso
[...]
The media check is complete, the result is: PASS.

It is OK to use this media.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a raw image of 60 GB in size. Using seek option creates 
a sparse file, which saves space.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dd if=/dev/null of=xcatmn.img bs=1M seek=61440
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh xcatmn.img
-rw-rw-r-- 1 dusko dusko 60G Mar 2 08:36 xcatmn.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -V qemu-kvm; type qemu-kvm; which qemu-kvm; whereis qemu-kvm
/usr/bin/command: line 2: command: qemu-kvm: not found
/usr/bin/type: line 2: type: qemu-kvm: not found
qemu-kvm: Command not found.
qemu-kvm: /usr/lib64/qemu-kvm /etc/qemu-kvm /usr/libexec/qemu-kvm 
          /usr/share/qemu-kvm /usr/share/man/man1/qemu-kvm.1.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;install-centos-linux-79-on-qemu-guest-vm-image&quot;&gt;Install CentOS Linux 7.9 on QEMU Guest VM Image&lt;/h3&gt;

&lt;p&gt;Create a QEMU virtual machine with the following properties:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;for the VM’s disk use the 60GB image created in the previous step&lt;/li&gt;
  &lt;li&gt;configure the disk with the physical sector size of 4096 bytes (4 K)
(this is to meet the requirement of the system that this VM is going 
 to replicate)&lt;/li&gt;
  &lt;li&gt;4 GB RAM&lt;/li&gt;
  &lt;li&gt;virtual machine booting on the first serial device (ttyS0)&lt;/li&gt;
  &lt;li&gt;VM booting from the first CD-ROM/DVD drive&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-cdrom /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso \
-drive format=raw,file=xcatmn.img \
-global ide-hd.physical_block_size=4096 \
-m 4G \
-boot d \
-serial pty \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This opens QEMU monitor (aka QEMU console):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;QEMU 4.2.0 monitor - type &apos;help&apos; for more information
(qemu) char device redirected to /dev/pts/1 (label serial0)
(qemu)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open a new shell and start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom&lt;/code&gt; to connect to the installer, whose 
output is redirected to the first serial device (ttyS0) to /dev/pts/1. 
(Baud rate of 19200 was configured earlier in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grub.cfg&lt;/code&gt;, when you 
customized the installation DVD ISO image.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ minicom --baudrate=19200 --ptty=/dev/pts/1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install CentOS 7.9 Linux.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[  OK  ] Started Media check on /dev/sr0.
[  OK  ] Started Show Plymouth Boot Screen.
[  OK  ] Reached target Paths.
[...]
Starting installer, one moment...
anaconda 21.48.22.159-1 for CentOS 7 started.
 * installation log files are stored in /tmp during the installation
 * shell is available on TTY2
 * when reporting a bug add logs from /tmp as separate text/plain attachments
15:43:19 Not asking for VNC because we don&apos;t have a network
=============================================================================
=============================================================================
Installation

 1) [x] Language settings                 2) [!] Time settings
        (English (United States))                (Timezone is not set.)
 3) [!] Installation source               4) [!] Software selection
        (Processing...)                          (Processing...)
 5) [!] Installation Destination          6) [x] Kdump
        (No disks selected)                      (Kdump is enabled)
 7) [ ] Network configuration             8) [!] Root password
        (Not connected)                          (Password is not set.)
 9) [!] User creation
        (No user will be created)
  Please make your choice from above [&apos;q&apos; to quit | &apos;b&apos; to begin installation |
  &apos;r&apos; to refresh]:

[anaconda] 1:main* 2:shell  3:log  4:storage-lo&amp;gt; Switch tab: Alt+Tab | Help: F1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2: Time settings &amp;gt; America/Vancouver timezone
NTP servers:
ntp1.serverinyourregion.org
ntp2.serverinyourregion.org

4: Software selection &amp;gt; Compute Node

5: Installation Destination
QEMU HARDDISK 60 GiB (sda) &amp;gt; Use All Space &amp;gt; LVM

7: Network configuration
Host name:  xcatmn.yourdomain.org

Wired (ens3)
Device configuration
DHCP
IPv6:  ignore
Nameservers:  208.67.222.222, 208.67.220.220  &amp;lt;&amp;lt;-- Use your nameservers 
[x] Connect automatically after reboot
[x] Apply configuration in installer

8: Root password

9: User creation
Create user
Fullname: dusko
Username: dusko
Use password
[X] Administrator
Groups: wheel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;=============================================================================
=============================================================================
Installation
  
 1) [x] Language settings                 2) [x] Time settings
        (English (United States))                (America/Vancouver timezone)
 3) [x] Installation source               4) [x] Software selection
        (Local media)                            (Compute Node)
 5) [x] Installation Destination          6) [x] Kdump
        (Automatic partitioning                  (Kdump is enabled)
        selected)                         8) [x] Root password
 7) [x] Network configuration                    (Password is set.)
        (Wired (ens3) connected)
 9) [x] User creation
        (Administrator dusko will be
        created)

Please make your choice from above [&apos;q&apos; to quit | &apos;b&apos; to begin installation |
&apos;r&apos; to refresh]:  b

=============================================================================
=============================================================================
Progress
Setting up the installation environment
.
Creating disklabel on /dev/sda
Creating xfs on /dev/sda1
Creating lvmpv on /dev/sda2
Creating swap on /dev/mapper/centos-swap
Creating xfs on /dev/mapper/centos-home
Creating xfs on /dev/mapper/centos-root
.
Running pre-installation scripts
.
Starting package installation process
Preparing transaction from installation source
Installing libgcc (1/483)
[...]
Installing iwl6000g2a-firmware (482/483)
Installing words (483/483)
Performing post-installation setup tasks
Installing boot loader
.
Performing post-installation setup tasks

Configuring installed system
Writing network configuration
Creating users
Configuring addons
Generating initramfs
Running post-installation scripts
.
    Use of this product is subject to the license agreement found at
      /usr/share/centos-release/EULA

     Installation complete.  Press return to quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press Ctr+b 2&lt;/p&gt;

&lt;p&gt;Power off the virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[anaconda root@localhost ~]# poweroff

[  OK  ] Started Show Plymouth Power Off Screen.
[  OK  ] Stopped Anaconda.
[  OK  ] Stopped target Anaconda System Services.
[...]
[  OK  ] Reached target Shutdown.
dracut Warning: Killing all remaining processes
Powering off.
[ 1909.085711] Power down.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not shown here:  QEMU console (in the first shell) automatically exits.&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h4&gt;

&lt;p&gt;[¹] IP Forwarding and libvirt Networking&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;libvirt’s default network configures an isolated bridge device to be
used by guest domains.  This default bridge creates a private network
for the virtual machines but does not connect that private network to
your physical network.  The simplest way to complete that connection is
to enable IP Forwarding in the kernel.  You can quickly enable IP
Forwarding using sysctl:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sysctl -w net.ipv4.ip_forward=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;p&gt;[²] A library providing a simple virtualization API - a C toolkit to 
interact with the virtualization capabilities of Linux. It includes the 
libvrtd server exporting the virtualization support.&lt;/p&gt;

&lt;p&gt;[³]  From &lt;a href=&quot;https://www.qemu.org/2018/05/31/nic-parameter/&quot;&gt;QEMU’s new -nic command line option&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The legacy -net option&lt;/p&gt;

  &lt;p&gt;QEMU’s initial way of configuring the network for the guest was the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt;
option.  The emulated NIC hardware can be chosen with the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic,model=xyz,...&lt;/code&gt; parameter, and the host back-end with the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net &amp;lt;backend&amp;gt;,...&lt;/code&gt; parameter (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net user&lt;/code&gt; for the SLIRP back-end).
However, the emulated NIC and the host back-end are &lt;em&gt;not directly connected&lt;/em&gt;.
They are rather both connected to an emulated &lt;strong&gt;hub&lt;/strong&gt; (called “vlan” in older
versions of QEMU).  Therefore, if you start QEMU with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic,model=e1000 -net user -net nic,model=virtio -net tap&lt;/code&gt; for example,
you get a setup where all the front-ends and back-ends are connected
together via a hub.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;(All references retrieved on Apr 2, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/523245/whats-the-function-of-virbr0-and-virbr0-nic&quot;&gt;What’s the function of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0-nic&lt;/code&gt;?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://listman.redhat.com/archives/libvirt-users/2012-September/msg00038.html&quot;&gt;[libvirt-users] virtual networking - virbr0-nic interface&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/378264/what-is-virtual-bridge-with-nic-in-the-end-of-name/444863#444863&quot;&gt;What is virtual bridge with -nic in the end of name&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://code.lardcave.net/2019/07/20/1/&quot;&gt;Bridged networking with qemu on Linux&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/Network_bridge&quot;&gt;Network bridge - Arch Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.linuxfoundation.org/networking/bridge&quot;&gt;Bridge - The Linux Foundation Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bsdwiki.reedmedia.net/wiki/networking_qemu_virtual_bsd_systems.html&quot;&gt;Networking QEMU Virtual BSD Systems&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.christophersmart.com/2016/08/31/configuring-qemu-bridge-helper-after-access-denied-by-acl-file-error/&quot;&gt;Configuring QEMU bridge helper after “access denied by acl file” error&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.linux-kvm.org/page/Networking&quot;&gt;Configuring Guest Networking - KVM&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Guest (VM) networking in kvm is the same as in qemu, so it is possible 
to refer to other documentation about networking in qemu.  This page will 
try to explain how to configure the most frequent types of networking needed.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://www.qemu.org/2018/05/31/nic-parameter/&quot;&gt;QEMU’s new -nic command line option&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cyberciti.biz/faq/centos-8-add-network-bridge-br0-with-nmcli-command/&quot;&gt;CentOS 8 add network bridge (br0) with nmcli command&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cyberciti.biz/faq/how-to-add-network-bridge-with-nmcli-networkmanager-on-linux/&quot;&gt;How to add network bridge with nmcli (NetworkManager) on Linux&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/discussions/5996181&quot;&gt;Qemu bridge/tap adapter - Red Hat Customer Portal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/configuring-virtual-machine-network-connections_configuring-and-managing-virtualization#virtual-networking-bridged-mode_types-of-virtual-machine-network-connections&quot;&gt;Virtual networking in bridged mode&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/configuring-a-network-bridge_configuring-and-managing-networking#configuring-a-network-bridge-using-nmcli-commands_configuring-a-network-bridge&quot;&gt;Configuring a network bridge using nmcli commands&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/extremecoders-re/e8fd8a67a515fee0c873dcafc81d811c&quot;&gt;Setting up Qemu with a tap interface&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bbs.archlinux.org/viewtopic.php?id=261207&quot;&gt;[SOLVED] KVM/QEMU - Ethernet will not bridge&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ahelpme.com/linux/howto-do-qemu-full-virtualization-with-bridged-networking/&quot;&gt;Howto do QEMU full virtualization with bridged networking&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://qemu.readthedocs.io/en/latest/system/devices/net.html&quot;&gt;Network emulation - QEMU Documentation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stty.io/2019/05/13/qemu-vm-wireguard-vpn-tun-tap-networking/&quot;&gt;Setting up TUN/TAP networking for QEMU VM’s (and bonus wireguard)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.linux-kvm.org/page/Networking&quot;&gt;Configuring Guest Networking - KVM Documentation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.kaizou.org/2018/06/qemu-bridge.html&quot;&gt;Bridging two Qemu guests&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://lists.gnu.org/archive/html/qemu-discuss/2014-06/msg00059.html&quot;&gt;[Qemu-discuss] Using multiple network interfaces on a guest&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 02 Apr 2022 08:11:22 -0700</pubDate>
        <link>http://localhost:4000/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/networking/2022/04/02/qemu-networking.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/networking/2022/04/02/qemu-networking.html</guid>
        
        
        <category>howto</category>
        
        <category>virtualization</category>
        
        <category>rs232serial</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>console</category>
        
        <category>sysadmin</category>
        
        <category>server</category>
        
        <category>hardware</category>
        
        <category>networking</category>
        
      </item>
    
      <item>
        <title>Configure IP Addressing with NetworkManager (nmcli) in RHEL 8/CentOS 8</title>
        <description>&lt;p&gt;OS: RHEL 8 &lt;br /&gt;
Shell:  bash&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;static-addressing&quot;&gt;Static Addressing&lt;/h3&gt;

&lt;p&gt;For example, create a new connection named ‘eno1’. &lt;br /&gt;
Specify a name for the connection profile (con-name), the interface the 
profile should be applied to (ifname), the IP address (ip4) and optionally, 
the gateway (gw4). The IP address must be specified with the network prefix. 
The connection profile name can match the interface name. 
The connection will be activated as soon as it is created.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add \
con-name eno1 ifname eno1 type ethernet \
ip4 123.12.23.34/24 gw4 123.12.23.254
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set up DNS servers. For example, use recursive nameservers by OpenDNS, 
208.67.222.222, 208.67.220.220.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection modify eno1 \ 
ipv4.dns &quot;208.67.222.222,208.67.220.220&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:  Some other options that you can use for your DNS resolver:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Cloudflare’s public DNS server 1.1.1.1&lt;/li&gt;
  &lt;li&gt;Google’s DNS servers 4.4.8.8, 4.4.4.4, 8.8.8.8&lt;/li&gt;
  &lt;li&gt;In Canada, &lt;a href=&quot;https://www.cira.ca/cybersecurity-services/canadian-shield&quot;&gt;CIRA Canada Shield&lt;/a&gt;:
    &lt;ul&gt;
      &lt;li&gt;Private - DNS resolution only: 149.112.121.10, 149.112.122.10&lt;/li&gt;
      &lt;li&gt;Protected - Malware and phishing protection: 149.112.121.20, 149.112.122.20&lt;/li&gt;
      &lt;li&gt;Family - Protected + blocking offensive content: 149.112.121.30, 149.112.122.30&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection modify eno1 ipv4.method manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection reload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show
NAME  UUID               TYPE      DEVICE 
eno1  4d928341-........  ethernet  eno1   
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm the system is using NetworkManager.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl restart NetworkManager.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl status NetworkManager.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli networking connectivity check
full
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Sun, 27 Mar 2022 09:48:33 -0700</pubDate>
        <link>http://localhost:4000/rhel/centos/linux/networking/howto/2022/03/27/rhel8-centos8-linux-setup-static-ip-address.html</link>
        <guid isPermaLink="true">http://localhost:4000/rhel/centos/linux/networking/howto/2022/03/27/rhel8-centos8-linux-setup-static-ip-address.html</guid>
        
        
        <category>rhel</category>
        
        <category>centos</category>
        
        <category>linux</category>
        
        <category>networking</category>
        
        <category>howto</category>
        
      </item>
    
  </channel>
</rss>
