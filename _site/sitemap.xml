<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dusko Pijetlovic</title>
    <description>Dusko Pijetlovic - My Personal Web Space</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/sitemap.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 09 Oct 2024 21:14:44 -0700</pubDate>
    <lastBuildDate>Wed, 09 Oct 2024 21:14:44 -0700</lastBuildDate>
    <generator>Jekyll v3.10.0</generator>
    
      <item>
        <title>Testing Different Jekyll Themes</title>
        <description>&lt;p&gt;OS: FreeBSD 14 &lt;br /&gt;
Shell: tcsh&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;requirements&quot;&gt;Requirements&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Ruby [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;RubyGems [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;Bundler [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;Jekyll [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Install Ruby and RubyGems (also called &lt;em&gt;gems&lt;/em&gt;) on your system by using your package manager.&lt;/p&gt;

&lt;p&gt;For example, to install Ruby and gems (RubyGems) on FreeBSD (as of time of this writing, Ruby version available for FreeBSD 14 was 3.2):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install ruby ruby32-gems
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To install Bundler and Jekyll, you can use either your package manager or you can install them as Ruby gems.&lt;/p&gt;

&lt;p&gt;For example, to install Bundler and Jekyll on FreeBSD with its package manager:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install rubygem-jekyll rubygem-bundler
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, if you want to install Bundler and Jekyll as Ruby gems:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gem install bundler jekyll
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;set-gems-directory-and-add-it-to-the-shell-path&quot;&gt;Set Gems Directory and Add It to the Shell Path&lt;/h2&gt;

&lt;p&gt;Avoid installing RubyGems packages (called gems) as the root user.  Instead, set up a gem installation directory for your user account.  I use the standard FreeBSD shell &lt;em&gt;csh&lt;/em&gt; so I need to add environment variables to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.cshrc&lt;/code&gt; file to configure the gem installation path. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;jekyll-quick-start&quot;&gt;Jekyll Quick Start&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% jekyll new my-awesome-site
% cd my-awesome-site
% bundle install
% bundle exec jekyll serve

# =&amp;gt; Now browse to http://localhost:4000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: On FreeBSD 14, I encountered &lt;em&gt;NotImplementedError&lt;/em&gt; when running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NotImplementedError: dart-sass for x86_64-freebsd14 not available at [. . .] 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To fix it, you need to hard-set the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jekyll-sass-converter&lt;/code&gt; version in your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;Now that you have Jekyll running you can start testing different themes for it.  [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;], [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;8&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;example-whiteglass-theme&quot;&gt;Example: whiteglass Theme&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% git clone https://github.com/yous/whiteglass-template.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd whiteglass-template
% bundle install
% bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Browse to &lt;em&gt;http://localhost:4000&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;If you encounter &lt;em&gt;NotImplementedError&lt;/em&gt; when running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt; (NotImplementedError: dart-sass for x86_64-freebsd14), fix it by hard-setting the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jekyll-sass-converter&lt;/code&gt; version in your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;NOTE: On FreeBSD 14, I encountered &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ERROR &apos;/&apos; not found&lt;/code&gt; and/or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ERROR &apos;/index.html&apos;&lt;/code&gt; when running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle exec jekyll serve&lt;/code&gt;.  Fix it by setting the value of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;baseurl&lt;/code&gt; to an empty string - &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;baseurl: &quot;&quot;&lt;/code&gt; in your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;9&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;Copy your Markdown files (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*.md&lt;/code&gt;) to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory.&lt;/p&gt;

&lt;h2 id=&quot;example-lightspeed-theme&quot;&gt;Example: lightspeed Theme&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% git clone https://git.btxx.org/lightspeed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd lightspeed
% bundle install
% bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy your Markdown files (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*.md&lt;/code&gt;) to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory.&lt;/p&gt;

&lt;p&gt;Browse to &lt;em&gt;http://localhost:4000&lt;/em&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] Ruby is an object-oriented interpreted scripting language.
Ruby Programming Language - home page: &lt;a href=&quot;https://www.ruby-lang.org/en/&quot;&gt;https://www.ruby-lang.org/en/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;A dynamic, open source programming language with a focus on simplicity and productivity. It has an elegant syntax that is natural to read and easy to write.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Install Ruby on your system by using your package manager.  For example, in FreeBSD &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo pkg install ruby&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;[2] Package management framework for the Ruby language.
An application or library is packaged into a &lt;strong&gt;gem&lt;/strong&gt;, which is a single installation unit.  &lt;em&gt;RubyGems&lt;/em&gt; entirely manages its own filesystem space, rather than installing files into the “usual” places.  This enables greater functionality and reliability.
RubyGems source code at GitHub: &lt;a href=&quot;https://github.com/rubygems/rubygems&quot;&gt;RubyGems - Library packaging and distribution for Ruby&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;RubyGems is a package management framework for Ruby.&lt;/p&gt;

  &lt;p&gt;A package (also known as a library) contains a set of functionality that can be invoked by a Ruby program, such as reading and parsing an XML file.  We call these packages “gems” and RubyGems is a tool to install, create, manage and load these packages in your Ruby environment.&lt;/p&gt;

  &lt;p&gt;RubyGems is also a client for &lt;a href=&quot;https://rubygems.org/&quot;&gt;RubyGems.org&lt;/a&gt;, a public &lt;em&gt;repository&lt;/em&gt; of Gems that allows you to publish a Gem that can be shared and used by other developers.  See our guide on publishing a Gem at &lt;a href=&quot;https://guides.rubygems.org/publishing/&quot;&gt;guides.rubygems.org&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Install RubyGems on your system by using your package manager.  For example, in FreeBSD &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo pkg install ruby&amp;lt;Version&amp;gt;-gems&lt;/code&gt; so for Ruby version 3.2: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo pkg install ruby ruby32-gems&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;[3] Bundler is a tool that manages gem dependencies for your Ruby applications.
Bundler home page: &lt;a href=&quot;https://bundler.io/&quot;&gt;Bundler: The best way to manage a Ruby application’s gems&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[4] From &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; home page:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Jekyll - Simple, blog-aware, static site generator - Transform your plain text into static websites and blogs&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[5] Here’s how to add environment variables to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.cshrc&lt;/code&gt; file on FreeBSD 14.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ps $$
  PID TT  STAT    TIME COMMAND
34507 11  Ss   0:00.77 -csh (csh)

% printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n setenv ~/.cshrc
30:setenv       EDITOR  vi
---- snip ----
46:setenv CHEAT_CONFIG_PATH /mnt/usbflashdrive/mydotfiles/cheat/conf.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &quot;/CHEAT_CONFIG_PATH/p&quot; ~/.cshrc
setenv CHEAT_CONFIG_PATH /mnt/usbflashdrive/mydotfiles/cheat/conf.yml

% sed -n &quot;/CHEAT_CONFIG_PATH/=&quot; ~/.cshrc
46
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i&quot;.SEDBAK.1&quot; &apos;/CHEAT_CONFIG_PATH/a \\
 setenv GEM_HOME &quot;$HOME\/gems&quot; \\
 &apos; ~/.cshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n &quot;set path&quot; ~/.cshrc
25:set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin $HOME/.local/bin)

% grep -n &apos;bin)$&apos; ~/.cshrc
25:set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin $HOME/.local/bin)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &apos;/bin)$/p&apos; ~/.cshrc
set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin $HOME/.local/bin)

% sed -n &apos;/bin)$/=&apos; ~/.cshrc
25
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i&quot;.SEDBAK.2&quot; &apos;s/bin)$/bin $HOME\/gems\/bin)/&apos; ~/.cshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir -p &quot;$HOME&quot;/gems/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% source ~/.cshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;$GEM_HOME&quot;
/home/dusko/gems

% printf %s\\n &quot;$path&quot;
/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin /home/dusko/bin /home/dusko/.local/bin /home/dusko/gems/bin
 
% printf %s\\n &quot;$PATH&quot;
/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:/home/dusko/bin:/home/dusko/.local/bin:/home/dusko/gems/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[6] Fixing dart-sass Dependency on FreeBSD&lt;/p&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://btxx.org/posts/Fixing_Jekyll__39__s_dart-sass_Dependency_on_OpenBSD/&quot;&gt;Fixing Jekyll’s dart-sass Dependency on OpenBSD&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The error when running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt; on FreeBSD 14 was presented as:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Installing sass-embedded 1.79.4 with native extensions
Gem::Ext::BuildError: ERROR: Failed to build gem native extension.

---- snip ----

rake aborted!
NotImplementedError: dart-sass for x86_64-freebsd14 not available at
https://github.com/sass/dart-sass/releases/tag/1.79.4 (NotImplementedError)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fix:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i Gemfile Gemfile.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l Gemfile
      33 Gemfile
 
% tail -3 Gemfile
# Lock `http_parser.rb` gem to `v0.6.x` on JRuby builds since newer versions of the gem
# do not have a Java counterpart.
gem &quot;http_parser.rb&quot;, &quot;~&amp;gt; 0.6.0&quot;, :platforms =&amp;gt; [:jruby]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &amp;gt;&amp;gt; Gemfile
% printf %s\\n\\n &quot;# Customizations&quot; &amp;gt;&amp;gt; Gemfile
% printf %s\\n &quot;# Fixing dart-sass Dependency on FreeBSD&quot; &amp;gt;&amp;gt; Gemfile
% printf %s\\n &quot;gem &apos;jekyll-sass-converter&apos;, &apos;~&amp;gt; 2.2&apos;&quot; &amp;gt;&amp;gt; Gemfile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% tail -1 Gemfile
gem &apos;jekyll-sass-converter&apos;, &apos;~&amp;gt; 2.2&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[7] From &lt;a href=&quot;https://mademistakes.com/work/jekyll-themes/&quot;&gt;Jekyll themes - Made Mistakes (mademistakes) theme&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Below are the Jekyll themes and starters I’ve designed, developed, and released as open source.  Each theme contains the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_layouts&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_includes&lt;/code&gt;, Sass/CSS, JavaScript, and other sample files needed to build with Jekyll and host a static site or blog.&lt;/p&gt;

  &lt;p&gt;Getting started with each is roughly the same:&lt;/p&gt;
  &lt;ol&gt;
    &lt;li&gt;Install as a &lt;a href=&quot;https://jekyllrb.com/docs/themes/#understanding-gem-based-themes&quot;&gt;Ruby gem&lt;/a&gt;, &lt;a href=&quot;https://github.com/benbalter/jekyll-remote-theme&quot;&gt;remote theme&lt;/a&gt;, or fork the theme repository you’d like to use or modify.&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;https://bundler.io/&quot;&gt;Install Bundler&lt;/a&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gem install bundler&lt;/code&gt; and run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt; to install all dependencies (Jekyll, plugins, and so on).&lt;/li&gt;
    &lt;li&gt;Update Jekyll’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file, customize data files (found in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_data&lt;/code&gt; directory), and replace sample posts and pages with your own content.&lt;/li&gt;
  &lt;/ol&gt;

  &lt;p&gt;For more specifics, consult each theme’s documentation by visiting the setup guide links.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[8] &lt;a href=&quot;https://jekyllrb.com/docs/themes/#understanding-gem-based-themes&quot;&gt;Understanding gem-based themes&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;When you &lt;a href=&quot;https://jekyllrb.com/docs/&quot;&gt;create a new Jekyll site&lt;/a&gt; (by running the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jekyll new &amp;lt;PATH&amp;gt;&lt;/code&gt; command), Jekyll installs a site that uses a gem-based theme called &lt;a href=&quot;https://github.com/jekyll/minima&quot;&gt;Minima&lt;/a&gt;.&lt;/p&gt;

  &lt;p&gt;With gem-based themes, some of the site’s directories (such as the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assets&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_data&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_layouts&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_includes&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_sass&lt;/code&gt; directories) are stored in the theme’s gem, hidden from your immediate view.  Yet all of the necessary directories will be read and processed during Jekyll’s build process.&lt;/p&gt;

  &lt;p&gt;In the case of Minima, you see only the following files in your Jekyll site directory:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;.
├── Gemfile
├── Gemfile.lock
├── _config.yml
├── _posts
│   └── 2016-12-04-welcome-to-jekyll.markdown
├── about.markdown
└── index.markdown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile.lock&lt;/code&gt; files are used by Bundler to keep track of the required gems and gem versions you need to build your Jekyll site.&lt;/p&gt;

  &lt;p&gt;Gem-based themes make it easier for theme developers to make updates available to anyone who has the theme gem.  When there’s an update, theme developers push the update to RubyGems.&lt;/p&gt;

  &lt;p&gt;If you have the theme gem, you can (if you desire) run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle update&lt;/code&gt; to update all gems in your project.  Or you can run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle update &amp;lt;THEME&amp;gt;&lt;/code&gt;, replacing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;THEME&amp;gt;&lt;/code&gt; with the theme name, such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minima&lt;/code&gt;, to just update the theme gem.  Any new files or updates the theme developer has made (such as to stylesheets or includes) will be pulled into your project automatically.&lt;/p&gt;

  &lt;p&gt;The goal of gem-based themes is to allow you to get all the benefits of a robust, continually updated theme without having all the theme’s files getting in your way and over-complicating what might be your primary focus: creating content.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[9] Based on &lt;a href=&quot;https://stackoverflow.com/questions/56100280/how-to-fix-error-not-found-error-about-jekyll-in-localhost4000&quot;&gt;How to fix “error `/’ not found” error about jekyll in localhost:4000 - Stack Overflow&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n whiteglass-template _config.yml
27:baseurl: &quot;/whiteglass-template&quot; # the subpath of your site, e.g. /blog

% sed -n &apos;/whiteglass-template/p&apos; _config.yml
baseurl: &quot;/whiteglass-template&quot; # the subpath of your site, e.g. /blog

% sed -n &apos;/whiteglass-template/=&apos; _config.yml
27
 
% sed -i&quot;.ORIG&quot; &apos;s/whiteglass-template//&apos; _config.yml

% diff --unified=0 _config.yml.ORIG _config.yml
--- _config.yml.ORIG    2024-09-24 19:59:32.559332000 -0700
+++ _config.yml 2024-09-24 20:03:53.216647000 -0700
@@ -27 +27 @@
-baseurl: &quot;/whiteglass-template&quot; # the subpath of your site, e.g. /blog
+baseurl: &quot;/&quot; # the subpath of your site, e.g. /blog
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Sep 24, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/docs/installation/freebsd/&quot;&gt;Jekyll on FreeBSD - Jekyll - Simple, blog-aware, static sites&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://btxx.org/posts/Fixing_Jekyll__39__s_dart-sass_Dependency_on_OpenBSD/&quot;&gt;Fixing Jekyll’s dart-sass Dependency on OpenBSD&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/56100280/how-to-fix-error-not-found-error-about-jekyll-in-localhost4000&quot;&gt;How to fix “error `/’ not found” error about jekyll in localhost:4000 - Stack Overflow&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mademistakes.com/work/jekyll-themes/&quot;&gt;Jekyll Themes - mademistakes theme&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/yous/whiteglass-template&quot;&gt;Template site for Jekyll whiteglass theme&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://git.btxx.org/lightspeed&quot;&gt;Light Speed: Jekyll theme with a perfect Lighthouse score&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Tue, 24 Sep 2024 20:50:39 -0700</pubDate>
        <link>http://localhost:4000/howto/webbrowser/networking/sysadmin/unix/webdevelopment/http/html/ruby/tutorial/2024/09/24/testing-different-jekyll-themes.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/webbrowser/networking/sysadmin/unix/webdevelopment/http/html/ruby/tutorial/2024/09/24/testing-different-jekyll-themes.html</guid>
        
        
        <category>howto</category>
        
        <category>webbrowser</category>
        
        <category>networking</category>
        
        <category>sysadmin</category>
        
        <category>unix</category>
        
        <category>webdevelopment</category>
        
        <category>http</category>
        
        <category>html</category>
        
        <category>ruby</category>
        
        <category>tutorial</category>
        
      </item>
    
      <item>
        <title>Encodings, UTF-8 and Unicode Notes</title>
        <description>&lt;p&gt;OS: &lt;em&gt;FreeBSD 14&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version 
14.0-RELEASE-p6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shell: &lt;em&gt;tcsh&lt;/em&gt; [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;Locale:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% locale
LANG=en_CA.UTF-8
LC_CTYPE=&quot;en_CA.UTF-8&quot;
LC_COLLATE=&quot;en_CA.UTF-8&quot;
LC_TIME=&quot;en_CA.UTF-8&quot;
LC_NUMERIC=&quot;en_CA.UTF-8&quot;
LC_MONETARY=&quot;en_CA.UTF-8&quot;
LC_MESSAGES=&quot;en_CA.UTF-8&quot;
LC_ALL=
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: Similar to Wikipedia note for &lt;a href=&quot;https://en.wikipedia.org/wiki/Emoji&quot;&gt;Emoji article&lt;/a&gt;, heed this note:&lt;/p&gt;

&lt;p&gt;This page contains &lt;a href=&quot;https://en.wikipedia.org/wiki/Emoji#In_Unicode&quot;&gt;Unicode emoticons or emojis&lt;/a&gt;. Without proper rendering support, you may see &lt;a href=&quot;https://en.wikipedia.org/wiki/Specials_(Unicode_block)#Replacement_character&quot;&gt;question marks, boxes, or other symbols&lt;/a&gt; instead of the intended characters. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;h2 id=&quot;programs-from-uniutils-package&quot;&gt;Programs from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uniutils&lt;/code&gt; Package&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query %Fp uniutils | wc -l
      31
 
% pkg query %Fp uniutils | grep bin
/usr/local/bin/ExplicateUTF8
/usr/local/bin/unidesc
/usr/local/bin/unifuzz
/usr/local/bin/unihist
/usr/local/bin/uniname
/usr/local/bin/unireverse
/usr/local/bin/unisurrogate
/usr/local/bin/utf8lookup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | uniname
No LINES variable in environment so unable to determine lines per page.
Using default of 24.
character  byte       UTF-32   encoded as     glyph   name
        0          0  0000A0   C2 A0                  NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | env LINES=0 uniname
character  byte       UTF-32   encoded as     glyph   name
        0          0  0000A0   C2 A0                  NO-BREAK SPACE

% printf &apos;\302\240&apos; | env LINES=1 uniname
        0          0  0000A0   C2 A0                  NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | unidesc
       0               0        Latin-1 Supplement
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | ExplicateUTF8
The sequence 0xC2     0xA0     
             11000010 10100000 
is a valid UTF-8 character encoding equivalent to UTF32 0x000000A0.
The first byte tells us that there should be 1
continuation bytes since it begins with 2 contiguous 1s.
There are 1 following bytes and all are valid
continuation bytes since they all have high bits 10.
The first byte contributes its low 5 bits.
The remaining bytes each contribute their low 6 bits,
for a total of 11 bits: 00010 100000 
This is padded to 32 places with 21 zeros: 0000000000000000000000000000000000000000000000000000000010100000
                                           0   0   0   0   0   0   A   0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% env LINES=0 utf8lookup 0000A0
UTF-32   name
0000A0  NO-BREAK SPACE

% env LINES=1 utf8lookup 0000A0
0000A0  NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;converting-multi-byte-characters&quot;&gt;Converting Multi-Byte Characters&lt;/h2&gt;

&lt;h2 id=&quot;example-detect-and-convert&quot;&gt;Example: Detect and Convert&lt;/h2&gt;

&lt;p&gt;Paste the character you want to analyze into a file.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;
Depending on fonts you have on your system and your Web browser setup, you might not see the glyph representing this character (which is an emoji) in some of the outputs below.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /tmp/convchar
🤔
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;explain-both-utf-8-hex-utf-8-bytes-and-unicode-unicode-hex-point&quot;&gt;Explain both UTF-8 (Hex UTF-8 Bytes) and Unicode (Unicode Hex Point)&lt;/h3&gt;

&lt;h4 id=&quot;with-explicateutf81&quot;&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ExplicateUTF8(1)&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ExplicateUTF8 /tmp/convchar 
The sequence 0xF0     0x9F     0xA4     0x94     
             11110000 10011111 10100100 10010100 
is a valid UTF-8 character encoding equivalent to UTF32 0x0001F914.
The first byte tells us that there should be 3
continuation bytes since it begins with 4 contiguous 1s.
There are 3 following bytes and all are valid
continuation bytes since they all have high bits 10.
The first byte contributes its low 3 bits.
The remaining bytes each contribute their low 6 bits,
for a total of 21 bits: 000 011111 100100 010100 
This is padded to 32 places with 11 zeros: 0000000000000000000000000000000000000000000000011111100100010100
                                           0   0   0   1   F   9   1   4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This chacter in UTF-8: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F0 9F A4 94&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This chacter in Unicode: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1F914&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;From the above output of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ExplicateUTF8(1)&lt;/code&gt; tool:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;... for a total of 21 bits: 000 011111 100100 010100&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The 21 bits: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;000 011111 100100 010100&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Convert binary to hex.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;obase=16; ibase=2; 000011111100100010100&quot; | bc
1F914
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or, with padding:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;obase=16; ibase=2; 0000000000000000000000000000000000000000000000011111100100010100&quot; | bc
1F914
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;with-uniname1&quot;&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uniname(1)&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% env LINES=0 uniname /tmp/convchar
character  byte       UTF-32   encoded as     glyph   name
        0          0  01F914   F0 9F A4 94    🤔      Character in undefined range
        1          4  00000A   0A                     LINE FEED (LF)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;utf-8-bytes-as-latin-1-characters-bytes&quot;&gt;UTF-8 bytes as Latin-1 Characters Bytes&lt;/h3&gt;

&lt;p&gt;About Latin-1 characters bytes: 
From &lt;a href=&quot;https://www.cogsci.ed.ac.uk/~richard/utf-8.cgi&quot;&gt;UTF-8 Conversion Tool by Richard Tobin&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;UTF-8 bytes as Latin-1 characters&lt;/em&gt; is what you typically see when you display a UTF-8 file with a terminal or editor that only knows about 8-bit characters.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;WARNING: On my FreeBSD 14 system, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; in the base install considered LATIN1 and ISO-8859-15 encodings as the same, while &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; installed as a package didn’t. 
This mattered because using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; with ISO-8859-15 encoding resulted in an incorrect output.&lt;/p&gt;

&lt;p&gt;For more details, see Footnote 3. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% where where
where is a shell built-in

% which which
which: shell built-in command.

% where whereis
/usr/bin/whereis

% where which
which is a shell built-in
/usr/bin/which
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -V iconv
iconv is /usr/bin/iconv

% type iconv
iconv is /usr/bin/iconv

% which iconv
/usr/bin/iconv
 
% whereis -a iconv
iconv: /usr/bin/iconv /usr/local/bin/iconv /usr/share/man/man1/iconv.1.gz /usr/local/share/man/man1/iconv.1.gz /usr/share/man/man3/iconv.3.gz /usr/local/share/man/man3/iconv.3.gz
 
% where iconv
/usr/bin/iconv
/usr/local/bin/iconv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; from base install:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -l | grep -w -i LATIN1 | grep -i ISO-8859-15
ISO-8859-1 CP819 CSISOLATIN1 IBM819 ISO-IR-100 ISO8859-1 ISO_8859-1 ISO_8859-1:1987 L1 LATIN1 CSISOLATIN6 ISO-8859-10 ISO-IR-157 ISO8859-10 ISO_8859-10 ISO_8859-10:1992 L6 LATIN6 ISO-8859-11 ISO-IR-166 ISO8859-11 ISO_8859-11 TIS-620 TIS.2533-1 TIS620 TIS620-0 TIS620.2529-1 TIS620.2533-0 ISO-8859-13 ISO-IR-179 ISO8859-13 ISO_8859-13 ISO_8859-13:1998 L7 LATIN7 ISO-8859-14 ISO-CELTIC ISO-IR-199 ISO8859-14 ISO_8859-14 ISO_8859-14:1998 L8 LATIN8 CP923 IBM923 ISO-8859-15 ISO-IR-203 ISO8859-15 ISO_8859-15 ISO_8859-15:1998 L9 LATIN9 ISO-8859-16 ISO-IR-226 ISO8859-16 ISO_8859-16 ISO_8859-16:2001 L10 LATIN10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; from packages:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% /usr/local/bin/iconv -l | grep -w -i LATIN1 | grep -i ISO-8859-15 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% /usr/local/bin/iconv -l | grep -w -i LATIN1
CP819 IBM819 ISO-8859-1 ISO-IR-100 ISO8859-1 ISO_8859-1 ISO_8859-1:1987 L1 LATIN1 CSISOLATIN1
RISCOS-LATIN1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Incorect:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -f iso-8859-15 -t UTF-8 /tmp/convchar | od -ac
0000000   c3  b0  c2  9f  e2  82  ac  c2  94  nl                        
           ð  ** 302 237   €  **  ** 302 224  \n                        
0000012
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -f iso-8859-15 -t UTF-8 /tmp/convchar | od -ab
0000000   c3  b0  c2  9f  e2  82  ac  c2  94  nl                        
          303 260 302 237 342 202 254 302 224 012
0000012
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\303\260&apos;
ð% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\342\202\254&apos;
€% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Corect:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -f LATIN1 /tmp/convchar | od -ac
0000000   c3  b0  c2  9f  c2  a4  c2  94  nl                            
           ð  ** 302 237   ¤  ** 302 224  \n                            
0000011
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; from packages:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% /usr/local/bin/iconv -f LATIN1 /tmp/convchar | od -ac
0000000   c3  b0  c2  9f  c2  a4  c2  94  nl                            
           ð  ** 302 237   ¤  ** 302 224  \n                            
0000011
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% /usr/local/bin/iconv -f LATIN1 /tmp/convchar | od -ab
0000000   c3  b0  c2  9f  c2  a4  c2  94  nl                            
          303 260 302 237 302 244 302 224 012                            
0000011
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\303\260&apos;
ð% 
 
% printf &apos;\303\260\302&apos;
ð�% 
 
% printf &apos;\302\244&apos;
¤% 
 
% printf &apos;\302\244\302&apos;
¤�% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;UTF-8 bytes as Latin-1 characters bytes: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ð &amp;lt;9F&amp;gt; ¤ &amp;lt;94&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;hex-utf-16-surrogates&quot;&gt;Hex UTF-16 Surrogates&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% unisurrogate 1F914
The surrogate representation of U+1F914 is U+D83E U+DD14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also see:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.russellcottrell.com/greek/utilities/SurrogatePairCalculator.htm&quot;&gt;The Surrogate Pair Calculator etc. by  Russell W. Cottrell&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;A surrogate pair is defined by the Unicode Standard as “a representation for a single abstract character that consists of a sequence of two 16-bit code units, where the first value of the pair is a high-surrogate code unit and the second value is a low-surrogate code unit.”
Since Unicode is a &lt;strong&gt;21-bit standard&lt;/strong&gt;, surrogate pairs are needed by applications that use &lt;strong&gt;UTF-16&lt;/strong&gt;, such as &lt;em&gt;JavaScript&lt;/em&gt;, to display characters whose code points are &lt;em&gt;greater than 16-bit&lt;/em&gt;.
(&lt;strong&gt;UTF-8&lt;/strong&gt;, the most popular &lt;em&gt;HTML&lt;/em&gt; encoding, uses a more flexible method of representing high-bit characters and does &lt;strong&gt;not&lt;/strong&gt; use surrogate pairs.)&lt;/p&gt;

  &lt;p&gt;The algorithm for converting to and from surrogate pairs is not widely published on the internet.  (But the code here has been “borrowed” a time or two!)
The official source is The Unicode Standard, Version 3.0 | Unicode 3.0.0 (not later versions), Section 3.7, Surrogates.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;conversion-to-utf-8-hex-utf-8-bytes&quot;&gt;Conversion to UTF-8 (Hex UTF-8 Bytes)&lt;/h3&gt;

&lt;h4 id=&quot;with-od1&quot;&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od(1)&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -ac /tmp/convchar
0000000   f0  9f  a4  94  nl
          🤔  **  **  **  \n
0000005
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: This is a muli-byte character, with byte count of &lt;strong&gt;4&lt;/strong&gt;, starting with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f0&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Multi-byte characters are displayed in the area
corresponding to the first byte of the character.
The remaining bytes are shown as ‘**’.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In UTF-8 (Hex UTF-8 Bytes), this character is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F0 9F A4 94&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&quot;with-xxd1&quot;&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xxd &amp;lt; /tmp/convchar 
00000000: f09f a494 0a                             .....
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt; output’s screen capture so the colours are visible:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/unicode-to-utf8-with-xxd.jpg&quot; alt=&quot;Unicode character name Thinking Face - Conversion to UTF-8 with xxd(1)&quot; title=&quot;Unicode character name Thinking Face - Conversion to UTF-8 with xxd(1)&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;conversion-to-unicode-unicode-hex-point&quot;&gt;Conversion to Unicode (Unicode Hex Point)&lt;/h3&gt;

&lt;p&gt;OS and shell: FreeBSD 14, tcsh&lt;/p&gt;

&lt;h4 id=&quot;with-iconv1-and-xxd1&quot;&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; &lt;strong&gt;and&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -t utf-32 /tmp/convchar | xxd
00000000: 0000 feff 0001 f914 0000 000a            ............
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Unicode (Unicode Hex Point), this character is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;01f914&lt;/code&gt;; that is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1f914&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&quot;with-od1-printf1-and-uniname1&quot;&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od(1)&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uniname(1)&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -ab /tmp/convchar
0000000   f0  9f  a4  94  nl                                            
          360 237 244 224 012                                            
0000005
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\360\237\244\224&apos; | env LINES=0 uniname
character  byte     UTF-32   encoded as     glyph   name
        0        0  01F914   F0 9F A4 94    🤔      Character in undefined range
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt; output’s screen capture so the colours are visible:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/unicode-to-utf8-with-iconv-and-xxd.jpg&quot; alt=&quot;Unicode character name Thinking Face - Conversion to UTF-8 with iconv(1) and xxd(1)&quot; title=&quot;Unicode character name Thinking Face - Conversion to UTF-8 with iconv(1) and xxd(1)&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;with-all-in-one-tool-utf-8-conversion-tool-by-richard-tobin&quot;&gt;With All-In-One Tool: UTF-8 Conversion Tool by Richard Tobin&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cogsci.ed.ac.uk/~richard/utf-8.cgi?input=F0+9F+A4+94&amp;amp;mode=bytes&quot;&gt;UTF-8 Conversion Tool – Interpreting a Unicode character as Hex UTF-8 bytes for a character represented with: F0 9F A4 94&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/unicode-21-bits.jpg&quot; alt=&quot;Unicode character name Thinking Face - Conversions with UTF-8 Conversion Tool by Richard Tobin&quot; title=&quot;Unicode character name Thinking Face - Conversions with UTF-8 Conversion Tool by Richard Tobin&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;with-all-in-one-tool-uni-tool-by-martin-tournoij&quot;&gt;With All-In-One Tool: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni&lt;/code&gt; Tool by Martin Tournoij&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/arp242/uni&quot;&gt;uni - Query the Unicode database from the commandline, with good support for emojis&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Available as a package for FreeBSD:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.freshports.org/textproc/uni&quot;&gt;uni on FreshPorts&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://freebsd.pkgs.org/14/freebsd-amd64/uni-2.7.0_3.pkg.html&quot;&gt;uni on pkgs.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In addition, available as a WASM (WebAssembly) demo: &lt;a href=&quot;https://arp242.github.io/uni-wasm/&quot;&gt;https://arp242.github.io/uni-wasm/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;uni WASM (WebAssembly) demo details: &lt;a href=&quot;https://www.arp242.net/wasm-cli.html&quot;&gt;Running Go CLI programs in the browser with WASM&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Project home page: &lt;a href=&quot;https://github.com/arp242/uni&quot;&gt;https://github.com/arp242/uni&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni&lt;/code&gt; help, see Footnote 4. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni identify &amp;lt; /tmp/convchar
             Dec    UTF8        HTML       Name
&apos;🤔&apos; U+1F914 129300 f0 9f a4 94 &amp;amp;#x1f914;  THINKING FACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni identify --format &apos;%unicode %name&apos; &amp;lt; /tmp/convchar
Unicode Name
8.0     THINKING FACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Include all columns:&lt;/p&gt;

&lt;p&gt;NOTE: Here, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;json&lt;/code&gt; field represents what &lt;em&gt;UTF-8 Conversion Tool by Richard Tobin&lt;/em&gt; calls &lt;em&gt;UTF-8 bytes as Latin-1 Characters Bytes&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni identify --format all &amp;lt; /tmp/convchar
             Width Cells Dec    Hex   Oct    Bin               UTF8        UTF16LE     UTF16BE     HTML      XML       JSON         Keysym Digraph Name          Plane                            Cat          Block                                Script Props Unicode Aliases Refs
&apos;🤔&apos; U+1F914 wide  2     129300 1f914 374424 11111100100010100 f0 9f a4 94 3e d8 14 dd d8 3e dd 14 &amp;amp;#x1f914; &amp;amp;#x1f914; \ud83e\udd14                THINKING FACE Supplementary Multilingual Plane Other_Symbol Supplemental Symbols and Pictographs Common       8.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output data as JSON:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni identify --as json --format all &amp;lt; /tmp/convchar
[{
        &quot;aliases&quot;: &quot;&quot;,
        &quot;bin&quot;:     &quot;11111100100010100&quot;,
        &quot;block&quot;:   &quot;Supplemental Symbols and Pictographs&quot;,
        &quot;cat&quot;:     &quot;Other_Symbol&quot;,
        &quot;cells&quot;:   &quot;2&quot;,
        &quot;char&quot;:    &quot;🤔&quot;,
        &quot;cpoint&quot;:  &quot;U+1F914&quot;,
        &quot;dec&quot;:     &quot;129300&quot;,
        &quot;digraph&quot;: &quot;&quot;,
        &quot;hex&quot;:     &quot;1f914&quot;,
        &quot;html&quot;:    &quot;&amp;amp;#x1f914;&quot;,
        &quot;json&quot;:    &quot;\\ud83e\\udd14&quot;,
        &quot;keysym&quot;:  &quot;&quot;,
        &quot;name&quot;:    &quot;THINKING FACE&quot;,
        &quot;oct&quot;:     &quot;374424&quot;,
        &quot;plane&quot;:   &quot;Supplementary Multilingual Plane&quot;,
        &quot;props&quot;:   &quot;&quot;,
        &quot;refs&quot;:    &quot;&quot;,
        &quot;script&quot;:  &quot;Common&quot;,
        &quot;unicode&quot;: &quot;8.0&quot;,
        &quot;utf16be&quot;: &quot;d8 3e dd 14&quot;,
        &quot;utf16le&quot;: &quot;3e d8 14 dd&quot;,
        &quot;utf8&quot;:    &quot;f0 9f a4 94&quot;,
        &quot;width&quot;:   &quot;wide&quot;,
        &quot;xml&quot;:     &quot;&amp;amp;#x1f914;&quot;
}]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;with-all-in-one-tool-unicode-tool-by-radovan-garabík&quot;&gt;With All-In-One Tool: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unicode&lt;/code&gt; Tool by Radovan Garabík&lt;/h2&gt;

&lt;p&gt;Project home page: &lt;a href=&quot;https://github.com/garabik/unicode&quot;&gt;https://github.com/garabik/unicode&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;unicode, simple command line utility that displays properties for a given unicode character, or searches unicode database for a given name.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% git clone https://github.com/garabik/unicode.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd unicode/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls
changelog       MANIFEST.in     README          setup.py
COPYING         paracode        README-paracode unicode
debian          paracode.1      setup.cfg       unicode.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3 setup.py --help
[ . . . ]
  setup.py build      will build the package underneath &apos;build/&apos;
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3 setup.py build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -Alhrt | tail -1
drwxr-xr-x  3 dusko wheel    3B Aug 12 19:50 build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -Alhrt build/
total 1
drwxr-xr-x  2 dusko wheel    4B Aug 12 19:50 scripts-3.9
 
% ls -Alhrt build/scripts-3.9/
total 25
-rwxr-xr-x  1 dusko wheel   40K Aug 12 19:50 unicode
-rwxr-xr-x  1 dusko wheel  7.0K Aug 12 19:50 paracode
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% build/scripts-3.9/unicode --help
[ . . . ]
  --download            Try to dowload UnicodeData.txt
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% build/scripts-3.9/unicode --download
Downloading UnicodeData.txt from http://www.unicode.org/Public/15.1.0/ucd/UnicodeData.txt
downloading.../home/dusko/.unicode/UnicodeData.txt.gz downloaded
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% build/scripts-3.9/unicode 1F914
U+1F914 THINKING FACE
UTF-8: f0 9f a4 94 UTF-16BE: d83edd14 Decimal: &amp;amp;#129300; Octal: \0374424
🤔
Category: So (Symbol, Other); East Asian width: W (wide)
Bidi: ON (Other Neutrals)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: This tool also shows some additional information, like Decomposition:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% build/scripts-3.9/unicode 00c0
U+00C0 LATIN CAPITAL LETTER A WITH GRAVE
UTF-8: c3 80 UTF-16BE: 00c0 Decimal: &amp;amp;#192; Octal: \0300
À (à)
Lowercase: 00E0
Category: Lu (Letter, Uppercase); East Asian width: N (neutral)
Bidi: L (Left-to-Right)
Decomposition: 0041 0300
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;whats-the-name-of-the-unicode-character&quot;&gt;What’s the Name of the Unicode Character?&lt;/h3&gt;

&lt;h4 id=&quot;straight-from-unicodeorg&quot;&gt;Straight from Unicode.org&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch http://unicode.org/Public/UNIDATA/UnicodeData.txt
UnicodeData.txt                                       1869 kB  690 kBps    02s
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -i 1F914 UnicodeData.txt
1F914;THINKING FACE;So;0;ON;;;;;N;;;;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The name of this character is &lt;em&gt;Thinking Face&lt;/em&gt;.&lt;/p&gt;

&lt;h4 id=&quot;from-ucd-unicode-character-database-package-in-freebsd&quot;&gt;From UCD (Unicode Character Database) Package in FreeBSD&lt;/h4&gt;

&lt;p&gt;Available as a package on FreeBSD 14.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install UCD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query %Fp UCD | wc -l
      81
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query %Fp UCD
[ . . . ]
/usr/local/share/unicode/ucd/ReadMe.txt
[ . . . ]
/usr/local/share/unicode/ucd/UnicodeData.txt
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep 1F914 /usr/local/share/unicode/ucd/UnicodeData.txt
1F914;THINKING FACE;So;0;ON;;;;;N;;;;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -r -n -i 1F914 /usr/local/share/unicode/ucd/
/usr/local/share/unicode/ucd/UnicodeData.txt:33380:1F914;THINKING FACE;So;0;ON;;;;;N;;;;;
/usr/local/share/unicode/ucd/extracted/DerivedName.txt:43179:1F914         ; THINKING FACE
/usr/local/share/unicode/ucd/NamesList.txt:53248:1F914  THINKING FACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;with-the-uni-tool&quot;&gt;With the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni&lt;/code&gt; Tool&lt;/h4&gt;

&lt;p&gt;On FreeBSD 14 installed as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo pkg install uni&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni print 1F914
             Dec    UTF8        HTML       Name
&apos;🤔&apos; U+1F914 129300 f0 9f a4 94 &amp;amp;#x1f914;  THINKING FACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni search thinking face
             Dec    UTF8        HTML       Name
&apos;🤔&apos; U+1F914 129300 f0 9f a4 94 &amp;amp;#x1f914;  THINKING FACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;converting-from-unicodeutf-to-iso&quot;&gt;Converting from Unicode/UTF to ISO&lt;/h3&gt;

&lt;p&gt;From &lt;a href=&quot;http://wiki.grml.org/doku.php?id=utf8&quot;&gt;utf8  on grml - Converting Files - GrmlWiki&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Converting files from Unicode / UTF to ISO:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -c -f utf8 -t iso-8859-15 &amp;lt; utffile &amp;gt; isofile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and vice versa:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -f iso-8859-15 -t utf8 &amp;lt; isofile &amp;gt; utffile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;unicode-escape-formats&quot;&gt;Unicode Escape Formats&lt;/h2&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.billposer.org/Software/ListOfRepresentations.html&quot;&gt;Unicode Escape Formats&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The following are ASCII representations of Unicode characters known to be used in various contexts.
In a few cases we also include unusual representations of integers since integers are sometimes converted to characters.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;my-selection-of-tools-and-references&quot;&gt;My Selection of Tools and References&lt;/h2&gt;

&lt;h3 id=&quot;unum-unicodehtmlnumeric-character-code-converter&quot;&gt;UNUM: Unicode/HTML/Numeric Character Code Converter&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;Interconvert numbers, Unicode, and HTML/XHTML entities&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Perl tool&lt;/p&gt;

&lt;p&gt;Author: John Walker (www.fourmilab.ch), founder of Autodesk, Inc. and co-author of AutoCAD&lt;/p&gt;

&lt;p&gt;Project home page: &lt;a href=&quot;https://www.fourmilab.ch/webtools/unum/&quot;&gt;https://www.fourmilab.ch/webtools/unum/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;About UNUM - From author’s &lt;a href=&quot;https://www.fourmilab.ch/nav/topics/unix.html&quot;&gt;Unix Utilities&lt;/a&gt; page:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Web authors who use characters from other languages, mathematical symbols, fancy punctuation, and other typographic embellishment in their documents often find themselves juggling the Unicode book, an HTML entity reference, and a programmer’s calculator to convert back and forth between the various representations. This stand-alone command line Perl program contains complete databases of Unicode characters and character blocks and HTML/XHTML named character references, and permits easy lookup and interconversion among all the formats, including octal, decimal, and hexadecimal numbers. The program works best on a recent version of Perl, such as v5.8.5 or later, but requires no Perl library modules. New version 3.4-14.0.0 (September 2021) updates to the Unicode 14.0.0 standard and the new scripts, characters, and emoji it adds.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;unipl-list-unicode-symbols-matching-pattern&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni.pl&lt;/code&gt;: List Unicode symbols matching pattern&lt;/h3&gt;

&lt;p&gt;Project home page:
&lt;a href=&quot;https://leahneukirchen.org/dotfiles/bin/uni&quot;&gt;uni.pl - Perl script from leahneukirchen (Leah Neukirchen) - List Unicode symbols matching pattern&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;perl-unipl-xxd-iconv-hexdump-hd-od-printf&quot;&gt;Perl, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni.pl&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hd&lt;/code&gt;), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl crossbones
☠       2620    SKULL AND CROSSBONES
🕱       1F571   BLACK SKULL AND CROSSBONES

% ./uni.pl 2620
☠       2620    SKULL AND CROSSBONES

% ./uni.pl 2620 | cut -w -f1
☠

% ./uni.pl 2620 | cut -w -f1 &amp;gt; skandcr.txt

% cat skandcr.txt
☠

% xxd &amp;lt; skandcr.txt 
00000000: e298 a00a                                ....
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt; displayed the first three dots at the in &lt;em&gt;red&lt;/em&gt; colour, and the fourth dot in &lt;em&gt;yellow&lt;/em&gt;.
Accordingly, it also displayed &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;e298 a0&lt;/code&gt; in &lt;em&gt;red&lt;/em&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0a&lt;/code&gt; in &lt;em&gt;yellow&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uchardet &amp;lt; skandcr.txt
UTF-8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -t utf8 &amp;lt; skandcr.txt
☠
 
% iconv -t utf8 skandcr.txt | od -ac 
0000000   e2  98  a0  nl
           ☠  **  **  \n
0000004
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: So in UTF-8, the symbol (for skull and crossbones) &lt;em&gt;below&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;e2&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;**&lt;/code&gt; in the next two groups, that is, below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;98&lt;/code&gt; and below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a0&lt;/code&gt; so this symbol consists of &lt;strong&gt;3 bytes&lt;/strong&gt; (or 6 digits).&lt;/p&gt;

&lt;p&gt;In octal:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -t utf8 skandcr.txt | od -ab
0000000   e2  98  a0  nl
          342 230 240 012
0000004
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pick up the first &lt;strong&gt;three&lt;/strong&gt; bytes:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\342\230\240&apos;
☠% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/602912/how-do-you-echo-a-4-digit-unicode-character-in-bash&quot;&gt;How do you echo a 4-digit Unicode character in Bash?&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -t utf16 skandcr.txt | xxd
00000000: feff 2620 000a                           ..&amp;amp; ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt; displayed the first dot in &lt;em&gt;red&lt;/em&gt;, the second dot in &lt;em&gt;dark green&lt;/em&gt;, the ampresend (&amp;amp;) in  light green, the next dot in &lt;em&gt;white&lt;/em&gt;, the last dot in &lt;em&gt;yellow&lt;/em&gt;.
Accordingly, it also displayed &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fe&lt;/code&gt; in &lt;em&gt;red&lt;/em&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ff&lt;/code&gt; in &lt;em&gt;dark green&lt;/em&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;2620&lt;/code&gt; in &lt;em&gt;light green&lt;/em&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;00&lt;/code&gt; in &lt;em&gt;white&lt;/em&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0a&lt;/code&gt; in &lt;em&gt;yellow&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;NOTE:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;In &lt;strong&gt;UTF-16&lt;/strong&gt;, a &lt;strong&gt;BOM&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+FEFF&lt;/code&gt;) are the first bytes of a file or character stream to indicate the endianness (byte order) of all the 16-bit code units of the file for stream.
If an attempt is made to read this stream with the wrong endianness, the bytes will be swapped, thus delivering the character U+FFFE, which is defined by Unicode as a “noncharacter” that should never appear in the text.&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;If the 16-bit units are represented in big-endian byte order (“UTF-16BE”), the BOM is the (hexadecimal) byte sequence FE FF&lt;/li&gt;
    &lt;li&gt;If the 16-bit units use little-endian order (“UTF-16LE”), the BOM is the (hexadecimal) byte sequence FF FE&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;For the IANA registered charsets UTF-16BE and UTF-16LE, a byte-order mark should not be used because the names of these character sets already determine the byte order.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;UTF-32&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Although a BOM could be used with UTF-32, this encoding is rarely used for transmission. Otherwise the same rules as for UTF-16 are applicable.&lt;/p&gt;

  &lt;p&gt;The BOM for little-endian UTF-32 is the same pattern as a little-endian UTF-16 BOM followed by a UTF-16 NUL character, an unusual example of the BOM being the same pattern in two different encodings. Programmers using the BOM to identify the encoding will have to decide whether UTF-32 or UTF-16 with a NUL first character is more likely.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Source: 
&lt;a href=&quot;https://en.wikipedia.org/wiki/Byte_order_mark&quot;&gt;Wikipedia - Byte order mark (BOM)&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -CS -E &apos;say &quot;\x{2620}&quot;&apos;
☠
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.russellcottrell.com/greek/utilities/unicode_font_utilities.zip&quot;&gt;Unicode font utilities - Russell W. Cottrell - unicode_font_utilities.zip&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;The zip file includes four utilities: &lt;em&gt;The Unicode Range Viewer&lt;/em&gt;, &lt;em&gt;The Surrogate Pair Calculator etc.&lt;/em&gt;, &lt;em&gt;The Polytonic Greek Virtual Keyboard&lt;/em&gt; and  &lt;em&gt;The Greek Number Converter&lt;/em&gt;.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ftrain.com/unicode&quot;&gt;Unicode browser (Unicode table for you)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Source code: It’s all on one page (HTML/CSS/JavaScript) and under the GPL/MIT license.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;NOTE: In my tests, &lt;em&gt;Unicode table for you&lt;/em&gt; didn’t work when I accessed it from ftrain.com; however, it worked when I saved that page locally as &lt;em&gt;.html&lt;/em&gt; and then opened it with my Web browser, Mozilla Firefox.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wakamaifondue.com/&quot;&gt;Wakamai Fondue - What can my font do?&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Wakamai Fondue is a tool that answers the question “What can my font do?”&lt;/p&gt;

      &lt;p&gt;Drop a font on it, or click the circle to upload one, and Wakamai Fondue will tell you about the features in the font. It will also give you all the CSS needed to actually use these features in your web projects!&lt;/p&gt;

      &lt;p&gt;Everything is processed inside the browser - your font will not be sent to a server!&lt;/p&gt;

    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.perl.com/pub/2012/04/perlunicook-standard-preamble.html/&quot;&gt;Perl Unicode Cookbook: The Standard Preamble&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Apr 2, 2012 by Tom Christiansen&lt;/p&gt;

      &lt;p&gt;Editor’s note:
Perl guru Tom Christiansen created and maintains a list of 44 recipes for working with Unicode in Perl 5.
This is the first recipe in the series.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -E &apos;my $x = &quot;\N{SKULL AND CROSSBONES}&quot;; say $x&apos; | xxd
Wide character in say at -e line 1.
00000000: e298 a00a                                ....
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -E &apos;my $x = &quot;\N{SKULL AND CROSSBONES}&quot;; say $x&apos; | hexdump -C
Wide character in say at -e line 1.
00000000  e2 98 a0 0a                                       |....|
00000004
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To avoid &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Wide character in say&lt;/code&gt; warning:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -E &apos;use open qw(:std :encoding(UTF-8)); my $x = &quot;\N{SKULL AND CROSSBONES}&quot;; say $x&apos;
☠
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -E &apos;binmode(STDOUT, &quot;:encoding(UTF-8)&quot;); my $x = &quot;\N{SKULL AND CROSSBONES}&quot;; say $x&apos;
☠
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -CS -E &apos;my $x = &quot;\N{SKULL AND CROSSBONES}&quot;; say $x&apos;
☠
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/47940662/how-to-get-rid-of-wide-character-in-print-at&quot;&gt;How to get rid of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Wide character in print at&lt;/code&gt;?&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;use utf8&lt;/code&gt; means Perl expects your source code to be UTF-8.&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;open&lt;/code&gt; pragma can change the encoding of the standard filehandles:&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;use open qw( :std :encoding(UTF-8) );&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;And, whatever is going to deal with your output needs to expect UTF-8 too.
If you want to see it correctly in your terminal, then you need to set up that correctly (but that’s nothing to do with Perl).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/15210532/use-of-use-utf8-gives-me-wide-character-in-print&quot;&gt;Use of ‘use utf8;’ gives me ‘Wide character in print’&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;You can use this&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perl -CS filename&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;It will also terminates that error.&lt;/p&gt;

  &lt;p&gt;Reference (abridged):&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The -C flag controls some of the Perl Unicode features.

As of 5.8.1, the -C can be followed either by a number or a list of option letters.
The letters, their numeric values, and effects are as follows; listing the letters is equal to summing the numbers.

    I     1   STDIN is assumed to be in UTF-8
    O     2   STDOUT will be in UTF-8
    E     4   STDERR will be in UTF-8
    S     7   I + O + E
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;If you’re not just running a one-liner, see here:&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://perldoc.perl.org/perlunicook#%E2%84%9E-15:-Declare-STD%7BIN,OUT,ERR%7D-to-be-utf8&quot;&gt;perlunicook - Cookbookish examples of handling Unicode in Perl - ℞ 15: Declare STD{IN,OUT,ERR} to be utf8&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;python&quot;&gt;Python&lt;/h3&gt;

&lt;p&gt;Paste the character you want to analyze between single quotes of Python’s built-in &lt;a href=&quot;https://docs.python.org/3/library/functions.html#ord&quot;&gt;ord()&lt;/a&gt; function.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3
&amp;gt;&amp;gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt; import unicodedata

&amp;gt;&amp;gt;&amp;gt; ord(&apos;🤔&apos;)
129300

&amp;gt;&amp;gt;&amp;gt; chr(129300)
&apos;🤔&apos;

&amp;gt;&amp;gt;&amp;gt; unicodedata.name(&apos;🤔&apos;)
&apos;THINKING FACE&apos;

&amp;gt;&amp;gt;&amp;gt; &quot;\N{Thinking Face}&quot;
&apos;🤔&apos;

&amp;gt;&amp;gt;&amp;gt; u=chr(129300)

&amp;gt;&amp;gt;&amp;gt; u.encode(&apos;utf-8&apos;)
b&apos;\xf0\x9f\xa4\x94&apos;

&amp;gt;&amp;gt;&amp;gt; hex(129300)
&apos;0x1f914&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3 -c &apos;print(0x1f914)&apos;
129300
 
% python3 -c &apos;print(chr(129300))&apos;
🤔
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/howto/unicode.html&quot;&gt;Unicode HOWTO - Python Documentation&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;vim&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vim&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vim: ga  # OR :as(cii)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;libgrapheme&quot;&gt;libgrapheme&lt;/h3&gt;

&lt;p&gt;Project home page:
&lt;a href=&quot;https://libs.suckless.org/libgrapheme/&quot;&gt;https://libs.suckless.org/libgrapheme/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git clone https://git.suckless.org/libgrapheme
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd libgrapheme
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./configure
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vi example.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat example.c
#include &amp;lt;grapheme.h&amp;gt;
#include &amp;lt;stdint.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;

int
main(void)
{
        /* UTF-8 encoded input */
        char *s = &quot;T\xC3\xABst \xF0\x9F\x91\xA8\xE2\x80\x8D\xF0&quot;
                  &quot;\x9F\x91\xA9\xE2\x80\x8D\xF0\x9F\x91\xA6 \xF0&quot;
                  &quot;\x9F\x87\xBA\xF0\x9F\x87\xB8 \xE0\xA4\xA8\xE0&quot;
                  &quot;\xA5\x80 \xE0\xAE\xA8\xE0\xAE\xBF!&quot;;
        size_t ret, len, off;

        printf(&quot;Input: \&quot;%s\&quot;\n&quot;, s);

        /* print each grapheme cluster with byte-length */
        printf(&quot;grapheme clusters in NUL-delimited input:\n&quot;);
        for (off = 0; s[off] != &apos;\0&apos;; off += ret) {
                ret = grapheme_next_character_break_utf8(s + off, SIZE_MAX);
                printf(&quot;%2zu bytes | %.*s\n&quot;, ret, (int)ret, s + off);
        }
        printf(&quot;\n&quot;);

        /* do the same, but this time string is length-delimited */
        len = 17;
        printf(&quot;grapheme clusters in input delimited to %zu bytes:\n&quot;, len);
        for (off = 0; off &amp;lt; len; off += ret) {
                ret = grapheme_next_character_break_utf8(s + off, len - off);
                printf(&quot;%2zu bytes | %.*s\n&quot;, ret, (int)ret, s + off);
        }

        return 0;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cc -o example example.c -lgrapheme
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./example
Input: &quot;Tëst 👨👩👦 🇺🇸 न\u0940 ந\u0bbf!&quot;
grapheme clusters in NUL-delimited input:
 1 bytes | T
 2 bytes | ë
 1 bytes | s
 1 bytes | t
 1 bytes |
18 bytes | 👨👩👦
 1 bytes |
 8 bytes | 🇺🇸
 1 bytes |
 6 bytes | न\u0940
 1 bytes |
 6 bytes | ந\u0bbf
 1 bytes | !

grapheme clusters in input delimited to 17 bytes:
 1 bytes | T
 2 bytes | ë
 1 bytes | s
 1 bytes | t
 1 bytes |
11 bytes | 👨👩
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Sep 17, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20150815071315/https://rrn.dk/the-difference-between-utf-8-and-unicode&quot;&gt;What is the difference between UTF-8 and Unicode?&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;UTF-8 is an encoding - Unicode is a character set&lt;/strong&gt;.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ietf.org/rfc/rfc3629.txt&quot;&gt;UTF-8 Encoding – The official specification: RFC 3629&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.cl.cam.ac.uk/~mgk25/ucs/utf-8-history.txt&quot;&gt;Rob Pike’s story about the invention of UTF-8&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.cl.cam.ac.uk/~mgk25/unicode.html#perl&quot;&gt;What are useful Perl one-liners for working with UTF-8? - UTF-8 and Unicode FAQ&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.cl.cam.ac.uk/~mgk25/unicode.html&quot;&gt;Markus Kuhn’s Unicode FAQ, a very comprehensive resource about Unicode support on Free Unix-like systems&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.cl.cam.ac.uk/~mgk25/ucs/examples/UTF-8-test.txt&quot;&gt;UTF-8 decoder capability and stress test&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/arp242/uni&quot;&gt;uni - Query the Unicode database from the commandline, with good support for emojis&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://arp242.github.io/uni-wasm/&quot;&gt;WASM (WebAssembly) demo for uni&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/arp242/uni?tab=readme-ov-file#alternatives&quot;&gt;A nice list of Unicode tools&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://reinhart1010.id/browser-test&quot;&gt;Web Browser Compatibility Test&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This site is designed with modern web feature detection standards, that is, by not complaining you for not using Google Chrome. However, as a friendly reminder, we usually give warnings to users who use:&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;[ long list ]&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://text.makeup/&quot;&gt;Text Makeup - A little tool to decode and explore Unicode strings&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;a href=&quot;https://text.makeup/about/&quot;&gt;Text makeup - About&lt;/a&gt;&lt;/p&gt;

      &lt;p&gt;text.makeup is made by me, Marcin Wichary. &lt;a href=&quot;https://aresluna.org/&quot;&gt;Contact me&lt;/a&gt;, or &lt;a href=&quot;https://github.com/mwichary/text-makeup/issues/new&quot;&gt;file a bug / suggest an idea&lt;/a&gt;.&lt;/p&gt;

      &lt;p&gt;Manifesto&lt;/p&gt;

      &lt;p&gt;I kind of love Unicode. There are so many stories hidden within all the codepoints, and so much strange complexity.&lt;/p&gt;

      &lt;p&gt;I want this tool to be somewhere at the intersection of “useful” and “fun.” You might want to just paste a string that’s giving you trouble, but not just that. Hopefully, you will also want to click around, learn, explore. I want information, but I also want stories.&lt;/p&gt;

      &lt;p&gt;This is meant to be a site for &lt;em&gt;nerds&lt;/em&gt;, but specifically not Unicode nerds. (Many sites for Unicode nerds, filled with technical info and jargon already exist!)&lt;/p&gt;

      &lt;p&gt;Proof of concept&lt;/p&gt;

      &lt;p&gt;This site is a proof of concept. Only some aspects and some specific examples work (&lt;a href=&quot;https://text.makeup/about&quot;&gt;more information about coverage&lt;/a&gt;).&lt;/p&gt;

      &lt;p&gt;[ . . . ]&lt;/p&gt;

      &lt;p&gt;Privacy&lt;/p&gt;

      &lt;p&gt;All the string processing happens on the client. (Very slowly right now.)&lt;/p&gt;

      &lt;p&gt;Nods and acknowledgements&lt;/p&gt;

      &lt;p&gt;Thank you to Manuel Strehl for creating the site &lt;a href=&quot;https://codepoints.net/&quot;&gt;Codepoints&lt;/a&gt;!&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicode.org/Public/emoji/latest/&quot;&gt;Unicode.org - Emoji Test for Latest Unicode Version&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;For documentation and usage, see https://www.unicode.org/reports/tr51&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.unicode.org/reports/tr51/&quot;&gt;Unicode Emoji - Unicode® Technical Standard #51&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Summary&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;This document defines the structure of Unicode emoji characters and sequences, and provides data to support that structure, such as which characters are considered to be emoji, which emoji should be displayed by default with a text style versus an emoji style, and which can be displayed with a variety of skin tones. It also provides design guidelines for improving the interoperability of emoji characters across platforms and implementations.&lt;/p&gt;

      &lt;p&gt;Starting with Version 11.0 of this specification, the repertoire of emoji characters is synchronized with the Unicode Standard, and has the same version numbering system.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unicode.org/Public/emoji/latest/emoji-zwj-sequences.txt&quot;&gt;Unicode.org - Emoji ZWJ Sequences Test for Latest Unicode Version&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unicode.org/Public/emoji/latest/emoji-sequences.txt&quot;&gt;Unicode.org - Emoji Sequences Test for Latest Unicode Version&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unicode.org/Public/emoji/16.0/emoji-test.txt&quot;&gt;Unicode.org - Emoji Test for Unicode 16.0&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unicode.org/Public/emoji/15.1/emoji-test.txt&quot;&gt;Unicode.org - Emoji Test for Unicode 15.1&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/Fonts#Fontconfig_and_emoji&quot;&gt;Fontconfig and emoji - Emoji and symbols - Arch Linux Wiki (ArchWiki)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://sinja.io/blog/get-maximum-out-of-your-font&quot;&gt;Features of your font you had no idea about&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=41502721&quot;&gt;Features of your font you had no idea about - Discussion on Hacker News: What you can get out of a high-quality font (sinja.io)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://sinja.io/blog/web-typography-quick-guide&quot;&gt;Quick guide to web typography for developers (Typography is my passion)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://pixelambacht.nl/2013/font-face-render-check/&quot;&gt;How to be absolutely, positively, double definitely sure your web font renders&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://intertwingly.net/stories/2004/04/14/i18n.html&quot;&gt;Survival guide to i18n&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://gedcom-parse.sourceforge.net/doc/encoding.html#The_character_encoding_problem&quot;&gt;The character encoding problem by Peter Verthez&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20170917131301/http://www.cs.tut.fi/~jkorpela/chars.html&quot;&gt;A tutorial on character code issues by Jukka “Yucca” Korpela - archive from the original 2017-09-17&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.fontspace.com/unicode&quot;&gt;The Ultimate Unicode Explorer &amp;amp; Tools - fontspace.com&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Browse through Unicode with a twist: We’ll show you all the fonts that are available for each character.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.fontspace.com/unicode/analyzer&quot;&gt;Unicode Text Analyzer - fontspace.com&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This tool allows you to inspect any text and see the real Unicode characters. You may find that there are invisible codepoints, or mis-represented characters (also known as confusables or homoglyphs).&lt;/p&gt;

      &lt;p&gt;It’s really interesting with complex Emojis that appear as a single character, but are really made up of a combination of codepoints. Try it with some samples to see all the parts decomposed.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://crashcourse.housegordon.org/coreutils-multibyte-support.html&quot;&gt;An extensive list of Unicode/UTF-8 resources and tools – &lt;em&gt;GNU Coreutils - Multibyte/unicode support&lt;/em&gt;&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Random notes and pointers regarding the on-going effort to add multibyte and unicode support in &lt;a href=&quot;https://www.gnu.org/software/coreutils/&quot;&gt;GNU Coreutils&lt;/a&gt;.&lt;/p&gt;

      &lt;p&gt;If you’re considering working on multibyte/unicode/utf8 support in GNU coreutils (or other packages) - reading these should bring you up to speed (and hopefully save some time, too).&lt;/p&gt;

      &lt;p&gt;NOTE: &lt;em&gt;multibyte&lt;/em&gt;, &lt;em&gt;multibyte-sequences&lt;/em&gt;, &lt;em&gt;unicode&lt;/em&gt;, &lt;em&gt;utf-8&lt;/em&gt; are sometimes used interchangeably throughout the document, but the intent is to support all multibyte locales, not just UTF8 encodings.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.academiccomputerclub.se/~saasha/charconv/&quot;&gt;Converting a file from an 8-bit character set (for example ISO_8859-1) to UTF-8 without POSTing the file to a remote server&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;In many cases, the most obvious way to solve such a problem is to save the file, open a terminal, move to the directory where the file resides (with cd …) and use iconv similarly to:&lt;/p&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv -f iso88591 -t utf8 fileToConvert.txt &amp;gt; convertedFile.txt&lt;/code&gt;&lt;/p&gt;

      &lt;p&gt;Unfortunately, finding out how to start a terminal is not always easy in today’s GUI’s!&lt;/p&gt;

      &lt;p&gt;Here, you are given the opportunity to achieve such a conversion locally. Choose a character set (charset, encoding) in the list below and choose the file you wish to convert. The JavaScript program linked to by this page will try to make your browser convert the file to UTF-8. If the conversion succeeds, you will be given the opportunity to save the converted file.&lt;/p&gt;

      &lt;p&gt;You do not need any Internet connection to achieve this conversion. You can save this page locally together with (in the same directory than) the JavaScript program it is linked to and open it in a browser to achieve the conversions even without any Internet connection.&lt;/p&gt;

      &lt;p&gt;Previously: &lt;a href=&quot;http://www.acc.umu.se/~saasha/charconv/&quot;&gt;http://www.acc.umu.se/~saasha/charconv/&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://cplusplus.com/forum/general/70592/&quot;&gt;Hexadecimal to UTF-8 (in C)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Are you trying to print U+00C5, Å? The proper way to do this is to use wide character I/O.&lt;/p&gt;

      &lt;p&gt;In C:&lt;/p&gt;

      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#include &amp;lt;wchar.h&amp;gt;
#include &amp;lt;locale.h&amp;gt;
int main()
{
    setlocale(LC_ALL, &quot;&quot;);
    wchar_t c = L&apos;\u00c5&apos;; // or = L&apos;\xc5&apos;;
    wprintf(L&quot;%lc\n&quot;, c);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.win.tue.nl/~aeb/linux/misc/xterm.html&quot;&gt;Xterm copy and paste&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat xtest
#include &amp;lt;stdio.h&amp;gt;

char s[6] = { 0x61, 0xcc, 0x85, 0xcc, 0x8a, 0 };

int main() {
    return puts(s);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.win.tue.nl/~aeb/linux/uc/nfc_vs_nfd.html&quot;&gt;Unicode Normalization&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Unicode Normalization&lt;/p&gt;

      &lt;p&gt;Equivalence of sequences of Unicode values&lt;/p&gt;

      &lt;p&gt;Often a character can be represented in Unicode by several code sequences. For example, the GREEK SMALL LETTER ALPHA WITH DASIA AND OXIA AND YPOGEGRAMMENI can be written as U+1F85 (ᾅ), or U+1F05 U+0345 (ᾅ), or U+1F81 U+0301 (ᾅ), …, or U+03B1 U+0314 U+0301 U+0345 (ᾅ), where the start of the sequence gives the main symbol, and the following unicode values indicate combining diacritics. All such sequences representing the same character are called canonically equivalent.&lt;/p&gt;

      &lt;p&gt;To be more precise, the combining classes for the combining diacritics U+0314, U+0301, U+0345 in this example are 230, 230, 240, respectively. These classes tend to indicate the position of the diacritic (above, below, …) and it is assumed that diacritics in different positions can be ordered arbitrarily, while the order of diacritics in the same position is significant. Thus, U+03B1 U+0314 U+0301 U+0345 and U+03B1 U+0314 U+0345 U+0301 and U+03B1 U+0345 U+0314 U+0301 are equivalent, but U+03B1 U+0314 U+0301 U+0345 and U+03B1 U+0301 U+0314 U+0345 are not. The latter is equivalent to U+1FB4 U+0314 (ᾴ̔).&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://yaytext.com/&quot;&gt;YayText - A text styling tool for Facebook, Twitter, etc.&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Super cool Unicode text magic. Use s̶t̶r̶i̶k̶e̶t̶h̶r̶o̶u̶g̶h̶, 𝐛𝐨𝐥𝐝, 𝒊𝒕𝒂𝒍𝒊𝒄𝒔, and 🅜🅞🅡🅔 🄲🅁🄰🅉🅈 ʷlͤoͥoͬkͩing fonts on Facebook, Twitter, and everywhere else.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant-numeric&quot;&gt;font-variant-numeric Demo - CSS: Cascading Style Sheets - MDN (Mozilla Developer Network)&lt;/a&gt;
    &lt;blockquote&gt;

      &lt;p&gt;The font-variant-numeric CSS property controls the usage of alternate glyphs for numbers, fractions, and ordinal markers.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://modernfontstacks.com/&quot;&gt;Modern Font Stacks&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;System font stack CSS organized by typeface classification for every modern operating system. The fastest fonts available. No downloading, no layout shifts, no flashes - just instant renders.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/system-fonts/modern-font-stacks&quot;&gt;Modern Font Stacks - on GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://nolanlawson.com/2022/04/08/the-struggle-of-using-native-emoji-on-the-web/&quot;&gt;The struggle of using native emoji on the web&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/nolanlawson/emoji-picker-element/&quot;&gt;emoji-picker-element – A lightweight emoji picker for the modern web&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://nolanlawson.github.io/emoji-picker-element/&quot;&gt;emoji-picker-element – Demo&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://codepoints.net/&quot;&gt;Codepoints - Find all Unicode characters from Hieroglyphs to Dingbats - by Manuel Strehl&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://codepoints.net/about&quot;&gt;Codepoints.net - About&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Finding Characters&lt;/p&gt;

      &lt;p&gt;It’s hard to find one certain character in over 149944 codepoints. This site aims to make it as easy as possible with the following search options:&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;Free search: Just press the “Search” tab above or use the form on the front page and type a query. In many cases the codepoint in question is in the result.&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://codepoints.net/search&quot;&gt;Extended search&lt;/a&gt;: You can configure on this page every Unicode property of the codepoint in question.&lt;/li&gt;
        &lt;li&gt;The &lt;a href=&quot;https://codepoints.net/search#wizard&quot;&gt;Find My Codepoint&lt;/a&gt; wizard: Answer a series of questions to get to your character.&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;If you happen to already have the character in question just paste it in the search box. It will bring you directly to its description page.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/en-US/firefox/addon/character-identifier/&quot;&gt;Character Identifier by L. David Baron – Add-On (Extension) for Mozilla Firefox Web Browser&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This extension adds a context menu item for selected text that provides more information (from the Unicode database) about the characters selected.&lt;/p&gt;

      &lt;p&gt;Project Homepage:
&lt;a href=&quot;https://dbaron.org/mozilla/char-identifier/&quot;&gt;Homepage&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/dbaron/char-identifier&quot;&gt;Character Identifier on GitHub&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Character Identifier is a Web Extension that adds a browser context menu item for selected text that provides more information (from the Unicode database) about the characters selected.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicodey.com/&quot;&gt;Unicodey - Unicode decoder (into code points)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Unicode.com is a bunch of tools for understanding and debugging Unicode strings, specifically the UTF-8 encoding]&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stosberg.net/unicode/&quot;&gt;Unicode table&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.unicode-symbol.com/&quot;&gt;Unicode symbol - List of character and symbol blocks&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This site is dedicated to Unicode® symbols, characters and code points.&lt;/p&gt;

      &lt;p&gt;The Unicode® standard 15.0 splits the character code points among more than 250 distinct blocks. The following table lists all these blocks in alphabetical order. You can click on one of these blocks to discover the corresponding characters.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://scriptsource.org/&quot;&gt;ScriptSource&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Writing systems, computers and people&lt;/p&gt;

      &lt;p&gt;ScriptSource is a dynamic, collaborative reference to the writing systems of the world, with detailed information on scripts, characters, languages - and the remaining needs for supporting them in the computing realm. It is sponsored, developed and maintained by SIL International. It currently contains only a skeleton of information, and so depends on your participation in order to grow and assist others.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.isthisthingon.org/unicode/&quot;&gt;The UniSearcher - Brett Baugh&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.isthisthingon.org/unicode/ex.html&quot;&gt;The UniSearcher - Brief Description&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;The Shift-JIS codes are all different from the Unicode numbers.
“shi” is 0x30B7 in Unicode, but 0x8356 in Shift-JIS. (The “0x” before something just means “this is a hexadecimal number.”)
Fortunately, the Unicode Consortium provides standardized, parseable text files which tell how to convert a Shift-JIS code into Unicode, list the actual name of most every Unicode character, even definitions and pronunciations for them.
It is from there that my little searcher thingy gets its information.
The problem I was running up against was that any time I wanted to put something Japanese into a web page, I had to perform many steps for each character.
The program I use to look up Kanji in (“JquickTrans”) lets you copy a character from it to the clipboard, but it’ll only do it as Shift-JIS.
I don’t want to put Shift-JIS into web pages, as I explained earlier.
So I had to (in Windows) copy it to the clipboard, save it into a text file, and then (in Unix) do a hexdump on the file to get the Shift-JIS hexadecimal codes for that character (and since it’s displayed in “little endian” order, I also have to then reverse the order the two bytes are in), then look in the Unicode-provided mapping file to find the Unicode codepoint for that Shift-JIS code, then convert that into base-10 decimal, and then put “&amp;amp;#” in front of it and “;” after it, and only then could I put it in a web page.
Douglas Adams once said something about how he derived great pleasure from spending all day creating a computer program that would automate a task that takes him ten seconds to do by hand.
I suppose I’m no different… and thus, the searcher was born.&lt;/p&gt;

      &lt;p&gt;The application I created to do all this dirty work for me consists of three pieces: the actual search page, the mapping/descriptions data stored in MySQL, and a parser that creates this data set from the five Unicode-provided mapping files.
. This way, if Unicode updates one of their data files, all you have to do is delete your copy of it, run the parser, and you’re up-to-date.
The parser takes less than two minutes to run on my machine (yours too, probably).&lt;/p&gt;

      &lt;p&gt;The code charting page shows all 256 characters in the current block, whether they exist or not. Each block is color-coded so you can tell them apart.
Ones that appear grey are undefined blocks.
If you hover your mouse over any character, a little popup tooltip kinda thing will appear that lists everything there is to know about that character.
Makes the pages huge (over 100K each), but oh well… it’s too handy to not keep it even though it’s kinda slow this way.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;“Wow,” you say, “this is great!
Where do I get one?”
Well, simply &lt;a href=&quot;https://www.isthisthingon.org/unicode/unisearch-1.1.tgz&quot;&gt;download this distribution of it&lt;/a&gt;, unpack it somewhere, and read the INSTALL file.
It shouldn’t take more than five minutes to install if you already have a working apache/php/mysql server set up.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.isthisthingon.org/unicode/unisearch-1.1.tgz&quot;&gt;The UniSearcher - Source Code Distribution&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://compart.com/en/unicode/&quot;&gt;Unicode Library on compart.com&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.fourmilab.ch/webtools/qprint/&quot;&gt;qprint - Tool to Encode and Decode Quoted-Printable Files&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;The MIME (Multipurpose Internet Mail Extensions) specification (&lt;a href=&quot;https://www.fourmilab.ch/webtools/qprint/rfc1521.html&quot;&gt;RFC 1521&lt;/a&gt; and successors) defines a mechanism for encoding text consisting primarily of printable ASCII characters, but which may contain characters (for example, accented letters in the ISO 8859 Latin-1 character set) which cannot be encoded as 7-bit ASCII or are non-printable characters which may confuse mail transfer agents.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;qprint&lt;/strong&gt; is a command line utility which encodes and decodes files in this format.
It can be used within a pipeline as an encoding or decoding filter, and is most commonly used in this manner as part of an automated mail processing system.
With appropriate options, qprint can encode pure binary files, but it’s a poor choice since it may inflate the size of the file by as much as a factor of three.
The base64 MIME encoding is a better choice for such data.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://xahlee.info/comp/unicode_index.html&quot;&gt;Unicode Search - Xah&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;ul&gt;
        &lt;li&gt;To search by name, type a word. Try heart&lt;/li&gt;
        &lt;li&gt;Type two or more words to narrow down result. Try heart face&lt;/li&gt;
        &lt;li&gt;A word starting with minus sign remove those result. Try heart -card&lt;/li&gt;
        &lt;li&gt;To show a range of unicode, type the character ID, e.g. 9829 or U+1f60d&lt;/li&gt;
        &lt;li&gt;To find a char’s name or ID, paste in the character or emoji, e.g. 😂 ☕.&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://0xcc.net/jsescape/&quot;&gt;jsescape - Text Escaping and Unescaping in JavaScript - By Satoru Takabayashi (http://0xcc.net/)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Text Escaping and Unescaping in JavaScript&lt;/p&gt;

      &lt;p&gt;A collection of utilities for text escaping and unescaping in JavaScript. Try typing “abc” in the first form to see how it works. Any form can be edited.&lt;/p&gt;

      &lt;p&gt;&lt;em&gt;Notes&lt;/em&gt;&lt;/p&gt;

      &lt;ul&gt;
        &lt;li&gt;No data is sent to the server (i.e. everything is done in JavaScript).&lt;/li&gt;
        &lt;li&gt;Conversion from Unicode to other encodings such as Shift_JIS can be slow first time as it needs to initialize internal conversion tables.&lt;/li&gt;
        &lt;li&gt;Surrogate pairs in UTF-16 are supported. Try inserting \uD840\uDC0B in the second form.&lt;/li&gt;
        &lt;li&gt;Three-byte characters in EUC-JP are not supported.&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/cooperhewitt/go-ucd&quot;&gt;go-ucd – Go libraries and utilities for working with Unicode character data&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://xahlee.info/comp/unicode_fun.html&quot;&gt;Xah Unicode Blog - aka Unicode Fun&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amp-what.com/&quot;&gt;amp-what – aka &amp;amp;what;&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;AmpWhat is the place to explore the characters and icons underlying your browser, computer and phone.&lt;/p&gt;

      &lt;p&gt;These are known as Unicode.&lt;/p&gt;

      &lt;p&gt;About AmpWhat&lt;/p&gt;

      &lt;p&gt;AmpWhat is a quick, interactive reference of thousands of HTML character entities and common Unicode characters, 8859-1 characters, quotation marks, punctuation marks, accented characters, symbols, mathematical symbols, and Greek letters, icons, and markup-significant &amp;amp; internationalization characters.&lt;/p&gt;

      &lt;p&gt;Sources &amp;amp; Acknowledgements&lt;/p&gt;

      &lt;p&gt;AmpWhat was originally birthed using some of Remy Sharp’s excellent work. I imported documents such as hacker jargon, and added hundreds of my own annotations. (When users searched and got no results, I fixed it!) Now, much of this data is part of the Unicode reference, but AmpWhat still uses a combination of source data.&lt;/p&gt;

      &lt;p&gt;Main sources:&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&quot;http://www.unicode.org/Public/UCD/latest/ucdxml/&quot;&gt;Unicode.org, “Latest Unicode.org international character reference”&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;http://www.unicode.org/Public/cldr/&quot;&gt;Unicode.org, “CLDR Data”&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://unicode.org/Public/emoji/&quot;&gt;Unicode.org, “Emoji Data” and “Emoji Sequences&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://html.spec.whatwg.org/&quot;&gt;W3, “HTML entities”&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;http://www.w3.org/International/questions/qa-escapes/&quot;&gt;W3, “Using character escapes in markup and CSS”&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://html.spec.whatwg.org/&quot;&gt;whatwg.org&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://github.com/r12a/app-charuse&quot;&gt;app-charuse&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.billposer.org/Software/ListOfRepresentations.html&quot;&gt;Unicode Escape Formats&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mitchellh.com/writing/grapheme-clusters-in-terminals&quot;&gt;Grapheme Clusters and Terminal Emulators&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Copy and paste “🧑‍🌾” in your terminal emulator.
How many cells forward did your cursor move? Depending on your terminal emulator, it may have moved 2, 4, 5, or 6 cells.
Yikes.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;NOTE: Three pictures below show that pasting the farmer emoji in &lt;em&gt;xterm&lt;/em&gt; terminal emulator with &lt;em&gt;csh&lt;/em&gt; (C shell), &lt;em&gt;bash&lt;/em&gt; (GNU Bourne-again shell) and &lt;em&gt;sh&lt;/em&gt; (Bourne shell) shells on my FreeBSD 14 system moved cursor four cells forward.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xterm-csh-unicode-farmer-emoji.png&quot; alt=&quot;Unicode character name Farmer (emoji) - In FreeBSD, pasting it in xterm with csh shell moved cursor four cells forward&quot; title=&quot;Unicode character name Farmer (emoji) - In FreeBSD, pasting it in xterm with csh shell moved cursor four cells forward&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xterm-bash-unicode-farmer-emoji.png&quot; alt=&quot;Unicode character name Farmer (emoji) - In FreeBSD, pasting it in xterm with bash shell moved cursor four cells forward&quot; title=&quot;Unicode character name Farmer (emoji) - In FreeBSD, pasting it in xterm with bash shell moved cursor four cells forward&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xterm-sh-unicode-farmer-emoji.png&quot; alt=&quot;Unicode character name Farmer (emoji) - In FreeBSD, pasting it in xterm with sh (Bourne shell) moved cursor four cells forward&quot; title=&quot;Unicode character name Farmer (emoji) - In FreeBSD, pasting it in xterm with sh (Bourne shell) moved cursor four cells forward&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;This blog post describes why this happens and how terminal emulator and program authors can achieve consistent spacing for all characters.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;Traditionally, terminals simply read an input byte stream and mapped each individual byte to a cell in the grid.
For example, the stream “1234” is 4 bytes, and programmers can very easily read a byte at a time and place it into the next cell, move the cursor right one, repeat.&lt;/p&gt;

  &lt;p&gt;Eventually, “wide characters” came along.
Common wide characters are Asian characters such as 橋 or Emoji such as 😃.
A function &lt;a href=&quot;https://www.man7.org/linux/man-pages/man3/wcwidth.3.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wcwidth&lt;/code&gt;&lt;/a&gt; was added to libc to return the width of a wide character in &lt;em&gt;cells&lt;/em&gt;.
Wide characters were given a width of “2” (usually).
Therefore, if you type 橋 in a terminal emulator, the character will take up two grid cells and your cursor should jump forward by two cells.&lt;/p&gt;

  &lt;p&gt;And this is how most terminal emulators and terminal programs (shells, TUIs, etc.) are implemented today: they process input characters via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wcwidth&lt;/code&gt; and move the cursor accordingly.
And for a short period of time, this worked completely fine.
But today, this is no longer adequate and results in many errors.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Grapheme Clustering&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;It turns out that a single 32-bit value is not adequate to represent every user-perceived character in the world. A “&lt;strong&gt;user-perceived character&lt;/strong&gt;” is how the Unicode Standard defines a &lt;strong&gt;grapheme&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;Let’s consider the emoji “🧑‍🌾”. The emoji should look &lt;a href=&quot;https://static.mitchellh.com/ghostty/mode-2027/farmer.png&quot;&gt;something like this&lt;/a&gt; in case your computer doesn’t support it. I think every human would agree this is a single “user-perceived character” or grapheme. The Unicode Standard itself defines this as a single grapheme so regardless of your personal opinion, international standards say this is one grapheme.&lt;/p&gt;

  &lt;p&gt;For computers, its not so obvious. “🧑‍🌾” is &lt;strong&gt;three&lt;/strong&gt; codepoints (U+1F9D1 🧑, U+200D, and U+1F33E 🌾), &lt;strong&gt;three&lt;/strong&gt; 32-bit values when UTF-32 encoded, or 11 bytes when UTF-8 encoded (assuming 8-bits is a byte, which is a fairly safe assumption nowadays).&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;What’s with the zero-width character? The codepoint &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+200D&lt;/code&gt; is known as a &lt;a href=&quot;https://en.wikipedia.org/wiki/Zero-width_joiner&quot;&gt;Zero-Width Joiner (ZWJ)&lt;/a&gt; and has a standards-defined width of zero. The ZWJ tells text processing systems to treat the codepoints around it as &lt;em&gt;joined&lt;/em&gt; into a single character. That’s why you can type both “🧑‍🌾” and “🧑🌾”; the only difference between these two quoted values is the farmer on the left has a zero-width joiner between the two emoji.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;Grapheme clustering is the process that lets a program see &lt;strong&gt;three&lt;/strong&gt; 32-bit values as a &lt;strong&gt;single&lt;/strong&gt; user-perceived &lt;em&gt;character&lt;/em&gt;. The algorithm for grapheme clustering is defined in &lt;a href=&quot;https://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries&quot;&gt;UAX #29, “Unicode Text Segmentation”&lt;/a&gt;.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://libs.suckless.org/libgrapheme/&quot;&gt;Libgrapheme: A simple freestanding C99 library for Unicode (suckless.org)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Libgrapheme is an extremely simple freestanding C99 library providing utilities for properly handling strings according to the latest Unicode standard 15.0.0.
It offers fully Unicode compliant:&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;em&gt;grapheme cluster&lt;/em&gt; (i.e. user-perceived character) &lt;em&gt;segmentation&lt;/em&gt;&lt;/li&gt;
        &lt;li&gt;&lt;em&gt;word segmentation&lt;/em&gt;&lt;/li&gt;
        &lt;li&gt;&lt;em&gt;sentence segmentation&lt;/em&gt;&lt;/li&gt;
        &lt;li&gt;detection of permissible &lt;em&gt;line break opportunities&lt;/em&gt;&lt;/li&gt;
        &lt;li&gt;&lt;em&gt;case detection&lt;/em&gt; (lower-, upper- and title-case)&lt;/li&gt;
        &lt;li&gt;&lt;em&gt;case conversion&lt;/em&gt; (to lower-, upper- and title-case)&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;on UTF-8 strings and codepoint arrays, which both can also be null-terminated.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicode.org/emoji/charts/emoji-zwj-sequences.html&quot;&gt;Recommended Emoji ZWJ Sequences, Unicode v15.1&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;The following are the recommended emoji zwj sequences, which use a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+200D&lt;/code&gt; ZERO WIDTH JOINER (ZWJ) to join the characters into a single glyph if available. When not available, the ZWJ characters are ignored and a fallback sequence of separate emoji is displayed. Thus an emoji zwj sequence should only be supported where the fallback sequence would also make sense to a viewer.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://blog.emojipedia.org/emoji-zwj-sequences-three-letters-many-possibilities/&quot;&gt;Emoji ZWJ Sequences: Three Letters, Many Possibilities&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=33612039&quot;&gt;Libgrapheme (suckless.org) - on Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://harfbuzz.github.io/&quot;&gt;HarfBuzz (a font shaper)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Harfbuzz sees a stream of codepoints, detects the graphemes, and is able to then map those graphemes to individual glyphs in a font.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/ericpruitt/wcwidth.awk&quot;&gt;wcwidth.awk - An implementation of wcwidth / wcswidth in pure AWK&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://medium.com/making-faces-and-other-emoji/emoji-setting-the-tables-1107195e1386&quot;&gt;Emoji: Setting the Tables&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://medium.com/making-faces-and-other-emoji/emoji-fonts-technically-40f3fdc0869e&quot;&gt;Emoji: Fonts, Technically&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/twitter/twemoji&quot;&gt;Twemoji - A simple library that provides standard Unicode emoji support across all platforms - Emoji for everyone&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://openmoji.org/&quot;&gt;OpenMoji -  Open source emojis for designers, developers and everyone else&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.jeffquast.com/post/ucs-detect-test-results/&quot;&gt;Terminal Emulators Battle Royale - Unicode Edition!&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://hsivonen.fi/string-length/&quot;&gt;It’s Not Wrong that “🤦🏼‍♂️”.length == 7 – String Lengths in Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=20914184&quot;&gt;String Lengths in Unicode - Discussion on Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://emojipedia.org/&quot;&gt;Emojipedia - All things emoji&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/Codepoints/awesome-codepoints&quot;&gt;Awesome Code Points&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This is a curated list of characters in Unicode, that have interesting (and maybe not widely known) features or are awesome in some other way.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;Breaking and Gluing other characters&lt;/strong&gt;&lt;/p&gt;

      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&quot;https://codepoints.net/U+00A0&quot;&gt;U+00A0&lt;/a&gt; NO-BREAK SPACE - force adjacent characters to stick together. Well known as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;nbsp;&lt;/code&gt; in HTML.&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://codepoints.net/U+00AD&quot;&gt;U+00AD&lt;/a&gt; SOFT HYPHEN - (in HTML: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;shy;&lt;/code&gt;) like ZERO WIDTH SPACE, but show a hyphen if (and only if) a break occurs.&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://codepoints.net/U+200B&quot;&gt;U+200B&lt;/a&gt; ZERO WIDTH SPACE - the inverse to U+00A0: create no space, but allow word breaking.&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://codepoints.net/U+200D&quot;&gt;U+200D&lt;/a&gt; ZERO WIDTH JOINER - force adjacent characters to be joined together (e.g., arabic characters or supported emoji). Apple uses this to compose some emoji like different families.&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://codepoints.net/U+2060&quot;&gt;U+2060&lt;/a&gt; WORD JOINER - the same as U+00A0, but completely invisible. Good for writing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@font-face&lt;/code&gt; on Twitter.&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jkorpela.fi/chars.html#10646&quot;&gt;Unicode - Character Code Tutorial - ISO 10646, UCS, and Unicode - ISO 10646, the standard&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Unicode, the more practical definition of UCS&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;Unicode is a &lt;a href=&quot;http://www.unicode.org/unicode/standard/standard.html&quot;&gt;standard&lt;/a&gt;, by the &lt;a href=&quot;https://home.unicode.org/&quot;&gt;Unicode Consortium&lt;/a&gt;, which defines a character repertoire and character code intended to be fully compatible with ISO 10646, and an encoding for it. ISO 10646 is more general (abstract) in nature, whereas Unicode “imposes additional constraints on implementations to ensure that they treat characters uniformly across platforms and applications”, as they say in section &lt;a href=&quot;http://www.unicode.org/unicode/faq/unicode_iso.html&quot;&gt;Unicode &amp;amp; ISO 10646&lt;/a&gt; of the &lt;a href=&quot;http://www.unicode.org/unicode/faq/&quot;&gt;Unicode FAQ&lt;/a&gt;.&lt;/p&gt;

      &lt;p&gt;Unicode was &lt;em&gt;originally&lt;/em&gt; designed to be a &lt;em&gt;16-bit&lt;/em&gt; code, but it was &lt;strong&gt;extended&lt;/strong&gt; so that currently &lt;em&gt;code positions&lt;/em&gt; are expressed as &lt;em&gt;integers&lt;/em&gt; in the hexadecimal &lt;strong&gt;range&lt;/strong&gt; &lt;strong&gt;0..10FFFF&lt;/strong&gt; (&lt;em&gt;decimal&lt;/em&gt; &lt;strong&gt;0..1 114 111&lt;/strong&gt;).
That space is &lt;em&gt;divided&lt;/em&gt; into &lt;em&gt;16-bit&lt;/em&gt; &lt;strong&gt;“planes”&lt;/strong&gt;.
Until recently, the use of Unicode has mostly been limited to &lt;em&gt;“Basic Multilingual Plane (BMP)”&lt;/em&gt; consisting of the range &lt;em&gt;0..FFFF&lt;/em&gt;.&lt;/p&gt;

      &lt;p&gt;The ISO 10646 and Unicode &lt;em&gt;character repertoire&lt;/em&gt; can be regarded as a superset of most character repertoires in use.
However, the &lt;em&gt;code positions&lt;/em&gt; of characters vary from one character code to another.
“Unicode” is the commonly used name&lt;/p&gt;

      &lt;p&gt;In practice, people usually talk about Unicode rather than ISO 10646, partly because we prefer names to numbers, partly because Unicode is more explicit about the &lt;em&gt;meanings&lt;/em&gt; of characters, partly because detailed information about Unicode is available on the Web.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.cogsci.ed.ac.uk/~richard/utf-8.html&quot;&gt;UTF-8 Conversion Tool by Richard Tobin (UTF-8 Tool)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://kermitproject.org/utf8.html&quot;&gt;UTF-8 Sampler&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.omarpolo.com/post/parsing-utf8.html&quot;&gt;Parsing UTF-8&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bjoern.hoehrmann.de/utf-8/decoder/dfa/&quot;&gt;Flexible and Economical UTF-8 Decoder&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Systems with elaborate Unicode support usually confront programmers with a multitude of different functions and macros to process UTF-8 encoded strings, often with different ideas on handling buffer boundaries, state between calls, error conditions, and performance characteristics, making them difficult to use correctly and efficiently.  Implementations also tend to be very long and complicated; one popular library has over 500 lines of code just for one version of the decoder.  This page presents one that is very easy to use correctly, short, small, fast, and free.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://leahneukirchen.org/dotfiles/bin/uni&quot;&gt;uni.pl - Perl script from leahneukirchen (Leah Neukirchen) - List Unicode symbols matching pattern&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://decodeunicode.org/&quot;&gt;decodeunicode.org&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Unicode 11.0.0 encodes exactly 137,374 typographical characters.&lt;/p&gt;

      &lt;p&gt;Here you can see them all - Even if you don’t have the matching font on your computer.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicodedecode.com/&quot;&gt;Unicode Decode - Decode a Unicode String&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Normalization Form&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;NFC? NFD? Know if your string is normalized and to which normalization forms: NFC, NFD NFKC and NFKD.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/602912/how-do-you-echo-a-4-digit-unicode-character-in-bash&quot;&gt;How do you echo a 4-digit Unicode character in Bash?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicodedecode.com/tofu&quot;&gt;Tofu&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Not Just For Eating&lt;/p&gt;

      &lt;p&gt;Are you seeing tofu, that is, □ instead of 𐓇 or ൠ? Perhaps you just see “□ or □”. They’re different, we promise! Regardless of how your characters are being rendered, &lt;a href=&quot;https://unicodedecode.com/&quot;&gt;Unicode Decode&lt;/a&gt; helps you to uncover the underlying codepoints. Seeing tofu isn’t making your life easier so consider checking out &lt;a href=&quot;https://www.google.com/get/noto/&quot;&gt;Google’s Noto Fonts&lt;/a&gt;, a comprehensive open source font collection before &lt;a href=&quot;https://killedbygoogle.com/&quot;&gt;Google kills it&lt;/a&gt;.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://wiki.gnome.org/Apps/Gucharmap&quot;&gt;gucharmap the GNOME Character Map, based on the Unicode Character Database&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/602912/how-do-you-echo-a-4-digit-unicode-character-in-bash&quot;&gt;How do you echo a 4-digit Unicode character in Bash?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicodelookup.com/&quot;&gt;Unicode Lookup - Convert special characters&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Unicode Lookup is an online reference tool to lookup Unicode and HTML special characters, by name and number, and convert between their decimal, hexadecimal, and octal bases.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unicode.org/charts/&quot;&gt;Unicode Character Code Charts - Find chart by hex code&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ian-albert.com/unicode_chart/&quot;&gt;Unicode Chart&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;My fascination with writing sys­tems gave me the idea to create a poster containing every Unicode character.
Unicode is a method for encoding characters, like ASCII, but it can represent virtually every writing system in the world, not just English.
I estimated I could print the whole thing on about a 36”x36” poster.
Well, my estimates were off.
It turned out to be about 6 feet by 12 feet.
Likewise, the process of creating the poster turned out to be much more involved than I imagined.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unichar.app/web/&quot;&gt;UniChar - Find and utilize Unicode symbols from any browser&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://r12a.github.io/uniview/&quot;&gt;UniView - By Richard Ishida&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://r12a.github.io/uniview/help.html&quot;&gt;UniView Help &amp;amp; User Guide - By Richard Ishida&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://research.swtch.com/utf8&quot;&gt;UTF-8: Bits, Bytes, and Benefits&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://r12a.github.io/applist&quot;&gt;Apps by Richard Ishida&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;These apps are written in HTML and JavaScript, and use Web Standards to work on all major browsers, so you don’t need to install anything.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ftrain.com/unicode&quot;&gt;Unicode browser (Unicode table for you)&lt;/a&gt;
    &lt;blockquote&gt;

      &lt;p&gt;The code for this toy is contained in this page, and is available under both the GPL and MIT licenses.
View source and help yourself.&lt;/p&gt;

      &lt;p&gt;From &lt;a href=&quot;https://www.ftrain.com/unicode-table&quot;&gt;Panel/Unicode table for you&lt;/a&gt;:&lt;/p&gt;

      &lt;p&gt;Here is a simple Unicode browser for people who like looking at characters; you can click on the number below each character to visit its Wikipedia page.&lt;/p&gt;

      &lt;p&gt;Source code:
It’s all on one page (HTML/CSS/JavaScript) and under the GPL/MIT license, so if you have any big ideas go to town.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://qaz.wtf/u/&quot;&gt;Unicode Toys - Unicode Toys&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;em&gt;Unicode Text Converter&lt;/em&gt;
Transliterate plain text (letters, sometimes numbers, sometimes punctuation) to obscure characters from Unicode.&lt;br /&gt;
The output is fully cut-n-pastable text.
This is the toy most visitors here want.
Ŧħɨs 𝔦𝔰 ᴛʜᴇ тоЎ ᵐᵒˢᵗ √ﾉ丂ﾉｲo尺丂 ђєгє ẅäṅẗ⨀&lt;/p&gt;

      &lt;p&gt;&lt;em&gt;Unicode Text Transformations&lt;/em&gt;
Other, more specialized, ways to transform text.&lt;/p&gt;

      &lt;p&gt;&lt;em&gt;Unicode Text Grep&lt;/em&gt;
Grep unicode descriptive names and display matching characters.
All descriptions are punctuation-free ASCII (low bit).
All searches are case insensitive.&lt;/p&gt;

      &lt;p&gt;&lt;em&gt;Show Unicode Character&lt;/em&gt;
Enter a code or character and see the Unicode name.
Use START-STOP to show a range.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://nedbatchelder.com/text/unipain.html&quot;&gt;Pragmatic Unicode - Ned Batchelder - Presentation at PyCon 2012&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://eev.ee/blog/2015/09/12/dark-corners-of-unicode/&quot;&gt;The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tonsky.me/blog/unicode/&quot;&gt;The Absolute Minimum Every Software Developer Must Know About Unicode in 2023 (Still No Excuses!)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Twenty years ago, &lt;a href=&quot;https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/&quot;&gt;Joel Spolsky wrote&lt;/a&gt;:&lt;/p&gt;

      &lt;p&gt;There Ain’t No Such Thing As Plain Text.&lt;/p&gt;

      &lt;p&gt;It does not make sense to have a string without knowing what encoding it uses. You can no longer stick your head in the sand and pretend that “plain” text is ASCII.&lt;/p&gt;

      &lt;p&gt;A lot has changed in 20 years. In 2003, the main question was: what encoding is this?&lt;/p&gt;

      &lt;p&gt;In 2023, it’s no longer a question: with a 98% probability, it’s UTF-8. Finally! We can stick our heads in the sand again!&lt;/p&gt;

      &lt;p&gt;[ . . . ]&lt;/p&gt;

      &lt;p&gt;What’s UTF-8 then?&lt;/p&gt;

      &lt;p&gt;UTF-8 is an &lt;strong&gt;encoding&lt;/strong&gt;. Encoding is how we store code points in memory.&lt;/p&gt;

      &lt;p&gt;The simplest possible encoding for Unicode is &lt;strong&gt;UTF-32&lt;/strong&gt;. It simply stores code points as 32-bit integers. So &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+1F4A9&lt;/code&gt; becomes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;00 01 F4 A9&lt;/code&gt;, taking up four bytes. Any other code point in UTF-32 will also occupy four bytes. Since the highest defined code point is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+10FFFF&lt;/code&gt;, any code point is guaranteed to fit.&lt;/p&gt;

      &lt;p&gt;UTF-16 and UTF-8 are less straightforward, but the ultimate goal is the same: to take a code point and encode it as bytes.&lt;/p&gt;

      &lt;p&gt;Encoding is what you’ll actually deal with as a programmer.&lt;/p&gt;

      &lt;p&gt;How many bytes are in UTF-8?&lt;/p&gt;

      &lt;p&gt;UTF-8 is a &lt;strong&gt;variable-length&lt;/strong&gt; encoding. A code point might be encoded as a sequence of &lt;em&gt;one&lt;/em&gt; &lt;strong&gt;to&lt;/strong&gt; &lt;em&gt;four&lt;/em&gt; bytes.&lt;/p&gt;

      &lt;p&gt;This is how it works:&lt;/p&gt;

      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+-----------------+----------+----------+----------+----------+
| Code point      | Byte 1   | Byte 2   | Byte 3   | Byte 4   |
+-----------------+----------+----------+----------+----------+
| U+0000..007F    | 0xxxxxxx |          |          |          |
| U+0080..07FF    | 110xxxxx | 10xxxxxx |          |          |
| U+0800..FFFF    | 1110xxxx | 10xxxxxx | 10xxxxxx |          |
| U+10000..10FFFF | 11110xxx | 10xxxxxx | 10xxxxxx | 10xxxxxx |
+-----------------+----------+----------+----------+----------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;

      &lt;p&gt;If you combine this with the Unicode table, youll see that English is encoded with 1 byte, Cyrillic, Latin European languages, Hebrew and Arabic need 2, and Chinese, Japanese, Korean, other Asian languages, and Emoji need 3 or 4.&lt;/p&gt;

      &lt;p&gt;[ . . . ]&lt;/p&gt;

      &lt;p&gt;And a couple of important consequences:&lt;/p&gt;

      &lt;ul&gt;
        &lt;li&gt;You CAN’T determine the length of the string by counting bytes.&lt;/li&gt;
        &lt;li&gt;You CAN’T randomly jump into the middle of the string and start reading.&lt;/li&gt;
        &lt;li&gt;You CAN’T get a substring by cutting at arbitrary byte offsets. You might cut off part of the character.&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;Those who do will eventually meet this bad boy: �&lt;/p&gt;

      &lt;p&gt;What’s �?&lt;/p&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+FFFD&lt;/code&gt;, the Replacement Character, is simply another code point in the Unicode table. Apps and libraries can use it when they detect Unicode errors.&lt;/p&gt;

      &lt;p&gt;If you cut half of the code point off, there’s not much left to do with the other half, except displaying an error. That’s when � is used.&lt;/p&gt;

      &lt;p&gt;[ . . . ]&lt;/p&gt;

      &lt;p&gt;An &lt;strong&gt;Extended Grapheme Cluster&lt;/strong&gt; is a sequence of one or more Unicode code points that must be treated as a single, unbreakable character.&lt;/p&gt;

      &lt;p&gt;[ . . . ]&lt;/p&gt;

      &lt;p&gt;Is Unicode hard only because of emojis?&lt;/p&gt;

      &lt;p&gt;Not really. Extended Grapheme Clusters are also used for alive, actively used languages. For example:&lt;/p&gt;

      &lt;ul&gt;
        &lt;li&gt;ö (German) is a single character, but multiple code points (U+006F U+0308).&lt;/li&gt;
        &lt;li&gt;ą́ (Lithuanian) is U+00E1 U+0328.&lt;/li&gt;
        &lt;li&gt;각 (Korean) is U+1100 U+1161 U+11A8.&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;So no, it’s not just about emojis.&lt;/p&gt;

      &lt;p&gt;[ . . . ]&lt;/p&gt;

      &lt;p&gt;What’s sad for us is that the rules defining grapheme clusters change every year as well. What is considered a sequence of two or three separate code points today might become a grapheme cluster tomorrow! There’s no way to know! Or prepare!&lt;/p&gt;

      &lt;p&gt;Even worse, different versions of your own app might be running on different Unicode standards and report different string lengths!&lt;/p&gt;

      &lt;p&gt;But that’s the reality we live in. You don’t really have a choice here. You can’t ignore Unicode or Unicode updates if you want to stay relevant and provide a decent user experience. So, buckle up, embrace, and update.&lt;/p&gt;

      &lt;p&gt;[ . . . ]&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;Before comparing strings or searching for a substring, normalize!&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;[ . . . ]&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;Unicode is locale-dependent&lt;/strong&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://icu.unicode.org/&quot;&gt;ICU-TC – International Components for Unicode - Technical Committee&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/unicode-org/icu/tree/main&quot;&gt;The home of the ICU project source code (https://icu.unicode.org/)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.w3.org/International/questions/qa-what-is-encoding&quot;&gt;Character encodings for beginners - W3C&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/15210532/use-of-use-utf8-gives-me-wide-character-in-print&quot;&gt;Use of ‘use utf8;’ gives me ‘Wide character in print’&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/47940662/how-to-get-rid-of-wide-character-in-print-at&quot;&gt;How to get rid of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Wide character in print at&lt;/code&gt;?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.perl.com/pub/2012/04/perlunicook-standard-preamble.html/&quot;&gt;Perl Unicode Cookbook: The Standard Preamble&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Apr 2, 2012 by Tom Christiansen&lt;/p&gt;

      &lt;p&gt;Editor’s note:
Perl guru Tom Christiansen created and maintains a list of 44 recipes for working with Unicode in Perl 5.
This is the first recipe in the series.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://perldoc.perl.org/perlunicook&quot;&gt;perlunicook - Cookbookish examples of handling Unicode in Perl&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://changelog.complete.org/archives/9938-the-python-unicode-mess&quot;&gt;The Python Unicode Mess&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=18154667&quot;&gt;The Python Unicode Mess - Discussion on Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=9219162&quot;&gt;I Can’t Write My Name in Unicode - Discussion on Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/howto/unicode.html&quot;&gt;Python 3 Unicode HOWTO&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/unicodedata.html&quot;&gt;unicodedata - Unicode Database - Python documentation&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.russellcottrell.com/greek/utilities/unicode_font_utilities.zip&quot;&gt;Unicode font utilities - Russell W. Cottrell - unicode_font_utilities.zip&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;The zip file includes four utilities:&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;
          &lt;p&gt;&lt;a href=&quot;https://www.russellcottrell.com/greek/utilities/UnicodeRanges.htm&quot;&gt;The Unicode Range Viewer&lt;/a&gt;
The Unicode Range Viewer displays 16x16 blocks of Unicode characters with their hex and decimal values.
Navigate through the code charts by using the arrows, going to the code value of a character, or selecting a block.
Optionally, enter the name of a font, without modifiers (such as Liberation Serif, without Regular, Bold, Italic, etc.).
Only the characters in that font will be displayed.
Click a character to enter it into the textarea below, like a virtual keyboard.&lt;/p&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;p&gt;&lt;a href=&quot;https://www.russellcottrell.com/greek/utilities/SurrogatePairCalculator.htm&quot;&gt;The Surrogate Pair Calculator etc.&lt;/a&gt;
A surrogate pair is defined by the Unicode Standard as “a representation for a single abstract character that consists of a sequence of two 16-bit code units, where the first value of the pair is a high-surrogate code unit and the second value is a low-surrogate code unit.”
Since &lt;strong&gt;Unicode&lt;/strong&gt; is a &lt;strong&gt;21-bit&lt;/strong&gt; standard, surrogate pairs are needed by applications that use &lt;strong&gt;UTF-16&lt;/strong&gt;, such as &lt;strong&gt;JavaScript&lt;/strong&gt;, to display characters whose code points are &lt;em&gt;greater than 16-bit&lt;/em&gt;.
(UTF-8, the most popular HTML encoding, uses a more flexible method of representing high-bit characters and does not use surrogate pairs.)&lt;/p&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;p&gt;&lt;em&gt;The Polytonic Greek Virtual Keyboard&lt;/em&gt;
Allows you to type Unicode Greek characters via the keyboard.
Also converts text to either HTML or JavaScript code characters.&lt;/p&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;p&gt;&lt;em&gt;The Greek Number Converter&lt;/em&gt;
Converts numbers to the alphabetic Greek format.&lt;/p&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.russellcottrell.com/greek/technical.htm&quot;&gt;Some technical information about Unicode on the web - Russell W. Cottrell&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicode.link/&quot;&gt;Unicode Visualizer&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Unicode Visualizer is a website with information from the Unicode Character Database.
It also offers a tool that lets you inspect strings and view the breakdown of their codepoints and graphemes.&lt;/p&gt;

      &lt;p&gt;The inspect page lets you paste in any string and learn what it has in it. It can help diagnose issues with encodings, Unicode handling in apps, text filter bypasses, and other Unicode-related tasks.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unicode.link/inspect&quot;&gt;Inspect Page - Unicode Visualizer&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://wichmann.github.io/UnicodeVisualization/&quot;&gt;Unicode Visualization&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/nicolas-raoul/Antisquare&quot;&gt;Antisquare - Dynamically find the right font to avoid missing glyphs (aka glyphlessness, replacement glyph, missing glyph squares, tofu, tofubake, トーフ, トーフ化け, 豆腐化け, 文字化け) &lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://apps.timwhitlock.info/unicode/inspect&quot;&gt;Unicode character inspector - Enter raw text to inspect, or try a hex code or search by name&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.fileformat.info/info/unicode/char/search.htm&quot;&gt;Unicode Character Search - FileFormat.Info&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.fileformat.info/info/unicode/&quot;&gt;Unicode - fileformat.info&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;From Wikipedia:&lt;/p&gt;

      &lt;p&gt;Details of many Unicode characters, including the named, decimal and hexadecimal character reference, showing how it should look and for each, how it looks in one’s browser.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/detomon/utf8-validator&quot;&gt;utf8-validator: Reads and outputs an UTF-8 string by replacing invalid sequences and glyphs with the replacement glyph � (0xFFFD)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://begriffs.com/posts/2019-05-23-unicode-icu.html&quot;&gt;Unicode programming, with examples&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.jeppesn.dk/utf-8.html&quot;&gt;Jeppe’s Unicode page&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This page is UTF-8 encoded.  Take a look at the following character(s): ñ&lt;/p&gt;

      &lt;p&gt;If you see an “n” with a “~” above, your browser understands UTF-8 and you can read this page. If you see something else (typically an “A” with a “~” followed by a plus/minus sign) your browser does not understand UTF-8 and you should find yourself a better browser.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Byte_order_mark&quot;&gt;Byte order mark (BOM) - Wikipedia&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Endianness&quot;&gt;Endianness - Wikipedia&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;In computing, endianness is the order in which bytes within a word of digital data are transmitted over a data communication medium or addressed (by rising addresses) in computer memory, counting only byte significance compared to earliness.
Endianness is primarily expressed as big-endian (BE) or little-endian (LE), terms introduced by Danny Cohen into computer science for data ordering in an Internet Experiment Note published in 1980.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.reedbeta.com/blog/programmers-intro-to-unicode/&quot;&gt;A Programmer’s Introduction to Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20150219015700/https://richardharr.is/unicode-in-five-minutes.html&quot;&gt;Unicode in Five Minutes - archived from the original on Feb 19, 2015&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20150219032207/http://richardharr.is/all-sorts-of-things-you-can-get-wrong-in-unicode-and-why.html&quot;&gt; All sorts of things you can get wrong in Unicode, and why - archived from the original on Feb 19, 2015&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unicodebook.readthedocs.io/index.html&quot;&gt;Programming with Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://wiki.grml.org/doku.php?id=utf8&quot;&gt;utf8 on grml - GrmlWiki&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.unifont.org/fontguide/&quot;&gt;Unicode Font Guide For Free/Libre Open Source Operating Systems&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://dmitripavlutin.com/what-every-javascript-developer-should-know-about-unicode/&quot;&gt;What every JavaScript developer should know about Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Open-source_Unicode_typefaces&quot;&gt;Open-source Unicode typefaces&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;There are Unicode typefaces which are open-source and designed to contain glyphs of all Unicode characters, or at least a broad selection of Unicode scripts. 
[ . . . ]
Unicode fonts in modern formats such as OpenType can in theory cover multiple languages by including multiple glyphs per character, though very few actually cover more than one language’s forms of the unified Han characters.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jkorpela.fi/chars/spaces.html&quot;&gt;Unicode spaces&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This document lists the various space characters in &lt;a href=&quot;https://www.jkorpela.fi/chars.html#10646&quot;&gt;Unicode&lt;/a&gt;.
For a description, consult &lt;a href=&quot;http://www.unicode.org/versions/latest/ch06.pdf&quot;&gt;Chapter 6 Writing Systems and Punctuation - The Unicode Standard Core Specification&lt;/a&gt; and block description &lt;a href=&quot;http://www.unicode.org/charts/PDF/U2000.pdf&quot;&gt;General Punctuation&lt;/a&gt; in the Unicode standard.
This document also lists three characters that have no width and can thus be described as no-width spaces.&lt;/p&gt;

      &lt;p&gt;The third column of the following table shows the appearance of the space character, in the sense that the cell contains the words “foo” and “bar” in bordered boxes separated by that character.
&lt;em&gt;It is possible that your browser does not present all the space characters properly&lt;/em&gt;.
This depends on the font used, on the browser, and on the fonts available in the system.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://manuel-strehl.de/digraphs_in_firefox&quot;&gt;What are Digraphs? - Digraphs in Firefox (as seen in Vim) - Manuel Strehl&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;I really became addicted to Vim’s digraph feature. It’s a simple but elegant way to input higher Unicode by entering combinations of ASCII characters. In insert mode, you press Ctrl-K followed by a mnemonic two-character sequence and Vim inserts the corresponding character from the digraphs table.&lt;/p&gt;

      &lt;p&gt;The Wikipedia has an article about different input methods on several OSes and programs. In my opinion, the digraphs are one of the most elegant.&lt;/p&gt;

      &lt;p&gt;All existing digraphs in Vim can be listed with the :digraphs command. With two minor exceptions this table corresponds to all the two-letter digraphs standardized in RFC 1345.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Unicode_input&quot;&gt;Unicode input&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;In the Vim editor, in insert mode, the user first types &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;u&lt;/code&gt; (for codepoints &lt;strong&gt;up to 4 hex digits long&lt;/strong&gt;; using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shift&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U&lt;/code&gt; for longer), then types in the hexadecimal number of the symbol or character desired, and it will be converted into the symbol. (On Microsoft Windows, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Q&lt;/code&gt; may be required instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt;.)&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.w3.org/Math/characters/unicode.xml&quot;&gt;LaTeX names mapped to Unicode entities - This file is a collection of information about how to map Unicode entities to LaTeX&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This file is a collection of information about how to map Unicode entities to LaTeX, and various SGML/XML entity sets (ISO and MathML). A Unicode character may be mapped to several entities.&lt;/p&gt;

      &lt;p&gt;Designed by Sebastian Rahtz in conjunction with Barbara Beeton for the STIX project.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://shapecatcher.com/index.html&quot;&gt;Shapecatcher - Online tool to find Unicode characters by drawing them - Unicode Character Recognition&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.branah.com/unicode-converter&quot;&gt;Unicode Converter - Decimal, text, URL, and unicode converter&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;From Wikipedia:&lt;/p&gt;

      &lt;p&gt;Conversion between copy-pasteable characters, Unicode notation, html, percent encodings and other formats, helpful when trying to enter or interpret characters.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.alanwood.net/unicode/index.html&quot;&gt;Alan Wood’s Unicode resources - Unicode and multilingual support in HTML, fonts, Web browsers and other applications&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;From Wikipedia:&lt;/p&gt;

      &lt;p&gt;Comprehensive resource with character test pages for all Unicode ranges, as well as OS-specific Unicode support information and links to fonts and utilities.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://luc.devroye.org/fonts.html&quot;&gt;On snot and fonts&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Type design, typography, typefaces and fonts: These pages were permanently clo
sed on May 6, 2022. An encyclopedic treatment of type design, typefaces and font
s. This site is also known as on snot and fonts. &lt;a href=&quot;https://luc
.devroye.org/fonts.html&quot;&gt;Full length pages&lt;/a&gt;. &lt;a href=&quot;https://luc.devroye.org/fonts-index.html&quot;&gt;Index pages&lt;/a&gt;.&lt;/p&gt;

      &lt;p&gt;&lt;a href=&quot;https://luc.devroye.org/about.html&quot;&gt;About&lt;/a&gt;:&lt;/p&gt;

      &lt;p&gt;The content&lt;/p&gt;

      &lt;p&gt;These encyclopedic pages offer over 90,000 entries with information on type design, type designers, the history and choice of fonts and typefaces, the mathematics of type design, font software, and typographic matters in general. The subjects are cross-classified by country, language, tag, style, and category. Each item also has a dedicated subpage with additional images not shown on the main pages [click on pink dots like ⦿]. I started this work in 1993. I halted it on May 6, 2022, after a terrible bicycle accident.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://graphemica.com/&quot;&gt;Graphemica - For people who ♥ letters, numbers and symbols - A great resource for finding Unicode for especially tricky special characters&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://dencode.com/&quot;&gt;DenCode - Encoding &amp;amp; Decoding Online Tools&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;DenCode is a web application for encoding and decoding values.
e.g. HTML Escape / URL Encoding / Base64 / MD5 / SHA-1 / CRC32 / and many other String, Number, DateTime, Color, Cipher, Hash formats&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/mozq/dencode-web&quot;&gt;DenCode - source code on GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://babelstone.co.uk/Unicode/whatisit.html&quot;&gt;What Unicode character is this? (Enter character or string of characters to convert)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Supports all 154,998 named characters defined in &lt;a href=&quot;https://www.unicode.org/versions/Unicode16.0.0/&quot;&gt;Unicode 16.0&lt;/a&gt; (released September 2024). Pass through a string of Unicode characters in the URL with the “string” parameter, e.g. &lt;a href=&quot;https://www.babelstone.co.uk/​Unicode/​whatisit.html?​string=🤦Q☃á€香&quot;&gt;https://www.babelstone.co.uk/​Unicode/​whatisit.html?​string=🤦Q☃á€香&lt;/a&gt;. See &lt;a href=&quot;https://babelstone.co.uk/Unicode/whatisit_doc.html&quot;&gt;here&lt;/a&gt; for additional documentation.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://babelstone.co.uk/Unicode/whatisit_doc.html&quot;&gt;Documentation for What Unicode character is this?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicode.scarfboy.com/&quot;&gt;Unicode lookup - Unicode search tool - browse around and search for Unicode characters, see properties, transformations&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Character set up to date to Unicode 12. The tool as a whole is a new version, public in early stages. As I work on it, it will be missing features, occasionally its data, and sometimes give error&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://babelstone.co.uk/Unicode/babelmap.html&quot;&gt;BabelMap Online (Unicode 16.0)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://babelstone.co.uk/Unicode/text.html&quot;&gt;Unicode Text Styler&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://babelstone.co.uk/Unicode/unicode.html&quot;&gt;Unicode 16.0 Slide Show&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;154,998 characters in 332 blocks covering 168 scripts.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.babelstone.co.uk/Fonts/index.html&quot;&gt;BabelStone Unicode Fonts&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/bits/UTF-8-Unicode-Test-Documents&quot;&gt;A great set of UTF-8 test documents – Every Unicode character/codepoint in files and a file generator&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Every Unicode code point&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;While building and testing code meant to properly handle arbitrary UTF-8 strings, you might want to make use of some test documents that include every possible Unicode codepoint. These would include control codes like NULL, EOT, XOFF, CANcel and the never-seen-used DC2, all of 7-bit US-ASCII and explode in volume to cover the deepest recesses of Unicode. Here are those documents.&lt;/p&gt;

      &lt;p&gt;You never know what garbage people, fuzzers or errors will throw at your system, so here you’ll find the gamut of representable characters / code points to test with.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://symbl.cc/&quot;&gt;SYMBL - Symbols, Emojis, Hieroglyphs, Scripts, Alphabets, and the entire Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.wazu.jp/index.html&quot;&gt;WAZU Japan’s Gallery of Unicode Fonts&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Background&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;The Gallery of Unicode Fonts was created by David McCreedy and Mimi Weiss in March, 2004 as part of their &lt;a href=&quot;http://www.travelphrases.info/&quot;&gt;Four Essential Travel Phrases&lt;/a&gt; website.&lt;/p&gt;

      &lt;p&gt;In October, 2006 the site was ceded to WAZU JAPAN.&lt;/p&gt;

      &lt;p&gt;This Gallery displays samples of available Unicode fonts by writing system (roughly equivalent to Unicode ranges).
These are primarily Windows fonts, although some may work on other platforms.&lt;/p&gt;

      &lt;p&gt;Without doubt &lt;a href=&quot;http://www.alanwood.net/unicode/&quot;&gt;Alan Wood’s Unicode Resources&lt;/a&gt; is the single most useful website on using Unicode and the fonts that support it.&lt;/p&gt;

      &lt;p&gt;So why create another Unicode font website? So that when you’re looking for a Windows Unicode font you can quickly and easily see what the font looks like.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://gist.github.com/endolith/157796&quot;&gt;Unicode kaomoji smileys emoticons emoji - Has weird right-to-left characters&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://lennyfacepapa.me/&quot;&gt;Lenny Face - All text faces copy and paste&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;What does the Lenny face mean?&lt;/p&gt;

      &lt;p&gt;Lenny Face ( ͡° ͜ʖ ͡°) is a text based emoji created with different types of Unicode code characters and text symbols. The Lenny Faces are often used to express the feeling, emotion, nature by using these emoticon faces. These types of Lenny Faces are usually used on social media networks like WhatsApp, Tumblr, Facebook, Twitter, Snapchat, Pinterest, Reddit, Instagram or other social media. It is popular by other names in different countries: “keyboard faces”, “Deg Deg face”,  “Kawaii face, “ASCII Faces” “Kaomoji” or “Le Lenny Face”.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.fancytextpro.com/LennyFace&quot;&gt;2000+ Lenny Faces ( ͡° ͜ʖ ͡°) Copy and Paste (⌐■_■)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;2000+ Lenny Faces copy and paste from one place including, Shrugging Lenny ¯_(ツ)&lt;em&gt;/¯ Angry (◣&lt;/em&gt;◢) Excited ٩(^ᴗ^)۶ Glasses (⌐■_■) happy ( ͡° ͜ʖ ͡°) Lenny faces hundreds of more.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://text.makeup/#%C2%AF%5C_(%E3%83%84)_%2F%C2%AF&quot;&gt;About Shrug emotiocn (Shruggie) - from text.makeup:&lt;/a&gt;
    &lt;blockquote&gt;

      &lt;p&gt;Emoticon&lt;/p&gt;

      &lt;p&gt;Emoticon is a convention, invented in the 1980s, of representing human faces or emotions by a combination of punctuation characters. It’s been largely supplanted by emoji today. Its Japanese equivalent is kaomoji. &lt;a href=&quot;https://en.wikipedia.org/wiki/Emoticon&quot;&gt;Learn more on Wikipedia&lt;/a&gt;&lt;/p&gt;

      &lt;p&gt;Shrug emoticon (shruggie)&lt;/p&gt;

      &lt;p&gt;One of the most popular emoticons. Uses a Japanese katakana character as the face. &lt;a href=&quot;https://archive.ph/FjktZ&quot;&gt;Learn more on The Atlantic - archived from the original on Jul 29, 2020&lt;/a&gt;&lt;/p&gt;

      &lt;p&gt;Homoglyph (a.k.a. homograph)&lt;/p&gt;

      &lt;p&gt;There are other characters in Unicode that look similar or identical to this one. This can sometimes be used nefariously to &lt;a href=&quot;https://en.wikipedia.org/wiki/IDN_homograph_attack&quot;&gt;make people click on a wrong domain that looks like the one you expect&lt;/a&gt;, to &lt;a href=&quot;https://passkwall.net/homoglyphs-and-bypassing-web-application-controls/&quot;&gt;fool a parser&lt;/a&gt; - and sometimes used creatively. &lt;a href=&quot;https://en.wikipedia.org/wiki/Homoglyph&quot;&gt;Learn more on Wikipedia&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://skull-emoji.com/&quot;&gt;Skull Emoji - Skull and crossbones emoji&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;What does the skull emoji mean?&lt;/p&gt;

      &lt;p&gt;The skull emoji (💀) is typically used to represent death or danger. It is often used to indicate something is deadly serious or to express a dark or macabre sense of humor. The skull can also be used as a reminder of our own mortality and to reflect on the fragility of life.&lt;/p&gt;

      &lt;p&gt;It’s also commonly used as a way to express a sense of danger or risk. For example, someone might use the skull emoji when talking about a risky activity like skydiving.
It’s also used in Halloween context, to express the spooky atmosphere, to represent the death of a character or situation.&lt;/p&gt;

      &lt;p&gt;It’s worth noting that the meaning of emojis can be interpreted differently based on the context and culture, so it’s always good to clarify the context of the message if there is any confusion.&lt;/p&gt;

      &lt;p&gt;How to type skull emoji?&lt;/p&gt;

      &lt;p&gt;There are several ways to type the skull emoji, depending on the device you’re using:&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;On most smartphones and computers, you can simply use your emoji keyboard to select the skull emoji. On an iPhone, for example, you can access the emoji keyboard by tapping the globe icon next to the space bar. On an Android device, you can access the emoji keyboard by tapping the smiley face icon in your keyboard.&lt;/li&gt;
        &lt;li&gt;You can also type the skull emoji by using its Unicode code point. The Unicode code point for the skull emoji is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+1F480&lt;/code&gt;. On some devices, you can type this code point by holding down the “Alt” key and typing “1F480” on the numeric keypad (while using the Unicode hexadecimal input method).&lt;/li&gt;
        &lt;li&gt;If your device does not support the above methods, you can copy and paste the skull emoji from a website that provides a list of emojis, such as Emojipedia. Simply copy the emoji from the website and paste it into your message or document.&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.thefancytext.com/&quot;&gt;Fancy Text generator and Font Generator&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Font generator (font maker) tools have drastically changed the method of presenting text most stylishly and appealingly just copy and paste fonts and bingo.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://wiki.gnome.org/Apps/Gucharmap&quot;&gt;gucharmap (GNOME Unicode Character Map - Unicode/ISO10646 character map and font viewer)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.kde.org/stable5/en/kcharselect/kcharselect/index.html&quot;&gt;KCharSelect - Character selector for KDE&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;KCharSelect is a tool to select special characters from all installed fonts and copy them in different format (Plain text, Unicode or HTML) into the clipboard.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.i18nguy.com/unicode/unicode-example-intro.html&quot;&gt;Introduction to: Examples Of Unicode Usage For Business Applications&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://util.unicode.org/UnicodeJsps/index.jsp&quot;&gt;Unicode utilites - on Unicode.org&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.johndcook.com/blog/2024/01/11/replacement-character/&quot;&gt;A valid character to represent an invalid character&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;You may have seen a web page with the symbol � scattered throughout the text, especially in older web pages. What is this symbol and why does it appear unexpected?&lt;/p&gt;

      &lt;p&gt;The symbol we’re discussing is a bit of a paradox. It’s the (valid) Unicode character to represent an invalid Unicode character. If you just read the first sentence of this post, without inspecting the code point values, you can’t tell whether the symbol appears because I’ve made a mistake, or whether I’ve deliberately included the symbol.&lt;/p&gt;

      &lt;p&gt;The symbol in question is U+FFFD, named REPLACEMENT CHARACTER, a perfectly valid Unicode character. But unlike this post, you’re most likely to see it when the author did not intend for you to see it. What’s going on?&lt;/p&gt;

      &lt;p&gt;It all has to do with character encoding.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.johndcook.com/blog/2024/01/11/a-caret-euro-trademark/&quot;&gt;Why “a caret, euro, trademark” â€™ in a file?&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Why might you see â€™ in the middle of an otherwise intelligible file? The reason is very similar to the reason you might see �, which I explained in the &lt;a href=&quot;https://www.johndcook.com/blog/2024/01/11/replacement-character/&quot;&gt;previous post&lt;/a&gt;. You might want to read that post first if you’re not familiar with Unicode and character encodings.&lt;/p&gt;

      &lt;p&gt;It all has to do with an encoding error, probably. Not necessarily, since, for example, I deliberately put â€™ in the opening sentence. But assuming it is an error, it’s likely an encoding error.&lt;/p&gt;

      &lt;p&gt;But it’s the opposite of the � error. The � occurs when non- UTF-8 text has been declared (or implicitly interpreted as) Unicode. In particular, you can run into this error if text encoded in ISO 8859-1 is interpreted as as UTF-8.&lt;/p&gt;

      &lt;p&gt;The â€™ sequence is usually the opposite: UTF-8 encoded text is being interpreted as Windows-1252 (a.k.a. CP-1252) encoded text. In particular, a single quote (U+2019) encoded in UTF-8 has been interpreted as the Windows-1252 text â€™.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Fallback_font&quot;&gt;Fallback font - Wikipedia&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;A fallback font is a reserve typeface containing symbols for as many Unicode characters as possible. When a display system encounters a character that is not part of the repertoire of any of the other available fonts, a symbol from a fallback font is used instead. Typically, a fallback font will contain symbols representative of the various types of Unicode characters.&lt;/p&gt;

      &lt;p&gt;Systems that do not offer a fallback font typically display black or white rectangles, question marks, the Unicode Replacement Character (U+FFFD), or nothing at all, in place of missing characters. Placing one or more fallback fonts at the end of a list of preferred fonts ensures that there are no missing characters.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://eev.ee/blog/2015/09/12/dark-corners-of-unicode/&quot;&gt;Dark corners of Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/RoelN/Font-Falsehoods&quot;&gt;Font Falsehoods - Falsehoods programmers believe about fonts&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.dampfkraft.com/ghost-characters.html&quot;&gt;A Spectre is Haunting Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://lord.io/text-editing-hates-you-too/&quot;&gt;Text Editing Hates You Too&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://faultlore.com/blah/text-hates-you/&quot;&gt;Text Rendering Hates You&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=41485001&quot;&gt;Bitten by Unicode aka Bitten by bad Unicode usage - Discussion on Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://pyatl.dev/2024/09/01/bitten-by-unicode/&quot;&gt;Bitten by Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://blog.poisson.chat/posts/2024-10-05-unicode-shenanigans.html&quot;&gt;Unicode shenanigans: Martine Ã©crit en UTF-8&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=41752023&quot;&gt;Unicode shenanigans: Martine Ã©crit en UTF-8 - Discussion on Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.datafix.com.au/BASHing2/2024-07-19.html&quot;&gt;Mojibake, anyone? - BASHing data 2&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.datafix.com.au/BASHing2/2024-07-19.html#1&quot;&gt;A series of posts on mojibake - BASHing data 2&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Previous posts about mojibake:&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&quot;https://www.datafix.com.au/BASHing/2018-08-06.html&quot;&gt;2018-08-06: Mojibake detective work&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://www.datafix.com.au/BASHing/2019-07-05.html&quot;&gt;2019-07-05: Return of the mojibake detective&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://www.datafix.com.au/BASHing/2020-04-01.html&quot;&gt;2020-04-01: More mojibake fun&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://www.datafix.com.au/BASHing/2020-12-16.html&quot;&gt;2020-12-16: Mojibake bonanza&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://www.datafix.com.au/BASHing/2021-05-19.html&quot;&gt;2021-05-19: Mojibake madness&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;https://www.datafix.com.au/BASHing2/2024-02-09.html&quot;&gt;2024-02-09: Mojibake with 2 hearts and 52 bytes&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.benfrederickson.com/unicode-insanity/&quot;&gt;Unicode is Kind of Insane&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.rfc-editor.org/old/EOLstory.txt&quot;&gt;The End-of-Line Story – RFC Editor (2004)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tedclancy.wordpress.com/2015/06/03/which-unicode-character-should-represent-the-english-apostrophe-and-why-the-unicode-committee-is-very-wrong/&quot;&gt;Which Unicode character should represent the English apostrophe? (And why the Unicode committee is very wrong)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;command -V&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;type&lt;/code&gt; is POSIX-compatible, while in &lt;strong&gt;tcsh&lt;/strong&gt;, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ps $$
  PID TT  STAT    TIME COMMAND
27010 17  Ss   0:00.71 -csh (csh)

% printf %s\\n &quot;$SHELL&quot;
/bin/csh

% command -V csh; type csh; which csh; whereis -a csh; where csh
csh is /bin/csh
csh is /bin/csh
/bin/csh
csh: /bin/csh /usr/share/man/man1/csh.1.gz
/bin/csh

% command -V tcsh; type tcsh; which tcsh; whereis -a tcsh; where tcsh
tcsh is /bin/tcsh
tcsh is /bin/tcsh
/bin/tcsh
tcsh: /bin/tcsh /usr/share/man/man1/tcsh.1.gz
/bin/tcsh

% ls -lh /usr/share/man/man1/csh.1.gz /usr/share/man/man1/tcsh.1.gz
-r--r--r--  2 root wheel   65K Jul 27  2022 /usr/share/man/man1/csh.1.gz
-r--r--r--  2 root wheel   65K Jul 27  2022 /usr/share/man/man1/tcsh.1.gz
 
% diff /usr/share/man/man1/csh.1.gz /usr/share/man/man1/tcsh.1.gz

% ls -lh /bin/csh /bin/tcsh
-r-xr-xr-x  2 root wheel  432K Apr  8 13:31 /bin/csh
-r-xr-xr-x  2 root wheel  432K Apr  8 13:31 /bin/tcsh
 
% diff /bin/csh /bin/tcsh

% csh --version
tcsh 6.22.04 (Astron) 2021-04-26 (x86_64-amd-FreeBSD) options wide,nls,dl,al,kan,sm,rh,color,filec
 
% tcsh --version
tcsh 6.22.04 (Astron) 2021-04-26 (x86_64-amd-FreeBSD) options wide,nls,dl,al,kan,sm,rh,color,filec

% /bin/csh --version
tcsh 6.22.04 (Astron) 2021-04-26 (x86_64-amd-FreeBSD) options wide,nls,dl,al,kan,sm,rh,color,filec
 
% /bin/tcsh --version
tcsh 6.22.04 (Astron) 2021-04-26 (x86_64-amd-FreeBSD) options wide,nls,dl,al,kan,sm,rh,color,filec
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% builtins 
:          @          alias      alloc      bg         bindkey    break
breaksw    builtins   case       cd         chdir      complete   continue
default    dirs       echo       echotc     else       end        endif
endsw      eval       exec       exit       fg         filetest   foreach
glob       goto       hashstat   history    hup        if         jobs
kill       limit      log        login      logout     ls-F       nice
nohup      notify     onintr     popd       printenv   pushd      rehash
repeat     sched      set        setenv     settc      setty      shift
source     stop       suspend    switch     telltc     termname   time
umask      unalias    uncomplete unhash     unlimit    unset      unsetenv
wait       where      which      while      
 
% command -V builtins; type builtins; which builtins; whereis -a builtins; where builtins
builtins: not found
builtins: not found
builtins: shell built-in command.
builtins: /usr/share/man/man1/builtins.1.gz
builtins is a shell built-in
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://superuser.com/questions/351889/what-is-the-unix-command-to-find-out-what-executable-file-corresponds-to-a-given&quot;&gt;What is the unix command to find out what executable file corresponds to a given command?&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;For the &lt;strong&gt;T C Shell&lt;/strong&gt;, &lt;strong&gt;tcsh&lt;/strong&gt;, the built-in is the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt; command - not to be confused with any external command by that name:&lt;/p&gt;

      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% which ls
ls: aliased to ls-F
% which \ls
/bin/ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/85249/why-not-use-which-what-to-use-then&quot;&gt;Why not use “which”? What to use then?&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Comment by Stéphane Chazelas May 21, 2014:
 yes, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; (and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt; is still a csh &lt;em&gt;script&lt;/em&gt; on &lt;em&gt;most commercial Unices&lt;/em&gt;) does read &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.cshrc&lt;/code&gt; when &lt;em&gt;non-interactive&lt;/em&gt;.
That’s why you’ll notice csh scripts usually start with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#!/bin/csh -f&lt;/code&gt;.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt; does not because it &lt;em&gt;aims&lt;/em&gt; to give you the aliases because it’s meant as a tool for (interactive) users of csh.
POSIX shells users have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;command -v&lt;/code&gt;.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;History&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;The early Unix shells until the late 70s had no functions or aliases.
Only the traditional looking up of executables in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$PATH&lt;/code&gt;.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; introduced aliases around 1978 (though &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; was first released in 2BSD, in May 1979), and also the processing of a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.cshrc &lt;/code&gt;for users to customize the shell (every shell, as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt;, reads &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.cshrc&lt;/code&gt; even when not interactive like in scripts).&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; got a lot more popular than the Bourne shell as (though it had an awfully worse syntax than the Bourne shell) it was adding a lot of more convenient and nice features for interactive use.&lt;/p&gt;

      &lt;p&gt;In 3BSD (1980), a &lt;a href=&quot;https://github.com/dspinellis/unix-history-repo/blob/BSD-3/usr/ucb/which&quot;&gt;which csh script&lt;/a&gt; was added for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; users to help identify an executable, and it’s a hardly different script you can find as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt; on many &lt;em&gt;commercial Unices&lt;/em&gt; nowadays (like Solaris, HP/UX, AIX or Tru64).&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;Here you go: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt; came first for the most popular shell at the time (and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; was still popular until the mid-90s), which is the main reason why it got documented in books and is still widely used.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;A similar functionality was not added to the Bourne shell until 1984 in SVR2 with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;type&lt;/code&gt; builtin command.
The fact that it is &lt;strong&gt;builtin&lt;/strong&gt; (as opposed to an &lt;strong&gt;external script&lt;/strong&gt;) means that it can give you the right information (to some extent) as it has access to the internals of the shell.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt; csh script meanwhile was removed from NetBSD (as it was builtin in tcsh and of not much use in other shells), and the functionality added to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;whereis&lt;/code&gt; (when invoked as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;whereis&lt;/code&gt; behaves like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt; except that it only looks up executables in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$PATH&lt;/code&gt;.
In OpenBSD and FreeBSD, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;which&lt;/code&gt; was also changed to one written in C that looks up commands in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$PATH&lt;/code&gt; only.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/592620/how-can-i-check-if-a-program-exists-from-a-bash-script&quot;&gt;How can I check if a program exists from a Bash script?&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Answered by user lhunath on Mar 24, 2009 - Edited by user Daniel Kaplan on Sep 12, 2023:&lt;/p&gt;

      &lt;p&gt;. . . 
POSIX compatible:&lt;/p&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;command -v &amp;lt;the_command&amp;gt;&lt;/code&gt;
. . .&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;[2] For example, on my FreeBSD 14 system, certain emojis were missing or not displaying correctly in Mozilla Firefox web browser. On the following sites some emojis, especially emoji ZWJ (ZERO WIDTH JOINER) sequences, were not displaying; that is, there were blank spaces in their places.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://emojis.wiki/&quot;&gt;https://emojis.wiki/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://getemoji.com/&quot;&gt;https://getemoji.com/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://emojipedia.org/&quot;&gt;https://emojipedia.org/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://emojiterra.com/&quot;&gt;https://emojiterra.com/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://openmoji.org/&quot;&gt;https://openmoji.org/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://emojikitchen.com/&quot;&gt;https://emojikitchen.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I fixed it by uninstalling (deinstalling) Noto Fonts family for emoji (package name on FreeBSD: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;noto-emoji&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg remove noto-emoji
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Others reported that they fixed it by:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;copying &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TwemojiMozilla.ttf&lt;/code&gt; font file to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.fonts&lt;/code&gt; directory (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cp -i /usr/local/lib/firefox/fonts/TwemojiMozilla.ttf ~/.fonts&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;preventing the Mozilla font interfering with their system emoji font, by going to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;about:config&lt;/code&gt; in Firefox and changing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gfx.font_rendering.opentype_svg.enabled&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;false&lt;/code&gt; or doing the opposite of the previous step; that is, removing 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/lib/firefox/fonts/TwemojiMozilla.ttf&lt;/code&gt; in FreeBSD (or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/lib/firefox/fonts/TwemojiMozilla.ttf&lt;/code&gt; in Linux)&lt;/li&gt;
  &lt;li&gt;by ignoring Firefox’s Twemoji font for emojis and using the system font for emojis - by going to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;about:config&lt;/code&gt; in Firefox and changing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;font.name-list.emoji&lt;/code&gt; from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Twemoji Mozilla&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;emoji&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;References for this:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.opensuse.org/Emoji&quot;&gt;Emoji - openSUSE Wiki&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Install colored emoji fonts&lt;/p&gt;

      &lt;p&gt;openSUSE provides the following colored emoji fonts:&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;Noto Color Emoji (noto-coloremoji-fonts), the default emoji font of most Android smart phones.&lt;/li&gt;
        &lt;li&gt;Emoji One (emojione-color-font), an open source emoji project with best Unicode coverage.
Note: Emoji One is deprecated and was replaced by JoyPixels.&lt;/li&gt;
        &lt;li&gt;Twitter Emoji (twemoji-color-font), used by Twitter website and mobile applications.&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;You can install &lt;strong&gt;one&lt;/strong&gt; of them. There is &lt;em&gt;no need to install multiple emoji fonts&lt;/em&gt; and it &lt;em&gt;may cause problems&lt;/em&gt;.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;Firefox emoji font configuration&lt;/p&gt;

      &lt;p&gt;Firefox comes with &lt;strong&gt;built-in&lt;/strong&gt; emoji font: &lt;strong&gt;Twemoji Mozilla&lt;/strong&gt;. And it is used &lt;em&gt;by default&lt;/em&gt;. To change it to your system emoji font, go to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;about:config&lt;/code&gt; page, search &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;font.name-list.emoji&lt;/code&gt; and change it to the emoji font name your would like to use.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.freebsd.org/threads/emoji-not-displayed-or-overlapping-text.84951/&quot;&gt;Solved - Emoji not displayed or overlapping text - The FreeBSD Forums&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://emojipedia.org/emoji-zwj-sequence&quot;&gt;Emoji ZWJ Sequence&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/Firefox#Font_troubleshooting&quot;&gt;Firefox Font Troubleshooting - ArchWiki (Arch Linux Wiki)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Firefox has a setting which determines how many replacements it will allow from Fontconfig. To allow it to use all your replacement rules, change &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gfx.font_rendering.fontconfig.max_generic_substitutions&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127&lt;/code&gt; (the highest possible value).&lt;/p&gt;

      &lt;p&gt;Firefox ships with the &lt;em&gt;Twemoji Mozilla&lt;/em&gt; font. To use the system emoji font, set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;font.name-list.emoji&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;emoji&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;about:config&lt;/code&gt;. Additionally, to prevent the Mozilla font interfering with your system emoji font, change &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gfx.font_rendering.opentype_svg.enabled&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;false&lt;/code&gt; or remove &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/lib/firefox/fonts/TwemojiMozilla.ttf&lt;/code&gt;.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://old.reddit.com/r/linux/comments/gs83sj/twemoji_confs/&quot;&gt;Twemoji Confs - Reddit (self.linux)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Comment by es20490446e[S]:&lt;/p&gt;

      &lt;p&gt;Probably fontconfig was never designed with emoji in mind, where a specific set of glyphs should take over any other used font in the system.
So figuring out how to do that got too messy for humans.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;Comment by xtifr: Do need the Noto fonts, but those are included, and don’t need any special configuration. Just run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;apt install fonts-noto&lt;/code&gt;.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;Comment by WhyNotHugo: I did en up taking a different approach though; ignore non-emojis glyphs for Twemoji, and make it the first font to be used: 
&lt;a href=&quot;https://web.archive.org/web/20200702074415/https://github.com/WhyNotHugo/sysconfig/commit/f6ed896b983db03da0beffc0e92891dbca384e31#diff-8daa883c9aa70cb4d7a400fc85f298d8&quot;&gt;Configure Twemoji to be globally used for emoji - Archived from the original on Jul 2, 2020&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;[3] On my FreeBSD 14 system, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv -l&lt;/code&gt; command produced different output with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; from base install versus &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; from packages.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv -l | wc -l
     216
 
% iconv -l | grep -i latin | wc -l
      12
 
% iconv -l | grep -i latin1 | wc -l
       2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; on FreeBSD 14:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-l    Lists available codeset names.  Note that not all combinations of
      from_name and to_name are valid.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% locate iconv | grep man | wc -l
      22

% locate iconv | grep man | grep man1 | wc -l
       3
 
% locate iconv | grep man | grep -v jail | grep -v external | grep man1 
/usr/local/lib/perl5/5.36/perl/man/man1/piconv.1.gz
/usr/local/share/man/man1/iconv.1.gz
/usr/share/man/man1/iconv.1.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man iconv | grep -i list
     -l    Lists available codeset names.  Note that not all combinations of
 
% man /usr/share/man/man1/iconv.1.gz | head -1
ICONV(1)                FreeBSD General Commands Manual               ICONV(1)

% man /usr/share/man/man1/iconv.1.gz | grep -i list
     -l    Lists available codeset names.  Note that not all combinations of
 
% man /usr/local/share/man/man1/iconv.1.gz | head -1
ICONV(1)                   Linux Programmer&apos;s Manual                  ICONV(1)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man /usr/local/share/man/man1/iconv.1.gz | grep -n -i list
19:       implementation, they are listed in the iconv_open(3) manual page.
69:       The iconv -l or iconv --list command lists the names of the supported
72:       whitespace, and alias names of an encoding are listed on the same line
88:              lists the supported encodings.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man /usr/local/share/man/man1/iconv.1.gz | sed -n 69,72p
       The iconv -l or iconv --list command lists the names of the supported
       encodings, in a system dependent format. For the libiconv
       implementation, the names are printed in upper case, separated by
       whitespace, and alias names of an encoding are listed on the same line
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -V iconv; type iconv; which iconv; whereis -a iconv
iconv is /usr/bin/iconv
iconv is /usr/bin/iconv
/usr/bin/iconv
iconv: /usr/bin/iconv /usr/local/bin/iconv /usr/share/man/man1/iconv.1.gz /usr/local/share/man/man1/iconv.1.gz /usr/share/man/man3/iconv.3.gz /usr/local/share/man/man3/iconv.3.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% locate iconv | grep bin 
/usr/bin/iconv
/usr/local/bin/iconv
/usr/local/bin/piconv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff /usr/bin/iconv /usr/local/bin/iconv
Binary files /usr/bin/iconv and /usr/local/bin/iconv differ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% /usr/bin/iconv -l | wc -l
     216
 
% /usr/local/bin/iconv -l | wc -l
     196
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg which /usr/bin/iconv
/usr/bin/iconv was not found in the database
 
% pkg which /usr/local/bin/iconv
/usr/local/bin/iconv was installed by package libiconv-1.17_1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query %Fp libiconv-1.17_1
/usr/local/bin/iconv
/usr/local/include/iconv.h
/usr/local/include/libcharset.h
/usr/local/include/localcharset.h
/usr/local/lib/libcharset.a
/usr/local/lib/libcharset.so
/usr/local/lib/libcharset.so.1
/usr/local/lib/libcharset.so.1.0.0
/usr/local/lib/libiconv.a
/usr/local/lib/libiconv.so
/usr/local/lib/libiconv.so.2
/usr/local/lib/libiconv.so.2.6.1
/usr/local/share/doc/libiconv/iconv.1.html
/usr/local/share/doc/libiconv/iconv.3.html
/usr/local/share/doc/libiconv/iconv_close.3.html
/usr/local/share/doc/libiconv/iconv_open.3.html
/usr/local/share/doc/libiconv/iconv_open_into.3.html
/usr/local/share/doc/libiconv/iconvctl.3.html
/usr/local/share/licenses/libiconv-1.17_1/GPLv3
/usr/local/share/licenses/libiconv-1.17_1/LICENSE
/usr/local/share/licenses/libiconv-1.17_1/catalog.mk
/usr/local/share/man/man1/iconv.1.gz
/usr/local/share/man/man3/iconv.3.gz
/usr/local/share/man/man3/iconv_close.3.gz
/usr/local/share/man/man3/iconv_open.3.gz
/usr/local/share/man/man3/iconv_open_into.3.gz
/usr/local/share/man/man3/iconvctl.3.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg-shlib&lt;/code&gt; on FreeBSD 14:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pkg shlib – display which installed package provides a specfic shared
library, and the installed packages which require it
  
library is the filename of the library without any leading path, but
including the ABI version number.  Only exact matches are handled.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg shlib libiconv
No packages provide libiconv.
No packages require libiconv.
 
% pkg shlib libiconv.so.2
libiconv.so.2 is provided by the following packages:
libiconv-1.17_1
libiconv.so.2 is linked to by the following packages:
p5-Locale-libintl-1.33
chromium-123.0.6312.58
glib-2.80.0,2
libdatrie-0.2.13_2
vlc-3.0.20_5,4
mutt-2.2.13
fontforge-20230101
groff-1.23.0_3
fvwm-2.6.9_3
rsync-3.2.7_1
 
% pkg shlib libiconv.so.2.6.1
No packages provide libiconv.so.2.6.1.
No packages require libiconv.so.2.6.1.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;[4] For a brief help for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni&lt;/code&gt; tool:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni 
Usage: uni [command] [flags]

uni queries the unicode database. https://github.com/arp242/uni

Flags:
    -f, -format    Output format.
    -a, -as        How to print the results: list (default), json, or table.
    -c, -compact   More compact output.
    -r, -raw       Don&apos;t use graphical variants or add combining characters.
    -p, -pager     Output to $PAGER.
    -o, -or        Use &quot;or&quot; when searching instead of &quot;and&quot;.

Commands:
    list           List Unicode data such as blocks, categories, etc.
    identify       Identify all the characters in the given strings.
    search         Search description for any of the words.
    print          Print characters by codepoint, category, or block.
    emoji          Search emojis.

Use &quot;uni help&quot; or &quot;uni -h&quot; for a more detailed help.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni help&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni -h&lt;/code&gt; for a more detailed help.&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Tue, 17 Sep 2024 10:40:13 -0700</pubDate>
        <link>http://localhost:4000/unicode/utf8/x11/xorg/xterm/cli/terminal/shell/howto/sysadmin/unix/perl/python/vi/vim/ascii/plaintext/text/tex/latex/pdf/typography/font/html/design/webbrowser/webdevelopment/awk/regex/programming/coding/development/tool/reference/dotfiles/tip/2024/09/17/encodings-utf8-and-unicode-notes.html</link>
        <guid isPermaLink="true">http://localhost:4000/unicode/utf8/x11/xorg/xterm/cli/terminal/shell/howto/sysadmin/unix/perl/python/vi/vim/ascii/plaintext/text/tex/latex/pdf/typography/font/html/design/webbrowser/webdevelopment/awk/regex/programming/coding/development/tool/reference/dotfiles/tip/2024/09/17/encodings-utf8-and-unicode-notes.html</guid>
        
        
        <category>unicode</category>
        
        <category>utf8</category>
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>xterm</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>howto</category>
        
        <category>sysadmin</category>
        
        <category>unix</category>
        
        <category>perl</category>
        
        <category>python</category>
        
        <category>vi</category>
        
        <category>vim</category>
        
        <category>ascii</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>pdf</category>
        
        <category>typography</category>
        
        <category>font</category>
        
        <category>html</category>
        
        <category>design</category>
        
        <category>webbrowser</category>
        
        <category>webdevelopment</category>
        
        <category>awk</category>
        
        <category>regex</category>
        
        <category>programming</category>
        
        <category>coding</category>
        
        <category>development</category>
        
        <category>tool</category>
        
        <category>reference</category>
        
        <category>dotfiles</category>
        
        <category>tip</category>
        
      </item>
    
      <item>
        <title>HPC with TORQUE/PBS, xCAT, Gaussian and WebMO</title>
        <description>&lt;p&gt;Updated: 2022-09-12&lt;/p&gt;

&lt;p&gt;Initial post date: 2022-03-20&lt;/p&gt;

&lt;p&gt;High Performance Computing (HPC) with &lt;em&gt;TORQUE&lt;/em&gt; (Terascale Open-source &lt;em&gt;Resource&lt;/em&gt; and QUEue &lt;em&gt;Manager&lt;/em&gt;), PBS (Portable Batch System) &lt;em&gt;scheduling software&lt;/em&gt;, xCAT (Extreme Cloud &lt;em&gt;Administration Toolkit&lt;/em&gt;), using &lt;em&gt;Gaussian&lt;/em&gt; software package via &lt;em&gt;WebMO&lt;/em&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Add  merging  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/passwd&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/shadow&lt;/code&gt;,
                          &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/group&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/gshadow&lt;/code&gt;. &lt;br /&gt;
—-&lt;/p&gt;

&lt;p&gt;&lt;em&gt;About xCAT&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;xCAT is a collection of mostly script based tools to build, configure, 
administer, and maintain computing clusters.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;http://xcat.org/index.html#quickstart&quot;&gt;xCAT.org&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;xCAT is an open-source tool for automating deployment, scaling, and 
management of bare metal servers and virtual machines developed by IBM.&lt;/p&gt;

  &lt;p&gt;xCAT is an official IBM High Performance Computing (HPC) cluster
management tool.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Scenario:&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;New server hardware, Lenovo ThinkSystem SR530 - 7X08 (1U rack server),
has just been installed in the existing cluster environment.&lt;/li&gt;
  &lt;li&gt;The existing cluster consists of 28 CNs (compute nodes).&lt;/li&gt;
  &lt;li&gt;The cluster is on a private Ethernet network.  The address space is 
non-routable (unroutable) so the compute nodes are “hidden” from 
a routable network, allowing you to separate your cluster logically 
from a public network.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;About the cluster environment in this scenario:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;All of the nodes use the same hardware and the same operating system.&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Tasks:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;On the new Lenovo server:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Create a guest VM to be used as the new MN (master node or management node)
    &lt;ul&gt;
      &lt;li&gt;On the guest VM (that is, the new MN):
        &lt;ul&gt;
          &lt;li&gt;Install the latest xCAT version&lt;/li&gt;
          &lt;li&gt;Show examples of managing IBM Blade Center&lt;/li&gt;
          &lt;li&gt;Show examples of related xCAT tables for the configuration&lt;/li&gt;
          &lt;li&gt;Remotely upgrade the OS on all CNs (computing nodes)&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Where:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Computer cluster = a set of computers that work together so they can be 
viewed as a single system.  Computer clusters have each node (computer
used as a server) set to perform the same task.&lt;/p&gt;

&lt;p&gt;MN   = Master Node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus.mydomain.com&lt;/code&gt;) or Head Node (HN), aka Management Node or Controller Node - runs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_server&lt;/code&gt; daemon   &lt;br /&gt;
HN   = Head Node, see MN (Master Node) &lt;br /&gt;
SN (IN) = Submit Node (Interactive) - client commands, e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qsub&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qhold&lt;/code&gt;&lt;br /&gt;
CN   = Compute Node (Execution Host) - Compute nodes run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_mom&lt;/code&gt; daemon&lt;br /&gt;
xCAT = Extreme Cluster Administration Toolkit &lt;br /&gt;
HPC  = High Performance Computing &lt;br /&gt;
BMC  = Baseboard Management Controller  &lt;br /&gt;
IMM  = Integrated Management Module - aka as only MM (Management Module) &lt;br /&gt;
AMM  = Advanced Management Module &lt;br /&gt;
IPMI = Intelligent Platform Management Interface &lt;br /&gt;
SNMP = Simple Network Management Protocol &lt;br /&gt;
BC   = BladeCenter (IBM BladeCenter line of servers)  &lt;br /&gt;
SoL (also SOL) = Serial over LAN&lt;br /&gt;
RM   = Resource Manager (also called a Job Scheduler or a Batch System)  &lt;br /&gt;
PBS  = Portable Batch System (scheduling software) &lt;br /&gt;
MOM (also MoM) = Machine Oriented Miniserver  &lt;br /&gt;
MPI  = Message Passing Interface  &lt;br /&gt;
WebMO Basic = A web-based interface to computational chemistry packages &lt;br /&gt;
WebMO Pro = An add-on to WebMO that provides additional calculations, visualization, and job management  &lt;br /&gt;
WebMO Enterprise = Extends WebMO Pro with nhancements for large numbers of users or computer clusters   &lt;br /&gt;
Fast Ethernet = 100 Mbps  &lt;br /&gt;
Gigabit Ethernet (GbE or 1 GigE) = 1,000 Mbps (1 Gbps; that is Gigabit per second)&lt;/p&gt;

&lt;p&gt;F1 Setup = IBM BladeCenter BIOS Setup (a.k.a. System/UEFI F1
Setup) - For example:
&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.hs21.doc/hs21_install_ug.pdf&quot;&gt;BladeCenter HS21 Installation and User’s Guide&lt;/a&gt;, page 39 (Retrieved on Mar 20, 2022): “Using the Configuration/Setup Utility program”:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;When the Configuration/Setup utility message appears, press F1.  […]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Operating systems and shells:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;MN: RHEL 8.5  (Red Hat Enterprise Linux release 8.5 (Ootpa)), Shell: tcsh&lt;/li&gt;
  &lt;li&gt;CNs: Upgrading from CentOS 5.2 to CentOS Linux 7.9, Shell: bash&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
In the following examples, IP addresses of network interfaces 
connected to the public network/Internet are from network subnet
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;123.12.23.0&lt;/code&gt;.  Replace those IP addresses with IP addresses of 
external interfaces in your environment.  Similarly, replace 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;123.12.23.254&lt;/code&gt; with the broadcast address for external network 
interfaces in your environment.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Configuration:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Here is the hardware configuration in the environment:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;2 x IBM BladeCenter H Chassis
    &lt;ul&gt;
      &lt;li&gt;Each chassis has 14 x IBM HS21 Blade Servers (Blades) - total
of 28 compute nodes&lt;/li&gt;
      &lt;li&gt;Each chassis has the IBM BladeCenter Advanced Management Module (AMM)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;1 x IBM x3550 xServer (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xmgmt.mydomain.com&lt;/code&gt;, old MN, kept temporary)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Newly installed server hardware: &lt;a href=&quot;https://datacentersupport.lenovo.com/de/en/products/servers/thinksystem/sr530/7x08&quot;&gt;Lenovo ThinkSystem SR530 - Type (Model) 7X08 - Product Home Page&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Here is the network configuration in the environment:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;eno1: Public-facing NIC.  External network (aka public VLAN): &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;123.12.23.x&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;eno2: Cluster-facing NIC.  Internal network (aka xCAT VLAN):  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.x&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Management VLAN: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.x&lt;/code&gt; (BC MM, BC AMM, BC LAN switches)&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;content&quot;&gt;Content:&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Create a QEMU VM Guest&lt;/li&gt;
  &lt;li&gt;Configure the Guest with Two NICs in Two Separate Networks Connected 
to Two Bridges on Host&lt;/li&gt;
  &lt;li&gt;Prepare the Management Node (MN)&lt;/li&gt;
  &lt;li&gt;Install and Configure xCAT (on the MN)&lt;/li&gt;
  &lt;li&gt;Stage 1: Add Your First Node and Control It with Out-Of-Band BMC Interface&lt;/li&gt;
  &lt;li&gt;Stage 2: Add Your Second Node and Configure It for SOL (Serial Over LAN) 
Operation (aka Text Mode Console)&lt;/li&gt;
  &lt;li&gt;Stage 3: Prepare Postscripts and Postbootscripts&lt;/li&gt;
  &lt;li&gt;Tests
    &lt;ul&gt;
      &lt;li&gt;Submit a Test Job to a Specific Node (Compute Node)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Setup NFS Server on the Head Node (HN) Running CentOS 8/RHEL 8
    &lt;ul&gt;
      &lt;li&gt;Configure Firewall Rules for NFS Server on CentOS 8/RHEL 8&lt;/li&gt;
      &lt;li&gt;Set Up NFS Client on Compute Nodes&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;create-a-qemu-vm-guest&quot;&gt;Create a QEMU VM Guest&lt;/h2&gt;

&lt;p&gt;This VM will be the xCAT MN (management node).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Create QEMU VM guest on the new Lenovo server hardware&lt;/strong&gt; &lt;br /&gt;
  (This VM will be the new &lt;strong&gt;MN&lt;/strong&gt;)  &lt;br /&gt;
&lt;strong&gt;Note:&lt;/strong&gt;  I previously installed RHEL 8.5 on the new Lenovo server&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Install the most recent CentOS Linux version on the QEMU VM guest&lt;/strong&gt;&lt;br /&gt;
  (At the time of this writing:  CentOS 7.9 Linux)
    &lt;ul&gt;
      &lt;li&gt;Download and use CentOS DVD ISO image with everything &lt;br /&gt;
(file name: CentOS-7-x86_64-Everything-2009.iso)&lt;/li&gt;
      &lt;li&gt;Install CentOS 7.9 Linux in &lt;strong&gt;text mode&lt;/strong&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In order to conserve the limited bandwidth available, ISO images are not 
downloadable from mirror.centos.org.  To find a mirror closest to you in 
your region, visit the CentOS Project’s website, 
&lt;a href=&quot;https://centos.org/&quot;&gt;https://centos.org/&lt;/a&gt;.  Navigate to
Download &amp;gt; CentOS LInux &amp;gt; 7-2009 &amp;gt; x86_64.  For my region, the first listed 
mirror wtth the ISO images available was:&lt;br /&gt;
http://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/.&lt;/p&gt;

&lt;p&gt;Follow these instructions: 
&lt;a href=&quot;/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/vm/qemu/kvm/linux/unix/2022/03/12/centos-rhel-dvd-iso-customization-testing-with-qemu.html&quot;&gt;Customize CentOS/RHEL DVD ISO for Installation in Text Mode via Serial Console and Test the Image with QEMU&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Changes that you need to make in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isolinux.cfg&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grub.cfg&lt;/code&gt; are shown below.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
--unified=0 \
/mnt/dvd/isolinux/isolinux.cfg \
/mnt/customdvd/isolinux/isolinux.cfg
--- /mnt/dvd/isolinux/isolinux.cfg      2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/isolinux.cfg        2022-03-20 08:59:36.911058507 -0700
@@ -64 +64 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet console=tty0 console=ttyS0,19200
@@ -70 +70 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet console=tty0 console=ttyS0,19200
@@ -86 +86 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet console=tty0 console=ttyS0,19200
@@ -96 +96 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet console=tty0 console=ttyS0,19200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
--unified=0 \
/mnt/dvd/EFI/BOOT/grub.cfg \
/mnt/customdvd/EFI/BOOT/grub.cfg
--- /mnt/dvd/EFI/BOOT/grub.cfg  2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/EFI/BOOT/grub.cfg    2022-03-20 09:05:58.348907158 -0700
@@ -16,0 +17,4 @@
+serial --unit=0 --speed=19200 --word=8 --parity=no --stop=1
+terminal_input serial console=tty0 console=ttyS0,19200
+terminal_output serial console=tty0 console=ttyS0,19200
+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continue following the instructions on the same page
(&lt;a href=&quot;/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/vm/qemu/kvm/linux/unix/2022/03/12/centos-rhel-dvd-iso-customization-testing-with-qemu.html&quot;&gt;Customize CentOS/RHEL DVD ISO for Installation in Text Mode via Serial Console and Test the Image with QEMU&lt;/a&gt;) up to the point of creating a raw image.
Then, instead of creating an image with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;truncate&lt;/code&gt; of 272 GB in size
(as in instructions on that page), create a raw image of 80 GB in size. 
Using seek option creates a sparse file, which saves space.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dd if=/dev/null of=xcatmn.img bs=1M seek=81920
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start CentOS 7.9 Linux installation with this command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-cdrom /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso \
-drive format=raw,file=xcatmn.img \
-global ide-hd.physical_block_size=4096 \
-m 4G \
-boot d \
-enable-kvm \
-serial pty \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;QEMU 4.2.0 monitor - type &apos;help&apos; for more information
(qemu) char device redirected to /dev/pts/2 (label serial0)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From QEMU monitor’s output above, note where qemu redirected char
device.  In this case: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/2&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Open another shell instance, start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom&lt;/code&gt; and connect to the first 
serial device where QEMU redirected char device (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/2&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ minicom --baudrate=19200 --ptty=/dev/pts/2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install CentOS Linux 7.9.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;==========================================================================
==========================================================================
Installation

 1) [x] Language settings                 2) [!] Time settings
        (English (United States))                (Timezone is not set.)
 3) [!] Installation source               4) [!] Software selection
        (Processing...)                          (Processing...)
 5) [!] Installation Destination          6) [x] Kdump
        (No disks selected)                      (Kdump is enabled)
 7) [ ] Network configuration             8) [!] Root password
        (Not connected)                          (Password is not set.)
 9) [!] User creation
        (No user will be created)
  Please make your choice from above [&apos;q&apos; to quit | &apos;b&apos; to begin installation |
  &apos;r&apos; to refresh]: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2) Time settings &amp;gt; Set timezone &amp;gt; America &amp;gt; Vancouver  &amp;lt;-- Use your timezone
2) Time settings &amp;gt; Configure NTP servers &amp;gt; 
     Add NTP server &amp;gt; ntp1.serverinyourregion.org
     Add NTP server &amp;gt; ntp2.serverinyourregion.org   
4) Software selection &amp;gt; 3) Infrastructure Server
5) Installation Destination &amp;gt; QEMU HARDDISK: 80 GiB (sda) &amp;gt; Use All Space &amp;gt; LVM
7) Network configuration &amp;gt; 
     Set host name &amp;gt; xcatmn.mydomain.com
     Configure device ens3 &amp;gt;
        IPv4 address or &quot;dhcp&quot; for DHCP &amp;gt; dhcp
     IPv6 address &amp;gt; ignore
     Nameservers &amp;gt; 208.67.222.222,208.67.220.220  &amp;lt;-- Will list your nameservers
     Connect automatically after reboot
     Apply configuration in installer
8) Root password &amp;gt; 
     Password: 
     Password (confirm): 
9) User creation &amp;gt; 
     Create user &amp;gt; 
     Fullname &amp;gt;                                   &amp;lt;-- Enter your name 
     Username &amp;gt;                                   &amp;lt;-- Enter your username 
     Use password &amp;gt;
     Password &amp;gt;
       Password:
       Password (confirm):
     [X] Administrator &amp;gt; Groups wheel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;==========================================================================
==========================================================================
Installation

 1) [x] Language settings                 2) [x] Time settings
        (English (United States))                (America/Vancouver timezone)
 3) [x] Installation source               4) [x] Software selection
        (Local media)                            (Infrastructure Server)
 5) [x] Installation Destination          6) [x] Kdump
        (Automatic partitioning                  (Kdump is enabled)
        selected)                         8) [x] Root password
 7) [x] Network configuration                    (Password is set.)
        (Wired (ens3) connected)
 9) [x] User creation
        (Administrator dusko will be
        created)
  Please make your choice from above [&apos;q&apos; to quit | &apos;b&apos; to begin installation |
  &apos;r&apos; to refresh]: b
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Progress
Setting up the installation environment
[...]
Installing libgcc (1/483)
Installing grub2-common (2/483)
Installing centos-release (3/483)
Installing setup (4/483)
Installing filesystem (5/483)
[...]

   Installation complete.  Press return to quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the CentOS 7.9 Linux installer, to switch to an interactive shell 
prompt with root privileges, press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+b&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;2&lt;/code&gt; (two characters: 
ctrl-b, and ‘2’).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[anaconda root@localhost ~]#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Power off the VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[anaconda root@localhost ~]# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;** &lt;strong&gt;TIP:&lt;/strong&gt; **  If you cannot exit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom&lt;/code&gt; with CTRL-X, first press Esc
                and then CTRL-X.&lt;/p&gt;

&lt;p&gt;To test and to confirm that the installed CentOS Linux 
really uses the first serial device ttyS0 (COM1) for a console,
start the QEMU guest VM by specifying the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-serial pty&lt;/code&gt; option.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-enable-kvm \
-serial pty \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;QEMU 4.2.0 monitor - type &apos;help&apos; for more information
(qemu) char device redirected to /dev/pts/2 (label serial0)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open another shell instance, start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom&lt;/code&gt; and connect to the first 
serial device where QEMU redirected char device, in this case, /dev/pts/2.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ minicom --baudrate=19200 --ptty=/dev/pts/2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can you see early boot messages/kernel log messages? If yes, that confirms
that the installed CentOS Linux uses the first serial device ttyS0 (COM1)
for a console.&lt;/p&gt;

&lt;p&gt;Log in to the guest virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[...]
CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

xcatmn login: root
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At this point (in addition to the virtual loopback adapter
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lo0&lt;/code&gt; &lt;a href=&quot;#footnotes&quot;&gt;²&lt;/a&gt; &lt;a href=&quot;#footnotes&quot;&gt;³&lt;/a&gt;), the guest VM has one Ethernet 
adapter, a.k.a. NIC (network interface controller or network interface 
card).  The name of that NIC that the OS (CentOS Linux) gave it to in 
this case is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ens3&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli device status
DEVICE  TYPE      STATE      CONNECTION
ens3    ethernet  connected  ens3
lo      loopback  unmanaged  --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli connection show
NAME  UUID                                  TYPE      DEVICE
ens3  0bb2148d-...........................  ethernet  ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the guest is connected to the host via SLiRP (user networking), 
where the assigned IP address starts from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;10.0.2.15&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip -4 address show | grep inet
inet 127.0.0.1/8 scope host lo
inet 10.0.2.15/24 brd 10.0.2.255 scope global noprefixroute dynamic ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Show table routes (display the kernel routing tables):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip route
default via 10.0.2.2 dev ens3 proto dhcp metric 100 
10.0.2.0/24 dev ens3 proto kernel scope link src 10.0.2.15 metric 100 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, you can display the routing tables with the legacy
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;netstat(8)&lt;/code&gt; tool:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# netstat -r
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         gateway         0.0.0.0         UG        0 0          0 ens3
10.0.2.0        0.0.0.0         255.255.255.0   U         0 0          0 ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Power off the guest VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;configure-the-qemu-guest-vm-with-two-nics-in-two-separate-networks-connected-to-two-bridges-on-host&quot;&gt;Configure the QEMU Guest VM with Two NICs in Two Separate Networks Connected to Two Bridges on Host&lt;/h2&gt;

&lt;p&gt;Start the guest VM. 
This time don’t use the serial device for console; rather, use only the 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-nographic&lt;/code&gt; option.&lt;/p&gt;

&lt;p&gt;The host is connected to a public network &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;123.12.23.x&lt;/code&gt; (the network
contains a DHCP server).  The guest VM is connected to that network via
the first bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; and obtains a dynamic IP address.&lt;/p&gt;

&lt;p&gt;The host is also connected to another, private, cluster-facing
network, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.x&lt;/code&gt;.  The guest VM is connected to that
network via the second bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br1&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br0&quot;,id=hn0 \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br1&quot;,id=hn1 \
-device virtio-net-pci,netdev=hn0 \
-device virtio-net-pci,netdev=hn1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log into the guest OS.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

xcatmn login: root
Password: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli device status
DEVICE  TYPE      STATE                                  CONNECTION         
eth0    ethernet  connected                              Wired connection 1 
eth1    ethernet  connecting (getting IP configuration)  Wired connection 2 
lo      loopback  unmanaged                              --                 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli connection show 
NAME                UUID                                  TYPE      DEVICE 
Wired connection 2  7ef26cf9-...........................  ethernet  eth1   
Wired connection 1  a9f5c51d-...........................  ethernet  eth0   
ens3                687a79e8-...........................  ethernet  --     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip -4 address show | grep inet
inet 127.0.0.1/8 scope host lo
inet 123.12.23.235/24 brd 123.12.23.255 scope global noprefixroute dynamic eth0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip route
default via 123.12.23.254 dev eth0 proto dhcp metric 100
123.12.23.0/24 dev eth0 proto kernel scope link src 123.12.23.235 metric 100
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# netstat -r
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         gateway         0.0.0.0         UG        0 0          0 eth0
123.12.23.0     0.0.0.0         255.255.255.0   U         0 0          0 eth0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The name given by the OS (CentOS Linux) to the network interface 
controller/network interface card (NIC) connected to the &lt;strong&gt;internal&lt;/strong&gt; 
(private/cluster-facing/xCAT, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.x&lt;/code&gt;) network is  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eth1&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Set the IP address of that NIC to &lt;strong&gt;static&lt;/strong&gt; and assign it an IP address
from within &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.x&lt;/code&gt; network.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli connection show &apos;Wired connection 2&apos; | grep &apos;ipv4.method&apos;
ipv4.method:                            auto
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli \
connection modify &apos;Wired connection 2&apos; \
ip4 192.168.80.220/24 \
ipv4.method manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The name given by the OS (CentOS Linux) to the network interface 
controller/network interface card (NIC) connected to the &lt;strong&gt;public&lt;/strong&gt; 
(external/internet-facing, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;123.12.23.x&lt;/code&gt;) network is  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eth0&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Set the IP address of that NIC to &lt;strong&gt;static&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli connection show &apos;Wired connection 1&apos; | grep &apos;ipv4.method&apos;
ipv4.method:                            auto
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;br /&gt;
In the next command, replace IP addresses in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli&lt;/code&gt; connection’s
properties &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip4&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gw4&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipv4.dns&lt;/code&gt; with IP addresses for those
properties in your environment.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli \
connection modify &apos;Wired connection 1&apos; \
ip4 123.12.23.235/24 gw4 123.12.23.254 \ 
ipv4.dns &apos;208.67.222.222,208.67.220.220&apos; \   &amp;lt;-- Use your DNS servers
ipv4.method manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli \
connection modify &apos;Wired connection 1&apos; \
connection.id eth0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli \
connection modify &apos;Wired connection 2&apos; \
connection.id eth1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Restart NetworkManager service.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl restart NetworkManager.service 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If that doesn’t refresh routing, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli(1)&lt;/code&gt; to restart networking.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;networking off&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;networking on&lt;/code&gt; disables and then enables
networking control by NetworkManager.  All interfaces managed by
NetworkManager are deactivated when networking is disabled.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli networking off
# nmcli networking on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check network connectivity state. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check&lt;/code&gt; argument tells
NetworkManager to re-check the connectivity.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli networking connectivity check
full
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip route
default via 123.12.23.254 dev eth0 proto static metric 100
123.12.23.0/24 dev eth0 proto kernel scope link src 123.12.23.235 metric 100
192.168.80.0/24 dev eth1 proto kernel scope link src 192.168.80.220 metric 101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli device status
DEVICE  TYPE      STATE      CONNECTION 
eth0    ethernet  connected  eth0       
eth1    ethernet  connected  eth1       
lo      loopback  unmanaged  --         
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli connection show
NAME  UUID                                  TYPE      DEVICE 
eth0  a9f5c51d-...........................  ethernet  eth0   
eth1  7ef26cf9-...........................  ethernet  eth1   
ens3  687a79e8-...........................  ethernet  --     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test connection to a public host.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ping -c2 freebsd.org
PING freebsd.org (96.47.72.84) 56(84) bytes of data.
64 bytes from wfe0.nyi.freebsd.org (96.47.72.84): icmp_seq=1 ttl=50 time=76.1 ms
64 bytes from wfe0.nyi.freebsd.org (96.47.72.84): icmp_seq=2 ttl=50 time=76.1 ms
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test internal network connection.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ping -c2 192.168.80.210
PING 192.168.80.210 (192.168.80.210) 56(84) bytes of data.
64 bytes from 192.168.80.210: icmp_seq=1 ttl=64 time=0.477 ms
64 bytes from 192.168.80.210: icmp_seq=2 ttl=64 time=0.303 ms
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dnf(8)&lt;/code&gt;. (From its man page:  DNF  is  the  next upcoming major 
version of YUM, a package manager for RPM-based Linux distributions.
It roughly maintains CLI compatibility with YUM and defines a strict API
for extensions and plugins.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# yum install dnf dnf-data dnf-plugins-core
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;br /&gt;
In case of a bit older IBM blade servers, instead of &lt;strong&gt;AMM&lt;/strong&gt;
(Advanced Management Module), chassis for older IBM blade servers
would have &lt;strong&gt;MM&lt;/strong&gt; (Management Module).  In that case you would need
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;telnet&lt;/code&gt; to access the &lt;strong&gt;MM&lt;/strong&gt; and you would need to install it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dnf install telnet
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;prepare-the-management-node-mn&quot;&gt;Prepare the Management Node (MN)&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  After the real cluster setup is finished,
change references to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xmgmt&lt;/code&gt; (with IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.200&lt;/code&gt;) 
to the new(ly) installed server (with IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.210&lt;/code&gt;):&lt;/p&gt;

&lt;p&gt;The cluster was partially upgraded in summer of 2021, and here’s the list 
of those upgrades:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The WebMO server hardware was replaced.  It was an IBM blade server (HS20)
in a separate IBM chassis. &lt;br /&gt;
The new server hardware is Lenovo ThinkSystem
SR530 - Type (Model) 7X08, with hostname &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus.mydomain.com&lt;/code&gt;, while the
“internal” hostname (for PBS software, TORQUE Resource Manager) is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mgmt&lt;/code&gt;,
and the IP address on the cluster-facing network is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.210&lt;/code&gt;.
    &lt;ul&gt;
      &lt;li&gt;This server has multiple roles:
        &lt;ul&gt;
          &lt;li&gt;webserver (for running WebMO)&lt;/li&gt;
          &lt;li&gt;storage server, with a shared directory across the nodes (via NFS)&lt;/li&gt;
          &lt;li&gt;host for the majority of MN software (everything except DHCP server)
            &lt;ul&gt;
              &lt;li&gt;&lt;strong&gt;Note:&lt;/strong&gt; will move DHCP server to the new Lenove server later&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The OS on this server (“WebMO server”) was updated from RHEL 5.2 to RHEL 8.4.&lt;/li&gt;
  &lt;li&gt;The storage server a.k.a. NFS server (named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xmgmtnfs.mydomain.com&lt;/code&gt;) 
was moved from a separate legacy IBM SAN array to the new Lenovo server 
(Lenovo ThinkSystem SR530 - 7X08).  The new storage is a 6TB ZFS shared 
to CNs (compute nodes) via NFS.  The old hostname &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xmgmtnfs.mydomain.com&lt;/code&gt; 
was retired.&lt;/li&gt;
  &lt;li&gt;All PBS &lt;strong&gt;managment&lt;/strong&gt; software and the both PBS management services
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_server&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_sched&lt;/code&gt;) were moved to the new server.
    &lt;ul&gt;
      &lt;li&gt;The old xCAT (on the old MN, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xmgmt.mydomain.com&lt;/code&gt;) was temporarily kept
for managing BMC (two IBM chassis with 14 blades in each so 28 blades
in total)&lt;/li&gt;
      &lt;li&gt;The old MN (hostname: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xmgmt.mydomain.com&lt;/code&gt;, IP address on the
cluster-facing network: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.200&lt;/code&gt;) is kept and temporarily
used as a DHCP server.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;configure-dns-settings&quot;&gt;Configure DNS Settings&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The hostname was set during the OS installation on the guest VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# hostname
xcatmn.mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/hostname 
xcatmn.mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Update your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt; with DNS settings and make sure that the 
node can visit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;github&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcat&lt;/code&gt; official website.&lt;/p&gt;

&lt;p&gt;Configure any domain search strings and nameservers in 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf 
# Generated by NetworkManager
search xcatmn.mydomain mydomain.com 
nameserver 208.67.222.222   &amp;lt;-- Will show your DNS server 1
nameserver 208.67.220.220   &amp;lt;-- Will show your DNS server 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Verify that your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; file contains entries for all of your
management node interfaces.  Manually add any that are missing.&lt;/p&gt;

&lt;p&gt;Add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn&lt;/code&gt; into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;192.168.80.220 xcatmn&quot; &amp;gt;&amp;gt; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.80.220 xcatmn xcatmn.mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Power off the guest virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start and run the guest VM in the background by using QEMU’s
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-daemonize&lt;/code&gt; option.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br0&quot;,id=hn0 \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br1&quot;,id=hn1 \
-device virtio-net-pci,netdev=hn0 \
-device virtio-net-pci,netdev=hn1 \
-daemonize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps aux | grep -v grep | grep qemu
dusko     681555 94.6  2.1 4809628 678648 ?      Sl   15:39   0:21 /usr/libexec/qemu-kvm -drive format=raw,file=xcatmn.img -m 4G -netdev tap,helper=/usr/libexec/qemu-bridge-helper --br=br0,id=hn0 -netdev tap,helper=/usr/libexec/qemu-bridge-helper --br=br1,id=hn1 -device virtio-net-pci,netdev=hn0 -device virtio-net-pci,netdev=hn1 -daemonize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;disable-selinux&quot;&gt;Disable SELinux&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -i.bkp &apos;s/^SELINUX=.*$/SELINUX=disabled/&apos; /etc/selinux/config
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# diff \
--unified=0 \
/etc/selinux/config.bkp \
/etc/selinux/config
--- /etc/selinux/config.bkp     2022-03-30 20:40:36.167508553 -0700
+++ /etc/selinux/config 2022-03-03 20:43:28.580246360 -0700
@@ -7 +7 @@
-SELINUX=enforcing
+SELINUX=disabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A reboot is the most convenient way to make the disabling of SELinux 
take effect so if you want, you can now reboot and log in again.&lt;/p&gt;

&lt;h2 id=&quot;install-and-configure-xcat&quot;&gt;Install and Configure xCAT&lt;/h2&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://xcat-docs.readthedocs.io/en/latest/guides/get-started/quick_start.html&quot;&gt;xCAT Quick Start Guide&lt;/a&gt; (retrieved on Mar 20, 2022) and then slightly modified.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Prerequisites and Assumptions&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Assume there are two servers named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt; and 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101.mydomain.com&lt;/code&gt;.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt; is going 
to be the MN (management node) [you can proably call it an 
“xCAT server” as well].  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101.mydomain.com&lt;/code&gt; will 
be a compute node you will be provisioning.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;They are in the same subnet &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.0&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101.mydomain.com&lt;/code&gt; is a CN (compute node), which is one of 14 blades in
 an IBM chassis.  The IBM chassis and the 14 included blades are managed
 by BMC, which the MN (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;) can access.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt; has RHEL 8 installed, and uses an IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt; has access to internet.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;For the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101.mydomain.com&lt;/code&gt; compute node: BMC in the chassis that hosts this blade server, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101.mydomain.com&lt;/code&gt; (and other 13 blades running compute nodes on them), has an IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.135&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Prepare a full DVD for OS provision, and not a Live CD ISO.  &lt;br /&gt;
For this example, I use a &lt;strong&gt;customized&lt;/strong&gt;
CentOS-7-x86_64-Everything-2009.iso DVD.
(See steps above.)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;BMC&lt;/strong&gt;&lt;br /&gt;
MM1: 192.168.80.135 &lt;br /&gt;
MM2: empty&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;IBM BladeCenter Enclosure (Chassis)&lt;/strong&gt; &lt;br /&gt;
Product Group: BladeCenter &lt;br /&gt;
Type:  IBM BladeCenter E Type-8677&lt;br /&gt;
Part no.: 39R8561 &lt;br /&gt;
FRU no.: 39R8563 &lt;br /&gt;
MM slots: 2 &lt;br /&gt;
Blade slots: 14 &lt;br /&gt;
I/O Module slots: 4 &lt;br /&gt;
Power Module slots: 4 &lt;br /&gt;
Blower slots: 2&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;14 blades&lt;/strong&gt; (14 blade servers)&lt;br /&gt;
14 x IBM 8853-AC1 HS21 Bladeserver&lt;br /&gt;
(Each blade is Machine Type: 8853, PID: 8853AC1)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  After successul setup/test, add the info for the other chassis.&lt;/p&gt;

&lt;p&gt;All the following steps should be executed in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wget \
https://raw.githubusercontent.com/xcat2/xcat-core/master/xCAT-server/share/xcat/tools/go-xcat \
-O - &amp;gt; \
/tmp/go-xcat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chmod +x /tmp/go-xcat
# /tmp/go-xcat install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[...]
If you are installing/updating xCAT-genesis-base separately, not as part
of installing/updating all of xCAT, run &apos;mknb &amp;lt;arch&amp;gt;&apos; manually
[...]
Created symlink from /etc/systemd/system/multi-user.target.wants/xcatd.service
to /usr/lib/systemd/system/xcatd.service.

[...]
xCAT has been installed!
========================

If this is the very first time xCAT has been installed, run one of the
following commands to set the environment variables.

For sh:
    source /etc/profile.d/xcat.sh

For csh:
    source /etc/profile.d/xcat.csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For choosing whether to run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;For sh&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;For csh&lt;/code&gt; command (script): &lt;br /&gt;
The guest VM’s shell is bash, which is intended to be compatible with the
original UNIX Bourne Shell (/bin/sh).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ps $$
  PID TTY      STAT   TIME COMMAND
 1532 pts/0    Ss     0:00 -bash

# printf %s\\n &quot;$SHELL&quot;
/bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So run the command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;For sh&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# source /etc/profile.d/xcat.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Verify xCAT installation.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsxcatd -a 
Version 2.16.3 (git commit d6c76ae5f66566409c3416c0836660e655632194, 
  built Wed Nov 10 09:58:20 EST 2021)
This is a Management Node
dbengine=SQLite
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check xCAT service status.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl status xcatd.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;xCAT creates the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;networks&lt;/code&gt; table automatically.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site
[...]

# tabdump networks
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Configure the system password for the &lt;strong&gt;root&lt;/strong&gt; user on the
&lt;strong&gt;compute nodes&lt;/strong&gt;.  For example, if you wanted to set the password
to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abc!!123(??)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab key=system passwd.username=root passwd.password=&apos;abc!!123(??)&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump passwd
#key,username,password,cryptmethod,authdomain,comments,disable
&quot;system&quot;,&quot;root&quot;,&quot;abc!!123(??)&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;stage-1-add-your-first-node-and-control-it-with-out-of-band-bmc-interface&quot;&gt;Stage 1: Add Your First Node and Control It with Out-Of-Band BMC Interface&lt;/h2&gt;

&lt;p&gt;To get a list of data object types that are supported by xCAT:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef --help 
[...]
The following data object types are supported by xCAT:

auditlog boottarget eventlog firmware group kit kitcomponent kitrepo
monitoring network node notification osdistro osdistroupdate osimage
pdu policy rack route site taskstate zone zvmivp
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get a list of valid attribute names for each object type, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkdef&lt;/code&gt;
with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-h&lt;/code&gt; option together with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t &amp;lt;object-types&amp;gt;&lt;/code&gt; option.
For example, to get a list of valid attribute names for object type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node | grep ^ip
ip:    The IP address of the node. This is only used in makehosts.
The rest of xCAT uses system name resolution to resolve node names
to IP addresses.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node | grep ^mac
mac:    The mac address or addresses for which xCAT will manage static
bindings for this node.    &amp;lt;-- a.k.a. MAC address of the node
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node | grep -w ^bmc
bmc:    The hostname of the BMC adapter.  &amp;lt;-- Or the BMC&apos;s IP address
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get the MAC address of the node with IP address 192.168.80.1:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ping -c2 192.168.80.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# arp -a | grep &apos;192.168.80.1&apos;
? (192.168.80.1) at 00:11:22:33:44:55 [ether] on eth1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If you don’t have network connection with this node, you can
obtain its MAC address by logging in to the &lt;strong&gt;AMM&lt;/strong&gt;/&lt;strong&gt;MM&lt;/strong&gt; (&lt;strong&gt;BMC&lt;/strong&gt;).
From Prerequisites (assumptions) above, you already know that
the BMC IP address is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.135&lt;/code&gt;.)&lt;/p&gt;

&lt;h3 id=&quot;connecting-to-cli-on-mm-amm&quot;&gt;Connecting to CLI on MM (AMM)&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# telnet 192.168.80.135
Trying 192.168.80.135...
Connected to 192.168.80.135.
Escape character is &apos;^]&apos;.

username: YOUR_BMC_USERID
password: YOUR_BMC_PASSWORD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The CLI command prompt is displayed:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;system&amp;gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt; Is it now &lt;strong&gt;AMM&lt;/strong&gt; (advanced management module) because the BMC
was replaced on 2022-06-13?&lt;/p&gt;

&lt;p&gt;You can now enter commands for the &lt;strong&gt;AMM&lt;/strong&gt; (advanced management 
module)/&lt;strong&gt;MM&lt;/strong&gt; (management module) [depending on whether your chassis 
uses &lt;strong&gt;AMM&lt;/strong&gt; or &lt;strong&gt;MM&lt;/strong&gt;].&lt;/p&gt;

&lt;p&gt;Display information on the first blade in the blade chassis.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  Don’t type &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;system&amp;gt;&lt;/code&gt;&lt;/strong&gt; &lt;br /&gt;
It’s a BMC CLI prompt, and it’s shown here to indicate that you are 
using the AMM (or MM).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;system&amp;gt; info -T system:blade[1]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;** &lt;strong&gt;TIP:&lt;/strong&gt; **  You can shorten &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-T system:blade[1]&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-T blade[1]&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;system&amp;gt; info -T blade[1]
[...]
MAC Address 1: 00:21:5E:2C:0E:D2
MAC Address 2: 00:21:5E:2C:0E:D4
MAC Address 3: Not Available
MAC Address 4: Not Available
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log off from the AMM CLI (or MM CLI).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;system&amp;gt; exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back in the guest VM:&lt;br /&gt;
(&lt;strong&gt;Note:&lt;/strong&gt; This is optional; just to show where you can get information 
about node attributes.)&lt;/p&gt;

&lt;p&gt;List information about &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmcusername&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmcpassword&lt;/code&gt; attributes for 
object type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node | grep ^bmcusername
bmcusername:    The BMC userid.  If not specified, the key=ipmi row
in the passwd table is used as the default.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node | grep ^bmcpassword
bmcpassword:    The BMC password.  If not specified, the key=ipmi row
in the passwd table is used as the default.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--template&lt;/code&gt; option of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsdef(1)&lt;/code&gt; command to display
the object definition templates shipped in xCAT.&lt;/p&gt;

&lt;p&gt;To list all the object definition templates:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef --template 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continuing with the setup: &lt;br /&gt;
Create an xCAT data object definition for this node (name it &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;).&lt;br /&gt;
Explanation: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip&lt;/code&gt; = IP address of the node; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mac&lt;/code&gt; = MAC address of
the node; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmc&lt;/code&gt; = IP address of the MM (BMC); &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmcusername&lt;/code&gt; = username of
BMC (MM) account; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmcpassword&lt;/code&gt; = password for BMC (MM) user.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef \
-t node abacus101 \
--template x86_64-template \
ip=192.168.80.1 \
mac=00:11:22:33:44:55 \
bmc=192.168.80.135 \
bmcusername=YOUR_BMC_USERID \
bmcpassword=YOUR_BMC_PASSWORD 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The domain of the xCAT node must be provided in an xCAT network definition
or the xCAT site definition.  Otherwise, two commands in the subsequent
steps for configuring DNS (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makehosts abacus101&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedns -n&lt;/code&gt;) will
not work.&lt;/p&gt;

&lt;p&gt;Currently, the domain is not defined in site table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain&lt;/code&gt; key and value (in this example &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mydomain.com)&lt;/code&gt; to
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab key=domain site.value=mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
Alternatively, instead of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chtab(8)&lt;/code&gt; command, you could use the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chdef(1)&lt;/code&gt; command to add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain&lt;/code&gt; key (and value) to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef -t site domain=mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Update the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; file with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makehosts(8)&lt;/code&gt; command to only 
replace the lines in the file that correspond to the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makehosts abacus101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The node’s IP address and hostname are added to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tail -1 /etc/hosts
192.168.80.1 abacus101 abacus101.mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Complete DNS setup by updating DNS records with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedns(8)&lt;/code&gt; command.
(This also restarts &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;named&lt;/code&gt; service.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedns -n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus101
Object name: abacus101
    arch=x86_64
    bmc=192.168.80.135
    bmcpassword=YOUR_BMC_USERID
    bmcusername=YOUR_BMC_PASSWORD
    cons=ipmi
    getmac=ipmi
    groups=all
    ip=192.168.80.1
    mac=00:11:22:33:44:55
    mgt=ipmi
    netboot=xnba
    postbootscripts=otherpkgs
    postscripts=syslog,remoteshell,syncfiles
    serialport=0
    serialspeed=115200
    usercomment=the system X node definition
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get the list of data object types supported by xCAT:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef --help
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[...]
The following data object types are supported by xCAT:
  auditlog boottarget eventlog firmware group kit kitcomponent kitrepo 
  monitoring network node notification osdistro osdistroupdate osimage 
  pdu policy rack route site taskstate zone zvmivp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get a list of valid attribute names for each object type, use the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkdef(1)&lt;/code&gt; command with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-h&lt;/code&gt; option together with the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t &amp;lt;object-types&amp;gt;&lt;/code&gt; option.&lt;/p&gt;

&lt;p&gt;For example, to get a list of valid attribute names for object type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;fix-for-blade---aka-touchup-for-blade&quot;&gt;Fix for Blade - aka Touchup for Blade&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node | grep -w ^mgt 
mgt:    The method to use to do general hardware management of the node.
This attribute is used as the default if power or getmac is not set.  
Valid values: openbmc, ipmi, blade, hmc, ivm, fsp, bpa, kvm, esx, rhevm.  
See the power attribute for more details.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef -h -t node | grep -w ^cons
cons:    The console method. If nodehm.serialport is set, this will default
to the nodehm.mgt setting, otherwise it defaults to unused.
Valid values: cyclades, mrv, or the values valid for the mgt attribute.

# mkdef -h -t node | grep -w ^serialport
serialport:    The serial port for this node, in the linux numbering style 
(0=COM1/ttyS0, 1=COM2/ttyS1).  For SOL on IBM blades, this is typically 1.
For rackmount IBM servers, this is typically 0.

# mkdef -h -t node | grep -w ^serialspeed
serialspeed:    The speed of the serial port for this node.  
For SOL this is typically 19200.

# mkdef -h -t node | grep -w ^power
power:    The method to use to control the power of the node. If not set,
the mgt attribute will be used.  Valid values: ipmi, blade, hmc, ivm, fsp,
kvm, esx, rhevm.  If &quot;ipmi&quot;, xCAT will search for this node in the ipmi
table for more info.  If &quot;blade&quot;, xCAT will search for this node in the
mp table.  If &quot;hmc&quot;, &quot;ivm&quot;, or &quot;fsp&quot;, xCAT will search for this node in
the ppc table.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As this is a blade server, you need to change the following attributes
for the node object &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mgmt&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getmac&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cons&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;In addition, this particular blade model, IBM &lt;strong&gt;HS21&lt;/strong&gt;, does &lt;strong&gt;not&lt;/strong&gt;
support &lt;strong&gt;IPMI&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;Per 
&lt;a href=&quot;https://ipmitool-devel.narkive.com/gWukmQ01/ibm-gear&quot;&gt;[Ipmitool-devel] IBM gear&lt;/a&gt; (Retrieved on Mar 20, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Unfortunately, the IBM Bladecenter does not expose IPMI over LAN. This
comes from effort to maintain backwards compatibility with the days before
IPMI existed and trying to make the POWER and x86 systems all act the same
when in a chassis. Implementing remote management for CLI/scripting use
can be done either by:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;Scripting the CLI (not bad if you set up ssh keys). […]&lt;/li&gt;
    &lt;li&gt;Using SNMP.&lt;/li&gt;
    &lt;li&gt;Using some higher level software that knows how to speak IPMI and IBM
Blade (requires extra setup).  For example with xCAT:&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;Power state of a KVM guest:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower vmgt state
vmgt: on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;Power state of a blade:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower h01 state
h01: on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;p&gt;Also see:&lt;br /&gt;
&lt;a href=&quot;https://www.mail-archive.com/ipmitool-devel@lists.sourceforge.net/msg00951.html&quot;&gt;Re: [Ipmitool-devel] ‘ipmitool sol info’ yields ‘Invalid command’&lt;/a&gt; (Retrieved on Mar 20, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;While the blades do communicate with the management module in a blade
chassis using IPMI, they don’t support doing SOL the way other platforms
do.  Instead, to access the serial console you need to telnet to the
 management module (MM or AMM), log in and then issue this command:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://sourceforge.net/p/xcat/mailman/message/24363746/&quot;&gt;Re: [xcat-user] HS21 blade BMC&lt;/a&gt; (Retrieved on Mar 20, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The BMC IP address on all shipped IBM Blades to date is not useful for
what you’d expect. The IPMI aspect of the service processor terminates
within the chassis and the AMM will aggressively change the IP
configuration of the BMCs via the dedicated management bus. For IBM
BladeCenter, IPMI is only accessible via in-band methods. All
out-of-band management is done either via SMASH CLP, SNMP (xCAT uses
SNMP to implement IBM blade support), a BladeCenter CLI via telnet or
SSH, a web interface, or IBM proprietary protocols that IBM Director uses.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://communities.vmware.com/t5/vMotion-Resource-Management/IBM-BladeCenter-H-and-IPMI/td-p/278986&quot;&gt;IBM BladeCenter H and IPMI&lt;/a&gt;
(Retrieved on Mar 20, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Instructions in this section do not apply to IBM BladeCenters.
IBM BladeCenter do not have IPMI remote access to the BMC on a Blade
(the BMC IP address is not available outside of the BladeCenter).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Continuing with the setup: &lt;br /&gt;
Instead of IPMI, for remote control of this type of blade I use the
serial port so these two attributes need to be changed as well:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;serialport&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;serialspeed&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus101 -i cons,mgt,getmac,serialport,serialspeed
Object name: abacus101
    cons=ipmi
    getmac=ipmi
    mgt=ipmi
    serialport=0
    serialspeed=115200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Change xCAT data object definition for this node with the specified values
for attributes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cons&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getmac&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mgt&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;serialport&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;serialspeed&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef \
-t node \
-o abacus101 \
cons=blade mgt=blade getmac=blade serialport=1 serialspeed=19200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus101 -i cons,mgt,getmac,serialport,serialspeed
Object name: abacus101
    cons=blade
    getmac=blade
    mgt=blade
    serialport=1
    serialspeed=19200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus101
Object name: abacus101
    arch=x86_64
    cons=blade
    getmac=blade
    groups=all
    ip=192.168.80.1
    mac=00:11:22:33:44:55
    mgt=blade
    netboot=xnba
    postbootscripts=otherpkgs
    postscripts=syslog,remoteshell,syncfiles
    serialport=1
    serialspeed=19200
    usercomment=the system X node definition
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; hardware control. &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; power management:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower abacus101 state
no mpa defined for node abacus101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;the-mpa-table&quot;&gt;The mpa Table&lt;/h3&gt;

&lt;p&gt;This table is where you put the information for a BladeCenter management
module (&lt;strong&gt;MM&lt;/strong&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# man mpa
NAME
       mpa - a table in the xCAT database.

SYNOPSIS
       mpa Attributes:  mpa, username, password, displayname, slots, urlpath,
       comments, disable

DESCRIPTION
       Contains info about each Management Module and how to access it.
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# man mp
NAME
       mp - a table in the xCAT database.

SYNOPSIS
       mp Attributes:  node, mpa, id, nodetype, comments, disable

DESCRIPTION
       Contains the hardware control info specific to blades.  This table also
       refers to the mpa table, which contains info about each Management
       Module.
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add username and password for &lt;strong&gt;MM&lt;/strong&gt; (&lt;strong&gt;BMC&lt;/strong&gt;) to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; table. &lt;br /&gt;
(This is the MM from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmcusername&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmcpassword&lt;/code&gt; in the above
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsdef abacus101 [...]&lt;/code&gt; command.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; attribute in the command
below is that MM’s hostname, which in this case is: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xbcmm1n&lt;/code&gt;.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
mpa=xbcmm1n \
mpa.username=YOUR_BMC_USERID \
mpa.password=YOUR_BMC_PASSWORD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mpa 
#mpa,username,password,displayname,slots,urlpath,comments,disable
&quot;xbcmm1n&quot;,&quot;YOUR_BMC_USERID&quot;,&quot;YOUR_BMC_PASSW0RD&quot;,,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the BMC (MM) node to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table.
As the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table refers to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; table, add the attribute &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; to
the table &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=xbcmm1n \
mp.mpa=xbcmm1n \
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, add attributes of the newly added node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;) to the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table: add the node’s name (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node=abacus101&lt;/code&gt;) and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt; (it’s best to make
this number the same as the node name so in this case it’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=abacus101 \
mp.mpa=xbcmm1n \
mp.id=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mp
#node,mpa,id,nodetype,comments,disable
&quot;xbcmm1n&quot;,&quot;xbcmm1n&quot;,,,,
&quot;abacus101&quot;,&quot;xbcmm1n&quot;,&quot;1&quot;,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; attribute is now defined for node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus101 | grep mpa
    mpa=xbcmm1n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
Alternatively, you can display only attributes you are interested in by
using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-i comma-separated-attr-list&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus101 -i mpa
Object name: abacus101
    mpa=xbcmm1n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus101
Object name: abacus101
    arch=x86_64
    cons=blade
    getmac=blade
    groups=all
    id=14
    ip=192.168.80.14
    mac=00:21:5E:2C:0A:AC
    mgt=blade
    mpa=xbcmm1n
    netboot=xnba
    postbootscripts=otherpkgs
    postscripts=syslog,remoteshell,syncfiles
    serialport=1
    serialspeed=19200
    usercomment=the system X node definition
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump passwd
#key,username,password,cryptmethod,authdomain,comments,disable
&quot;system&quot;,&quot;root&quot;,&quot;abc!!123(??)&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add username and password for &lt;strong&gt;MM&lt;/strong&gt; (&lt;strong&gt;BMC&lt;/strong&gt;) to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;passwd&lt;/code&gt; table.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
key=blade \
passwd.username=YOUR_BMC_USERID \
passwd.password=YOUR_BMC_PASSWORD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump passwd
#key,username,password,cryptmethod,authdomain,comments,disable
&quot;system&quot;,&quot;root&quot;,&quot;abc!!123(??)&quot;,,,,
&quot;blade&quot;,&quot;YOUR_BMC_USERID&quot;,&quot;YOUR_BMC_PASSWORD&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Verify that your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; file contains entries for all of your
management node interfaces.  Manually add any that are missing.&lt;/p&gt;

&lt;p&gt;Add &lt;strong&gt;MM&lt;/strong&gt; (&lt;strong&gt;BMC&lt;/strong&gt;) hostname (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xbcmm1n&lt;/code&gt;) and its IP address
to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;192.168.80.135 xbcmm1n&quot; &amp;gt;&amp;gt; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; hardware control. &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; power management:&lt;/p&gt;

&lt;p&gt;If there’s an “Unsupported security level” error like the one shown below,
you need to add the MM (BMC) to xCAT database and to register it.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower abacus101 state
abacus101: [xcatmn]: Error: Unsupported security level
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To fix it, first check whether you can communicate with the MM (BMC):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n snmpdest
Error: Invalid nodes and/or groups in noderange: xbcmm1n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This particular MM (BMC) has not been added to xCAT database.
For now, xCAT has only one node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodels
abacus101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef xbcmm1n
Error: [xcatmn]: Could not find an object named &apos;xbcmm1n&apos; of type &apos;node&apos;.
No object definitions have been found
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Discover all networked services information &lt;strong&gt;within the cluster subnet&lt;/strong&gt;
(connected via the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eth1&lt;/code&gt; network adapter with IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;)
and write output to xCAT database:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip -4 address show eth1 | grep inet
    inet 192.168.80.220/24 brd 192.168.80.255 scope global noprefixroute eth1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsslp -i 192.168.80.220 -w
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodels
Server--SNYK123456E1AB
abacus101
xbcmm1n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef xbcmm1n
Object name: xbcmm1n
    groups=mm,all
    id=0
    mgt=blade
    mpa=xbcmm1n
    postbootscripts=otherpkgs
    postscripts=syslog,remoteshell,syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If a request for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmpdest&lt;/code&gt; from the MM (BMC) is empty as shown here:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n snmpdest
xbcmm1n: SP SNMP Destination 1: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;enable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmpcfg&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sshcfg&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n snmpcfg=enable sshcfg=enable
xbcmm1n: SNMP enable: OK
xbcmm1n: SSH enable: OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After that, request for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmpdest&lt;/code&gt; gets answered:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n snmpdest
xbcmm1n: SP SNMP Destination 1: 0.0.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n snmpcfg
xbcmm1n: SNMP: enabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n sshcfg 
xbcmm1n: SSH: enabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While you are here, rename the &lt;strong&gt;MM&lt;/strong&gt; (&lt;strong&gt;BMC&lt;/strong&gt;) Server–SNYK123456E1AB 
(BMC on the other chassis) node to xbcmm2:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef \
-t node \
-o Server--SNYK123456E1AB \
-n xbcmm2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add username and password for &lt;strong&gt;MM&lt;/strong&gt; (&lt;strong&gt;BMC&lt;/strong&gt;) to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; table.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
mpa=xbcmm2 \
mpa.username=YOUR_BMC_USERNAME \
mpa.password=YOUR_BMC_PASSWORD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For the same &lt;strong&gt;MM&lt;/strong&gt; (&lt;strong&gt;BMC&lt;/strong&gt;) node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xbcmm2&lt;/code&gt;, change the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; attribute in
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table (set it to be the same as the node name, that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xbcmm2&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab
node=xbcmm2 \
mp.mpa=xbcmm2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Verify that your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; file contains entries for all of your
management node interfaces.  Manually add any that are missing.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;192.168.80.127 xbcmm2&quot; &amp;gt;&amp;gt; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back to continuing the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; provisioning:&lt;/p&gt;

&lt;p&gt;Hardware control check for power management for node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;
works now:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower abacus101 state
abacus101: on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; firmware information:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rinv abacus101 all
abacus101: Machine Type/Model: 8853AC1
abacus101: Serial Number: KQCCXBT
abacus101: MAC Address 1: 00:21:5E:2C:0E:D2
abacus101: MAC Address 2: 00:21:5E:2C:0E:D4
abacus101: Management Module firmware: 36 (BPET36M 07-02-08)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;provision-a-node-and-manage-it-with-parallel-shell&quot;&gt;Provision a Node and Manage It with Parallel Shell&lt;/h3&gt;

&lt;h4 id=&quot;configure-dhcp&quot;&gt;Configure DHCP&lt;/h4&gt;

&lt;p&gt;In order to PXE boot, you need a DHCP server to hand out IP addresses
and direct the booting system to the TFTP server where it can download
the network boot files.&lt;/p&gt;

&lt;p&gt;Which networks &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dhcpd&lt;/code&gt; (dhcp daemon) should listen on can be controlled
by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dhcpinterfaces&lt;/code&gt; attribute in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site(5)&lt;/code&gt; table.
Add this attribute and set it to listen to only the
internal/private/cluster-facing network, which is connected to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eth1&lt;/code&gt; NIC.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep dhcp
&quot;dhcplease&quot;,&quot;43200&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dhcpinterfaces&lt;/code&gt; attribute to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab key=dhcpinterfaces site.value=eth1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep dhcp
&quot;dhcplease&quot;,&quot;43200&quot;,,
&quot;dhcpinterfaces&quot;,&quot;eth1&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A new dhcp configuration file is created by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedhcp(8)&lt;/code&gt; command.
It requires that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;networks(5)&lt;/code&gt; table is filled out properly.
Check the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;networks(5)&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump networks
#netname,net,mask,mgtifname,gateway,dhcpserver,tftpserver,nameservers,ntpservers,logservers,dynamicrange,staticrange,staticrangeincrement,nodehostname,ddnsdomain,vlanid,domain,mtu,comments,disable
&quot;123_12_23_0-255_255_255_0&quot;,&quot;123.12.23.0&quot;,&quot;255.255.255.0&quot;,&quot;eth0&quot;,&quot;123.12.23.254&quot;,,&quot;&amp;lt;xcatmaster&amp;gt;&quot;,,,,,,,,,,,&quot;1500&quot;,,
&quot;192_168_80_0-255_255_255_0&quot;,&quot;192.168.80.0&quot;,&quot;255.255.255.0&quot;,&quot;eth1&quot;,&quot;&amp;lt;xcatmaster&amp;gt;&quot;,,&quot;&amp;lt;xcatmaster&amp;gt;&quot;,,,,,,,,,,,&quot;1500&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While you are here, change the name of the cluster’s network:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
net=192.168.80.0 \
networks.netname=abacusnet
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that before running the next command (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedhcp -n&lt;/code&gt;), 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dhcpd&lt;/code&gt; (dhcp daemon) service is not running:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-active dhcpd.service
inactive
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a new dhcp configuration file with a network statement for each
network the dhcp daemon should listen on. &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedhcp(8)&lt;/code&gt; command will automatically restart the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dhcpd&lt;/code&gt; 
(dhcp daemon) after this operation.  &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-n&lt;/code&gt; option of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedhcp(8)&lt;/code&gt; command replaces any existing 
configuration file, making a backup of it first.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedhcp -n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Renamed existing dhcp configuration file to  /etc/dhcp/dhcpd.conf.xcatbak

Warning: [xcatmn]: No dynamic range specified for 192.168.80.0. 
If hardware discovery is being used, a dynamic range is required.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As I’m not using hardware discovery, I don’t need to specify the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dynamicrange&lt;/code&gt;
attribute in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;networks&lt;/code&gt; table so I don’t have to address the warning above.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lhrt /etc/dhcp/dhcpd.conf*
-rw-r--r-- 1 root root  117 Oct  1  2020 /etc/dhcp/dhcpd.conf.xcatbak
-rw------- 1 root root 5.4K Mar 20 19:50 /etc/dhcp/dhcpd.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep range /etc/dhcp/dhcpd.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n subnet /etc/dhcp/dhcpd.conf
35:  subnet 192.168.80.0 netmask 255.255.255.0 {
78:  } # 192.168.80.0/255.255.255.0 subnet_end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-active dhcpd.service
active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continuing with the setup, next two &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedhcp(8)&lt;/code&gt; requirements have
already beeen met; see above.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Get the node IP addresses and MACs defined in the xCAT database.
    &lt;ul&gt;
      &lt;li&gt;Already done:&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus101 | grep -w ip
    ip=192.168.80.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mac
#node,interface,mac,comments,disable
&quot;abacus101&quot;,,&quot;00:11:22:33:44:55&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Get the hostnames and IP addresses pushed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; and do DNS.
    &lt;ul&gt;
      &lt;li&gt;Already done with:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makehosts(8)&lt;/code&gt; and with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedns(8)&lt;/code&gt;.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedhcp(8)&lt;/code&gt; with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;noderange&lt;/code&gt; option.  This injects configuration data
pertinent to the specified nodes into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dhcpd&lt;/code&gt;.  The configuration information
takes effect immediately without a restart of DHCP.&lt;/p&gt;

&lt;p&gt;So far, I’ve configured one compute node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodels
[...]       &amp;lt;-- The rest of the nodes are MM nodes (not CNs)
abacus101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For now, add only one node to the DHCP server configuration.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dhcpd&lt;/code&gt; (dhcp daemon) does not have to be restarted after this.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedhcp abacus101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Query the node entries from the DHCP server configuration to confirm that
only one node is configured for now:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedhcp -q abacus101
abacus101: ip-address = 192.168.80.1, hardware-address = 00:11:22:33:44:55 

# makedhcp -q all 
abacus101: ip-address = 192.168.80.1, hardware-address = 00:11:22:33:44:55 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy the customized CentOS Linux 7.9 DVD ISO to the xCAT server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# scp dusko@192.168.80.210:/tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy the CentOS 7.9 Linux DVD ISO to the xCAT &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/install&lt;/code&gt; directory.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# copycds CentOS-7-x86_64-Everything-CUSTOM-2009.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;copycds(8)&lt;/code&gt;, the corresponding basic &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osimage&lt;/code&gt; will be generated
automatically.  Then you can list the new osimage name here.  You can refer
to xCAT documentation on how to customize the package list or postscript
for target compute nodes. For now just use the default one:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t osimage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;centos7.9-x86_64-install-compute  (osimage)
centos7.9-x86_64-netboot-compute  (osimage)
centos7.9-x86_64-statelite-compute  (osimage)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatprobe&lt;/code&gt; to precheck whether the xCAT &lt;strong&gt;MN&lt;/strong&gt; (&lt;strong&gt;management node&lt;/strong&gt;)
is ready for OS provision (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-i&lt;/code&gt; option: install NIC, specifying the network
interface name of provision network on MN (management node).  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-w&lt;/code&gt; option:
show each line completely; by default long lines are truncated):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xcatprobe -w xcatmn -i eth1
[mn]: Checking all xCAT daemons are running...                          [ OK ]
[mn]: Checking xcatd can receive command request...                     [ OK ]
[mn]: Checking &apos;site&apos; table is configured...                            [ OK ]
[mn]: Checking provision network is configured...                       [ OK ]
[mn]: Checking &apos;passwd&apos; table is configured...                          [ OK ]
[mn]: Checking important directories(installdir,tftpdir) are configured [ OK ]
[mn]: Checking SELinux is disabled...                                   [ OK ]
[mn]: Checking HTTP service is configured...                            [ OK ]
[mn]: Checking TFTP service is configured...                            [ OK ]
[mn]: Checking DNS service is configured...                             [WARN]
[mn]: DNS nameserver can not be reached
[mn]: Checking DHCP service is configured...                            [ OK ]
[mn]: Checking NTP service is configured...                             [ OK ]
[mn]: Checking rsyslog service is configured...                         [ OK ]
[mn]: Checking firewall is disabled...                                  [ OK ]
[mn]: Checking minimum disk space for xCAT [&apos;/var&apos; needs 1GB;&apos;/install&apos;
        needs 10GB;&apos;/tmp&apos; needs 1GB]...                                 [ OK ]
[mn]: Checking Linux ulimits configuration...                           [ OK ]
[mn]: Checking network kernel parameter configuration...                [ OK ]
[mn]: Checking xCAT daemon attributes configuration...                  [ OK ]
[mn]: Checking xCAT log is stored in /var/log/xcat/cluster.log...       [ OK ]
[mn]: Checking xCAT management node IP: &amp;lt;192.168.80.220&amp;gt; is configured
        to static...                                                    [ OK ]
[mn]: Checking dhcpd.leases file is less than 100M...                   [ OK ]
[mn]: Checking DB packages installation...                              [ OK ]
=================================== SUMMARY ==================================
[MN]: Checking on MN...                                                 [ OK ]
    Checking DNS service is configured...                               [WARN]
        DNS nameserver can not be reached
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Don’t worry about DNS warning.  That warning is expected
          because the DNS nameserver for the cluster is within 
	  private network 192.168.80.0/24.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; To get usage information of xcatprobe: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatprobe -h&lt;/code&gt;. &lt;br /&gt;
To list all valid sub commands for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatprobe&lt;/code&gt;, run: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatprobe -l&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;perform-the-diskful-os-deployment-scripted-install-clone&quot;&gt;Perform the Diskful OS Deployment (Scripted Install, Clone)&lt;/h3&gt;
&lt;h3 id=&quot;aka-build-nodes&quot;&gt;a.k.a Build Nodes&lt;/h3&gt;

&lt;p&gt;Begin OS provision on the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; with the specified &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osimage&lt;/code&gt;.
Earlier, from the output of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsdef -t osimage&lt;/code&gt;, one of the images was
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;centos7.9-x86_64-install-compute&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t osimage centos7.9-x86_64-install-compute
Object name: centos7.9-x86_64-install-compute
    imagetype=linux
    osarch=x86_64
    osdistroname=centos7.9-x86_64
    osname=Linux
    osvers=centos7.9
    otherpkgdir=/install/post/otherpkgs/centos7.9/x86_64
    pkgdir=/install/centos7.9/x86_64
    pkglist=/opt/xcat/share/xcat/install/centos/compute.centos7.pkglist
    profile=compute
    provmethod=install
    template=/opt/xcat/share/xcat/install/centos/compute.centos7.tmpl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  Before starting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rinstall(8)&lt;/code&gt;, make sure that the node’s boot
order is configured so that the first boot device is &lt;strong&gt;network&lt;/strong&gt;
(or &lt;strong&gt;PXE network&lt;/strong&gt;).  As the HS21 blade server is BIOS-based 
(not UEFI-based), check the BIOS settings, and if needed, adjust the 
settings as needed. &lt;a href=&quot;#footnotes&quot;&gt;⁶&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
Alternatively, you can use xCAT’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq(1)&lt;/code&gt;, which permanently sets
the order of boot devices for BMC-based servers, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rsetboot(1)&lt;/code&gt; command,
which sets the boot device to be used for BMC-based servers for the next
boot only.&lt;/p&gt;

&lt;p&gt;However, note that on IBM BladeCenter (which is the case here), you only
have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq&lt;/code&gt; and not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rsetboot&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.mail-archive.com/xcat-user@lists.sourceforge.net/msg05290.html&quot;&gt;Re: [xcat-user] Problem with rsetboot: unable to identify plugin&lt;/a&gt;
(Retrieved on Mar 20, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;On BladeCenter, you have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq&lt;/code&gt;.  I know, a bit peculiar, but the AMM
supports boot sequence control rather than next one time boot device
[which is controlled by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rsetboot&lt;/code&gt;].&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rbootseq abacus101 list
abacus101: net,cdrom,hd0,none
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If it’s not configured to boot from the Ethernet (net) device, you can change it with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq(1)&lt;/code&gt; command: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq abacus101 net,hd0,none,none&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower abacus101 bmcstate
abacus101: on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=abacus101 \
nodehm.consoleenabled=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The MM (Management Module), a.k.a. BMC (Baseboard Management 
Controller), hosting this compute node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;) is named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xbcmm1n&lt;/code&gt;.
Its vitals and network settings are:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rvitals xbcmm1n all 
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n network
xbcmm1n: MM IP: 192.168.80.135
xbcmm1n: MM Hostname: xbcmm1n
xbcmm1n: Gateway: 0.0.0.0
xbcmm1n: Subnet Mask: 255.255.255.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If needed, change the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;forwarders&lt;/code&gt; attribute in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table.&lt;/p&gt;

&lt;p&gt;From the manual page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site(5)&lt;/code&gt; table:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;forwarders&lt;/code&gt;: &lt;br /&gt;
The DNS servers at your site that can provide names &lt;strong&gt;outside&lt;/strong&gt; of
the &lt;strong&gt;cluster&lt;/strong&gt;.  The makedns command will configure the DNS on the
management node to forward requests it does not know to these servers.
Note that the DNS servers on the service nodes will ignore this value
and always be configured to forward to the management node.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nameservers&lt;/code&gt;: &lt;br /&gt;
A comma delimited list of DNS servers that each node in the cluster should
use. This value will end up in the nameserver settings of the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt; &lt;strong&gt;on each node&lt;/strong&gt;. It is common (but not required) to set
this attribute value to the IP address of the xCAT management node, if
you have set up the DNS on the management node by running makedns.
In a hierarchical cluster, you can also set this attribute to
“&lt;strong&gt;&amp;lt;xcatmaster&lt;/strong&gt;&amp;gt;” to mean the DNS server for each node should be the
node that is managing it (either its service node or the management
node).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Also, from the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;networks(5)&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gateway&lt;/code&gt;  The network gateway. It can be set to an ip address or the
keyword &lt;strong&gt;&amp;lt;xcatmaster&lt;/strong&gt;&amp;gt;.  The keyword &amp;lt;xcatmaster&amp;gt; indicates the
&lt;strong&gt;cluster-facing&lt;/strong&gt; ip address configured on this management node or
service node.  Leaving this field blank means that there is no gateway
for this network.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep forwarders 
&quot;forwarders&quot;,&quot;208.67.222.222,208.67.220.220&quot;,,  &amp;lt;- Should list your DNS servers
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If it hasn’t been correctly set up, you can update the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;forwarders&lt;/code&gt;
attribute now with the following command.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab key=forwarders site.value=208.67.222.222,208.67.220.220
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep forwarders
&quot;forwarders&quot;,&quot;208.67.222.222,208.67.220.220&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep nameservers
&quot;nameservers&quot;,&quot;192.168.80.220&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If it hasn’t been correctly set up, you can now update the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nameservers&lt;/code&gt;
attribute with the following command.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab key=nameservers site.value=192.168.80.220
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep nameservers
&quot;nameservers&quot;,&quot;192.168.80.220&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Does the trio &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedhcp -n&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makehosts&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedns -n&lt;/code&gt;
            need to be run here?&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedhcp -n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makehosts 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedns -n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makegocons -D abacus101
[...]
Starting goconserver service ...
abacus101: Created
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After the node is registered for an instance of the console (serial console)
session with the command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makegocons -D abacus101&lt;/code&gt; above,
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;consoleenabled&lt;/code&gt; attribute has been added and set to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt; for the node
(in this case, node named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus101 | grep cons
    cons=blade
    consoleenabled=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-active goconserver.service 
active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl status goconserver.service 
  goconserver.service - goconserver console daemon
   Loaded: loaded (/usr/lib/systemd/system/goconserver.service; enabled; vendor preset: disabled)
   Active: active (running) since Sun 2022-03-20 15:42:08 PDT; 1min ago
     Docs: https://github.com/xcat2/goconserver
 Main PID: 12517 (goconserver)
   CGroup: /system.slice/goconserver.service
           |-12517 /usr/bin/goconserver
           +-1253 ssh -t YOUR_BMC_USERNAME@xbcmm1n console -o -T blade[1]

Mar 20 15:42:08 xcatmn.mydomain.com systemd[1]: Started goconserver console daemon.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makegocons -q abacus101
NODE                             SERVER                           STATE
abacus101                        xcatmn.mydomain.com              connected
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Connect to the newly provisioned node (compute node):&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  For the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rcons&lt;/code&gt; to work, the node’s BIOS must be configured 
for SOL (Serial Over LAN), a.k.a. Text Mode Console. &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;10&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rcons abacus101
[Enter `^Ec?&apos; for help]
goconserver(2022-03-20T20:44:12-07:00): Hello 192.168.80.220:32998,
  welcome to the session of abacus101

CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

abacus101 login: root
Password: 
[root@abacus101 ~]# 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log off from the compute node.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The OS login banner appears.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

abacus101 login: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
&lt;strong&gt;To exit the console session, enter: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-e&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;c&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt;
(3 characters: Ctrl-e, ‘c’ and ‘.’)&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[Disconnected]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Display the OS and network interface status (On or Off status) for compute
nodes which are managed by the current xCAT &lt;strong&gt;MN&lt;/strong&gt; (&lt;strong&gt;Management Node&lt;/strong&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xcatstat
# Hostname:Status:Network-Interfaces:
abacus101:1:enp4s0-1:enp6s0-2 :
xbcmm1n:1:127 :
xbcmm2:1:127 :
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start the diskful OS deployment:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rinstall abacus101 osimage=centos7.9-x86_64-install-compute
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rinstall&lt;/code&gt; command works even though it raises this error:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rinstall abacus101 osimage=centos7.9-x86_64-install-compute
Provision node(s): abacus101
Error: [xcatmn]: rinstall plugin bug, pid 18475, process description:
  &apos;xcatd SSL: rinstall to abacus101 for root@localhost: rinstall instance&apos;
  with error &apos;Died at /opt/xcat/sbin/xcatd line 2104.&apos;
  while trying to fulfill request for the following nodes: abacus101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This error is raised because this node is a &lt;strong&gt;&lt;em&gt;blade&lt;/em&gt;&lt;/strong&gt; node, while
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rinstall&lt;/code&gt; command is supposed to support only IPMI based node:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.mail-archive.com/xcat-user@lists.sourceforge.net/msg05288.html&quot;&gt;Re: [xcat-user] Problem with rsetboot: unable to identify plugin&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Mar 20, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Your node is a &lt;em&gt;blade&lt;/em&gt; node. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rinstall&lt;/code&gt; command only supports ipmi based node.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You can monitor installation process:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rcons abacus101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After 5-10 minutes verify that provision status is booted:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus101 -i status
Object name: abacus101
    status=booted
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xdsh(1)&lt;/code&gt; to check the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; OS version and whether OS provision
was successful:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus101 more /etc/*release
abacus101: ::::::::::::::
abacus101: /etc/centos-release
abacus101: ::::::::::::::
abacus101: CentOS Linux release 7.9.2009 (Core)
abacus101: ::::::::::::::
abacus101: /etc/os-release
abacus101: ::::::::::::::
abacus101: NAME=&quot;CentOS Linux&quot;
abacus101: VERSION=&quot;7 (Core)&quot;
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  If you get a ‘Permission denied’ error:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus101 &apos;cat /etc/redhat-release&apos;
[xcatmn]: abacus101: Permission denied (publickey,gssapi-keyex,
gssapi-with-mic,password).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;you can fix it by updating the security keys for this compute node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus101 -k
The ssh keys will be updated for &apos;root&apos; on the node(s).
Password:
abacus101: Setup ssh keys has completed.
abacus101: =============updatenode starting====================
abacus101: /tmp/FlNrhJh5uy.dsh: line 62: /var/log/xcat/xcat.log: No such file or directory
abacus101: trying to download postscripts...
abacus101: /tmp/FlNrhJh5uy.dsh: line 62: /var/log/xcat/xcat.log: No such file or directory

^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;** &lt;strong&gt;TIP:&lt;/strong&gt; **  If there are monitor probing errors in the console,
                showing approximately every ten seconds similar to&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;drm:radeon_vga_detect [radeon]] *ERROR* VGA-1: probed a monitor
  but no|invalid EDID
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;you can remove them by adding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nomodeset&lt;/code&gt; kernel boot line option as
explained in Footnotes at the bottom of this page &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;11&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;See also:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.dell.com/support/kbdoc/en-ca/000123893/manual-nomodeset-kernel-boot-line-option-for-linux-booting&quot;&gt;Manual “nomodeset” Kernel Boot Line Option for Linux Booting&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://serverfault.com/questions/708400/radeon-dvi-errors-filling-logs&quot;&gt;Radeon DVI errors filling logs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Back to continuing with the setup:&lt;/p&gt;

&lt;p&gt;Test ssh passwordless login to the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh root@abacus101
Last login: Sun Mar 20 16:37:45 2022

# hostname
abacus101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log off from the node (compute node).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
logout
Connection to abacus101 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;stage-2-add-your-second-node-and-configure-it-for-sol-serial-over-lan-operation-aka-text-mode-console&quot;&gt;Stage 2: Add Your Second Node and Configure It for SOL (Serial Over LAN) Operation (aka Text Mode Console)&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;br /&gt;
You could continue with your first node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus101&lt;/code&gt; and 
perform these steps on it but I want to show how to enable SOL 
(Serial Over LAN) operation (a.k.a. text mode console) on a compute 
node running CentOS Linux 5, and a different node is perfect for that 
since its OS hasn’t been upgraded yet (it’s still CentOS Linux 5.2).&lt;/p&gt;

&lt;p&gt;To prepare the IBM HS21 blade server for supporting serial console,
you need to:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;enable &lt;strong&gt;SOL (Serial Over LAN)&lt;/strong&gt; &lt;a href=&quot;#footnotes&quot;&gt;⁴&lt;/a&gt; in the &lt;strong&gt;BIOS&lt;/strong&gt;, and&lt;/li&gt;
  &lt;li&gt;configure the &lt;strong&gt;operating system&lt;/strong&gt; for SOL operation.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Assumptions:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Hostname of the node you are provisioning: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102.mydomain.com&lt;/code&gt; (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.2&lt;/code&gt;).&lt;/li&gt;
  &lt;li&gt;It’s a blade server in a slot number 2 in an IBM chassis, holding (housing) a total of 14 blades (blade servers).&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;configure-ibm-hs21-blade-bios-for-sol-serial-over-lan&quot;&gt;Configure IBM HS21 Blade BIOS for SOL (Serial Over LAN)&lt;/h3&gt;

&lt;p&gt;The IBM BladeCenter HS21 blade is a &lt;strong&gt;BIOS&lt;/strong&gt;-based server (it doesn’t
support &lt;strong&gt;UEFI&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;This example shows how to use the IBM &lt;strong&gt;Advanced Settings Utility (ASU)&lt;/strong&gt;
&lt;a href=&quot;#footnotes&quot;&gt;⁵&lt;/a&gt; tool to &lt;strong&gt;remotely&lt;/strong&gt; modify basic input/output system
&lt;strong&gt;(BIOS) CMOS&lt;/strong&gt; settings.  Specifically, for SOL (Serial Over LAN) to work on this server model, the following six settings need to be changed in the BIOS:
Serial Port A, Serial Port B, Remote Console Active, Remote
Console COM Port, Remote Console After Boot, Remote Console Flow Control.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
Alternatively, you can use xCAT’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq(1)&lt;/code&gt;, which permanently sets
the order of boot devices for BMC-based servers, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rsetboot(1)&lt;/code&gt; command,
which sets the boot device to be used for BMC-based servers for the next
boot only.&lt;/p&gt;

&lt;h3 id=&quot;download-and-install-advanced-settings-utility-asu&quot;&gt;Download and Install Advanced Settings Utility (ASU)&lt;/h3&gt;

&lt;p&gt;Using your web browser, navigate from the &lt;a href=&quot;https://www.ibm.com/&quot;&gt;IBM home page&lt;/a&gt;
to the &lt;a href=&quot;https://www.ibm.com/support/home/?lnk=msu_usen&quot;&gt;Support page&lt;/a&gt;
and then to
(under section “Downloads, fixes &amp;amp; updates”) &lt;a href=&quot;https://www.ibm.com/support/fixcentral&quot;&gt;Fix Central&lt;/a&gt;.
Under “&lt;em&gt;Find product&lt;/em&gt;”, in the “&lt;em&gt;Product selector:&lt;/em&gt;” box, type “HS21”
(without quotes) to access a list of product choices.  From the list of
choices, select &lt;strong&gt;BladeCenter HS21&lt;/strong&gt;.  From the “&lt;em&gt;Product:&lt;/em&gt;” drop-down,
select &lt;strong&gt;8853&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;In the &lt;em&gt;Operating system&lt;/em&gt;, select “All”.  Click &lt;em&gt;Continue&lt;/em&gt;.
Select the 64-bit version of IBM Advanced Settings Utility (ASU) for Linux
(name: ibm_utl_asu_asut79n-9.30_linux_x86-64_rpm).&lt;/p&gt;

&lt;p&gt;The downloaded file name is H29456300.iso.  Copy this file to the xCAT
server, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt; (in this example, with the IP address
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;123.12.23.235&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ scp H29456300.iso username@123.12.23.235:/tmp/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log into the xCAT server.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh username@123.12.23.235
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mount the ISO image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdir /mnt/ASUISO
# mount -t iso9660 /tmp/H29456300.iso /mnt/ASUISO
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls /mnt/ASUISO/
ibm_utl_asu_asut79n-9.30_anyos_i686.chg
ibm_utl_asu_asut79n-9.30_linux_x86-64.rpm
ibm_utl_asu_asut79n-9.30_linux_x86-64.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a directory for the ASU and copy all files from the
ASU ISO image to it.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdir /opt/asu
# cp -i /mnt/ASUISO/ibm_utl_asu_asut79n-* /opt/asu/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Unmount the ASU ISO image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# umount /mnt/ASUISO/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy the ASU RPM installation file to the node (this node’s IP address
is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.2&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# scp \
/opt/asu/ibm_utl_asu_asut79n-9.30_linux_x86-64.rpm \
root@192.168.80.2:/tmp/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log into this node.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh root@192.168.80.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install the ASU from the RPM package.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd /tmp
# rpm -ivh ibm_utl_asu_asut79n-9.30_linux_x86-64.rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all installed packages on the system and confirm that the ASU
is installed:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpm -qa | grep asu
ibm_utl_asu-9.30-asut79N
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Find where the ASU’s RPM installs the files:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpm -qpl ibm_utl_asu_asut79n-9.30_linux_x86-64.rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/opt/ibm/toolscenter/asu/asu64
/opt/ibm/toolscenter/asu/cdc_interface.sh
/opt/ibm/toolscenter/asu/lic_en.txt
/opt/ibm/toolscenter/asu/rdcli-x86_64/rdmount
/opt/ibm/toolscenter/asu/rdcli-x86_64/rdumount
/opt/ibm/toolscenter/asu/savestat.def
/opt/ibm/toolscenter/asu/template.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get help for ASU:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 --help
IBM Advanced Settings Utility version 9.30.79N
[...]
Usage: ./asu [apps] &amp;lt;cmds&amp;gt; [&amp;lt;cmd_mod&amp;gt; | &amp;lt;class&amp;gt;] [&amp;lt;options&amp;gt;] [&amp;lt;connect_opts&amp;gt;]

  Note: Full description of an app:     ./asu &amp;lt;app_name&amp;gt; --help
        Full description of a command:  ./asu &amp;lt;cmds&amp;gt; --help

[apps]
  savestat [app_cmd]   - Tool Kit Store System Install State
  immcfg [app_cmd]     - Configure IMM LAN over USB (IMM-based servers only)
  fodcfg [app_cmd]     - Configure Feature on Demand(FoD)
  cmmcfg [app_cmd]     - Configure the CMM
  immapp [app_cmd]     - Immapp Configuration

&amp;lt;cmds&amp;gt;:
   --license        encrypt       patchadd       replicate  showdefault
   batch            export        patchextract   resetrsa   showgroups
   createuuid       generate      patchlist      restore    showlocation
   comparedefault   help          patchremove    save       showvalues
   delete           import        rebootimm      set        version
   deletecert       loaddefault   rebootbmc      setenc     readraw
   dump             nodes         rebootrsa      show       writeraw

*** The ASU User&apos;s Guide provides detailed command description and operation.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Show names of variable classes on the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 showgroups
bios
bmc
rsa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Show the possible values for the specified setting.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 showvalues 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Show the default value for the specified setting.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 showdefault
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Show the current value for one or all settings.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 show
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Syntax:
    show [&amp;lt;setting&amp;gt;][&amp;lt;cmdmod&amp;gt;] [&amp;lt;options&amp;gt;] [&amp;lt;connect_opts&amp;gt;]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To prepare the IBM HS21 blade server to support serial console, you need
to enable SOL (Serial Over LAN) in BIOS.  That’s done by changing values
of six BIOS settings (names of the six settings are listed at the beginning
of this section above).&lt;/p&gt;

&lt;p&gt;Change values for the six BIOS settings:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 set CMOS_SerialA &quot;Auto-configure&quot;
# /opt/ibm/toolscenter/asu/asu64 set CMOS_SerialB &quot;Auto-configure&quot;
# /opt/ibm/toolscenter/asu/asu64 set CMOS_RemoteConsoleEnable Enabled
# /opt/ibm/toolscenter/asu/asu64 set CMOS_RemoteConsoleComPort &quot;COM 2&quot;
# /opt/ibm/toolscenter/asu/asu64 set CMOS_RemoteConsoleBootEnable Enabled
# /opt/ibm/toolscenter/asu/asu64 set CMOS_RemoteConsoleFlowCtrl Hardware 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference:&lt;br /&gt;
&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.advmgtmod.doc/kp1bd_pdf.pdf&quot;&gt;BladeCenter SOL (Serial over LAN) Setup Guide - IBM Corporation, Twelfth Edition (November 2009)&lt;/a&gt; (retrieved on Mar 22, 2022):
Chapter 2. General configuration &amp;gt; Updating and configuring the blade server BIOS&lt;/p&gt;

&lt;h4 id=&quot;configure-rhel-based-linux-distribution-for-serial-console-text-console&quot;&gt;Configure RHEL-Based Linux Distribution for Serial Console (Text Console)&lt;/h4&gt;

&lt;p&gt;In this example the operating system on the node is CentOS
Linux &lt;strong&gt;5.2&lt;/strong&gt; (64-bit).&lt;/p&gt;

&lt;p&gt;To configure Linux for SOL operation, you must configure it to expose
the Linux initialization (booting) process.  This enables users to
log in to the Linux console using an SOL session and directs Linux output
to the serial console.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This procedure is based on a default installation of
&lt;strong&gt;RHEL 5.2&lt;/strong&gt;
(Red Hat Enterprise Linux 5.2).  The file names, structures, and commands
might be different for other versions of RHEL-based Linux distributions.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Hardware flow control prevents character loss during communication over a
serial connection.  You must enable it when using a Linux operating system.
Add the following line to the end of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;# Run gettys in standard runlevels&lt;/code&gt;
section of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/inittab&lt;/code&gt; file.  This enables hardware flow control and
enables users to log in through the SOL console.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;7:2345:respawn:/sbin/agetty -h ttyS1 19200 vt102&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add the following line at the bottom of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/securetty&lt;/code&gt; file to
enable a user to log in as the root user through the SOL console: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ttyS1&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;grub-configuration&quot;&gt;GRUB Configuration&lt;/h4&gt;

&lt;p&gt;Complete the following steps to modify the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/boot/grub/grub.conf&lt;/code&gt; file:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Comment out the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;splashimage=...&lt;/code&gt; line by adding a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; at the beginning of this line.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add the following line before the first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title ...&lt;/code&gt; line:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;# This will allow you to only monitor the OS boot via SOL&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add the following text to the end of first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title ...&lt;/code&gt; line:  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SOL Monitor&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add the following text to the end of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kernel /...&lt;/code&gt; line of
the first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title ...&lt;/code&gt; section: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console=ttyS1,19200 console=tty1&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add the following lines after the frst &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title ...&lt;/code&gt; section:&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# This will allow you to interact with the OS boot via SOL
title CentOS (2.6.18-92.el5) SOL Interactive
    root (hd0,0)
    kernel /boot/vmlinuz-2.6.18-92.el5 ro root=LABEL=/ rhgb quiet console=tty1
console=ttyS1,19200
    initrd /boot/initrd-2.6.18-92.el5.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  The entry beginning with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kernel /boot/vmlinuz...&lt;/code&gt; is shown with a line break
after &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console=tty1&lt;/code&gt;.  In your file, the entire entry must all be on one line.&lt;/p&gt;

&lt;p&gt;Modified &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/boot/grub/grub.conf&lt;/code&gt; contents:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grub.conf generated by anaconda
#
# Note that you do not have to rerun grub after making changes to this file
# NOTICE:  You do not have a /boot partition.  This means that
#          all kernel and initrd paths are relative to /, eg.
#          root (hd0,0)
#          kernel /boot/vmlinuz-version ro root=/dev/sda1
#          initrd /boot/initrd-version.img
#boot=/dev/sda
default=0
timeout=5
#splashimage=(hd0,0)/boot/grub/splash.xpm.gz
hiddenmenu
# This will allow you to only monitor the OS boot via SOL
title CentOS (2.6.18-92.el5) SOL Monitor
    root (hd0,0)
    kernel /boot/vmlinuz-2.6.18-92.el5 ro root=LABEL=/ rhgb quiet
console=ttyS1,19200 console=tty1
    initrd /boot/initrd-2.6.18-92.el5.img

# This will allow you to interact with the OS boot via SOL
title CentOS (2.6.18-92.el5) SOL Interactive
    root (hd0,0)
    kernel /boot/vmlinuz-2.6.18-92.el5 ro root=LABEL=/ rhgb quiet
console=tty1 console=ttyS1,19200
    initrd /boot/initrd-2.6.18-92.el5.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  The entries beginning with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kernel /boot/vmlinuz...&lt;/code&gt; are shown
with a line break.  In the actual &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grub.conf&lt;/code&gt; file, the both entries are
actually on one line.&lt;/p&gt;

&lt;p&gt;You must reboot the Linux operating system after completing these
procedures for the changes to take effect and to enable SOL.
However, instead of doing it from the OS, I want to confirm that the SOL
setup worked by performing a test with establishing a SOL connection to
the command console of this blade server.  Steps listed below show how to
do that.&lt;/p&gt;

&lt;p&gt;Log on to the management module (&lt;strong&gt;MM&lt;/strong&gt;) via the CLI (command line
interface) by following instructions listed
above (&lt;a href=&quot;#connecting-to-cli-on-mm&quot;&gt;“Connecting to CLI on MM”&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Power cycle this blade server, blade 2 (which is in a blade chassis,
holding a total of 14 blades) to command console.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-cycle&lt;/code&gt; option: power off, then on.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-c&lt;/code&gt; option: enter &lt;strong&gt;console&lt;/strong&gt;
mode at power on (used on blades with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-on&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-cycle&lt;/code&gt;).  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-T&lt;/code&gt; option:
target (in this case blade number 2).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;system&amp;gt; power -cycle -c -T system:blade[2]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you see output similar to the following, the SOL setup works:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;IPMI kcs interface initialized

                                             CP: 17RN50 200m/200e DDR1 BIOS


IBM BIOS - (c) Copyright IBM Corporation 2008                       CP: 28
Symmetric Multiprocessing System$
Intel(R) Xeon(R) CPU E5430 @ 2.66GHz$
2 Processor Packages Installed$

16384 MB Installed Memory


Press F1 for Configuration/Setup
Press F2 for Diagnostics
Press F12 for Boot Device Selection Menu


&amp;gt;&amp;gt; BIOS Version 1.15 &amp;lt;&amp;lt;

[...]

Press any key to enter the menu

Booting CentOS (2.6.18-92.el5) SOL Monitor in 1 seconds...

[...]

CentOS release 5.2 (Final)
Kernel 2.6.18-92.el5 on an x86_64

abacus102 login: root
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  If you loose communication over the serial connection,
you can re-establish it with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console&lt;/code&gt; command:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console -T system:blade[2]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;To &lt;strong&gt;exit&lt;/strong&gt; the SOL session and to return to the CLI on the &lt;strong&gt;MM&lt;/strong&gt;,
press Esc followed by an open parenthesis: 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc (&lt;/code&gt;  (two characters: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shift-9&lt;/code&gt; [on US keyboards])&lt;/p&gt;

&lt;p&gt;To return to the OS, in the CLI prompt of the &lt;strong&gt;MM&lt;/strong&gt;, type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exit&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Back in the OS:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ping -c2 192.168.80.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get the MAC address of the node with IP address 192.168.80.2:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# arp -a | grep &apos;192.168.80.2&apos;
? (192.168.80.2) at 01:02:03:04:05:0e [ether] on eth1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If you don’t have network connection with this node, you can
obtain its MAC address by logging in to the &lt;strong&gt;MM&lt;/strong&gt; (&lt;strong&gt;BMC&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;Log on to the management module (&lt;strong&gt;MM&lt;/strong&gt;) via the CLI (command line
interface) by following instructions listed
above (&lt;a href=&quot;#connecting-to-cli-on-mm&quot;&gt;“Connecting to CLI on MM”&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;In the BMC CLI prompt:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;system&amp;gt; info -T blade[2]
[...]
MAC Address 1: 00:11:22:[...]
MAC Address 2: 00:11:22:[...]
MAC Address 3: Not Available
MAC Address 4: Not Available
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create an xCAT data object definition for this node 
(name the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  I had to create this data object in two steps:
The attribute &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmc&lt;/code&gt; must be specified but when I used &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmc&lt;/code&gt; with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mgt=blade&lt;/code&gt;, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkdef&lt;/code&gt; returned an error: &lt;em&gt;“Cannot set the attr=’bmc’
attribute unless mgt value is ipmi or openbmc”&lt;/em&gt; so in this first step
I skipped setting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmc&lt;/code&gt; attribute and then changed it in the next step.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef \
-t node abacus102 \
id=2 \
--template x86_64-template \
ip=192.168.80.2 \
mac=01:02:03:04:05:0e \
bmc=192.168.80.135 \
mpa=xbcmm1n \
getmac=blade \
cons=blade \
serialport=1 \
serialspeed=19200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef -t node -o abacus102 mgt=blade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus102 
Object name: abacus102
    arch=x86_64
    cons=blade
    getmac=blade
    groups=all
    id=2
    ip=192.168.80.2
    mac=01:02:03:04:05:0e
    mgt=blade
    mpa=xbcmm1n
    netboot=xnba
    postbootscripts=otherpkgs
    postscripts=syslog,remoteshell,syncfiles
    serialport=1
    serialspeed=19200
    usercomment=the system X node definition
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mpa
#mpa,username,password,displayname,slots,urlpath,comments,disable
&quot;xbcmm1n&quot;,&quot;YOUR_BMC_USERID&quot;,&quot;YOUR_BMC_PASSW0RD&quot;,,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mp
#node,mpa,id,nodetype,comments,disable
&quot;bcmgmt1&quot;,&quot;bcmgmt1&quot;,&quot;0&quot;,,,
&quot;bcmgmt2&quot;,&quot;bcmgmt2&quot;,&quot;0&quot;,,,
[...]
&quot;xbcmm1n&quot;,&quot;xbcmm1n&quot;,,,,
&quot;abacus101&quot;,&quot;xbcmm1n&quot;,&quot;1&quot;,,,
&quot;abacus102&quot;,&quot;xbcmm1n&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Change &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node=abacus102&lt;/code&gt; row in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table setting with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id=2&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=abacus102 \
mp.id=2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mp
#node,mpa,id,nodetype,comments,disable
&quot;bcmgmt1&quot;,&quot;bcmgmt1&quot;,&quot;0&quot;,,,
&quot;bcmgmt2&quot;,&quot;bcmgmt2&quot;,&quot;0&quot;,,,
[...]
&quot;xbcmm1n&quot;,&quot;xbcmm1n&quot;,,,,
&quot;abacus101&quot;,&quot;xbcmm1n&quot;,&quot;1&quot;,,,
&quot;abacus102&quot;,&quot;xbcmm1n&quot;,&quot;2&quot;,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt; hardware control:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower abacus102 state
abacus102: on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rinv -V abacus102 all
20220320.21:48:23 (3057) rinv:start deal with SNMP session.
abacus102: Machine Type/Model: 8853AC1
abacus102: Serial Number: KQCCXBF
abacus102: MAC Address 1: 01:02:03:04:05:0e
abacus102: MAC Address 2: 01:02:03:04:05:0f
abacus102: Management Module firmware: 16 (BRET86S 10-12-09)
20220320.21:48:24 (3057) rinv:SNMP session completed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Configure DNS.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makehosts abacus102 
Warning: [xcatmn]: No domain can be determined for node &apos;abacus102&apos;. 
  The domain of the xCAT node must be provided in an xCAT network
  definition or the xCAT site definition.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedns -n
Error: [xcatmn]: domain not defined in site table
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To fix this error, add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain&lt;/code&gt; attribute as explained further below.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tabdump&lt;/code&gt; command displays the header and all the rows of the specified
table in CSV (comma separated values) format.  To show descriptions of the
tables, instead of the contents of the tables, use the option &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d&lt;/code&gt;.
If a table name is also specified, descriptions of the columns
(attributes) of the table will be displayed.  Otherwise, a summary of each
table will be displayed.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump -d
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table is specific and different from all the other tables.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump -d | grep -n site
115:site:  Global settings for the whole cluster.  This table is different from

# tabdump -d | sed -n 115,121p
site:  Global settings for the whole cluster.  This table is different from
the other tables in that each attribute is just named in the key column,
rather than having a separate column for each attribute. The following is
a list of attributes currently used by xCAT organized into categories.


statelite: The location on an NFS server where a nodes persistent files
are stored.  Any file marked persistent in t.
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To show how &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table is differently laid out, let’s compare it to,
for example, table &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;passwd&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump passwd
#key,username,password,cryptmethod,authdomain,comments,disable
&quot;system&quot;,&quot;root&quot;,&quot;PASSWORDHERE&quot;,,,,
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site
#key,value,comments,disable
[...]
&quot;master&quot;,&quot;192.168.80.220&quot;,,
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This means that with all tables except the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table, you specifty attribute
by first giving the table name. For example, in case of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;passwd&lt;/code&gt; table
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;passwd.username&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;passwd.password&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab key=system passwd.username=root passwd.password=&apos;abc!!123(??)&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In contrast, for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table, after the table name (that is, after
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt;), you always use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.value&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab key=nameservers site.value=192.168.80.220
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back to fixing the error raised above (with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makehosts abacus102&lt;/code&gt; and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedns -n&lt;/code&gt;) where the warning was that the domain of the xCAT node 
must be provided in an xCAT network definition or the xCAT site definition.&lt;/p&gt;

&lt;p&gt;Description of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;networks&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump -d | grep networks
networks:       Describes the networks in the cluster and info necessary to
set up nodes on that network.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Description of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain&lt;/code&gt; attribute:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump -d site | grep -w domain 
 domain:  The DNS domain name used for the cluster.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table doesn’t have the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain&lt;/code&gt; key:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep -i domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain&lt;/code&gt; key and value (in this example &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mydomain.com&lt;/code&gt;) to the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab key=domain site.value=mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After this, both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makehosts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedns&lt;/code&gt; work:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makehosts abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tail -1 /etc/hosts
192.168.80.2 abacus102 abacus102.mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedns -n 
Handling xbcmm1n in /etc/hosts.
Handling abacus102 in /etc/hosts.
Handling localhost in /etc/hosts.
Handling localhost in /etc/hosts.
Handling xcatmn in /etc/hosts.
Getting reverse zones, this may take several minutes for a large cluster.
Completed getting reverse zones.
Updating zones.
Completed updating zones.
Restarting named
Restarting named complete
Updating DNS records, this may take several minutes for a large cluster.
Completed updating DNS records.
DNS setup is completed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference:&lt;br /&gt;
&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.advmgtmod.doc/kp1bd_pdf.pdf&quot;&gt;BladeCenter SOL (Serial over LAN) Setup Guide - IBM Corporation, Twelfth Edition (November 2009)&lt;/a&gt; (retrieved on Mar 22, 2022):
Chapter 3. Operating system configuration &amp;gt; Linux configuration &amp;gt; Red Hat Enterprise Linux ES 2.1 configuration&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;create-a-qemu-image-snapshot-backup&quot;&gt;Create a QEMU Image Snapshot Backup&lt;/h2&gt;

&lt;p&gt;Power off the guest VM.&lt;/p&gt;

&lt;p&gt;Run the following commands on the host.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img info xcatmn.img
image: xcatmn.img
file format: raw
virtual size: 80 GiB (85899345920 bytes)
disk size: 21.6 GiB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all snapshots in the image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img snapshot -l xcatmn.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So currently the image doesn’t have any snapshots.&lt;/p&gt;

&lt;p&gt;Convert image format from raw to qcow2.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img \
convert \
-f raw \
-O qcow2 \
xcatmn.img \
xcatmn.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh xcatmn.img
-rw-rw-r-- 1 dusko dusko 80G Mar 20 20:03 xcatmn.img

$ ls -lh xcatmn.qcow2
-rw-r--r-- 1 dusko dusko 24G Mar 20 20:04 xcatmn.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the snapshot.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img snapshot -c xcat_configured_bkp xcatmn.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all snapshots in the image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img snapshot -l xcatmn.qcow2
Snapshot list:
ID        TAG                 VM SIZE                DATE       VM CLOCK
1         xcat_configured_bkp     0 B 2022-03-20 20:04:13   00:00:00.000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;stage-3-prepare-postscripts-and-postbootscripts&quot;&gt;Stage 3: Prepare Postscripts and Postbootscripts&lt;/h2&gt;

&lt;p&gt;For this installation, I wrote the following two custom scripts:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute_custom_post&lt;/code&gt;: post-&lt;strong&gt;installation&lt;/strong&gt; script for all CNs
                       (compute nodes)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus_custom_postboot&lt;/code&gt;: post-&lt;strong&gt;boot&lt;/strong&gt; script for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus&lt;/code&gt; cluster’s 
                          CNs (compute nodes)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;while &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setupntp&lt;/code&gt;, the next required post-&lt;strong&gt;installation&lt;/strong&gt; script for all 
CNs (compute nodes) &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setupntp&lt;/code&gt;, was already preinstalled by xCAT.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Assumptions:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Hostname of the compute node that I’m using in this 
example: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102.mydomain.com&lt;/code&gt; (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.2&lt;/code&gt;). 
It’s a blade server in a slot number 2 in an IBM chassis, 
holding (housing) a total of 14 blades (blade servers).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Start the xCAT QEMU VM (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;, with 
IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br0&quot;,id=hn0 \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br1&quot;,id=hn1 \
-device virtio-net-pci,netdev=hn0 \
-device virtio-net-pci,netdev=hn1 \
-daemonize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log into the QEMU virtual machine; that is, the xCAT MN (management node):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh root@192.168.80.220
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The execution of post-installation and post-boot scripts is configured
with the xCAT postscripts table.  Post-installation and post-boot scripts,
including custom scripts, are placed in /install/postscripts.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts
#node,postscripts,postbootscripts,comments,disable
&quot;xcatdefaults&quot;,&quot;syslog,remoteshell,syncfiles&quot;,&quot;otherpkgs&quot;,,
&quot;service&quot;,&quot;servicenode&quot;,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 cat /etc/redhat-release
abacus102: CentOS Linux release 7.9.2009 (Core)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;example-use-case--pbs-scheduling-software-with-webmo-as-front-end&quot;&gt;Example Use Case:  PBS Scheduling Software with WebMO as Front-End&lt;/h3&gt;

&lt;p&gt;Scheduling software lets you run your cluster like a batch system,
allowing you to allocate cluster resources, such as CPU time and memory,
on a job-by-job basis.  Jobs are queued and run as resources become
available, subject to the priorities you establish.  Your users will be
able to add and remove jobs from the job queue as well as track the
progress of their jobs.  As the administrator, you will be able to
establish priorities and manage the queue.&lt;/p&gt;

&lt;p&gt;There are several freely available scheduling systems.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  This is an example of setting up &lt;strong&gt;PBS&lt;/strong&gt; (&lt;strong&gt;Portable Batch 
System&lt;/strong&gt;), specifically &lt;strong&gt;TORQUE&lt;/strong&gt; (Terascale Open-source Resource 
and QUEue Manager),&lt;/p&gt;

&lt;p&gt;From &lt;em&gt;Distributed Computing with Python&lt;/em&gt; by Francesco Pierfederici &lt;br /&gt;
Packt Publishing, April 2016&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The Portable Batch System (PBS) was developed for NASA in the beginning
of the 90s.  It now exists in three variants:  OpenPBS, Torque, and
PBS Pro.  These are all forks of the original codebase, and have a very
similar look and feel from the user perspective.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here, I look at &lt;strong&gt;Torque&lt;/strong&gt; HPC Resource Manager.&lt;/p&gt;

&lt;h3 id=&quot;torque-resource-manager&quot;&gt;Torque Resource Manager&lt;/h3&gt;

&lt;p&gt;TORQUE v 2.3.6, thanks to &lt;a href=&quot;https://archive.org/&quot;&gt;The Internet Archive&lt;/a&gt;: &lt;br /&gt;
&lt;a href=&quot;https://web.archive.org/web/20090123185628/http://clusterresources.com/downloads/torque/torque-2.3.6.tar.gz&quot;&gt;https://web.archive.org/web/20090123185628/http://clusterresources.com/downloads/torque/torque-2.3.6.tar.gz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From the README for TORQUE v 2.3.6:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat README.torque
#
# TORQUE 2.3.6 README (released Dec, 23 2008)
[...]

OVERVIEW --------------------

  TORQUE (Terascale Open-source Resource and QUEue manager) is an open source
project based on the original PBS* resource manager developed by NASA,
LLNL, and MRJ.  It possesses a large number of enhancements contributed by
organizations such as OSC, NCSA, TeraGrid, the U.S Dept of Energy, USC, 
and many, many others. [...] It may be utilized, modified, and distributed
subject to the constraints of the license located in the PBS_License.txt file. 
[...]
* TORQUE is not endorsed by nor affiliated with Altair.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_mom(8)&lt;/code&gt; command starts a pbs batch &lt;strong&gt;Machine Oriented Mini-server&lt;/strong&gt;
(&lt;strong&gt;MOM&lt;/strong&gt;) on a local host (on a compute node).  Typically, on systems with
traditional SysV init scripts, this command will be in a local boot file
such as /etc/rc.local.&lt;/p&gt;

&lt;p&gt;List the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;torque&lt;/code&gt; directory content on the storage server 
(IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.210&lt;/code&gt;), which is configured with 
a shared directory across the nodes (via NFS). 
(This is the new server that replaced the old one in summer
of 2021. You can call it a “head node” as in addition to being 
the storage server, it’s also hosting a front-end WebMO, running 
with Apache webserver.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh -t dusko@192.168.80.210 ls -lh /opt/torque/
dusko@192.168.80.210&apos;s password:
total 4.0K
drwxr-xr-x 2 root root 4.0K May 16  2009 bin
drwxr-xr-x 2 root root   92 May 16  2009 include
drwxr-xr-x 2 root root  113 May 16  2009 lib
drwxr-xr-x 6 root root   54 May 16  2009 man
drwxr-xr-x 2 root root  147 May 16  2009 sbin
drwxr-xr-x 3 root root   19 May 16  2009 var
Connection to 192.168.80.210 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While you are sill logged in the &lt;strong&gt;MN&lt;/strong&gt; (&lt;strong&gt;Management Node&lt;/strong&gt;),
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt; (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;), tar and 
copy the PBS &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;torque&lt;/code&gt; directory from an existing &lt;strong&gt;compute node&lt;/strong&gt; 
(for example, from a compute node with IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.6&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh -t root@192.168.80.6 ls -lh /opt/torque/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh -t root@192.168.80.6 \
&apos;cd /opt; tar czf torque.tar.gz torque; mv torque.tar.gz /tmp&apos;
root@192.168.80.6&apos;s password: 
Connection to 192.168.80.6 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy the content of the PBS &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;torque&lt;/code&gt; directory from the compute node 
(using the already mentioned node at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.6&lt;/code&gt;) temporarily to 
the MN (management node).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# scp root@192.168.80.6:/tmp/torque.tar.gz .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The tarred PBS &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;torque&lt;/code&gt; directory on the compute node can be deleted:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh -t root@192.168.80.6 rm -i /tmp/torque.tar.gz 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The PBS &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;torque&lt;/code&gt; directory now can be copied to from the MN 
(management node) to the compute node that you are provisioning:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# scp torque.tar.gz root@192.168.80.2:/opt/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log out from the MN (management node).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
logout
Connection to 192.168.80.220 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You are now back in the compute node that you are provisioning 
(named: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;).  If not, you can log into it with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ssh abacus102&lt;/code&gt; 
since you’ve already configured it for passwordless ssh.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# hostname
abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd /opt
# tar xf torque.tar.gz
# rm -i torque.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /opt/torque/
total 4.0K
drwxr-xr-x 2 root root 4.0K May 16  2009 bin
drwxr-xr-x 2 root root   92 May 16  2009 include
drwxr-xr-x 2 root root  113 May 16  2009 lib
drwxr-xr-x 6 root root   54 May 16  2009 man
drwxr-xr-x 2 root root  147 May 16  2009 sbin
drwxr-xr-x 3 root root   19 May 16  2009 var
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Version of the TORQUE that I copied to the compute node is 2.3.6:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep ^version /opt/torque/bin/pbs-config
version=&quot;2.3.6&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove an old &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mom.lock&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rm -i /opt/torque/var/spool/mom_priv/mom.lock
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;convert-traditional-sysv-system-v-init-script-aka-sysvinit-for-pbs_mom-service-to-systemd-unit-file&quot;&gt;Convert Traditional SysV (System V) Init Script (aka SysVinit) for pbs_mom Service to systemd Unit File&lt;/h3&gt;

&lt;p&gt;At the beginning of the previous section above (titled &lt;em&gt;Torque Resource 
Manager&lt;/em&gt;), I downloaded the source for TORQUE v 2.3.6.  I untarred the tar 
file and located the traditional SysV init script at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;contrib/init.d/pbs_mom&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# diff --unified=0 pbs_mom.ORIG pbs_mom
--- pbs_mom.ORIG      2022-03-20 10:24:36.586238000 -0700
+++ pbs_mom    2022-03-20 10:24:59.884424000 -0700
@@ -12,2 +12,4 @@
-PBS_DAEMON=/usr/local/sbin/pbs_mom
-PBS_HOME=/var/spool/torque
+#PBS_DAEMON=/usr/local/sbin/pbs_mom
+#PBS_HOME=/var/spool/torque
+PBS_DAEMON=/opt/torque/sbin/pbs_mom
+PBS_HOME=/opt/torque/var/spool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /etc/systemd/system/pbs_mom.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/systemd/system/pbs_mom.service
[Unit]
Description=PBS Mom service

[Service]
ExecStart=/opt/torque/sbin/pbs_mom
Type=forking

[Install]
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl daemon-reload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Find out (confirm) the TORQUE server name.  In this example, it’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mgmt&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /opt/torque/var/spool/server_name
-rw-r--r-- 1 root root 5 May 16  2009 /opt/torque/var/spool/server_name

# cat /opt/torque/var/spool/server_name
mgmt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  This sample configuration includes
&lt;a href=&quot;https://www.webmo.net/&quot;&gt;WebMO&lt;/a&gt; as a front-end:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;WebMO is a web-based interface to computational chemistry packages.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;While still on the compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;, add
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IP_address canonical_hostname&lt;/code&gt; pairs to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt;
file &lt;a href=&quot;#footnotes&quot;&gt;⁷&lt;/a&gt; for the following hosts:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;: this compute node&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mgmt&lt;/code&gt;: MN (management node)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus.mydomain.com&lt;/code&gt;: the WebMO server&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;192.168.80.2 abacus102&quot; &amp;gt;&amp;gt; /etc/hosts
# printf %s\\n &quot;192.168.80.210 mgmt&quot; &amp;gt;&amp;gt; /etc/hosts
# printf %s\\n &quot;192.168.80.100 abacus.mydomain.com&quot; &amp;gt;&amp;gt; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-enabled pbs_mom.service
disabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl enable pbs_mom.service
Created symlink from /etc/systemd/system/multi-user.target.wants/pbs_mom.service to
  /etc/systemd/system/pbs_mom.service.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-enabled pbs_mom.service
enabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl start pbs_mom.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-active pbs_mom.service
active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;submit-a-test-job-to-a-specific-node&quot;&gt;Submit a Test Job to a Specific Node&lt;/h3&gt;

&lt;p&gt;As the compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt; has already been configured 
(with passwordless ssh), you can log into it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[root@xcatmn ~]# ssh abacus102
Last login: Sun Mar 30 16:30:21 2022 from xcatmn.mydomain.com

[root@abacus102 ~]# 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# find /opt/torque/ -iname &apos;*qstat*&apos;
/opt/torque/bin/qstat
/opt/torque/man/man1/qstat.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The manpage for qstat(1B) from the PBS software package (Torque):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# man /opt/torque/man/man1/qstat.1 

qstat(1B)                   PBS                  qstat(1B)

NAME
       qstat - show status of pbs batch jobs

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exit the compute node.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
logout
Connection to abacus102 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to the head node (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.210&lt;/code&gt;), 
a.k.a. the webserver (for WebMO). 
&lt;strong&gt;NOTE:&lt;/strong&gt;  This is &lt;strong&gt;not&lt;/strong&gt; the xCAT MN (management node), 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt; (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh root@192.168.80.210
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# command -v qstat; type -a qstat; whereis qstat; which qstat
/global/software/torque/x86_64/bin/qstat
qstat is /global/software/torque/x86_64/bin/qstat
qstat is /global/software/torque/x86_64/bin/qstat
qstat: /opt/torque/bin/qstat /global/software/torque/x86_64/bin/qstat /usr/share/man/man1p/qstat.1p.gz
/global/software/torque/x86_64/bin/qstat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt; the different manpage for the qstat(1P) from the POSIX 
Programmer’s Manual than the one above (for qstat(1B) [from the PBS 
software package (Torque)]:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# man qstat

QSTAT(1P)                   POSIX Programmer&apos;s Manual   QSTAT(1P)

PROLOG
       This manual page is part of the POSIX Programmer&apos;s Manual. 
       The Linux implementation of this interface may differ (consult the 
       corresponding Linux manual page for details of Linux behavior), 
       or the interface may not be implemented on Linux.

NAME
       qstat - show status of batch jobs

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without any options or arguments, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qstat&lt;/code&gt; requests for status of all 
jobs (in all queues at the default server):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# qstat 
Job id      Name         User  Time Use S Queue
----------- ------------ ----- -------- - -----
290398.mgmt WebMO_285069 webmo  2:17:56 R abacus 
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While still at the head node (remember, this is &lt;strong&gt;not&lt;/strong&gt; the xCAT 
MN &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;), first use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbsnodes(8)&lt;/code&gt;
&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;8&lt;/a&gt;&lt;/sup&gt; to check whether the node’s state is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pbsnodes -l all abacus102
abacus102            offline
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the node is in OFFLINE state, the fix is to clear OFFLINE from the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pbsnodes -c abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the node is in DOWN state, try fixing it by restarting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_mom&lt;/code&gt; 
service on the node – remember that you need to run the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xdsh(1)&lt;/code&gt; command from the xCAT MN (Management Node) so you first need to log into the xCAT MN:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh root@192.168.80.220
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the xCAT MN (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;), run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xdsh(1)&lt;/code&gt; command to 
restart the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_mom&lt;/code&gt; service on the compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 systemctl restart pbs_mom.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exit the xCAT MN (Management Node).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back on the head node (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.210&lt;/code&gt;), restart 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_server&lt;/code&gt; service.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl restart pbs_server.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that the status of the node is now &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pbsnodes -l all abacus102
abacus102            free
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While still on the head node (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.210&lt;/code&gt;), create 
a test job (a.k.a. batch job) that will be submitted to run specifically 
on the compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi test_abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat test_abacus102
#
#
#PBS -l nodes=1:abacus102
#
sleep 120
hostname
date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Submit a test job to compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# qsub test_abacus102
290405.mgmt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You’ll notice that the PBS Torque returned a job number, 
which is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;290405.mgmt&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# qstat -a

mgmt: 
                                                       Req&apos;d Req&apos;d   Elap
Job ID      User Queue  Jobname         SessID NDS TSK Mem   Time  S Time
----------- ---- ------ --------------  ------ --- --- ----- ----- - ----
[...]
290405.mgmt root abacus test_abacus102  28382    1  --   --  120:0 R  --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log into the compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt; to confirm whether the submitted test
job is running on this node.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh root@abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# find /opt/torque/ -name &apos;*290405*&apos;
/opt/torque/var/spool/mom_priv/jobs/290405.mgmt.SC
/opt/torque/var/spool/mom_priv/jobs/290405.mgmt.TK
/opt/torque/var/spool/mom_priv/jobs/290405.mgmt.JB
/opt/torque/var/spool/aux/290405.mgmt
/opt/torque/var/spool/spool/290405.mgmt.OU
/opt/torque/var/spool/spool/290405.mgmt.ER
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /opt/torque/var/spool/mom_priv/jobs/290405.mgmt.SC
#
#
#PBS -l nodes=1:abacus102
#
sleep 120
hostname
date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /opt/torque/var/spool/aux/290405.mgmt
abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log out from the compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
logout
Connection to abacus102 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back on the head node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# qstat 
Job id      Name           User Time Use S Queue
----------- -------------- ---- -------- - -----
[...]
290405.mgmt test_abacus102 root 00:00:00 R abacus
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After 120 seconds:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# qstat 
Job id      Name           User Time Use S Queue
----------- -------------- ---- -------- - -----
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;setup-nfs-server-on-the-head-node-hn-running-centos-8rhel-8&quot;&gt;Setup NFS Server on the Head Node (HN) Running CentOS 8/RHEL 8&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
The following steps are performed on the head node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus.mydomain.com&lt;/code&gt; (IP address:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.210&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  The head node has been previously configured as an NFS server 
so the needed NFS server package (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nfs-utils&lt;/code&gt;) is already installed:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf list --installed | grep nfs-utils
nfs-utils.x86_64    1:2.3.3-46.el8    @rhel-8-for-x86_64-baseos-rpms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Verify the version of nfs protocol that is running.  The version is
indicated by the second column in the output below.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ rpcinfo -p | grep nfs
    100003    3   tcp   2049  nfs
    100003    4   tcp   2049  nfs
    100227    3   tcp   2049  nfs_acl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For additional configuration of the NFS server, you can find the
configuration files at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/nfs.conf&lt;/code&gt;, which is the NFS daemon config file
and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/nfsmount.conf&lt;/code&gt;, which is the configuration file for the NFS mount.
In this example, these two files haven’t been customized:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -v \# /etc/nfs.conf
# /etc/nfs.conf
[general]
[exportfs]
[gssd]
use-gss-proxy=1
[lockd]
[mountd]
[nfsdcld]
[nfsdcltrack]
[nfsd]
[statd]
[sm-notify]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -v \# /etc/nfsmount.conf
[ NFSMount_Global_Options ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The file system that is shared from the NFS server to NFS client systems:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ showmount -e
Export list for mgmt:
/export   abacus214,abacus213, [...], abacus102,abacus101,mgmt
/global   abacus214,abacus213, [...], abacus102,abacus101,mgmt
/home     abacus214,abacus213, [...], abacus102,abacus101,mgmt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Directory ownership and permissions:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -ld /global
drwxr-xr-x 3 root root 3 Aug  3  2021 /global
[
$ ls -ld /home
drwxr-xr-x. 33 root root 34 Jun 21  2021 /home
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All the compute nodes are allowed access to the NFS share:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/exports
/home mgmt(rw,sync,no_root_squash) abacus101(rw,sync,no_root_squash) abacus102(rw,sync,no_root_squash) [...] abacus213(rw,sync,no_root_squash) abacus214(rw,sync,no_root_squash) 
/global mgmt(rw,sync,no_root_squash) abacus101(rw,sync,no_root_squash) abacus102(rw,sync,no_root_squash) [...] abacus213(rw,sync,no_root_squash) abacus214(rw,sync,no_root_squash)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explanation:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rw&lt;/code&gt;: Allow NFS clients read/write permissions to the NFS share.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sync&lt;/code&gt;: Require the writing of the changes on the disk first before
        any other operation can be carried out.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;no_root_squash&lt;/code&gt;: Allow access to files inside directories to
                  which only root has access.
    &lt;ul&gt;
      &lt;li&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exports(5)&lt;/code&gt;: “Very  often, it is
not desirable that the root user on a client machine is also treated
as root when accessing files on the NFS server.  To this end, UID 0 is
normally mapped to a different ID: the so-called anonymous or nobody UID.
This mode of operation (called ‘root squashing’) is the default, and can
be turned off with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;no_root_squash&lt;/code&gt;.”  In other words, do &lt;em&gt;not&lt;/em&gt; map
requests from the root user on the client-side to an anonymous UID/GID.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;configure-the-firewall-rules-for-nfs-server-on-centos-8rhel-8&quot;&gt;Configure the Firewall Rules for NFS Server on CentOS 8/RHEL 8&lt;/h3&gt;

&lt;p&gt;While still on the head node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus.mydomain.com&lt;/code&gt; 
(IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.210&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl start firewalld.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl is-active firewalld.service
active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl enable firewalld.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl is-enabled firewalld.service
enabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo firewall-cmd --permanent --add-service=nfs
$ sudo firewall-cmd --permanent --add-service=rpc-bind
$ sudo firewall-cmd --permanent --add-service=mountd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo grep -n PORT /opt/torque/include/pbs_ifl.h
[...]
392:#define PBS_BATCH_SERVICE_PORT  15001
[...]
398:#define PBS_BATCH_SERVICE_PORT_DIS 15001  /* new DIS port   */
[...]
404:#define PBS_MOM_SERVICE_PORT  15002
[...]
410:#define PBS_MANAGER_SERVICE_PORT 15003
[...]
416:#define PBS_SCHEDULER_SERVICE_PORT 15004
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo firewall-cmd --list-ports
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo firewall-cmd --permanent --add-port=15001-15004/tcp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo firewall-cmd --reload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl restart firewalld
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo firewall-cmd --list-ports
15001-15004/tcp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo firewall-cmd --list-all
public (active)
  target: default
  [...] 
  interfaces: br0 br1 eno1 eno2
  [...] 
  services: cockpit dhcpv6-client http https mountd nfs rpc-bind ssh
  ports: 15001-15004/tcp
  [...] 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;set-up-nfs-client-on-compute-node&quot;&gt;Set Up NFS Client on Compute Node&lt;/h3&gt;

&lt;p&gt;Log in to the compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh root@abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;mgmt:/home    /home    nfs  defaults  1 2&quot; &amp;gt;&amp;gt; /etc/fstab
# printf %s\\n &quot;mgmt:/global  /global  nfs  defaults  1 2&quot; &amp;gt;&amp;gt; /etc/fstab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdir /global
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mount -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# df -hT /home
Filesystem     Type  Size  Used Avail Use% Mounted on
mgmt:/home     nfs4  5.0T  1.8T  3.3T  36% /home

# df -hT /global
Filesystem     Type  Size  Used Avail Use% Mounted on
mgmt:/global   nfs4  3.9T  637G  3.3T  17% /global
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n Test &amp;gt; /home/testfile

# ls -lh /home/testfile
-rw-r--r-- 1 root root 5 Mar 20 19:59 /home/testfile

# cat /home/testfile
Test

# rm -i /home/testfile
rm: remove regular file ‘/home/testfile’? y

# ls -lh /home/testfile
ls: cannot access /home/testfile: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;: Complete this section&lt;/p&gt;

&lt;h3 id=&quot;postscripts-setup&quot;&gt;Postscripts Setup&lt;/h3&gt;

&lt;p&gt;The following steps need to be run on the management node, 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt; (IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdir /install/custom
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd /install/custom/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy the content that your postscript will need. In this example, 
I prepared the torque directory on another compute node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus106&lt;/code&gt;, 
with the IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.6&lt;/code&gt;) that I previously configured manually.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# scp root@192.168.80.6:/tmp/torque.tar.gz .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You don’t need the tarred content on the other compute node so you can 
delete it from there:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh -t root@192.168.80.6 rm -i /tmp/torque.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synclist&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /install/custom/install/centos/compute.centos7.x86_64.synclist
/install/custom/torque/* -&amp;gt; /opt/torque/

/install/custom/group_cn_common -&amp;gt; /etc/group
/install/custom/gshadow_cn_common -&amp;gt; /etc/gshadow
/install/custom/passwd_cn_common -&amp;gt; /etc/passwd
/install/custom/shadow_cn_common -&amp;gt; /etc/shadow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that the object &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osimage&lt;/code&gt; now has the attribute &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synclists&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t osimage -i synclists
Object name: centos7.9-x86_64-install-compute
    synclists=/install/custom/install/centos/compute.centos7.x86_64.synclist
Object name: centos7.9-x86_64-netboot-compute
    synclists=
Object name: centos7.9-x86_64-statelite-compute
    synclists=
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since it’s included in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osimage&lt;/code&gt; object, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;syncfiles&lt;/code&gt; has been addeed 
to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; attribute of the compute node that you’re configuring 
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus102 -i postscripts
Object name: abacus102
    postscripts=syslog,remoteshell,syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /install/postscripts/compute_custom_post 
#!/bin/sh
#
# This is a postscript to configure compute nodes as NFS clients.
#
# This script is supposed to be located at
# /install/postscripts/compute_custom_post
#
# In order for it to be run after nodes are installed, compute_custom_post
# should be included in the postscripts field of the postscripts xCAT table.
# E.g.: nodegrpch compute postscripts.postscripts=compute_custom_post

MN_IP=&quot;192.168.80.210&quot;
MN_HOST=&quot;mgmt&quot;

cp /etc/fstab /etc/fstab.ORIG

printf %s\\n &quot;$MN_IP $MN_HOST&quot; &amp;gt;&amp;gt; /etc/hosts

mkdir /etc/xcat
mkdir /global
 
printf %s\\n &quot;$MN_HOST:/home    /home    nfs  defaults  1 2&quot; &amp;gt;&amp;gt; /etc/fstab
printf %s\\n &quot;$MN_HOST:/global  /global  nfs  defaults  1 2&quot; &amp;gt;&amp;gt; /etc/fstab

mount -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chmod 0755 /install/postscripts/compute_custom_post  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The next required postscripts script, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setupntp&lt;/code&gt;, was already preinstalled 
by xCAT:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /install/postscripts/setupntp
-rwxr-xr-x 1 root root 7.4K Nov 10  2021 /install/postscripts/setupntp

# wc -l /install/postscripts/setupntp
328 /install/postscripts/setupntp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# head /install/postscripts/setupntp
#!/bin/bash
#
# setupchrony - Set up chrony
#
# Copyright (C) 2018 International Business Machines
# Eclipse Public License, Version 1.0 (EPL-1.0)
#     &amp;lt;http://www.eclipse.org/legal/epl-v10.html&amp;gt;
#
# 2018-07-11 GONG Jie &amp;lt;gongjie@linux.vnet.ibm.com&amp;gt;
#     - Draft
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /install/postscripts/abacus_custom_postboot
#!/bin/sh
#
# This is a postbootscript to perform postboot configuration on the
# compute nodes.  (&quot;postboot&quot; means after the reboot that occurs after
# installation has completed)
#
# This script is supposed to be located at
# /install/postscripts/abacus_custom_postboot
#
# In order for it to be run after nodes are installed and rebooted,
# abacus_custom_postboot
# should be included in the postbootscripts field of the postscripts xCAT table.
# E.g.:  nodegrpch compute postscripts.postbootscripts=abacus_custom_postboot

PBS_MOM_SERVICE_LOC=&quot;/etc/systemd/system/pbs_mom.service&quot;

printf %s\\n &apos;[Unit]&apos; &amp;gt; $PBS_MOM_SERVICE_LOC
printf %s\\n &apos;Description=PBS Mom service&apos; &amp;gt;&amp;gt; $PBS_MOM_SERVICE_LOC
printf %s\\n &amp;gt;&amp;gt; $PBS_MOM_SERVICE_LOC
printf %s\\n &apos;[Service]&apos; &amp;gt;&amp;gt; $PBS_MOM_SERVICE_LOC
printf %s\\n &apos;ExecStart=/opt/torque/sbin/pbs_mom&apos; &amp;gt;&amp;gt; $PBS_MOM_SERVICE_LOC
printf %s\\n &apos;Type=forking&apos; &amp;gt;&amp;gt; $PBS_MOM_SERVICE_LOC
printf %s\\n &amp;gt;&amp;gt; $PBS_MOM_SERVICE_LOC
printf %s\\n &apos;[Install]&apos; &amp;gt;&amp;gt; $PBS_MOM_SERVICE_LOC
printf %s\\n &apos;WantedBy=multi-user.target&apos; &amp;gt;&amp;gt; $PBS_MOM_SERVICE_LOC

systemctl daemon-reload
systemctl start pbs_mom.service
systemctl enable pbs_mom.service

rm /root/.ssh/id_rsa.pub
rm /root/.ssh/id_rsa

chmod 0600 /etc/ssh/ssh_host_ed25519_key
chmod 0600 /etc/ssh/ssh_host_ecdsa_key
chmod 0600 /etc/ssh/ssh_host_rsa_key
chmod 0600 /etc/ssh/ssh_host_dsa_key

systemctl restart sshd.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chmod 0755 /install/postscripts/abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus102 | grep provmethod
    provmethod=centos7.9-x86_64-install-compute

# lsdef abacus102 | grep -w -i os
    os=centos7.9

# nodels abacus102 nodetype | grep profile
abacus102: nodetype.profile: compute

# tabdump nodetype
#node,os,arch,profile,provmethod,supportedarchs,nodetype,comments,disable
---- snip ----
&quot;abacus102&quot;,&quot;centos7.9&quot;,&quot;x86_64&quot;,&quot;compute&quot;,&quot;centos7.9-x86_64-install-compute&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As of now, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; attribute for the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt; has not 
been updated with the required scripts.  From the definition of the object 
type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node&lt;/code&gt;, for the object &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;, display the attribute postscripts. 
You’ll notice that both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setupntp&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute_custom_post&lt;/code&gt; have not been 
appended to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus102 -i postscripts
Object name: abacus102
    postscripts=syslog,remoteshell,syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, when you ask for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; attribute of the 
node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus_custom_postboot&lt;/code&gt; script is missing from 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus102 -i postbootscripts
Object name: abacus102
    postbootscripts=otherpkgs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Upgrade the group &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute&lt;/code&gt; with the required &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; and 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; script files:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodegrpch compute postscripts.postscripts=setupntp,compute_custom_post
# nodegrpch compute postscripts.postbootscripts=abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that it’s been done:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts
#node,postscripts,postbootscripts,comments,disabl
---- snip ----
&quot;compute&quot;,&quot;setupntp,compute_custom_post&quot;,&quot;abacus_custom_postboot&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, you’ll see that the compute node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;) has not been added 
to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts | grep abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the required &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; script files to the 
node by updating it with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chtab(8)&lt;/code&gt; command.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=abacus102 \
postscripts.postscripts=setupntp,compute_custom_post \
postscripts.postbootscripts=abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To confirm that the needed postscripts are now included with the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus102 | grep postscripts 
    postscripts=syslog,remoteshell,syncfiles,setupntp,compute_custom_post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus102 | grep postbootscripts
    postbootscripts=otherpkgs,abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts
#node,postscripts,postbootscripts,comments,disable
---- snip ----
&quot;abacus102&quot;,&quot;setupntp,compute_custom_post&quot;,&quot;abacus_custom_postboot&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts | grep abacus102
&quot;abacus102&quot;,&quot;setupntp,compute_custom_post&quot;,&quot;abacus_custom_postboot&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continuing with the setup, confirm that the node’s profile is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute&lt;/code&gt; 
as that’s the name of the whole group you modified earlier above.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodels abacus102 nodetype
abacus102: nodetype.arch: x86_64
abacus102: nodetype.node: abacus102
abacus102: nodetype.os: centos7.9
abacus102: nodetype.profile: compute
abacus102: nodetype.provmethod: centos7.9-x86_64-install-compute
abacus102: nodetype.supportedarchs: 
abacus102: nodetype.comments: 
abacus102: nodetype.nodetype: 
abacus102: nodetype.disable: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump nodetype
#node,os,arch,profile,provmethod,supportedarchs,nodetype,comments,disable
---- snip ----
&quot;abacus102&quot;,&quot;centos7.9&quot;,&quot;x86_64&quot;,&quot;compute&quot;,&quot;centos7.9-x86_64-install-compute&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus102 -i postscripts
Object name: abacus102
    postscripts=syslog,remoteshell,syncfiles,setupntp,compute_custom_post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus102 -i postbootscripts
Object name: abacus102
    postbootscripts=otherpkgs,abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatdebugmode&lt;/code&gt; in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;2&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef -t site xcatdebugmode=2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Push &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;syncfiles&lt;/code&gt; to the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus102 -P syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus102 -F -V
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to the compute node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt;):&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  For the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rcons&lt;/code&gt; to work, the node’s BIOS must be configured
for SOL (Serial Over LAN), a.k.a. Text Mode Console. &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;10&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rcons abacus102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

abacus102 login: root
Password:

[root@abacus102 ~]#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run the following command (&lt;strong&gt;note:&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt; is the IP address of the managment node (MN), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3001&lt;/code&gt; is xCAT port).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# USEOPENSSLFORXCAT=1 \
XCATSERVER=192.168.80.220:3001 \
/xcatpost/startsyncfiles.awk -v RCP=/usr/bin/rsync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exit the compute node.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The CentOS Linux login banner appears.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

abacus102 login:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-e&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;c&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt; (three characters: Ctrl-e, ‘c’ and ‘.’) to disconnect 
from the node by closing the session with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makegocons&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Back in the management node, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdcp abacus102 -F /install/custom/install/centos/compute.centos7.x86_64.synclist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Update the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt; but limit it to only run the scripts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus102 -P
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check whether the run of the scripts worked.&lt;/p&gt;

&lt;p&gt;Yeah, it worked for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synclist&lt;/code&gt;; that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute.centos7.x86_64.synclist&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 ls -lh /opt/torque/ 
abacus102: total 4.0K
abacus102: drwxr-xr-x. 2 root root 4.0K May 16  2009 bin
abacus102: drwxr-xr-x. 2 root root   92 May 16  2009 include
abacus102: drwxr-xr-x. 2 root root  113 May 16  2009 lib
abacus102: drwxr-xr-x. 6 root root   54 May 16  2009 man
abacus102: drwxr-xr-x. 2 root root  147 May 16  2009 sbin
abacus102: drwxr-xr-x. 3 root root   19 May 16  2009 var

# xdsh abacus102 du -chs /opt/torque/ 
abacus102: 108M /opt/torque/
abacus102: 108M total
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 cat /etc/passwd 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 cat /etc/group
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It also worked for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute_custom_post&lt;/code&gt; script run:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 cat /etc/fstab
---- snip ----
abacus102: mgmt:/home    /home    nfs  defaults  1 2
abacus102: mgmt:/global  /global  nfs  defaults  1 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 df -hT 
abacus102: Filesystem              Type      Size  Used Avail Use% Mounted on
---- snip ---
abacus102: mgmt:/home              nfs4      5.0T  1.8T  3.3T  36% /home
abacus102: mgmt:/global            nfs4      3.9T  637G  3.3T  17% /global
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 cat /etc/hosts
---- snip ----
abacus102: 192.168.80.210 mgmt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setupntp&lt;/code&gt; script run worked too:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 systemctl is-active chronyd.service
abacus102: active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 systemctl status chronyd.service
abacus102: * chronyd.service - NTP client/server
abacus102:    Loaded: loaded (/usr/lib/systemd/system/chronyd.service; enabled; vendor preset: enabled)
abacus102:    Active: active (running) since Fri 2022-03-20 18:53:38 PDT; 2min ago
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Yep, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus_custom_postboot&lt;/code&gt; script run worked as well:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 systemctl is-active pbs_mom.service
abacus102: active

# xdsh abacus102 systemctl status pbs_mom.service
abacus102: * pbs_mom.service - PBS Mom service
abacus102: Loaded: loaded (/etc/systemd/system/pbs_mom.service; enabled; vendor preset: disabled)
abacus102: Active: active (running) since Fri 2022-03-20 18:53:39 PDT; 2min ago
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus102 --verify ls -lh /
abacus102: total 28K
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
If the above &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;updatenode abacus102 -P&lt;/code&gt; does not work, you can try fixing 
it by the following sequence of commands:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus102 -P syncfiles
# updatenode abacus102 -P &quot;confignetwork -s&quot;
# updatenode abacus102 -P
# updatenode abacus102 -P -F -V
# updatenode abacus102 -P syncfiles -P &quot;confignics -s&quot;
# updatenode abacus102 -P syncfiles -F -V
# xdsh abacus102 shutdown -r now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Explanation:&lt;/em&gt;  &lt;br /&gt;
If you want to run all the customization scripts that have been designated 
for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus102&lt;/code&gt; node (in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; 
attributes), the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-P&lt;/code&gt; option (i.e, the command: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;updatenode abacus102 -P&lt;/code&gt;) 
will not work after install.  Instead, after install use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-F&lt;/code&gt; option 
for file synchronization (including synchronization of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; attributes).&lt;/p&gt;

&lt;p&gt;From the man page for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;updatenode(1)&lt;/code&gt; command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-F|--sync     Specifies that file synchronization should be performed on the
              nodes.  rsync/scp and ssh must be installed and configured on
              the nodes.
[...]
-P|--scripts  Specifies that postscripts and postbootscripts should be run on
              the nodes.  File sync with updatenode -P syncfiles is not
              supported.  The syncfiles postscript can only be run during
              install.  You should use updatenode -F instead.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;provision-a-node-and-manage-it-with-parallel-shell---aka-create-add-a-new-compute-node-cn-in-xcat---full-example&quot;&gt;Provision a Node and Manage It with Parallel Shell - aka Create (Add) a New Compute Node (CN) in xCAT - FULL EXAMPLE&lt;/h2&gt;

&lt;p&gt;Assumptions:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;You are configuring the new compute node on a blade server.&lt;/li&gt;
  &lt;li&gt;BMC (Baseboard Management Controller) in the blade chassis that hosts 
the blade server has already been configured so you can communicate with 
the BMC.&lt;/li&gt;
  &lt;li&gt;BMC’s IP address:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.135&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;BMC’s username:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xadmin&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;The chassis holds 14 blade servers.&lt;/li&gt;
  &lt;li&gt;You are configuring blade in bay number 9 (9th blade server).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Log into the xCAT management node (xCAT MN).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh root@192.168.80.220
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;configure-mm-management-module---aka-bmc-baseboard-management-controller&quot;&gt;Configure MM (Management Module) - a.k.a. BMC (Baseboard Management Controller)&lt;/h3&gt;

&lt;p&gt;Run the discovery on IP address of the xCAT MN (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;) and list 
all discovered MM (Management Node) &lt;strong&gt;service types&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsslp -s MM -i 192.168.80.220
---- snip ----
device  type-model  serial-number  side  ip-addresses    hostname
---- snip ----
mm      8852HC1     KQABCDE              192.168.80.135  Server--SNYK123456789A 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Rename the MM node to a more human-friendly name (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xbcmm1n&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef \
-t node \
-o Server--SNYK123456789A \ 
-n xbcmm1n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the BMC (MM) node to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table.&lt;/p&gt;

&lt;p&gt;In other words, you are updating rows &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;username&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;password&lt;/code&gt; 
in the table &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt;.  From the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chtab(8)&lt;/code&gt; command’s usage:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keycolname=keyvalue&lt;/code&gt;   a column name-and-value pair that identifies the 
                        rows in a table to be changed.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tablename.colname=newvalue&lt;/code&gt;    the new value for the specified row and 
                                column of the table.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mpa
#mpa,username,password,displayname,slots,urlpath,comments,disable
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keycolname&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; with value being the name of the 
node that you’ll give to this BMC (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xbcmm1n&lt;/code&gt;), while the 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tablename.colname=newvalue&lt;/code&gt; are 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa.username=xadmin&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa.password=YOUR_BMC_PASSWORD&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;After this explanation, run the actual command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
mpa=xbcmm1n \
mpa.username=xadmin \
mpa.password=YOUR_BMC_PASSWORD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table refers to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mp
#node,mpa,id,nodetype,comments,disable
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;add the attribute &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; to the table &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=xbcmm1n \
mp.mpa=xbcmm1n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This MM (Management Module) node now includes the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; attributes 
in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump mp
#node,mpa,id,nodetype,comments,disable
---- snip ----
&quot;xbcmm1n&quot;,&quot;xbcmm1n&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the attribute &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt;. This is a MM (Management Module) and since 
it’s customary to give value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0&lt;/code&gt; (zero) to MMs, assign &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0&lt;/code&gt; to it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=xbcmm1n \
mp.id=0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add this MM (Management Module) node’s IP address to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;192.168.80.135 xbcmm1n&quot; &amp;gt;&amp;gt; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check if you can communicate with the MM node.  For example, test whether 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rspconfig(1)&lt;/code&gt; can run without errors:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n snmpdest
xbcmm1n: SP SNMP Destination 1: 192.168.11.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  It would’ve been good even if returned value was 
empty (without an IP address); at this point you just want to make 
sure there are no errors.&lt;/p&gt;

&lt;p&gt;Now you can setup new ssh keys (a.k.a. enable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmp&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ssh&lt;/code&gt;) 
on this Management Module (named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xbcmm1n&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rspconfig xbcmm1n snmpcfg=enable sshcfg=enable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xbcmm1n: SNMP enable: OK
xbcmm1n: SSH enable: OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can now check remote hardware vitals for the MM node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rvitals xbcmm1n
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can also check its hardware inventory:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rinv xbcmm1n
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The passwordless ssh login to the MM node works:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh xadmin@xbcmm1n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output (with BMC CLI prompt indicated with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;system&amp;gt;&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Static IP address:     192.168.80.135
---- snip ----
system&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;provision-new-node-compute-node&quot;&gt;Provision New Node (Compute Node)&lt;/h3&gt;

&lt;p&gt;After you’ve setup the MM (Management Module) node, you are ready to 
start provisioning a new compute node.&lt;/p&gt;

&lt;p&gt;Find out the compute node’s MAC address by logging in to the MM (AMM) and 
obtaining it from there:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ssh xadmin@192.168.80.135
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  Don’t type &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;system&amp;gt;&lt;/code&gt;&lt;/strong&gt; .  It’s a BMC CLI prompt and it’s 
shown here to indicate that you are using the MM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;system&amp;gt; info -T blade[9]
---- snip ----
MAC Address 1: 00:11:22:33:44:55 
MAC Address 2: 00:11:22:33:44:56
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note down the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAC Address 1&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Exit the BMC’s CLI.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;system&amp;gt; exit
Connection to 192.168.80.135 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create an xCAT data object definition for this node (name it &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt;).&lt;br /&gt;
Explanation: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip&lt;/code&gt; = IP address of the node; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mac&lt;/code&gt; = MAC address of
the node; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmc&lt;/code&gt; = IP address of the MM/AMM (BMC); &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmcusername&lt;/code&gt; = username of
BMC (MM) account; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bmcpassword&lt;/code&gt; = password for BMC (MM) user, 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt; = object &lt;strong&gt;t&lt;/strong&gt;ype, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--template&lt;/code&gt; = name of the xCAT shipped object 
definition template or an existing object, from which the new object 
definition will be created.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  For the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mac&lt;/code&gt; attribute, use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAC Address 1&lt;/code&gt; you obtained above.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdef \
-t node \
abacus109 \
--template x86_64-template \
ip=192.168.80.9 \
mac=00:11:22:33:44:55 \
bmc=192.168.80.135 \
bmcusername=xadmin \
bmcpassword=yourBMCpassword
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;“Fix for Blade”&lt;/strong&gt; &lt;br /&gt;
Since it’s on a blade server, you have to adjust this compute node’s 
xCAT definition and make it blade-specific.  Also, while you are 
already making changes, modify serial port settings that this 
particular blade model (IBM HS21) requires for SOL (Serial Over LAN) 
to work; specfically, it asks it to be the second serial device 
(in Unix/BSD/Linux numbering style it starts with zero so the second 
device will be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt;) with serial speed of 19200:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef \
-t node \
-o abacus109 \
cons=blade mgt=blade getmac=blade serialport=1 serialspeed=19200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  The domain of the xCAT node must be provided in an xCAT 
network definition or the xCAT site definition.  Otherwise, two commands 
in the subsequent steps for configuring DNS (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makehosts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedns -n&lt;/code&gt;) 
will not work.  In this example, an assumption is that you’ve alredy 
defined the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain&lt;/code&gt; attribute in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site | grep domain
&quot;domain&quot;,&quot;mydomain.com&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continuing with the setup:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makehosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This adds the compute node being created to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt;. Specifically, 
this line is added to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; file: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.9 abacus109 abacus109.mydomain.com&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Update DNS records with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makedns(8)&lt;/code&gt; command.&lt;br /&gt;
(This also restarts &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;named&lt;/code&gt; service.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedns -n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedhcp abacus109
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can confirm that it worked by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-q&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedhcp -q abacus109
abacus109: ip-address = 192.168.80.9, hardware-address = 00:11:22:33:44:55
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This updates &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/dhcp/dhcpd.conf&lt;/code&gt; file with a line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#definition for host abacus109 aka host abacus109 can be found in the 
dhcpd.leases file (typically /var/lib/dhcpd/dhcpd.leases)`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and if you check the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/lib/dhcpd/dhcpd.leases&lt;/code&gt; file, the compute 
node’s  dhcp definition is there:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n abacus109 /var/lib/dhcpd/dhcpd.leases
106:host abacus109 {
111:        supersede server.ddns-hostname = &quot;abacus109&quot;;
112:        supersede host-name = &quot;abacus109&quot;;
117:                                &quot;http://${next-server}:80/tftpboot/xcat
/xnba/nodes/abacus109&quot;;
121:                                &quot;http://${next-server}:80/tftpboot/xcat
/xnba/nodes/abacus109.uefi&quot;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the new compute node to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table. &lt;br /&gt;
(The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpa&lt;/code&gt; table has already been defined and linked to the 
 BMC (named &lt;em&gt;xbcmm1n&lt;/em&gt;) in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mp&lt;/code&gt; table.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=abacus109 \
mp.mpa=xbcmm1n \
mp.id=9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t osimage -i synclists
Object name: centos7.9-x86_64-install-compute
    synclists=/install/custom/install/centos/compute.centos7.x86_64.synclist
Object name: centos7.9-x86_64-netboot-compute
    synclists=
Object name: centos7.9-x86_64-statelite-compute
    synclists=
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explanation for options: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt;: type, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-o&lt;/code&gt;: object, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-i&lt;/code&gt;: information/inquire.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus109 -i postscripts
Object name: abacus109
    postscripts=syslog,remoteshell,syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 -i postscripts,postbootscripts
Object name: abacus109
    postbootscripts=otherpkgs
    postscripts=syslog,remoteshell,syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So you need to add the necessary (for this particular configuration; 
that is, configuration of this example) scripts (both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt;) to the compute node that is being provisioned.
In other words, you are updating rows &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; 
in the table &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt;. From the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chtab(8)&lt;/code&gt; command’s usage:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keycolname=keyvalue&lt;/code&gt;   a column name-and-value pair that identifies the 
                        rows in a table to be changed.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tablename.colname=newvalue&lt;/code&gt;    the new value for the specified row and 
                                column of the table.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts
#node,postscripts,postbootscripts,comments,disable
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keycolname&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node&lt;/code&gt; with value being the name of the 
node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt;), while the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tablename.colname=newvalue&lt;/code&gt; are 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts.postscripts=setupntp,compute_custom_post&lt;/code&gt; and 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts.postbootscripts=abacus_custom_postboot&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;After this (long) explanation, run the actual command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=abacus109 \
postscripts.postscripts=setupntp,compute_custom_post \
postscripts.postbootscripts=abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now the node includes all the needed scripts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 -i postscripts,postbootscripts
Object name: abacus109
    postbootscripts=otherpkgs,abacus_custom_postboot
    postscripts=syslog,remoteshell,syncfiles,setupntp,compute_custom_post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt; hardware control.  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt; power management:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower abacus109 state
abacus109: on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, you can check communication with the node with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rinv(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rinv abacus109 all
abacus109: Machine Type/Model: 8853AC1
abacus109: Serial Number: ThisBlade&apos;sSerialNumberHere
abacus109: MAC Address 1: 00:11:22:33:44:55 
abacus109: MAC Address 2: 00:11:22:33:44:56 
abacus109: Management Module firmware: 62 (BPET62C 06/23/2011)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The newly added compute node now appears in the nodes list:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodels
---- snip ----
abacus109
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check boot order on the node and whether it’sa configured to boot from 
the Ethernet (net) device.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; On IBM BladeCenter (which is the case here), you only have
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq&lt;/code&gt; and not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rsetboot&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.mail-archive.com/xcat-user@lists.sourceforge.net/msg05290.html&quot;&gt;Re: [xcat-user] Problem with rsetboot: unable to identify plugin&lt;/a&gt;
(Retrieved on Mar 20, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;On BladeCenter, you [only] have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq&lt;/code&gt;.  …&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rbootseq abacus109 list
abacus109: hd0,cdrom,none,none
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this case, the blade was not configured to boot from the Ethernet (net) 
device so you need to change it with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbootseq(1)&lt;/code&gt; command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rbootseq abacus109 net,hd0,cdrom,none
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that the boot order has been changed:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rbootseq abacus109 list
abacus109: net,hd0,cdrom,none
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Make sure that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;goconserver.service&lt;/code&gt; is running.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-active goconserver.service
active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Register the node for an instance of the console (serial console) session:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makegocons -D abacus109
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After the node is registered for an instance of the console session , 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;consoleenabled&lt;/code&gt; attribute has been added and set to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt; for the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 | grep console
    consoleenabled=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ensure that the node’s status is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;connected&lt;/code&gt; by querying its 
console connection state.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makegocons -q abacus109
NODE                       SERVER                     STATE
abacus109                  xcatmn.mydomain.com        connected
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start provisioning the node.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xcatprobe osdeploy -n abacus109
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xcatprobe osdeploy -n abacus109
The install NIC in current server is eth1                             [INFO]
All nodes to be deployed are valid                                    [ OK ]
-------------------------------------------------------------
Start capturing every message during OS provision process....
-------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Launch a separate shell session and in there (a.k.a. the second terminal), 
start installation process.  (The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nodeset(8)&lt;/code&gt; command sets the boot 
state for a node or node range.)&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osimage=imagename&lt;/code&gt; option (from the manual page for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nodeset(8)&lt;/code&gt; 
command):  &lt;br /&gt;
“Prepare server for installing a node using the specified os
image. The os image is defined in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osimage&lt;/code&gt; table and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;linuximage&lt;/code&gt; table.”&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump osimage
#imagename,groups,profile,imagetype,description,provmethod,rootfstype,osdistroname,osupdatename,cfmdir,osname,osvers,osarch,synclists,postscripts,postbootscripts,serverrole,isdeletable,kitcomponents,environvar,comments,disable
&quot;centos7.9-x86_64-install-compute&quot;,,&quot;compute&quot;,&quot;linux&quot;,,&quot;install&quot;,,&quot;centos7.9-x86_64&quot;,,,&quot;Linux&quot;,&quot;centos7.9&quot;,&quot;x86_64&quot;,&quot;/install/custom/install/centos/compute.centos7.x86_64.synclist&quot;,,,,,,,,
&quot;centos7.9-x86_64-netboot-compute&quot;,,&quot;compute&quot;,&quot;linux&quot;,,&quot;netboot&quot;,,&quot;centos7.9-x86_64&quot;,,,&quot;Linux&quot;,&quot;centos7.9&quot;,&quot;x86_64&quot;,,,,,,,,,
&quot;centos7.9-x86_64-statelite-compute&quot;,,&quot;compute&quot;,&quot;linux&quot;,,&quot;statelite&quot;,,&quot;centos7.9-x86_64&quot;,,,&quot;Linux&quot;,&quot;centos7.9&quot;,&quot;x86_64&quot;,,,,,,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodeset abacus109 osimage=centos7.9-x86_64-install-compute
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;fix-for-rpower-nodename-boot&quot;&gt;Fix for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower &amp;lt;nodename&amp;gt; boot&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Back in the second terminal, as per the message above, to reboot the 
compute node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt; you would normally use this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower&lt;/code&gt; 
command here: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower abacus109 boot&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;However, at least in this setup, I’ve found it inconsistent because when 
running that command, the compute node would power off &lt;strong&gt;but&lt;/strong&gt; would not 
power back on; that is, it wouldn’t actually restart.  (Even though the 
man page for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower(8)&lt;/code&gt; command says for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;boot&lt;/code&gt; option: 
“&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;boot&lt;/code&gt;:  If off, then power on.  If on, then hard reset.  This option 
is &lt;strong&gt;recommended&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;) over &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cycle&lt;/code&gt; [option].&lt;/p&gt;

&lt;p&gt;I had to add the following options to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower(8)&lt;/code&gt; command to make 
the installation work; that is, to turn the node off and then on. 
(Alternitavely, you could first manually turn the node off: 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower abacus109 off&lt;/code&gt;, and then on:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower abacus109 on&lt;/code&gt;.)&lt;/p&gt;

&lt;p&gt;Explanation for the options used in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower(8)&lt;/code&gt; command below
(from the manpage for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower(8)&lt;/code&gt; command):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;”&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-r retrycount&lt;/code&gt;
specify the number of retries that the monitoring process will
perform before declaring the failure. The default value is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3&lt;/code&gt;.
Setting the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;retrycount&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0&lt;/code&gt; means only monitoring the os
installation progress and will not re-initiate the installation if
the node status has not been changed to the expected value after
timeout.  This flag &lt;strong&gt;must&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;) be used with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m&lt;/code&gt; flag.”&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;”&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m table.column==expectedstatus -m table.column=~expectedstatus&lt;/code&gt;
Use one or multiple &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m&lt;/code&gt; flags to specify the node attributes and the
expected status for the node installation monitoring and automatic
retry mechanism.  The operators &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;==&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;!=&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;=~&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;!~&lt;/code&gt; are valid. 
This flag &lt;strong&gt;must&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;) be used with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt; flag.”&lt;/p&gt;

    &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  While &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;powering-on&lt;/code&gt; is not listed as one of valid values 
of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;status&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nodelist.status&lt;/code&gt;) in the manpage for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node(7)&lt;/code&gt; 
or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nodelist(5)&lt;/code&gt;, in my tests it worked more reliable than using 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m nodelist.status==booting&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m nodelist.status==installing&lt;/code&gt;.
&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;9&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;”&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t timeout&lt;/code&gt;
Specify the timeout, in minutes, to wait for the expectedstatus
specified by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m&lt;/code&gt; flag. This is a &lt;strong&gt;required&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;) flag if 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m&lt;/code&gt; flag is specified.  Power off, then on.”&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In the second terminal, run the following command.
(&lt;strong&gt;Note:&lt;/strong&gt;  You need to use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;==&lt;/code&gt; (double equal sign), 
 a.k.a. &lt;em&gt;comparison operator&lt;/em&gt; when testing for the expected status 
 with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m&lt;/code&gt; option.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rpower \
abacus109 \
boot \
-r 0 \
-m nodelist.status==powering-on \
-t 5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first terminal updates with the following:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[abacus109] 19:37:29 Use command rpower to reboot node abacus109
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And then in less than ten seconds, the first terminal displays another line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[abacus109] 19:37:36 Node status is changed to powering-on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Launch yet another separate shell session and in there (let’s call it 
the third terminal), check and monitor provisioning process. (&lt;strong&gt;NOTE:&lt;/strong&gt; 
For the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rcons&lt;/code&gt; to work, the node’s BIOS must be configured  for 
SOL (Serial Over LAN), a.k.a. Text Mode Console. &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;10&lt;/a&gt;&lt;/sup&gt;)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rcons abacus109
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The output shows that the node is booting up:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[Enter `^Ec?&apos; for help]
goconserver(2022-08-11T20:06:46-07:00): Hello 192.168.80.220:58102, 
welcome to the session of abacus109
&amp;gt;&amp;gt; BIOS Version 1.15 &amp;lt;&amp;lt;

Press F1 for Configuration/Setup
Press F2 for Diagnosticsbacus109
Press F12 for Boot Device Selection Menu

Broadcom NetXtreme II Ethernet Boot Agent v3.4.8
Copyright (C) 2000-2007 Broadcom Corporation
All rights reserved.

---- snip ----

Initializing../ 

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After 5-10 minutes, output in the third terminal shows that 
the OS installation is finishing.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Installing boot loader
.
Performing post-installation setup tasks
.

Configuring installed system
.
Writing network configuration
.
Creating users
.
Configuring addons
.
Generating initramfs
.
Running post-installation scripts

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can check the provision status in/from the second terminal:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 -i status
Object name: abacus109
    status=installing
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After post-installation scripts are done, the node will reboot (run this 
in the second terminal again):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 -i status
Object name: abacus109
    status=booting
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Again in the second terminal after a couple of minutes:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 -i status
Object name: abacus109
    status=failed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, in the third terminal; it shows that the OS booted fine, and 
even logged in fine:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

abacus109 login: root 
Password:

[root@abacus109 ~]#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check the provision status in the first terminal, where the output is 
now long and most likely has been completed:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
[abacus109] 20:24:39 INFO done
[abacus109] 20:24:39 INFO ready
[abacus109] 20:24:39 INFO done
[abacus109] 20:24:39 Node status is changed to failed
All nodes specified to monitor, have finished OS provision process    [ OK ]
======================  Summary  =====================
There is 1 node provision failures
abacus109 : stop at stage &apos;booting&apos;                                   [FAIL]
   postscript end...: syncfiles return with 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this case, there was an issue with postscripts and that’ll need to be fixed.&lt;/p&gt;

&lt;p&gt;Also, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xdsh&lt;/code&gt; check worked:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 more /etc/*release
abacus109: ::::::::::::::
abacus109: /etc/centos-release
abacus109: ::::::::::::::
abacus109: CentOS Linux release 7.9.2009 (Core)
abacus109: ::::::::::::::
abacus109: /etc/os-release
abacus109: ::::::::::::::
abacus109: NAME=&quot;CentOS Linux&quot;
abacus109: VERSION=&quot;7 (Core)&quot;
abacus109: ID=&quot;centos&quot;
abacus109: ID_LIKE=&quot;rhel fedora&quot;
abacus109: VERSION_ID=&quot;7&quot;
abacus109: PRETTY_NAME=&quot;CentOS Linux 7 (Core)&quot;
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If there are remnants from a previous node setup, the host key has been 
changed and you’ll receive a warning about it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[xcatmn]: abacus109: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
abacus109: @    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
abacus109: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
---- snip ---
abacus109: It is also possible that a host key has just been changed.
abacus109: The fingerprint for the ED25519 key sent by the remote host is
abacus109: SHA256:I04c7IX......
---- snip ---
abacus109: Add correct host key in /root/.ssh/known_hosts to get rid of this message.
abacus109: Offending ECDSA key in /root/.ssh/known_hosts:19
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To fix the warning about the host key, remove the line in question:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -i.bkp &apos;19d&apos; /root/.ssh/known_hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The xdsh now works without the warning:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 more /etc/*release
abacus109: ::::::::::::::
abacus109: /etc/centos-release
abacus109: ::::::::::::::
abacus109: CentOS Linux release 7.9.2009 (Core)
---- snip ----
[xcatmn]: abacus109: Warning: Permanently added &apos;abacus109,192.168.80.9&apos; (ED25519) to the list of known hosts.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want, you can remove backed up &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;known_hosts&lt;/code&gt; file now:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rm -i ~/.ssh/known_hosts.bkp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check whether the run of the scripts worked.&lt;/p&gt;

&lt;p&gt;Yeah, it worked for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synclist&lt;/code&gt;; that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute.centos7.x86_64.synclist&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 ls -lh /opt/torque/ 
abacus109: total 4.0K
abacus109: drwxr-xr-x. 2 root root 4.0K May 16  2009 bin
abacus109: drwxr-xr-x. 2 root root   92 May 16  2009 include
abacus109: drwxr-xr-x. 2 root root  113 May 16  2009 lib
abacus109: drwxr-xr-x. 6 root root   54 May 16  2009 man
abacus109: drwxr-xr-x. 2 root root  147 May 16  2009 sbin
abacus109: drwxr-xr-x. 3 root root   19 May 16  2009 var

# xdsh abacus109 du -chs /opt/torque/ 
abacus109: 108M /opt/torque/
abacus109: 108M total
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 cat /etc/passwd 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 cat /etc/group
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It also worked for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute_custom_post&lt;/code&gt; script run:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 cat /etc/fstab
---- snip ----
abacus109: mgmt:/home    /home    nfs  defaults  1 2
abacus109: mgmt:/global  /global  nfs  defaults  1 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 df -hT 
abacus109: Filesystem              Type      Size  Used Avail Use% Mounted on
---- snip ---
abacus109: mgmt:/home              nfs4      5.0T  1.8T  3.3T  36% /home
abacus109: mgmt:/global            nfs4      3.9T  637G  3.3T  17% /global
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 cat /etc/hosts
---- snip ----
abacus109: 192.168.80.210 mgmt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setupntp&lt;/code&gt; script run worked too:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 systemctl is-active chronyd.service
abacus109: active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 systemctl status chronyd.service
abacus109: * chronyd.service - NTP client/server
abacus109:    Loaded: loaded (/usr/lib/systemd/system/chronyd.service; enabled; vendor preset: enabled)
abacus109:    Active: active (running) since Fri 2022-03-20 18:53:38 PDT; 2min ago
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Yep, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus_custom_postboot&lt;/code&gt; script run worked as well:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 systemctl is-active pbs_mom.service
abacus109: active

# xdsh abacus109 systemctl status pbs_mom.service
abacus109: * pbs_mom.service - PBS Mom service
abacus109: Loaded: loaded (/etc/systemd/system/pbs_mom.service; enabled; vendor preset: disabled)
abacus109: Active: active (running) since Fri 2022-03-20 18:53:39 PDT; 2min ago
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 --verify ls -lh /
abacus109: total 28K
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The only thing left is to run a test job as explained above, under 
&lt;a href=&quot;#submit-a-test-job-to-a-specific-node&quot;&gt;Submit a Test Job to a Specific Node&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Temporary/currently: no systemd for pbs_server and pbs_sched so
for now starting them manually:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo /etc/rc.d/init.d/pbs_server start&lt;/code&gt; and&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo /etc/rc.d/init.d/pbs_sched start&lt;/code&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Migrate network restart with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;at&lt;/code&gt; to Appendix.&lt;/p&gt;

&lt;p&gt;Restart networking and see if network interfaces are in the routing table.&lt;/p&gt;

&lt;p&gt;If you are not logged in to the server directly via console; for example,
if you are logged in via ssh, use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;at(1)&lt;/code&gt; utility, with the sequence 
of commands below.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;
To end input, generate the &lt;em&gt;end-of-file&lt;/em&gt; (EOF) character &lt;a href=&quot;#footnotes&quot;&gt;¹&lt;/a&gt;
(aka &lt;em&gt;eof command&lt;/em&gt;) by pressing &lt;strong&gt;Ctrl D&lt;/strong&gt; (usually abbreviated &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^D&lt;/code&gt;)
on an empty line.
For additional details, refer to the man page for the current shell,
in this case &lt;strong&gt;csh&lt;/strong&gt;/&lt;strong&gt;tcsh&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo at now+3min
warning: commands will be executed using /bin/sh
at&amp;gt; sudo systemctl stop NetworkManager
at&amp;gt; sleep 5
at&amp;gt; sudo systemctl start NetworkManager
at&amp;gt; &amp;lt;EOT&amp;gt;
job 1 at Thu Mar 20 15:01:00 2022
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can check terminal line settings for EOF with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ stty --all | wc -l

$ stty --all | grep -i EOF
intr = ^C; quit = ^\; erase = ^H; kill = ^U; eof = ^D; eol = &amp;lt;undef&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ stty --help | grep &apos;eof CHAR&apos;
   eof CHAR      CHAR will send an end of file (terminate the input)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for stty(1):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[...]
Special characters:
[...]
    eof CHAR
           CHAR will send an end of file (terminate the input)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ netstat -rn
Kernel IP routing table
Destination     Gateway        Genmask        Flags  MSS Window irtt Iface
0.0.0.0         123.12.23.254  0.0.0.0        UG       0 0         0 eno1
123.12.23.0     0.0.0.0        255.255.255.0  U        0 0         0 eno1
192.168.80.0    0.0.0.0        255.255.255.0  U        0 0         0 eno2
192.168.122.0   0.0.0.0        255.255.255.0  U        0 0         0 virbr0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Show this as an alternative setup - and move it to Appendix&lt;/p&gt;

&lt;h2 id=&quot;management-node-setup&quot;&gt;Management Node Setup&lt;/h2&gt;

&lt;p&gt;All the following steps should be executed on the server with the 
management node role.&lt;/p&gt;

&lt;h3 id=&quot;create-local-centos-packages-repository&quot;&gt;Create Local CentOS Packages Repository&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf clean metadata
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf update  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The CentOS 7 DVD ISO image has been transferred to /tmp when the content 
of the image was customized: 
&lt;a href=&quot;/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/vm/qemu/kvm/linux/unix/2022/03/12/centos-rhel-dvd-iso-customization-testing-with-qemu.html&quot;&gt;Customize CentOS/RHEL DVD ISO for Installation in Text Mode via Serial Console and Test the Image with QEMU&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Check if the link above will work on GitHub Pages&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir -p /install/isos/centos7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Place the ISO to the following directory:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mv /tmp/CentOS-7-x86_64-DVD-2009-HS21.iso /install/isos/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir -p /mnt/dvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mount the ISO as follows.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
mount -o loop \
/install/isos/CentOS-7-x86_64-DVD-2009-HS21.iso \
/mnt/dvd/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ df -hT | grep iso9660
/dev/loop0            iso9660   4.5G  4.5G     0 100% /mnt/dvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
cp -a \
/mnt/dvd/* \
/install/isos/centos7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo umount /mnt/dvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the CentOS repo file for the local repository.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /etc/yum.repos.d/centos7-local.repo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/yum.repos.d/centos7-local.repo
[centos]
name=CentOS $releasever - $basearch
baseurl=file:///install/isos/centos7
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that the repo is enabled:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dnf repolist --all | grep centos
centos                CentOS 8 - x86_64    enabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install createrepo package.&lt;/p&gt;

&lt;p&gt;This utility generates a common metadata repository from a directory 
of RPM packages.&lt;/p&gt;

&lt;p&gt;It defines the RPM-metadata (&lt;strong&gt;repodata&lt;/strong&gt;) format and maintains one of 
the programs (&lt;strong&gt;createrepo&lt;/strong&gt;) which create this format from existing RPMs 
and other sources.&lt;/p&gt;

&lt;p&gt;Project’s URI/URL: &lt;a href=&quot;http://createrepo.baseurl.org/&quot;&gt;http://createrepo.baseurl.org/&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Mar 20, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The files break down as follows:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;
      &lt;p&gt;repomd.xml this is the file that describes the other metadata files. 
It is like an index file to point to the other files. It contains 
timestamps and checksums for the other files. This lets a client 
download this one, small file and know if anything else has changed. 
This also means that cryptographically (ex: gpg) signing this one file 
can ensure repository integrity.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;primary.xml.[gz] this file stores the primary metadata information. 
This includes information such as:
      &lt;ul&gt;
        &lt;li&gt;name, epoch, version, release, architecture&lt;/li&gt;
        &lt;li&gt;file size, file location, description, summary, format, 
checksums header byte-ranges, etc.&lt;/li&gt;
        &lt;li&gt;dependencies, provides, conflicts, obsoletes, suggests, recommends&lt;/li&gt;
        &lt;li&gt;file lists for the package for CERTAIN files - specifically files 
matching: /etc&lt;em&gt;, *bin/&lt;/em&gt;, /usr/lib/sendmail [1]&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;filelists.xml.[gz] this file stores the complete file and directory 
listings for the packages. The package is identified by: name, epoch, 
version, release, architecture and package checksum id.&lt;/li&gt;
    &lt;li&gt;other.xml.[gz] this file currently only stores the changelog data 
from packages. However, this file could be used for any other 
additional metadata that could be useful for clients.&lt;/li&gt;
    &lt;li&gt;groups.xml.[gz] this file is tentatively described. The intention is 
for a common package-groups specification as well. There is still 
some sections for this format that need to be fleshed out.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install createrepo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir -p /install/centos7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The createrepo requires an argument which is the directory in which you 
would like to generate the repository data.  Since the packages directory 
will be in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/install/centos7&lt;/code&gt;, run the following:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo createrepo /install/centos7
Directory walk started
Directory walk done - 0 packages
Temporary output repo path: /install/centos7/.repodata/
Preparing sqlite DBs
Pool started (with 5 workers)
Pool finished
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /install/centos7/repodata/
total 28K
-rw-r--r-- 1 root root 1.4K Mar 20 15:22 19699a08[...]87e3-primary.sqlite.bz2
-rw-r--r-- 1 root root  134 Mar 20 15:22 1cb61ea9[...]d7d8bcae-primary.xml.gz
-rw-r--r-- 1 root root  609 Mar 20 15:22 878c2f1d[...]b9-filelists.sqlite.bz2
-rw-r--r-- 1 root root  123 Mar 20 15:22 95a4415d[...]fb2a5f-filelists.xml.gz
-rw-r--r-- 1 root root  123 Mar 20 15:22 ef3e2069[...]9e070aaab6-other.xml.gz
-rw-r--r-- 1 root root  571 Mar 20 15:22 f660753f[...]78d966-other.sqlite.bz2
-rw-r--r-- 1 root root 3.0K Mar 20 15:22 repomd.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf clean all
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;xcat-backup---todo---move-it-to-appendix&quot;&gt;xCAT Backup   &lt;strong&gt;[TODO]&lt;/strong&gt;  &amp;lt;– Move it to Appendix&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir /tmp/xcatsnapdirbkp
$ sudo /opt/xcat/sbin/xcatsnap -d /tmp/xcatsnapdirbkp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdir /tmp/xCAT_Backup
# dumpxCATdb -a -p /tmp/xCAT_Backup
# restorexCATdb -p /tmp/xCAT_Backup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;   Change the title - and migrate it to Troubleshooting section
(after first creating the Troubleshooting section)&lt;/p&gt;

&lt;h3 id=&quot;if-you-encounter-a-certificate-error&quot;&gt;If You Encounter a Certificate Error&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lsxcatd -a
Unable to open socket connection to xcatd daemon on localhost:3001.
Verify that the xcatd daemon is running and that your SSL setup is correct.
Connection failure: SSL connect attempt failed error:0407008A:rsa 
  routines:RSA_padding_check_PKCS1_type_1:invalid padding 
  error:04067072:rsa routines:rsa_ossl_public_decrypt:padding check failed 
  error:0D0C5006:asn1 encoding routines:ASN1_item_verify:EVP 
  lib error:1416F086:SSL 
  routines:tls_process_server_certificate:certificate verify failed at 
  /opt/xcat/lib/perl/xCAT/Client.pm line 282.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set the environment variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;XCATBYPASS&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Y&lt;/code&gt; and 
keep using it until you fix this certificate error.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo &quot;XCATBYPASS=Y&quot; csh -c &apos;lsxcatd -a&apos;
Version 2.16.3 (git commit d6c76ae5f66566409c3416c0836660e655632194, 
  built Wed Nov 10 09:58:20 EST 2021)
  This is a Management Node
dbengine=SQLite
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo &quot;XCATBYPASS=Y&quot; csh -c &apos;tabdump site&apos;
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;lsslp-todo-expand-on-lsslp-and-possibly-put-it-in-a-separate-section&quot;&gt;lsslp &lt;strong&gt;[TODO]&lt;/strong&gt; Expand on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsslp&lt;/code&gt; and possibly put it in a separate section&lt;/h3&gt;

&lt;p&gt;The nodes which the user wants to discover.&lt;/p&gt;

&lt;p&gt;Use the lsslp command to discover &lt;strong&gt;selected&lt;/strong&gt; networked services 
information within the same subnet.  The request is sent out all 
available network adapters.&lt;/p&gt;

&lt;p&gt;If the user specifies the noderange, lsslp will just return the nodes in 
the node range.&lt;/p&gt;

&lt;p&gt;Which means it will help to add the new nodes to the xCAT database 
without modifying the existed definitions.&lt;/p&gt;

&lt;p&gt;But the nodes’ name specified in noderange should be defined in database 
in advance.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;appendix&quot;&gt;Appendix&lt;/h2&gt;

&lt;h3 id=&quot;running-qemu-guest-in-the-background&quot;&gt;Running QEMU Guest in the Background&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br0&quot;,id=hn0 \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br1&quot;,id=hn1 \
-device virtio-net-pci,netdev=hn0 \
-device virtio-net-pci,netdev=hn1 \
-daemonize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-nographic&lt;/code&gt; cannot be used with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-daemonize&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Then, connect (log into) the guest OS:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh root@123.12.23.235
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;pbs-history&quot;&gt;PBS History&lt;/h3&gt;

&lt;p&gt;From
&lt;a href=&quot;https://community.openpbs.org/t/pbs-default-number-of-nodes-and-number-of-cpus/834/4&quot;&gt;OpenPBS Community Forum - PBS Default number of nodes and number of cpus&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Comment by user &lt;em&gt;scott&lt;/em&gt; (Scott Suchyta) on Jan 4, 2018:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;So a little history for your knowledge.&lt;/p&gt;

  &lt;p&gt;PBS was originally developed for NASA under a contract project. Altair Engineering acquired the rights to all the PBS technology and intellectual property from Veridian in 2003. Altair Engineering currently owns and maintains the intellectual property associated with PBS, and also employs the original development team from NASA.&lt;/p&gt;

  &lt;p&gt;The following versions of PBS are currently available:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;OpenPBS - original open source version released by MRJ in 1998 (not actively developed)&lt;/li&gt;
    &lt;li&gt;TORQUE - a fork of OpenPBS that is maintained by Adaptive Computing Enterprises, Inc. (formerly Cluster Resources, Inc.)&lt;/li&gt;
    &lt;li&gt;PBS Professional (PBS Pro) — the version of PBS offered by Altair Engineering that is dual licensed under an open source and a commercial license.&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;PBS Professional has a more modern language specification for job submission, which is called select/place. If using PBS Professional, I would suggest using queuejob hook to evaluate the user’s job submission and modify the select/place requirements to meet your combination check.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;how-to-change-node-name-withfromin-xcat&quot;&gt;How To Change Node Name with/from/in xCAT&lt;/h3&gt;

&lt;p&gt;Change node name from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cn14&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus14&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef \
-t node \
-o cn14 \
-n abacus14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makehosts abacus14
# makedns -n
# makedhcp -n
# makehosts abacus14
# makehosts -n
# makedhcp abacus14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makedhcp -q all 
abacus14: ip-address = 192.168.80.114, hardware-address = 00:21:5e:2c:0a:ac
cn13: ip-address = 192.168.80.113, hardware-address = 00:21:5e:2c:15:a4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;troubleshooting-postscripts-and-postbootscripts&quot;&gt;Troubleshooting Postscripts and Postbootscripts&lt;/h3&gt;

&lt;p&gt;The following steps need to be run on the management 
node, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Confirm that the object &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osimage&lt;/code&gt; has the attribute &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synclists&lt;/code&gt;.
(Options: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt;: type, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-i&lt;/code&gt;: information/inquire).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t osimage -i synclists
Object name: centos7.9-x86_64-install-compute
    synclists=/install/custom/install/centos/compute.centos7.x86_64.synclist
Object name: centos7.9-x86_64-netboot-compute
    synclists=
Object name: centos7.9-x86_64-statelite-compute
    synclists=
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since it’s included in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osimage&lt;/code&gt; object, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;syncfiles&lt;/code&gt; has been 
addeed to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; attribute of the compute node that you’re 
configuring (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt;).
(Options: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt;: type, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-o&lt;/code&gt;: object, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-i&lt;/code&gt;: information/inquire).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus109 -i postscripts
Object name: abacus109
    postscripts=syslog,remoteshell,syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 | grep profile
    profile=compute
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 | grep provmethod 
    provmethod=centos7.9-x86_64-install-compute
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 | grep -w -i os 
    os=centos7.9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodels abacus109 nodetype | grep profile
abacus109: nodetype.profile: compute
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump nodetype
#node,os,arch,profile,provmethod,supportedarchs,nodetype,comments,disable
---- snip ----
&quot;abacus109&quot;,&quot;centos7.9&quot;,&quot;x86_64&quot;,&quot;compute&quot;,&quot;centos7.9-x86_64-install-compute&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As of now, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; attribute for the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt; has not 
been updated with the required scripts.  From the definition of the object 
type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node&lt;/code&gt;, for the object &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt;, display the attribute &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt;. 
You’ll notice that  both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setupntp&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute_custom_post&lt;/code&gt; have not 
been appended to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus109 -i postscripts
Object name: abacus109
    postscripts=syslog,remoteshell,syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, when you ask for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; attribute of the node 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt;, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus_custom_postboot&lt;/code&gt; script is missing from 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus109 -i postbootscripts
Object name: abacus109
    postbootscripts=otherpkgs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  The following two &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nodegrpch&lt;/code&gt; commands do not need to be run 
if you’ve already setup &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; for the 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute&lt;/code&gt; group.&lt;/p&gt;

&lt;p&gt;Upgrade the group &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute&lt;/code&gt; with the required &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; script files:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodegrpch compute postscripts.postscripts=setupntp,compute_custom_post
# nodegrpch compute postscripts.postbootscripts=abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that it’s been done:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts
#node,postscripts,postbootscripts,comments,disabl
---- snip ----
&quot;compute&quot;,&quot;setupntp,compute_custom_post&quot;,&quot;abacus_custom_postboot&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, you’ll see that the compute node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt;) has not been added 
to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; table:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts | grep abacus109
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Update the node by adding the required &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; 
script files to it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chtab \
node=abacus109 \
postscripts.postscripts=setupntp,compute_custom_post \
postscripts.postbootscripts=abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To confirm that the needed postscripts are now included with the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 | grep postscripts 
    postscripts=syslog,remoteshell,syncfiles,setupntp,compute_custom_post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef abacus109 | grep postbootscripts
    postbootscripts=otherpkgs,abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts
#node,postscripts,postbootscripts,comments,disable
---- snip ----
&quot;abacus109&quot;,&quot;setupntp,compute_custom_post&quot;,&quot;abacus_custom_postboot&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump postscripts | grep abacus109
&quot;abacus109&quot;,&quot;setupntp,compute_custom_post&quot;,&quot;abacus_custom_postboot&quot;,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continuing with the setup, confirm that the node’s profile is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute&lt;/code&gt; 
as that’s the name of the whole group you modified earlier above.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodels abacus109 nodetype
abacus109: nodetype.arch: x86_64
abacus109: nodetype.node: abacus109
abacus109: nodetype.os: centos7.9
abacus109: nodetype.profile: compute
abacus109: nodetype.provmethod: centos7.9-x86_64-install-compute
abacus109: nodetype.supportedarchs: 
abacus109: nodetype.comments: 
abacus109: nodetype.nodetype: 
abacus109: nodetype.disable: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump nodetype
#node,os,arch,profile,provmethod,supportedarchs,nodetype,comments,disable
---- snip ----
&quot;abacus109&quot;,&quot;centos7.9&quot;,&quot;x86_64&quot;,&quot;compute&quot;,&quot;centos7.9-x86_64-install-compute&quot;,,,,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus109 -i postscripts
Object name: abacus109
    postscripts=syslog,remoteshell,syncfiles,setupntp,compute_custom_post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsdef -t node -o abacus109 -i postbootscripts
Object name: abacus109
    postbootscripts=otherpkgs,abacus_custom_postboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatdebugmode&lt;/code&gt; in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt; table to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;2&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chdef -t site xcatdebugmode=2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Push &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;syncfiles&lt;/code&gt; to the node.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus109 -P syncfiles
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus109 -F -V
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to the compute node (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  For the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rcons&lt;/code&gt; to work, the node’s BIOS must be configured
for SOL (Serial Over LAN), a.k.a. Text Mode Console. &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;10&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rcons abacus109
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

abacus109 login: root
Password:

[root@abacus109 ~]#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run the following command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# USEOPENSSLFORXCAT=1 \
XCATSERVER=192.168.80.220:3001 \
/xcatpost/startsyncfiles.awk -v RCP=/usr/bin/rsync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exit the compute node.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

abacus109 login:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-e&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;c&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt; (three characters: Ctrl-e, ‘c’ and ‘.’) to 
disconnect by closing the session with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;makegocons&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Back in the management node, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdcp abacus109 -F /install/custom/install/centos/compute.centos7.x86_64.synclist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Update the node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt; but limit it to only run the scripts.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus109 -P
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check whether the run of the scripts worked.&lt;/p&gt;

&lt;p&gt;Yeah, it worked for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;synclist&lt;/code&gt;; that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute.centos7.x86_64.synclist&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 ls -lh /opt/torque/ 
abacus109: total 4.0K
abacus109: drwxr-xr-x. 2 root root 4.0K May 16  2009 bin
abacus109: drwxr-xr-x. 2 root root   92 May 16  2009 include
abacus109: drwxr-xr-x. 2 root root  113 May 16  2009 lib
abacus109: drwxr-xr-x. 6 root root   54 May 16  2009 man
abacus109: drwxr-xr-x. 2 root root  147 May 16  2009 sbin
abacus109: drwxr-xr-x. 3 root root   19 May 16  2009 var

# xdsh abacus109 du -chs /opt/torque/ 
abacus109: 108M /opt/torque/
abacus109: 108M total
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 cat /etc/passwd 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 cat /etc/group
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It also worked for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compute_custom_post&lt;/code&gt; script run:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 cat /etc/fstab
---- snip ----
abacus109: mgmt:/home    /home    nfs  defaults  1 2
abacus109: mgmt:/global  /global  nfs  defaults  1 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 df -hT 
abacus109: Filesystem              Type      Size  Used Avail Use% Mounted on
---- snip ---
abacus109: mgmt:/home              nfs4      5.0T  1.8T  3.3T  36% /home
abacus109: mgmt:/global            nfs4      3.9T  637G  3.3T  17% /global
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 cat /etc/hosts
---- snip ----
abacus109: 192.168.80.210 mgmt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setupntp&lt;/code&gt; script run worked too:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 systemctl is-active chronyd.service
abacus109: active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 systemctl status chronyd.service
abacus109: * chronyd.service - NTP client/server
abacus109:    Loaded: loaded (/usr/lib/systemd/system/chronyd.service; enabled; vendor preset: enabled)
abacus109:    Active: active (running) since Fri 2022-03-20 18:53:38 PDT; 2min ago
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Yep, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus_custom_postboot&lt;/code&gt; script run worked as well:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 systemctl is-active pbs_mom.service 
abacus109: active

# xdsh abacus109 systemctl status pbs_mom.service 
abacus109: * pbs_mom.service - PBS Mom service
abacus109: Loaded: loaded (/etc/systemd/system/pbs_mom.service; enabled; vendor preset: disabled)
abacus109: Active: active (running) since Fri 2022-03-20 18:53:39 PDT; 2min ago
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus109 --verify ls -lh /
abacus109: total 28K
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
If the above &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;updatenode abacus109 -P&lt;/code&gt; does not work, you can try fixing 
it by the following sequence of commands:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# updatenode abacus109 -P syncfiles
# updatenode abacus109 -P &quot;confignetwork -s&quot;
# updatenode abacus109 -P
# updatenode abacus109 -P -F -V
# updatenode abacus109 -P syncfiles -P &quot;confignics -s&quot;
# updatenode abacus109 -P syncfiles -F -V
# xdsh abacus109 shutdown -r now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Explanation:&lt;/em&gt;  &lt;br /&gt;
If you want to run all the customization scripts that have been designated for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus109&lt;/code&gt; node (in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; attributes), the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-P&lt;/code&gt; option (i.e, the command: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;updatenode abacus109 -P&lt;/code&gt;) will not work after install.  Instead, after install use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-F&lt;/code&gt; option for file synchronization (including synchronization of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postscripts&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postbootscripts&lt;/code&gt; attributes).&lt;/p&gt;

&lt;p&gt;From the man page for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;updatenode(1)&lt;/code&gt; command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-F|--sync     Specifies that file synchronization should be performed on the
              nodes.  rsync/scp and ssh must be installed and configured on
              the nodes.
[...]
-P|--scripts  Specifies that postscripts and postbootscripts should be run on
              the nodes.  File sync with updatenode -P syncfiles is not
              supported.  The syncfiles postscript can only be run during
              install.  You should use updatenode -F instead.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;usefultypicall-first-commands-in-the-guest-vm-with-xcat-on-it&quot;&gt;Useful/Typicall (First) Commands in the Guest VM with xCAT on It&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# uptime
# hostname
# ifconfig
# ifconfig -1
# ip address show
# ip -d address show       (ip -d a s)
# ip link show
# ip neigh                 (ip neighbour, ip neighbor) 
# nmcli device status
# nmcli connection show
# netstat -rn
# netstat -r
# ip route
# cat /etc/resolv.conf
# cat /etc/hosts
# ping -c2 freebsd.org
# ping -c2 192.168.80.210   &amp;lt;-- forwarder (DNS server)
# ping -c2 192.168.80.220   &amp;lt;-- nameserver
# rpower cn14 state         &amp;lt;-- cn14 is a (compute) node
# rinv -V cn14 firm -all
# tabdump site
# tabdump networks
# tabdump mpa
# tabdump mp
# tabdump passwd
# tabdump postscripts
# tabdump prescripts
# tabdump ppc
# rpower cn13 state         &amp;lt;-- cn13 is a (compute) node

# nodels
# nodestat

# ipmitool-xcat

# rspconfig

# rbootseq

# rpower
# rvitals 
# rinv

# xdsh 
# psh

# tabdump ipmi
# tabdump hosts
# tabdump mac
# tabdump nodehm
# tabdump nodelist
# tabdump noderes
# tabdump nodetype
# tabdump linuximage
# tabdump chain
# tabdump discoverydata
# tabdump osdistro
# tabdump osimage
# tabdump policy

mkdef, chtab, lsdef

nodech 
nodeadd
nodegrpch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsslp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List nodes defined in database but can’t be discovered:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsslp -I
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-I&lt;/code&gt;    Give the warning message for the nodes in database which have no
        SLP responses.  Note that this flag can only be used after the
        database migration finished successfully.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# lsslp -z
# lsslp -x
# lsslp -w       &amp;lt;--  Writes output to xCAT database
# rscan cn13
# rscan -z cn13
# rscan -x cn13
# rscan -x cn13  &amp;lt;-- Writes output to xCAT database
# hwclock --show
# lsxcatd -a
# makehosts
# makedns
# makedhcp -n
# dumpxCATdb -a -p /tmp/xCAT_Backup
# restorexCATdb -p /tmp/xCAT_Backup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;the-fundamentals-of-building-an-hpc-cluster&quot;&gt;The Fundamentals of Building an HPC Cluster&lt;/h3&gt;

&lt;p&gt;Adapted from &lt;a href=&quot;https://www.admin-magazine.com/HPC/Articles/Building-an-HPC-Cluster&quot;&gt;The Fundamentals of Building an HPC Cluster&lt;/a&gt; (retrieved on Mar 20, 2022):&lt;/p&gt;

&lt;p&gt;Architecture &lt;br /&gt;
The cluster is on a &lt;strong&gt;private Ethernet network&lt;/strong&gt;. 
The address space is &lt;strong&gt;unroutable&lt;/strong&gt; so the compute nodes are “hidden” from 
a routable network, allowing you to separate your cluster logically from 
a public network.&lt;/p&gt;

&lt;p&gt;To log in to the cluster from a public network you need to add a second 
network interface controller (NIC) to the managment node (master node). 
This NIC has a public IP address that allows you to log in to the cluster. 
Only the master node should have the public IP address because there is 
no reason for compute nodes to have two addresses. (You want them to 
be private.)&lt;/p&gt;

&lt;p&gt;Another key feature of a basic cluster architecture is a shared directory 
across the nodes.  Strictly speaking this isn’t required but without it 
some MPI (message-passing interface) applications would not run. 
Therefore, it is a good idea simply to use a shared filesystem in 
the cluster.  &lt;strong&gt;NFS&lt;/strong&gt; is the easiest to use because both server and 
client are in the kernel, and the distribution should have the tools 
for configuring and monitoring NFS.&lt;/p&gt;

&lt;p&gt;Software Layers&lt;br /&gt;
The first layer is the basic software you need and really nothing extra. 
The second layer adds some administrative tools to make it easier to 
operate the cluster, as well as tools to reduce problems when running 
parallel applications.  The third layer adds more sophisticated cluster 
tools and adds the concept of monitoring, so you can understand 
what’s happening.&lt;/p&gt;

&lt;p&gt;Layer 1: Software Configuration &lt;br /&gt;
The first layer of software only contains the minimum software to run 
parallel applications.  Obviously, the first thing you need is an OS. 
Typical installation options are usually good enough. 
They install most everything you need.&lt;/p&gt;

&lt;p&gt;The next thing you need is a set of MPI libraries such as 
&lt;a href=&quot;https://www.open-mpi.org/&quot;&gt;Open MPI&lt;/a&gt; or &lt;a href=&quot;https://www.mpich.org/&quot;&gt;MPICH&lt;/a&gt;. 
These are the libraries you will use for creating parallel applications 
and running them on your cluster.  You can find details on how to build 
and install them on their respective websites.
&lt;strong&gt;Note:&lt;/strong&gt;  This cluster configuration uses PBS (Portable Batch System) 
scheduling software in its &lt;a href=&quot;https://web.archive.org/web/20090123185628/http://clusterresources.com/downloads/torque/torque-2.3.6.tar.gz&quot;&gt;TORQUE (Terascale Open-source Resource and QUEue manager)&lt;/a&gt; variant, &lt;strong&gt;without&lt;/strong&gt; interfacing with Message Passing MPI (Message Passing Interface) libraries – As per 
&lt;a href=&quot;https://docs.adaptivecomputing.com/torque/3-0-5/index.php&quot;&gt;TORQUE Administrator Guide&lt;/a&gt;, section 7.0 Interfacing with Message Passing and &lt;a href=&quot;https://docs.adaptivecomputing.com/torque/3-0-5/7.1mpi.php&quot;&gt;7.1 MPI (Message Passing Interface) Support&lt;/a&gt; “A message passing library is used by parallel jobs to 
&lt;strong&gt;augment&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;) communication between the tasks distributed across the cluster.  TORQUE can run with any message passing library and provides limited integration with some MPI libraries.”&lt;/p&gt;

&lt;p&gt;The next, and actually last, piece of software you need is SSH. 
More specifically, you need to be able to SSH to and from each node 
without a password, allowing you to run the MPI applications easily. 
Make sure, however, that you set up SSH after you have NFS working 
across the cluster and each node has mounted the exported directory.&lt;/p&gt;

&lt;p&gt;Layer 2: Architecture and Tools &lt;br /&gt;
The next layer of software adds tools to help reduce cluster problems and 
make it easier to administer.  Using the basic software mentioned in the 
previous section, you can run parallel applications, but you might run 
into difficulties as you scale your system, including:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Running commands on each node (parallel shell) &lt;br /&gt;
Configuring identical nodes (package skew) &lt;br /&gt;
Keeping the same time on each node (NTP) &lt;br /&gt;
Running more than one job (job scheduler/resource manager)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The last issue to address is the job scheduler (also called a resource 
manager).  This is a key element of HPC and can be used even for small 
clusters.  Roughly speaking, a job scheduler will run jobs (applications) 
on your behalf when the resources are available on the cluster so you 
don’t have to sit around and wait for the cluster to be free before you 
run applications.  Rather, you can write a few lines of script and submit 
it to the job scheduler.  When the resources are available, it will run 
your job on your behalf.&lt;/p&gt;

&lt;p&gt;In the script, you specify the resources you need, such as the number of 
nodes or number of cores, and you give the job scheduler the command that 
runs your application, such as:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpirun -np 4 &amp;lt;executable&amp;gt;&lt;/code&gt;   REPLACE w/TORQUE&lt;/p&gt;

&lt;p&gt;Among the resource managers available, many are open source. 
Examples of resource managers include:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://adaptivecomputing.com/cherry-services/torque-resource-manager/&quot;&gt;Torque&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://slurm.schedmd.com/&quot;&gt;Slurm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://sourceforge.net/projects/gridengine/&quot;&gt;SGE&lt;/a&gt; – Son of Grid Engine&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://gridscheduler.sourceforge.net/&quot;&gt;OGE&lt;/a&gt; – Open Grid Engine&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;With these issues addressed, you now have a pretty reasonable cluster with some administrative tools. Although it’s not perfect, it’s most definitely workable.&lt;/p&gt;

&lt;p&gt;Layer 3: Deep Administration &lt;br /&gt;
The third level of tools gets you deeper into HPC administration and begins 
to gather more information about the cluster so you can find problems 
before they happen.  The tools I will discuss briefly are:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Cluster management tools&lt;/li&gt;
  &lt;li&gt;Monitoring tools (how are the nodes doing)&lt;/li&gt;
  &lt;li&gt;Environment Modules&lt;/li&gt;
  &lt;li&gt;Multiple networks&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A cluster management tool is really a toolkit to automate the configuration, 
launching, and management of compute nodes from the master node. 
In some cases, the toolkit will even install the master node for you. 
A number of open source cluster management tools are available, including:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://xcat.org/&quot;&gt;xCAT&lt;/a&gt;, also: &lt;a href=&quot;https://github.com/xcat2&quot;&gt;https://github.com/xcat2&lt;/a&gt;, &lt;a href=&quot;https://sourceforge.net/p/xcat/wiki/Main_Page/&quot;&gt;https://sourceforge.net/p/xcat/wiki/Main_Page/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://warewulf.lbl.gov/&quot;&gt;Warewulf&lt;/a&gt;, also &lt;a href=&quot;https://github.com/warewulf/warewulf3&quot;&gt;https://github.com/warewulf/warewulf3&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://oscar-cluster.github.io/oscar/&quot;&gt;OSCAR&lt;/a&gt; - Open Source Cluster Application Resource, also &lt;a href=&quot;https://github.com/oscar-cluster/oscar&quot;&gt;OSCAR on GitHub&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://onesis.org/&quot;&gt;oneSIS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The tools vary in their approach but they typically allow you to create 
compute nodes that are part of the cluster.  This can be done via images, 
in which a complete image is pushed to the compute node, or via packages, 
in which specific packages are installed on the compute nodes.&lt;/p&gt;

&lt;p&gt;Many of the cluster management tools also include tools for monitoring 
the cluster.  Several monitoring tools are appropriate for HPC clusters 
but a universal tool is Ganglia.  Some of the cluster tools come 
pre-configured with Ganglia, and some don’t, requiring 
an &lt;a href=&quot;http://www.admin-magazine.com/HPC/Articles/Monitoring-HPC-Systems&quot;&gt;installation&lt;/a&gt;.
By default Ganglia comes with some pre-defined metrics but the tool is 
very flexible and allows you to write simple code to attain specific 
metrics from your nodes.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Review all footnotes, including the order and whether some
            footnotes are missing&lt;/p&gt;

&lt;h3 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h3&gt;

&lt;p&gt;[1]  More specifically, when you press &lt;strong&gt;Ctrl D&lt;/strong&gt;, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;at(1)&lt;/code&gt; 
displays &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;EOT&amp;gt;&lt;/code&gt;, which stands for End Of Transmission:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man ascii
[...]
       The following table contains the 128 ASCII characters.

       C program &apos;\X&apos; escapes are noted.

       Oct   Dec   Hex   Char                        Oct   Dec   Hex   Char
       ────────────────────────────────────────────────────────────────────────
       000   0     00    NUL &apos;\0&apos; (null character)   100   64    40    @
       001   1     01    SOH (start of heading)      101   65    41    A
       002   2     02    STX (start of text)         102   66    42    B
       003   3     03    ETX (end of text)           103   67    43    C
       004   4     04    EOT (end of transmission)   104   68    44    D
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[2] The loopback interface is a virtual interface that is always up and 
available after it has been configured.&lt;/p&gt;

&lt;p&gt;Per Solaris(TM) Operating Environment Boot Camp by David Rhodes, 
Dominic Butler - Pearson Publishing -  September 2002:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;All systems have a “loopback” interface, regardless of whether they are 
connected to the network or not.  This is not a true network interface, 
but acts as one to allow some network-aware programs (such as RPC) to be
able to connect to both the remote and local host in the same way.&lt;/p&gt;

  &lt;p&gt;You don’t need to be concerned with configuring it, as this is performed 
by the operating system, but we do need to make certain that the local 
host address remains in the host file.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[3] Per Networking Bible by
Barrie Sosinsky - John Wiley &amp;amp; Sons, Inc. - September 2009:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;One important example of a logical network interface (also called 
a virtual interface) is the loopback adapter.  The loopback adapter 
is a software routine that emulates an internal NIC card that can accept
system requests and reply to those requests.  The loopback adapter is 
used to test whether network functions are operating correctly.&lt;/p&gt;

  &lt;p&gt;For IP version 4, the loopback adapter is found at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127.0.0.1&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[4] SOL (Serial over LAN) &lt;br /&gt;
&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.advmgtmod.doc/kp1bd_pdf.pdf&quot;&gt;BladeCenter SOL (Serial over LAN) Setup Guide - IBM Corporation, Twelfth Edition (November 2009)&lt;/a&gt; (Retrieved on Mar 22, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Chapter 1. Introduction&lt;/p&gt;

  &lt;p&gt;Serial over LAN (SOL) provides a means to manage servers remotely by
using a command-line interface (CLI) over a Telnet or Secure Shell (SSH)
connection.  SOL is required to manage servers that do not have
keyboard/video/mouse (KVM) support […]&lt;/p&gt;

  &lt;p&gt;[…]&lt;/p&gt;

  &lt;p&gt;SOL (Serial Over LAN) provides console redirection for both BIOS and the
blade server operating system.  The SOL feature redirects server
serial-connection data over a LAN without the need for special cabling.
The SOL connection enables blade servers to be managed from any remote
location with network access.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[5] IBM Advanced Settings Utility (ASU)  &lt;br /&gt;
&lt;a href=&quot;https://www.ibm.com/support/pages/ibm-advanced-settings-utility-asu&quot;&gt;IBM Advanced Settings Utility (ASU)&lt;/a&gt;
(Retrieved on Mar 20, 2022)&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://toolscenter.lenovofiles.com/help/topic/asu/asu_guide.pdf&quot;&gt;IBM Advanced Settings Utility (ASU) Version 3.60 User’s Guide&lt;/a&gt;
(Retrieved on Mar 20, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You can use the IBM Advanced Settings Utility (&lt;strong&gt;ASU&lt;/strong&gt;) to modify
firmware settings from the command line on multiple operating-system
platforms.  You can perform the following tasks by using the utility:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;Modify selected basic input/output system &lt;strong&gt;(BIOS) CMOS&lt;/strong&gt; settings
  without the need to restart the system to access F1 settings.&lt;/li&gt;
    &lt;li&gt;Modify selected &lt;strong&gt;BMC&lt;/strong&gt; (Baseboard Management Controller) setup settings. &lt;br /&gt;
[…]&lt;/li&gt;
    &lt;li&gt;Modify selected settings in &lt;strong&gt;Integrated Management Module (IMM)&lt;/strong&gt;-based
servers for the &lt;strong&gt;IMM&lt;/strong&gt; firmware and IBM System x Server Firmware. 
The IMM replaces the Remote Supervisor Adapter and &lt;strong&gt;Baseboard Management
Controller (BMC)&lt;/strong&gt; functions on IMM-based servers.  IBM System x Server
Firmware is the IBM implementation of &lt;strong&gt;Unified Extensible Firmware
Interface (UEFI)&lt;/strong&gt;.  The &lt;em&gt;UEFI&lt;/em&gt; replaces the basic input/output system
&lt;em&gt;(BIOS)&lt;/em&gt; and defines a standard interface between the operating system,
platform firmware, and external devices.  &lt;br /&gt;
[…]&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;[6] Configure &lt;strong&gt;Boot Order&lt;/strong&gt; in &lt;strong&gt;BIOS&lt;/strong&gt; via the &lt;strong&gt;ASU&lt;/strong&gt; Tool&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 save BIOS.TXT --group all
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wc -l BIOS.TXT
88 BIOS.TXT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -i boot BIOS.TXT
CMOS_AlternateBootDevice4=Hard Disk 0
CMOS_AlternateBootDevice3=CD ROM
CMOS_AlternateBootDevice2=Diskette Drive 0
CMOS_AlternateBootDevice1=Network
CMOS_PostBootFailRequired=Enabled
CMOS_PCIBootPriority=Planar SAS
CMOS_RemoteConsoleBootEnable=Enabled
BMC_PrimaryBootDevice1=HDD0
BMC_PrimaryBootDevice2=CD-ROM
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 showvalues --setlist \
BMC_PrimaryBootDevice1 \
BMC_PrimaryBootDevice2 \
BMC_PrimaryBootDevice3 \
BMC_PrimaryBootDevice4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;BMC_PrimaryBootDevice1=Floppy Drive=iSCSI=iSCSI Critical=Network=HDD0=HDD1=HDD2=HDD3=CD-ROM
BMC_PrimaryBootDevice2=Floppy Drive=iSCSI=iSCSI Critical=Network=HDD0=HDD1=HDD2=HDD3=CD-ROM
BMC_PrimaryBootDevice3=Floppy Drive=iSCSI=iSCSI Critical=Network=HDD0=HDD1=HDD2=HDD3=CD-ROM
BMC_PrimaryBootDevice4=Floppy Drive=iSCSI=iSCSI Critical=Network=HDD0=HDD1=HDD2=HDD3=CD-ROM
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 set BMC_PrimaryBootDevice1 Network
# /opt/ibm/toolscenter/asu/asu64 set BMC_PrimaryBootDevice2 CD-ROM
# /opt/ibm/toolscenter/asu/asu64 set BMC_PrimaryBootDevice3 HDD0 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/ibm/toolscenter/asu/asu64 save BIOS_NEW.TXT --group all 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wc -l BIOS_NEW.TXT
89 BIOS_NEW.TXT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -i boot BIOS_NEW.TXT
CMOS_AlternateBootDevice4=Hard Disk 0
CMOS_AlternateBootDevice3=CD ROM
CMOS_AlternateBootDevice2=Diskette Drive 0
CMOS_AlternateBootDevice1=Network
CMOS_PostBootFailRequired=Enabled
CMOS_PCIBootPriority=Planar SAS
CMOS_RemoteConsoleBootEnable=Enabled
BMC_PrimaryBootDevice1=Network
BMC_PrimaryBootDevice2=CD-ROM
BMC_PrimaryBootDevice3=HDD0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[7] From the manual page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hosts(5)&lt;/code&gt; on RHEL 5.x:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;hosts - The static table lookup for host names  &lt;br /&gt;
This file is a simple text file that associates IP addresses with
hostnames, one line per IP address. For each host a single line should
be present with the following information:
   &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IP_address canonical_hostname [aliases...]&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;Fields of the entry are separated by any number of blanks and/or tab
characters.  Text from a “#” character until the end of the line is a
comment, and is ignored.  Host names may contain only alphanumeric
characters, minus signs (“-“), and periods (“.”).  They must begin with
an alphabetic character and end with an alphanumeric character.
Optional aliases provide for name changes, alternate spellings, shorter
hostnames, or generic hostnames (for example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;localhost&lt;/code&gt;).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[8] From the manual page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbsnodes(8)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DESCRIPTION

The pbsnodes command is used to mark nodes down, free or offline. 

It can also be used to list nodes and their state.

Node information is obtained by sending a request to the PBS job server.
Sets of nodes can be operated on at once by specifying a node property 
_prefixed_ by a _colon_.

Nodes do not exist in a single state, but actually have a set of states.

For example, a node can be simultaneously &quot;busy&quot; and &quot;offline&quot;.

The &quot;free&quot; state is the absence of all other states and 
so is never combined with other states.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[9] From the manual page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;node(7)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The current status of this node.  This attribute will be set by
xCAT software.  Valid values: defined, booting, netbooting,
booted, discovering, configuring, installing, alive, standingby,
powering-off, unreachable. If blank, defined is assumed.

The possible status change sequences are:

For installation:
defined-&amp;gt;[discovering]-&amp;gt;[configuring]-&amp;gt;[standingby]-&amp;gt;installing-&amp;gt;booting-&amp;gt;[postbooting]-&amp;gt;booted-&amp;gt;[alive],

For diskless deployment:
defined-&amp;gt;[discovering]-&amp;gt;[configuring]-&amp;gt;[standingby]-&amp;gt;netbooting-&amp;gt;[postbooting]-&amp;gt;booted-&amp;gt;[alive],

For booting:
[alive/unreachable]-&amp;gt;booting-&amp;gt;[postbooting]-&amp;gt;booted-&amp;gt;[alive],

For powering off: [alive]-&amp;gt;powering-off-&amp;gt;[unreachable],

For monitoring: alive-&amp;gt;unreachable. 

Discovering and configuring are for x Series discovery process.
Alive and unreachable are set only when there is a monitoring
plug-in start monitor the node status for xCAT.

Note that the status values will not reflect the real node
status if you change the state of the node from outside
of xCAT (i.e. power off the node using HMC GUI).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, when I used
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m nodelist.status==booting&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m nodelist.status==installing&lt;/code&gt; 
with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower boot&lt;/code&gt;, the node would sometimes got stuck in powered off state, 
and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rcons &amp;lt;nodename&amp;gt;&lt;/code&gt; would display:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;         DESTINATION BLADE IS IN POWER OFF STATE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As the output of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatprobe osdeploy -n &amp;lt;nodename&amp;gt;&lt;/code&gt; command in the first terminal; in this case, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatprobe osdeploy -n abacus109&lt;/code&gt; (after &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rpower abacus109 boot&lt;/code&gt; in the second terminal) indicated&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;... Node status is changed to powering-on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;search for &lt;em&gt;powering-on&lt;/em&gt; returned:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r -n &apos;powering-on&apos; /opt/xcat/
/opt/xcat/lib/perl/xCAT/GlobalDef.pm:52:$::STATUS_POWERING_ON  = &quot;powering-on&quot;;
/opt/xcat/lib/perl/xCAT_plugin/openbmc.pm:49:$::POWER_STATE_POWERING_ON  = &quot;powering-on&quot;;
/opt/xcat/probe/lib/perl/xCAT/GlobalDef.pm:52:$::STATUS_POWERING_ON  = &quot;powering-on&quot;;
/opt/xcat/probe/subcmds/osdeploy:1209:                } elsif ($status eq &quot;powering-on&quot;) {
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example, looking into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GlobalDef.pm&lt;/code&gt; revealed even more valid values 
for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;status&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nodelist.status&lt;/code&gt;).  One of them is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;powering-on&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n 43,63p /opt/xcat/lib/perl/xCAT/GlobalDef.pm
# valid values for nodelist.status columns or other status
$::STATUS_ACTIVE       = &quot;alive&quot;;
$::STATUS_INACTIVE     = &quot;unreachable&quot;;
$::STATUS_INSTALLING   = &quot;installing&quot;;
$::STATUS_INSTALLED    = &quot;installed&quot;;
$::STATUS_BOOTING      = &quot;booting&quot;;
$::STATUS_POSTBOOTING  = &quot;postbooting&quot;;
$::STATUS_NETBOOTING   = &quot;netbooting&quot;;
$::STATUS_BOOTED       = &quot;booted&quot;;
$::STATUS_POWERING_ON  = &quot;powering-on&quot;;
$::STATUS_POWERING_OFF = &quot;powering-off&quot;;
$::STATUS_DISCOVERING  = &quot;discovering&quot;;
$::STATUS_DISCOVERED   = &quot;discovered&quot;;
$::STATUS_CONFIGURING  = &quot;configuring&quot;;
$::STATUS_CONFIGURED   = &quot;configured&quot;;
$::STATUS_STANDING_BY  = &quot;standingby&quot;;
$::STATUS_SHELL        = &quot;shell&quot;;
$::STATUS_DEFINED      = &quot;defined&quot;;
$::STATUS_UNKNOWN      = &quot;unknown&quot;;
$::STATUS_FAILED       = &quot;failed&quot;;
$::STATUS_BMCREADY     = &quot;bmcready&quot;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[10] In this example, the blade server is &lt;strong&gt;IBM HS21&lt;/strong&gt;, whose BIOS needs 
to be setup with the following in order for SOL (Serial Over LAN) to work:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Serial Port A: Auto-configure&lt;/li&gt;
  &lt;li&gt;Serial Port B: Auto-configure&lt;/li&gt;
  &lt;li&gt;Remote Console Active: Enabled&lt;/li&gt;
  &lt;li&gt;Remote Console COM Port: COM 2&lt;/li&gt;
  &lt;li&gt;Remote Console Active After Boot: Enabled&lt;/li&gt;
  &lt;li&gt;Remote Console Flow Control: Hardware&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;[11] The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nomodeset&lt;/code&gt; fix for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;no | invalid EDID&lt;/code&gt; messages in the console:&lt;/p&gt;

&lt;p&gt;For example, if the EDID issue is happening on a node named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus211&lt;/code&gt;,
to fix it run the the following commands on the xCAT MN (Management Node), 
which in the examples on this page has an IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.220&lt;/code&gt;
(hostname &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;).  (&lt;strong&gt;Note:&lt;/strong&gt; The OS on the compute 
node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus214&lt;/code&gt; is CentOS 7 so the grub version on it is grub2.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# scp root@abacus211:/etc/default/grub /tmp/grubabacus211.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cp -i /tmp/grubabacus211.ORIG /tmp/grubabacus211.NEW
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n CMDLINE /tmp/grubabacus211.NEW
7:GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=xcatvg/root console=ttyS1,19200&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n &apos;ttyS1,19200&apos; /tmp/grubabacus211.NEW
7:GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=xcatvg/root console=ttyS1,19200&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n &apos;/ttyS1,19200/p&apos; /tmp/grubabacus211.NEW
GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=xcatvg/root console=ttyS1,19200&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n &apos;/ttyS1,19200/=&apos; /tmp/grubabacus211.NEW
7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -i.bkp &apos;s/ttyS1,19200/ttyS1,19200 nomodeset/&apos; /tmp/grubabacus211.NEW
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# diff \
--unified=0 \
/tmp/grubabacus211.NEW.bkp \
/tmp/grubabacus211.NEW
--- /tmp/grubabacus211.NEW.bkp 2022-03-20 20:59:04.966346023 -0700
+++ /tmp/grubabacus211.NEW     2022-03-20 21:00:25.710970506 -0700
@@ -7 +7 @@
-GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=xcatvg/root console=ttyS1,19200&quot;
+GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=xcatvg/root console=ttyS1,19200 nomodeset&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus211 cp /etc/default/grub /tmp/grub.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# scp /tmp/grubabacus211.NEW root@abacus211:/etc/default/grub
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus211 cat /etc/default/grub
abacus211: GRUB_TIMEOUT=5
abacus211: GRUB_DISTRIBUTOR=&quot;$(sed &apos;s, release .*$,,g&apos; /etc/system-release)&quot;
abacus211: GRUB_DEFAULT=saved
abacus211: GRUB_DISABLE_SUBMENU=true
abacus211: GRUB_TERMINAL=&quot;serial console&quot;
abacus211: GRUB_SERIAL_COMMAND=&quot;serial --unit=1 --speed=19200&quot;
abacus211: GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=xcatvg/root console=ttyS1,19200 nomodeset&quot;
abacus211: GRUB_DISABLE_RECOVERY=&quot;true&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus211 grub2-mkconfig -o /boot/grub2/grub.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus211 reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rcons abacus211
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;   Do I need to mention this method (order)?:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.mail-archive.com/xcat-user@lists.sourceforge.net/msg05288.html&quot;&gt;Re: [xcat-user] Problem with rsetboot: unable to identify plugin&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;You should do the OS deployment by following three steps:
1. nodeset &amp;lt;node&amp;gt; osimage=&amp;lt;image name&amp;gt;
2. rbootseq &amp;lt;node&amp;gt; net,hd
3. rpower &amp;lt;node&amp;gt; boot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Probably add something about &lt;strong&gt;Gaussian&lt;/strong&gt; (and &lt;strong&gt;GaussView&lt;/strong&gt;).&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Should I go into IPMI via ASU (NOT tested yet)?:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://serverfault.com/questions/60358/communicating-via-command-mode-with-ibm-hs22-imm-via-amm&quot;&gt;Communicating via Command Mode with IBM HS22 IMM via AMM&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;SUMMARY&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Should I sanitize this section, e.g.: MAC addresses?&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Optional:&lt;/em&gt;  Pre-Review:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tabdump site
# lsdef -t site -l
# lsdef -t group -l
# lsdef -t osimage -l
# lsdef -t node -l
# rpower all stat
# nodestat all
# nodels all groups

# rinv all all
# rvitals all all

# monls -a
# lsvm all
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodels
[...]               &amp;lt;-- The rest of the nodes are MM nodes (not CNs)
abacus102
abacus103
abacus105
xbcmm1n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nodestat all
[...]               &amp;lt;-- The rest of the nodes are MM nodes (not CNs)
abacus102: noping
abacus103: pbs,sshd
abacus105: noping
xbcmm1n: sshd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ping&lt;/code&gt; when it works.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ping -c2 192.168.80.6
PING 192.168.80.6 (192.168.80.6) 56(84) bytes of data.
From 192.168.80.220 icmp_seq=1 Destination Host Unreachable
From 192.168.80.220 icmp_seq=2 Destination Host Unreachable

--- 192.168.80.6 ping statistics ---
2 packets transmitted, 0 received, +2 errors, 100% packet loss, time 999ms
pipe 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  TEST JOBS   - Clean and Complete&lt;/p&gt;

&lt;p&gt;Run two test jobs, one from the CLI and the other one from WebMO.&lt;/p&gt;

&lt;p&gt;TEST JOB 1&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /home/webmo/qsub_test_abacus104
#
#
#PBS -l nodes=1:abacus104
#
sleep 120
hostname
date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /global/software/torque/x86_64/bin/qsub /home/webmo/qsub_test_abacus104
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[NOTE]&lt;/strong&gt;  &lt;br /&gt;
If you receive a “Not enough nodes available”, as shown here:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /home/webmo/bin/qsort
JobID  Jobname              User  Status  Ncpus  C_Time  CPU%  hosts
==============================================================================
[...]
290585 WebMO_285222         webmo    R      1                  abacus-203
290591 qsub_test_abacus104  root     Q                         Not enough
                                                               nodes available
==============================================================================
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;check the node’s state by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbsnodes(8B)&lt;/code&gt; command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /global/software/torque/x86_64/bin/pbsnodes -l all abacus104
abacus104            offline
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the node is in OFFLINE state, the fix is to clear OFFLINE from the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /global/software/torque/x86_64/bin/pbsnodes -c abacus104
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the node is in DOWN state, try fixing it by restarting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_mom&lt;/code&gt; service on the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus104 systemctl restart pbs_mom.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  If you are still not getting the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt; status for the compute 
           node, most likely you need to retart the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbs_server&lt;/code&gt; service 
	   on the head node; that is, on the head node:
           &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;systemctl restart pbs_server.service&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;   If no state is specified with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-l&lt;/code&gt; option in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pbsnodes&lt;/code&gt;
            command, it only lists nodes in the DOWN, OFFLINE, or UNKNOWN
	    states.  Specifying a state string acts as an output
            filter.   Valid  state  strings  are  “active”,   “all”,
            “busy”, “down”, “free”, “offline”, “unknown”, and “up”.&lt;/p&gt;

&lt;p&gt;Most likely you’ll need to delete the job&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# qdel 290591 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and re-submit it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /global/software/torque/x86_64/bin/qsub /home/webmo/qsub_test_abacus104
290592.mgmt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;:  Add the useful (currently, as of Jul 4, 2022, to be run from
             &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus.mydomain.com&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /opt/torque/sbin/momctl -f /etc/hosts -d 3

# /opt/torque/sbin/momctl -h abacus104 -d 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back on the MN (management node), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcatmn.mydomain.com&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus104 find /opt/torque/ -name &apos;*290592*&apos;
abacus104: /opt/torque/var/spool/aux/290592.mgmt
abacus104: /opt/torque/var/spool/mom_priv/jobs/290592.mgmt.SC
abacus104: /opt/torque/var/spool/mom_priv/jobs/290592.mgmt.TK
abacus104: /opt/torque/var/spool/mom_priv/jobs/290592.mgmt.JB
abacus104: /opt/torque/var/spool/spool/290592.mgmt.OU
abacus104: /opt/torque/var/spool/spool/290592.mgmt.ER
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus104 cat /opt/torque/var/spool/aux/290592.mgmt
abacus104: abacus104
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xdsh abacus104 cat /opt/torque/var/spool/mom_priv/jobs/290592.mgmt.SC
abacus104: #
abacus104: #
abacus104: #PBS -l nodes=1:abacus104
abacus104: #
abacus104: sleep 120
abacus104: hostname
abacus104: date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Go back to the PBS server machine, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus.mydomain.com&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /home/webmo/bin/qsort
JobID  Jobname              User  Status  Ncpus  C_Time  CPU%  hosts
=========================================================================
[...]
290585 WebMO_285222         webmo    R      1                  abacus-203
290592 qsub_test_abacus104  root     R      1    00:00    0%   abacus-104
=========================================================================
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After 120 seconds:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /home/webmo/bin/qsort
JobID  Jobname              User  Status  Ncpus  C_Time  CPU%  hosts
=========================================================================
[...]
290585 WebMO_285222         webmo    R      1                  abacus-203
=========================================================================
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;TEST JOB 2&lt;/p&gt;

&lt;p&gt;Log into WebMO (via Canvas: All Courses &amp;gt; CHEM WEBMO &amp;gt; Student View &amp;gt; Abacus).&lt;/p&gt;

&lt;p&gt;In WebMO Job Manager: New Job &amp;gt; Create New Job&lt;/p&gt;

&lt;p&gt;Create a simple job; for example, with seven connected C atoms.&lt;/p&gt;

&lt;p&gt;Specify a job execution node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus104&lt;/code&gt;: select Advanced tab:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Nodes : PPN : Node Type&lt;/code&gt;   &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1: 1: abacus104&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Submit the job.&lt;/p&gt;

&lt;p&gt;Go back to the PBS server machine, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abacus.mydomain.com&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /home/webmo/bin/qsort
JobID  Jobname              User  Status  Ncpus  C_Time  CPU%  hosts
=========================================================================
[...]
290585 WebMO_285222         webmo    R      1                  abacus-203
290593 WebMO_285228         webmo    R      1    00:00    0%   abacus-104
=========================================================================
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On this cluster, this job completes in 5.3 seconds.&lt;/p&gt;

&lt;p&gt;After six seconds:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /home/webmo/bin/qsort
JobID  Jobname              User  Status  Ncpus  C_Time  CPU%  hosts
=========================================================================
[...]
290585 WebMO_285222         webmo    R      1                  abacus-203
=========================================================================
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# man xcatprobe 
No manual entry for xcatprobe

# find /opt/xcat/ -iname &apos;*xcatprobe*&apos;
/opt/xcat/bin/xcatprobe
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xcatprobe -h
Usage:
xcatprobe -h
xcatprobe -l
xcatprobe [-V] &amp;lt;subcommand&amp;gt;  &amp;lt;attrbute_to_subcommand&amp;gt;

Options:
    -h : get usage information of xcatprobe
    -l : list all valid sub commands
    -V : print verbose information of xcatprobe
    -w : show each line completely. By default long lines are truncated.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xcatprobe -l
Supported sub commands are:
detect_dhcpd     detect_dhcpd can be used to detect the dhcp server in a network
                 for a specific mac address. Before using this command, install
                 &apos;tcpdump&apos; command. The operating system supported are RedHat,
                 SLES and Ubuntu.
osdeploy         Probe operating system provision process. Supports two modes -
                 &apos;Realtime monitor&apos; and &apos;Replay history&apos;.
nodecheck        Use this command to check node defintions in xCAT DB.
xcatmn           After xcat installation, use this command to check if xcat has
                 been installed correctly and is ready for use. Before using
                 this command, install &apos;tftp&apos;, &apos;nslookup&apos; and &apos;wget&apos; commands.
                 Supported platforms are RedHat, SLES and Ubuntu.
osimagecheck     Use this command to check osimage defintions in xCAT DB.
discovery        Probe for discovery process, including pre-check for required
                 configuration and realtime monitor of discovery process.
image            Use this command to check if specified diskless nodes have the
                 same images installed or if nodes are installed with the same
                 image as defined on the management node.
clusterstatus    Use this command to get node summary in the cluster.
switch_macmap    To retrieve MAC address mapping for the specified switch, or
                 all the switches defined in &apos;switches&apos; table in xCAT db.
                 Currently, this command does not support hierarchy.
code_template    This isn&apos;t a probe tool, this is just a template for sub
                 command coding. Use it to develop sub command which need to
                 cover hierarchical cluster
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# command -v tcpdump; type -a tcpdump; whereis tcpdump; which tcpdump
/usr/sbin/tcpdump
tcpdump is /usr/sbin/tcpdump
tcpdump: /usr/sbin/tcpdump /usr/share/man/man8/tcpdump.8.gz
/usr/sbin/tcpdump
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# command -v tftp; type -a tftp; whereis tftp; which tftp 
/usr/bin/tftp
tftp is /usr/bin/tftp
tftp: /usr/bin/tftp /usr/share/man/man1/tftp.1.gz
/usr/bin/tftp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# command -v nslookup; type -a nslookup; whereis nslookup; which nslookup
/usr/bin/nslookup
nslookup is /usr/bin/nslookup
nslookup: /usr/bin/nslookup /usr/share/man/man1/nslookup.1.gz
/usr/bin/nslookup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# command -v wget; type -a wget; whereis wget; which wget 
/usr/bin/wget
wget is /usr/bin/wget
wget: /usr/bin/wget /usr/share/man/man1/wget.1.gz
/usr/bin/wget
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xcatprobe detect_dhcpd -h
[...]

# xcatprobe osdeploy -h
[...]

# xcatprobe nodecheck -h
[...]

# xcatprobe xcatmn -h
[...]

# xcatprobe osimagecheck -h
[...]

# xcatprobe discovery -h
[...]

# xcatprobe image -h
[...]

# xcatprobe clusterstatus -h
[...]

# xcatprobe switch_macmap -h
[...]

# xcatprobe code_template -h
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;REFERENCES:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;(Most of references retrieved on Mar 20, 2022.)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://xcat-docs.readthedocs.io/en/latest/guides/admin-guides/manage_clusters/x86_64/index.html&quot;&gt;xCAT Documentation: Docs &amp;gt; Admin Guide &amp;gt; Manage Clusters &amp;gt; x86_64&lt;/a&gt;:
    &lt;blockquote&gt;
      &lt;p&gt;This section is not available at this time.&lt;br /&gt;
Refer to xCAT Documentation on SourceForge for information on System X servers”: &lt;br /&gt;
&lt;a href=&quot;https://sourceforge.net/p/xcat/wiki/XCAT_Documentation/&quot;&gt;https://sourceforge.net/p/xcat/wiki/XCAT_Documentation/&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://sourceforge.net/p/xcat/wiki/IBM_Blade_Center_HowTo/&quot;&gt;IBM BladeCenter HOWTO - xCAT Wiki on Sourceforge&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://download.lenovo.com/servers/mig/systems/support/system_x_pdf/installation_and_service_guide_15b_00wa645.pdf&quot;&gt;Intelligent Clusters - Installation and Service Guide&lt;/a&gt;  &amp;lt;– Has information about hardware configuration, cabling and similar.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/xcat2/xcat-core/issues/5797&quot;&gt;Connection failure: SSL connect attempt failed with unknown error error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure at /opt/xcat/lib/perl/xCAT/Client.pm line 281. #5797&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://sourceforge.net/p/xcat/wiki/IBM_Blade_Center_HowTo/&quot;&gt;IBM Blade Center HOWTO (incomplete)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://sourceforge.net/p/xcat/wiki/XCAT_Cluster_with_IBM_BladeCenter/&quot;&gt;XCAT Cluster with IBM BladeCenter&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://sourceforge.net/p/xcat/wiki/XCAT_BladeCenter_Linux_Cluster/&quot;&gt;XCAT BladeCenter Linux Cluster&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://xcat.org/files/xcat/repos/yum/xcat-dep/&quot;&gt;XCAT Dependency Packages (xcat-dep) - RPM Packages List (RHEL and SLES)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://sourceforge.net/p/xcat/wiki/Intro_to_xCAT_Tables/#xcat-tables-descriptions&quot;&gt;A Brief Introduction to some commonly used xCAT tables - xCAT Tables Descriptions&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://xcat-docs.readthedocs.io/en/latest/guides/admin-guides/references/man5/xcatdb.5.html&quot;&gt;A Complete List of xCAT Tables and Their Descriptions (An overview of the xCAT database)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://sense.net/~egan/xcat/doc/xcat-mini-HOWTO.html&quot;&gt;xCAT Mini HOWTO (WIP)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://sense.net/~egan/xcat/doc/xcat-HOWTO.html&quot;&gt;xCAT HOWTO for Red Hat Linux&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://sense.net/~egan/xcat/doc/susemgtnode-HOWTO.html&quot;&gt;xCAT susemgtnode-HOWTO for SuSE Linux&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://sense.net/~egan/xcat/doc/stage1-HOWTO.html&quot;&gt;xCAT Stage1 HOWTO (WIP)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://sense.net/~egan/xcat/doc/nodeinstall-HOWTO.html&quot;&gt;xCAT Node Installation HOWTO (WIP)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://sourceforge.net/p/xcat/wiki/The_location_of_synclist_file_for_updatenode_and_install_process/&quot;&gt;The location of synclist file for updatenode and install process - xCAT Wiki on SourceForge&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.redbooks.ibm.com/redbooks/pdfs/sg247034.pdf&quot;&gt;IBM E server BladeCenter, Linux, and Open Source (IBM Redbooks)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ibm.com/support/pages/node/821662&quot;&gt;Installation and User’s Guide - IBM BladeCenter HS21&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://toolscenter.lenovofiles.com/help/index.jsp?topic=%2Ftoolsctr%2Fasu_main.html&quot;&gt;Advanced Settings Utility - Lenovo ToolCenter&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.hs21.doc/hs21_install_ug.pdf&quot;&gt;IBM BladeCenter HS21 - Installation and User’s Guide&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.bladecenter.hs21.doc%2Fbls_hs21_product_page.html&amp;amp;cp=0_6_2&quot;&gt;IBM BladeCenter HS21 Documentation&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.hs21.doc/hs21_pdguide.pdf&quot;&gt;Troubleshooting the HS21 Blade Server - BladeCenter HS21 Problem Determination and Service Guide&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.mgtmod.doc/mgt_mod_product_page.html?cp=0_5_2&quot;&gt;IBM Management Module (MM) Documentation&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.mgtmod.doc/d3sdems4.pdf&quot;&gt;IBM BladeCenter Management Module (MM) Installation Guide&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.mgtmod.doc/44R5370.pdf&quot;&gt;IBM BladeCenter Management Module (MM) User’s Guide&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.mgtmod.doc/44R5372.pdf&quot;&gt;IBM BladeCenter Management Module (MM) Command-Line Interface (CLI) Reference Guide&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.advmgtmod.doc/kp1bd_pdf.pdf&quot;&gt;BladeCenter SOL (Serial over LAN) Setup Guide - IBM Corporation, Twelfth Edition (November 2009)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/TORQUE&quot;&gt;TORQUE (a.k.a. TORQUE Resource Manager)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.adaptivecomputing.com/torque/5-1-2/torqueAdminGuide-5.1.2.pdf&quot;&gt;TORQUE Resource Manager - Adminstrator Guide 5.1.2 - November 2015 - Revised April 1, 2016&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/adaptivecomputing/torque&quot;&gt;Torque Repository - GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://openpbs.org/&quot;&gt;OpenPBS Open Source Project&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/openpbs/openpbs&quot;&gt;OpenPBS Open Source - Source Code on GitHub - An HPC workload manager and job scheduler for desktops, clusters, and clouds&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://insidehpc.com/2016/05/an-open-letter-to-the-hpc-community/&quot;&gt;PBS Professional released under an open source license - An Open Letter to the HPC Community - Bill Nitzberg, CTO, Altair - Mar 3, 2016&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;We are joining the &lt;a href=&quot;http://openhpc.community/&quot;&gt;OpenHPC project&lt;/a&gt; with PBS Pro.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://openpbs.atlassian.net/wiki/spaces/PBSPro/blog/2016/05/03/7274507/An+Open+Letter+to+the+HPC+Community&quot;&gt;An Open Letter to the HPC Community - Archived in OpenPBS Wiki - Atlassian Confluence Wiki)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20151114032509/http://www.pbsworks.com/pdfs/PBSProQuickStartGuide13.0.pdf&quot;&gt;PBS Professional 13.0 - Quick Start Guide - Archived from the original on Nov 14, 2015&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20160417152443/http://www.pbsworks.com/pdfs/PBSInstallGuide13.0.pdf&quot;&gt;PBS Professional 13.0 Installation and Upgrade Guide - archived from the original on Apr 17 2016&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20151120150321/http://www.pbsworks.com/pdfs/PBSProRefGuide13.0.pdf&quot;&gt;PBS Professional 13.0 Reference Guide - archived from the original on Nov 20, 2015&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://pbspro.atlassian.net/wiki&quot;&gt;OpenPBS - Contributors Portal aka Wiki - As of Sep 12, 2024 hosted in three Confluence Spaces: Developer Guide, OpenPBS, Project Documentation&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://openpbs.atlassian.net/wiki/spaces/PBSPro/overview&quot;&gt;OpenPBS (Confluence Space)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;About PBS&lt;/p&gt;

      &lt;p&gt;PBS Professional software optimizes job scheduling and workload management in high-performance computing (HPC) environments – clusters, clouds, and supercomputers – improving system efficiency and people’s productivity. Built by HPC people for HPC people, PBS Pro™ is fast, scalable, secure, and resilient, and supports all modern infrastructure, middleware, and applications.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://openpbs.atlassian.net/wiki/spaces/PD/overview&quot;&gt;PBS Pro - Project Documentation&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://openhpc.community/&quot;&gt;OpenHPC - Community building blocks for HPC systems&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Job_scheduler&quot;&gt;Job scheduler - Batch queuing for HPC clusters (Job scheduler)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Job_queue&quot;&gt;Job queue&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ibm.com/docs/en/i/7.1?topic=concepts-job-queues&quot;&gt;Job queues (www.ibm.com - IBM Docs)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.redhat.com/en/blog/converting-traditional-sysv-init-scripts-red-hat-enterprise-linux-7-systemd-unit-files&quot;&gt;Converting traditional sysV init scripts to Red Hat Enterprise Linux 7 systemd unit files - RedHat Blog&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/SysVinit&quot;&gt;SysVinit - archlinux Wiki&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.webmo.net/&quot;&gt;WebMO&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://access.redhat.com/solutions/1543343&quot;&gt;PolicyKit failing to start with error: polkit.service: main process exited, code=exited, status=1/FAILURE&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://superuser.com/questions/640338/how-to-reset-a-broken-tty&quot;&gt;How to reset a broken TTY? - Super User&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.mst.edu/~vojtat/pegasus/administration.htm&quot;&gt;How to build a diskless Linux cluster?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://thomasvojta.com/pegasus/overview/layout.htm&quot;&gt;Cluster Layout - Pegasus IV Computing Cluster&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://thomasvojta.com/pegasus/usage/serial_jobs.htm&quot;&gt;Serial jobs - Pegasus IV Computing Cluster&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Submitting a job&lt;/p&gt;

      &lt;p&gt;You are not supposed to run your code on the cluster server, and you are not supposed to log into the compute nodes directly. So, how to use the cluster?&lt;/p&gt;

      &lt;p&gt;The answer is the resource manager (a.k.a. batch system) Torque. In short, to obtain computational resources (such as a certain number of CPUs), you send your request to Torque. Torque puts your request into a waiting queue, and as soon the requested resources are available somewhere in the Pegasus IV cluster, your computation starts.&lt;/p&gt;

      &lt;p&gt;There are two types of Torque jobs, interactive jobs and batch jobs. To submit a request for an interactive job, simply type:&lt;/p&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qsub -I&lt;/code&gt;&lt;/p&gt;

      &lt;p&gt;and as soon as a machine is available you’ll get interactive access to it. For you as a user, it will look as if you are directly logged into a cluster node.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://thomasvojta.com/pegasus/
usage/parallel_jobs.htm&quot;&gt;Parallel Jobs - Pegasus IV Computing Cluster&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Submitting a parallel job&lt;/p&gt;

      &lt;p&gt;Similar to serial jobs, parallel jobs can be started interactively or submitte
d to the batch queue. To start a parallel job interactively, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qsub -
I&lt;/code&gt; but you need to specify how many processors you wish to use.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Computer_cluster&quot;&gt;Computer cluster - Wikipedia&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://kitson-consulting.co.uk/blog/building-linux-cluster-using-pxe-dhcp-tftp-and-nfs&quot;&gt;Building a Linux cluster using PXE, DHCP, TFTP and NFS&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;By Pete Donnell, 2016-07-02&lt;/p&gt;

      &lt;p&gt;Building a small Linux cluster is a lot simpler than I thought it would be. That said, there are a number of snags and pitfalls along the way, and it’s hard to find a comprehensive and up to date set of instructions online. There are also different approaches, either doing everything manually or using a system such as LTSP. This post describes my experiences setting up a cluster manually.&lt;/p&gt;

      &lt;p&gt;Warning: This is a long post! The steps are all relatively simple but there are a lot of them.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Thu, 12 Sep 2024 20:32:08 -0700</pubDate>
        <link>http://localhost:4000/hpc/server/hardware/sysadmin/automation/configmanagement/howto/vm/virtualization/qemu/kvm/cli/terminal/shell/linux/unix/networking/2024/09/12/hpc-torque-pbs-xcat-psh.html</link>
        <guid isPermaLink="true">http://localhost:4000/hpc/server/hardware/sysadmin/automation/configmanagement/howto/vm/virtualization/qemu/kvm/cli/terminal/shell/linux/unix/networking/2024/09/12/hpc-torque-pbs-xcat-psh.html</guid>
        
        
        <category>hpc</category>
        
        <category>server</category>
        
        <category>hardware</category>
        
        <category>sysadmin</category>
        
        <category>automation</category>
        
        <category>configmanagement</category>
        
        <category>howto</category>
        
        <category>vm</category>
        
        <category>virtualization</category>
        
        <category>qemu</category>
        
        <category>kvm</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>linux</category>
        
        <category>unix</category>
        
        <category>networking</category>
        
      </item>
    
      <item>
        <title>Why Does My Program Display Some Characters as Square (Tofu)?</title>
        <description>&lt;p&gt;a.k.a. Why does my editor display some characters as square (tofu)?&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;tldr&quot;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;Typically that means that the character is not recognized by the font; that is, the font does not include a glyph for that character.&lt;/p&gt;

&lt;p&gt;The idiom: the font is missing a glyph.&lt;/p&gt;

&lt;p&gt;(The no-break space sign forces clients to &lt;strong&gt;not&lt;/strong&gt; break the line at this space, usually to improve readability.)&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;terminology&quot;&gt;Terminology&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Square, Square symbol, Tofu, Tofubake, Replacement glyph ( &lt;a href=&quot;http://unicode.org/glossary/#replacement_glyph&quot;&gt;The Unicode standard&lt;/a&gt; ), Glyph not available, Hexagana, Rectangle, Missing glyph square, Glyph replacement, Font fallback box glyph, Glyphlessness, Failure glyph&lt;/li&gt;
  &lt;li&gt;トーフ, トーフ化け, 豆腐化け, 文字化け&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;More:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://english.stackexchange.com/questions/62524/what-do-you-call-the-phenomenon-where-a-rectangle-is-shown-because-a-font-lack&quot;&gt;What do you call the phenomenon where a rectangle □ is shown because a font lacks a glyph?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://english.stackexchange.com/questions/296505/where-is-tofu-for-font-fallback-box-glyph-coming-from&quot;&gt;Where is “tofu” for “font fallback box glyph” coming from?&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;OS: &lt;em&gt;FreeBSD 14&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version 
14.0-RELEASE-p6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shell: &lt;em&gt;csh&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ps $$
  PID TT  STAT    TIME COMMAND
69641 19  Ss   0:00.95 -csh (csh)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match 0xProto
0xProto-Regular.otf: &quot;0xProto&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fa 0xProto -fs 12 -geometry 20x4+200+20 -bg black -fg white
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vi hello.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Hello, world!
~
~

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/nbsp-0xProto-font.jpg&quot; alt=&quot;The 0xProto font displays NBSP as a square&quot; title=&quot;The 0xProto font displays NBSP as a square&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Figure:&lt;/em&gt; The 0xProto font displays NBSP as a square.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% hexdump &amp;lt; hello.txt
0000000 6548 6c6c 2c6f a0c2 6f77 6c72 2164 000a
000000f
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% hexdump -C &amp;lt; hello.txt
00000000  48 65 6c 6c 6f 2c c2 a0  77 6f 72 6c 64 21 0a     |Hello,..world!.|
0000000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% hd &amp;lt; hello.txt
00000000  48 65 6c 6c 6f 2c c2 a0  77 6f 72 6c 64 21 0a     |Hello,..world!.|
0000000f
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -ac &amp;lt; hello.txt
0000000    H   e   l   l   o   ,  c2  a0   w   o   r   l   d   !  nl    
           H   e   l   l   o   ,      **   w   o   r   l   d   !  \n    
0000017
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/nbsp-od-ac-0xProto-font.jpg&quot; alt=&quot;The od(1) utility output: named characters and C-style escaped characters&amp;quot;)&quot; title=&quot;The 0xProto font displays NBSP as a square - od(1) utility output: named characters and C-style escaped characters&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Figure:&lt;/em&gt; The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od(1)&lt;/code&gt; utility output: named characters and C-style escaped characters.&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od(1)&lt;/code&gt; on FreeBSD 14:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-N length  Dump at most length bytes of input.
-H, -X     Output hexadecimal ints.  Equivalent to -t x4.
-h, -x     Output hexadecimal shorts.  Equivalent to -t x2.

Dump stdin skipping the first 13 bytes using named characters and dumping
no more than 5 bytes:

     $ echo &quot;FreeBSD: The power to serve&quot; | od -An -a -j 13 -N 5
                p   o   w   e   r
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 8 -t a -c &amp;lt; hello.txt
0000000    H   e   l   l   o   ,  c2  a0                                
           H   e   l   l   o   ,      **                                
0000010
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dump the file skipping the first 6 bytes using named characters and dumping no more than 2 bytes:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -j 6 -N 2 -t a -c &amp;lt; hello.txt
0000006   c2  a0                                                        
              **                                                        
0000010
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -j 6 -N 2 -t a -c -H &amp;lt; hello.txt
0000006   c2  a0                                                        
              **                                                        
                 0000a0c2                                                
0000010
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -j 6 -N 2 -t a -c -h &amp;lt; hello.txt
0000006   c2  a0                                                        
              **                                                        
             a0c2                                                        
0000010
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -j 6 -N 2 -ab &amp;lt; hello.txt
0000006   c2  a0                                                        
          302 240                                                        
0000010
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | od -a
0000000   c2  a0                                                        
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | od -c
0000000       **                                                        
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | od -ac
0000000   c2  a0                                                        
              **                                                        
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | iconv -t utf16
���% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/nbsp-printf-octal-iconv.jpg&quot; alt=&quot;&amp;quot;NBSP: iconv(1) utility output in UTF-16 codeset&amp;quot;&quot; title=&quot;NBSP: iconv(1) utility output in UTF-16 codeset&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Figure:&lt;/em&gt; The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt; utility output in UTF-16 codeset.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &apos;\302\240&apos; | uchardet
UTF-8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &apos;\302\240&apos; | iconv -t utf16 | uchardet
UTF-16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &apos;\302\240&apos; | iconv -t utf16 | od -ac
0000000   fe  ff nul  a0                                                
         376 377  \0 240                                                
0000004
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | iconv -t utf16 | hexdump -C
00000000  fe ff 00 a0                                       |....|
00000004
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, Unicode number for NBSP (aka NBSP in Unicode) is:  &lt;strong&gt;00A0&lt;/strong&gt; (or &lt;strong&gt;U+00A0&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;NOTE: To get the value in UTF-8:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | iconv -t utf8 | hexdump -C
00000000  c2 a0                                             |..|
00000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: Alternatively, to get the Unicode number, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uniname&lt;/code&gt; from the package &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uniutils&lt;/code&gt; on FreeBSD 14:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | uniname
No LINES variable in environment so unable to determine lines per page.
Using default of 24.
character  byte       UTF-32   encoded as     glyph   name
        0          0  0000A0   C2 A0                  NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; | env LINES=0 uniname
character  byte       UTF-32   encoded as     glyph   name
        0          0  0000A0   C2 A0                  NO-BREAK SPACE

% printf &apos;\302\240&apos; | env LINES=1 uniname
        0          0  0000A0   C2 A0                  NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;what-is-the-unicode-name-represented-by-its-unicode-number&quot;&gt;What is the Unicode Name Represented by Its Unicode Number&lt;/h3&gt;

&lt;p&gt;aka What is the Unicode symbol represented by a Unicode pattern?&lt;/p&gt;

&lt;p&gt;Download Perl &lt;strong&gt;uni&lt;/strong&gt; script from leahneukirchen (Leah Neukirchen).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch https://leahneukirchen.org/dotfiles/bin/uni
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file uni 
uni: Perl script text executable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh uni 
-rw-r--r--  1 dusko dusko  1.0K Nov 16  2020 uni
 
% chmod 0744 uni
 
% mv uni uni.pl

% ls -lh uni.pl 
-rwxr--r--  1 dusko dusko  1.0K Nov 16  2020 uni.pl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% head -1 uni.pl
#!/usr/bin/perl -CAO
 
% ls -lh /usr/bin/perl
ls: /usr/bin/perl: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v perl ; type perl ; which perl ; whereis perl
/usr/local/bin/perl
perl is /usr/local/bin/perl
/usr/local/bin/perl
perl: /usr/local/bin/perl /usr/local/lib/perl5/5.36/perl/man/man1/perl.1.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n bin uni.pl 
1:#!/usr/bin/perl -CAO
 
% sed -n &apos;/bin/p&apos; uni.pl
#!/usr/bin/perl -CAO
 
% sed -n &apos;/bin/=&apos; uni.pl
1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i&apos;.SEDBAK&apos; &apos;s/bin/local\/bin/&apos; uni.pl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 uni.pl.SEDBAK uni.pl
--- uni.pl.SEDBAK       2024-08-11 16:20:42.079037000 -0700
+++ uni.pl      2024-08-11 16:21:00.908762000 -0700
@@ -1 +1 @@
-#!/usr/bin/perl -CAO
+#!/usr/local/bin/perl -CAO
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl 00A0                                                                
        00A0    NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;uniutils&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uniutils&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Install &lt;strong&gt;uniutils&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install uniutils
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Description of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uniutils&lt;/code&gt; package and its home page.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query %c uniutils
Unicode Description Utilities

% pkg query %w uniutils
https://billposer.org/Software/unidesc.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all files for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uniutils&lt;/code&gt; packages.
There are eight binaries.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query %Fp uniutils | wc -l
      31

% pkg query %Fp uniutils | grep bin
/usr/local/bin/ExplicateUTF8
/usr/local/bin/unidesc
/usr/local/bin/unifuzz
/usr/local/bin/unihist
/usr/local/bin/uniname
/usr/local/bin/unireverse
/usr/local/bin/unisurrogate
/usr/local/bin/utf8lookup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\302\240&apos; &amp;gt; chrname
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uniname chrname
No LINES variable in environment so unable to determine lines per page.
Using default of 24.
character  byte       UTF-32  encoded as   glyph   name
        0          0  0000A0  C2 A0                NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uniname -r chrname
No LINES variable in environment so unable to determine lines per page.
Using default of 24.
character  byte       UTF-32  encoded as   glyph   range               name
        0          0  0000A0  C2 A0                Latin-1 Supplement  NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ExplicateUTF8 chrname
The sequence 0xC2     0xA0     
             11000010 10100000 
is a valid UTF-8 character encoding equivalent to UTF32 0x000000A0.
The first byte tells us that there should be 1
continuation bytes since it begins with 2 contiguous 1s.
There are 1 following bytes and all are valid
continuation bytes since they all have high bits 10.
The first byte contributes its low 5 bits.
The remaining bytes each contribute their low 6 bits,
for a total of 11 bits: 00010 100000 
This is padded to 32 places with 21 zeros: 0000000000000000000000000000000000000000000000000000000010100000
                                           0   0   0   0   0   0   A   0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% utf8lookup 0000A0
No LINES variable in environment so unable to determine lines per page.
Using default of 24.
UTF-32   name
0000A0  NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% utf8lookup 00A0
No LINES variable in environment so unable to determine lines per page.
Using default of 24.
UTF-32   name
0000A0  NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% unisurrogate 
Given a Unicode codepoint outside the BMP, report its surrogate decomposition
The codepoint may be given in raw hex or preceded by either U+ or 0x
Usage: unisurrogate [options] codepoint
       -h Print help information.
       -v Print version information.

Report bugs to: billposer@alum.mit.edu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% unisurrogate 0x00A0
The codepoint U+00a0 falls within plane 0.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;xkbcli-how-to-type1&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xkbcli-how-to-type(1)&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% /usr/local/libexec/xkbcommon/xkbcli-how-to-type 0x00a0 | grep keysym | cut -w -f2
nobreakspace
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For more, see Footnote 2. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;xxd1&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xxd chrname
00000000: c2a0                                     ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xxd -p chrname
c2a0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;vim1&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vim(1)&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vim chrname
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Inside the file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 
~
~
&quot;chrname&quot; [noeol] 1L, 2B
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print the ascii value of the character under the cursor in decimal, hexadecimal and octal. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;While in the file you’ve opened with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vim(1)&lt;/code&gt;, move the cursor to the first character on the first line, and then press &lt;strong&gt;ga&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;The status line changes to:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt; &amp;gt; 160, Hex 00a0, Oct 240, Digr NS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, instead of &lt;strong&gt;ga&lt;/strong&gt;, enter the command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;:ascii
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The status line updates to:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt; &amp;gt; 160, Hex 00a0, Oct 240, Digr NS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;perl&quot;&gt;Perl&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -E &apos;my $x = &quot;A\N{NO-BREAK SPACE}C&quot;; $x =~ s/\x{00A0}/ /g; say $x&apos; | hexdump -C
00000000  41 20 43 0a                                       |A C.|
00000004
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -E &apos;my $x = &quot;\N{NO-BREAK SPACE}&quot;; say $x&apos; | hexdump -C
00000000  a0 0a                                             |..|
00000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;fontconfig-fc--commands&quot;&gt;Fontconfig &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-&lt;/code&gt; Commands&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match 0xProto
0xProto-Regular.otf: &quot;0xProto&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match -v 0xProto | wc -l
      55
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match -v 0xProto | grep file
        file: &quot;/home/dusko/.fonts/0xProto-Regular.otf&quot;(s)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /home/dusko/.fonts/0xProto-Regular.otf
-rw-r--r--  1 dusko dusko   37K Dec 17  2023 /home/dusko/.fonts/0xProto-Regular.otf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file /home/dusko/.fonts/0xProto-Regular.otf
/home/dusko/.fonts/0xProto-Regular.otf: OpenType font data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-query /home/dusko/.fonts/0xProto-Regular.otf | wc -l
      40
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-query --brief /home/dusko/.fonts/0xProto-Regular.otf | wc -l
      29
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa 0xProto
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-start number&lt;/code&gt; (first character to show) option.&lt;/p&gt;

&lt;p&gt;First, you need to convert hex do decimal:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %d\\n &quot;0x00A0&quot;
160
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa 0xProto -start 160
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Individual character metrics (index, width, bearings, ascent and
descent) can be displayed at the top of the window by clicking on the
desired character.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa 0xProto -start 160 -rows 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Click on the first character (first box).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/nbsp-xfd-one-row-0xProto-font.jpg&quot; alt=&quot;&amp;quot;NBSP: xfd(1) utility with 0xProto font displayed&amp;quot;&quot; title=&quot;NBSP: xfd(1) utility output with 0xProto font displayed&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Figure:&lt;/em&gt; The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd(1)&lt;/code&gt; utility output with font &lt;em&gt;0xProto&lt;/em&gt; displayed.&lt;/p&gt;

&lt;p&gt;For the selected character, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd(1)&lt;/code&gt; shows &lt;em&gt;no such character 0x0000a0 (0,160) (0,0240)&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Convert from hex 0x0000a0 to decimal.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %d\\n &quot;0x0000a0&quot;
160
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Convert from hex 0x0000a0 to octal.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %o\\n &quot;0x0000a0&quot;
240
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explanation:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;em&gt;no such character&lt;/em&gt;: 0xProto font doesn’t have a symbol for Unicode U+00A0&lt;/li&gt;
  &lt;li&gt;0x0000a0: hexadecimal&lt;/li&gt;
  &lt;li&gt;(0,160): decimal&lt;/li&gt;
  &lt;li&gt;(0,0240): octal&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;tools&quot;&gt;Tools&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump(1)&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hd(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uchardet(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni&lt;/code&gt; Perl script  (from https://leahneukirchen.org/dotfiles/bin/uni)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-query(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd(1)&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni&lt;/code&gt; [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ftfy&lt;/code&gt; [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.russellcottrell.com/greek/utilities/unicode_font_utilities.zip&quot;&gt;Unicode font utilities - Russell W. Cottrell&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Includes:&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;
          &lt;p&gt;&lt;em&gt;The Unicode Range Viewer&lt;/em&gt;
Displays 16×16 blocks of Unicode characters, with both hex and decimal codes.
You choose the Unicode range and the font, bold or italic.
It is useful for finding characters and exploring the ranges and apperance of different fonts.
It also works as a universal virtual keyboard; go to any code page and click a character to create text, then convert it to HTML or JavaScript code if desired.
You can find a code block by entering a Unicode character, or selecting a block from the list.
If you choose a font, only the characters in that font are displayed.&lt;/p&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;p&gt;&lt;em&gt;The Surrogate Pair Calculator etc.&lt;/em&gt;
Calculates the surrogate pairs for high-bit supplemental plane values, the scalar value for a surrogate pair, or both for a supplemental plane character.
Also includes the algorithms and sample code for converting to and from surrogate pairs.&lt;/p&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;p&gt;&lt;em&gt;The Polytonic Greek Virtual Keyboard&lt;/em&gt;
Allows you to type Unicode Greek characters via the keyboard.
Also converts text to either HTML or JavaScript code characters.&lt;/p&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;p&gt;&lt;em&gt;The Greek Number Converter&lt;/em&gt;
Converts numbers to the alphabetic Greek format.
The only converter of its type that I know of.&lt;/p&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man -k unicode | wc -l
      51
 
% man -k unicode 
gencfu(1) - Generates Unicode Confusable data files
icuexportdata(1) - Writes text files with Unicode properties data from ICU.
luit(1) - Locale and ISO 2022 support for Unicode terminals
perlunicode(1) - Unicode support in Perl
perlunicook(1) - cookbookish examples of handling Unicode in Perl
perlunifaq(1) - Perl Unicode FAQ
perluniintro(1) - Perl Unicode introduction
perluniprops(1) - Index of Unicode Version 14.0.0 character properties in Perl
perlunitut(1) - Perl Unicode Tutorial
uxterm(1) - X terminal emulator for Unicode (UTF-8) environments
xkbcli-how-to-type, xkbcli how-to-type(1) - query how to type a given Unicode codepoint
charnames(3) - access to Unicode character names and named character sequences; also define character names
Encode::Unicode(3) - Various Unicode Transformation Formats

[ . . . ]

unicrud(6) - Bounces a random Unicode character on the screen.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On FreeBSD 14:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% locate charnames
/usr/local/lib/perl5/5.30/_charnames.pm.pkgsave
/usr/local/lib/perl5/5.30/charnames.pm.pkgsave
/usr/local/lib/perl5/5.30/perl/man/man3/charnames.3.gz.pkgsave
/usr/local/lib/perl5/5.36/_charnames.pm
/usr/local/lib/perl5/5.36/charnames.pm
/usr/local/lib/perl5/5.36/perl/man/man3/charnames.3.gz
 
% ls -lh /usr/local/lib/perl5/5.36/charnames.pm
-r--r--r--  1 root wheel   21K Feb 17 17:16 /usr/local/lib/perl5/5.36/charnames.pm
 
% ls -lh /usr/local/lib/perl5/5.36/_charnames.pm
-r--r--r--  1 root wheel   35K Feb 17 17:16 /usr/local/lib/perl5/5.36/_charnames.pm
 
% file /usr/local/lib/perl5/5.36/charnames.pm
/usr/local/lib/perl5/5.36/charnames.pm: Perl5 module source, Unicode text, UTF-8 text
 
% file /usr/local/lib/perl5/5.36/_charnames.pm
/usr/local/lib/perl5/5.36/_charnames.pm: Perl5 module source, ASCII text

% wc -l /usr/local/lib/perl5/5.36/charnames.pm
     510 /usr/local/lib/perl5/5.36/charnames.pm
 
% wc -l /usr/local/lib/perl5/5.36/_charnames.pm
     884 /usr/local/lib/perl5/5.36/_charnames.pm
 
% grep -i A0 /usr/local/lib/perl5/5.36/charnames.pm
 
% grep -i A0 /usr/local/lib/perl5/5.36/_charnames.pm
  my $nbsp = chr utf8::unicode_to_native(0xA0);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v unicrud; type unicrud; which unicrud; whereis unicrud
unicrud: not found
unicrud: Command not found.
unicrud: /usr/local/share/man/man6/unicrud.6.gz
 
% locate unicrud
/usr/local/bin/xscreensaver-hacks/unicrud
/usr/local/share/man/man6/unicrud.6.gz
/usr/local/share/xscreensaver/config/unicrud.xml

% /usr/local/bin/xscreensaver-hacks/unicrud --help
Unicrud: from the XScreenSaver 6.08 distribution (10-Oct-2023)

        https://www.jwz.org/xscreensaver/

Options include: --root, --window, --mono, --install, --noinstall, 
                 --visual &amp;lt;arg&amp;gt;, --window-id &amp;lt;arg&amp;gt;, --fps, --no-fps, --pair, 
                 --spin, --no-spin, --wander, --no-wander, --speed &amp;lt;arg&amp;gt;, 
                 --block &amp;lt;arg&amp;gt;, --titles, --no-titles, --delay &amp;lt;arg&amp;gt;, 
                 --font &amp;lt;arg&amp;gt;.

% /usr/local/bin/xscreensaver-hacks/unicrud
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Aug 11, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.unicode.org/help/display_problems.html&quot;&gt;Display Problems? - Unicode.org&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Lack of Font Support&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;Most operating systems include fonts that provide extensive coverage of Unicode characters, and most applications know how to make use of the system fonts.
There may be gaps, however.&lt;/p&gt;

      &lt;p&gt;When Unicode text is displayed but there is a lack of font support for some characters in the text, the typical symptom is appearance of special character-not-supported or &lt;strong&gt;“tofu” glyphs&lt;/strong&gt;.
(Font vendors often refer to such glyphs as “.notdef” glyphs.)
Often, this will look like a white &lt;strong&gt;square box&lt;/strong&gt; (like &lt;em&gt;a piece of tofu&lt;/em&gt;), or a box containing a question mark or diagonals.
Some applications generate a &lt;strong&gt;fallback glyph&lt;/strong&gt; that shows the &lt;em&gt;code point for the character&lt;/em&gt;.&lt;/p&gt;

      &lt;p&gt;&lt;img src=&quot;/assets/img/notdef_glyphs.png&quot; alt=&quot;Square box or &amp;quot;tofu&amp;quot; when Unicode text is displayed but there is a lack of font support for some characters in the text&quot; title=&quot;Square box or &amp;quot;tofu&amp;quot; when Unicode text is displayed but there is a lack of font support for some characters in the text&quot; /&gt;&lt;/p&gt;

      &lt;p&gt;Other symbols might also be used.
Sometimes, there might &lt;em&gt;just be blank space&lt;/em&gt;.&lt;/p&gt;

      &lt;p&gt;When this occurs, the underlying issue is most likely to be one of the following:&lt;/p&gt;

      &lt;ul&gt;
        &lt;li&gt;The product might not yet have been updated to support characters added in the most recent versions of the Unicode Standard.&lt;/li&gt;
        &lt;li&gt;An operating system might have font support, but an application running on that OS might have its own font selection or fallback logic that is not up to date with what’s available in the latest version of the OS.
Due to limited storage (especially on mobile devices) or other such factors, a vendor might decide not to include font support for less-frequently-used characters.&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;If you encounter this issue and have access to a font that does support the characters in the text, you may be able to work around the issue if the application provides a way for you to indicate that the text should be displayed with that font. In apps that support text editing, there will usually be a way to select the font used to display the text. In some cases, the app might not accept the font you select; if that happens, contact the app vendor for help.&lt;/p&gt;

      &lt;p&gt;In apps that are not text editors, getting your custom font used might require tailoring of font fallback logic used by the app. That is not a commonly-available feature. Contact the vendor to see if that is possible, or to report the gap in font support in their app.&lt;/p&gt;

      &lt;p&gt;If this issue occurs with Web content, it is likely that the content author has assumed that an appropriate font can be supplied by the browser or by the host OS the browser is running on. A better approach is for the content to use CSS Web fonts to control what fonts are used to display the content. Contact the content author to suggest that option.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://english.stackexchange.com/questions/296505/where-is-tofu-for-font-fallback-box-glyph-coming-from&quot;&gt;Where is “tofu” for “font fallback box glyph” coming from?&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Tofu:&lt;/strong&gt;&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;Slang for the empty boxes shown in place of undisplayable code points in computer character encoding, a form of mojibake&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;&lt;strong&gt;Mojibake&lt;/strong&gt; (文字化け?) (IPA: [mod͡ʑibake]; lit. “character transformation”):&lt;/p&gt;
      &lt;ul&gt;
        &lt;li&gt;from the Japanese 文字 (moji) “character” + 化け (bake, pronounced “bah-keh”) “transform”, is the garbled text that is the result of text being decoded using an unintended character encoding. The result is a systematic replacement of symbols with completely unrelated ones, often from a different writing system.&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;(Wikipedia)&lt;/p&gt;

      &lt;p&gt;Commented on Jun 8, 2016: “Tofu” (display of a .notdef glyph or equivalent) is &lt;em&gt;distinct&lt;/em&gt; from “mojibake” (display of a completely inappropriate glyph). - user7318&lt;/p&gt;

      &lt;p&gt;&lt;a href=&quot;https://english.stackexchange.com/questions/296505/where-is-tofu-for-font-fallback-box-glyph-coming-from/352613#352613&quot;&gt;Comment by Matthew Christian on Oct 10, 2016&lt;/a&gt;:
Displaying the hex codes of a glyphless character in a bordered or borderless rectangular space long predates the use of the slang “tofu”. The technique originated in late 1990 with the OS/2 1-2-3/G team at Lotus Development Corporation while internationalizing the product for Japan. At that time it was referred to as “hexagana”.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://english.stackexchange.com/questions/62524/what-do-you-call-the-phenomenon-where-a-rectangle-is-shown-because-a-font-lack&quot;&gt;What do you call the phenomenon where a rectangle □ is shown because a font lacks a glyph?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://unicode.org/glossary/#replacement_glyph&quot;&gt;Replacement glyph - The Unicode standard&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/nicolas-raoul/Antisquare&quot;&gt;Antisquare - Dynamically find the right font to avoid missing glyphs (aka glyphlessness, replacement glyph, missing glyph squares, tofu, tofubake, トーフ, トーフ化け, 豆腐化け, 文字化け) &lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/31208925/why-sometimes-nbsp-displays-as-a-square&quot;&gt;Why sometimes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;nbsp;&lt;/code&gt; displays as a square? - Stack Overflow&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://askubuntu.com/questions/1103560/only-squares-instead-of-letters-and-numbers-are-displayed-in-my-calculator-and-o&quot;&gt;Only squares instead of letters and numbers are displayed in my calculator and other apps in Ubuntu 18.04&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://old.reddit.com/r/typography/comments/94ptsn/fonts_that_display_foreign_characters_as_square/&quot;&gt;Fonts that display foreign characters as square boxes (reddit - self.typography)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Different fonts support different numbers of additional Unicode, so you can’t really tell unless it’s mentioned in the dev notes.
There are a few good fonts that support many Unicode- in fact Google Noto was designed for this.
“Noto” stands for No Tofu, which is the name for the little squares you mentioned.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://type.today/en/journal/spaces&quot;&gt;Manual: Spaces - type.today&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Whitespace is the most invisible and, arguably, the most important of typographic elements.
There are no less than ten whitespace characters in Latin and Cyrillic typography - and here’s what they are, when to use them, and how to find them.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://vi.stackexchange.com/questions/555/see-the-unicode-code-point-of-the-current-character/560#560&quot;&gt;See the Unicode code point of the current character - Vi and Vim StackExchange&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Another way is to use ga or the :ascii command. From :help ga:

:as[cii]        or                                      ga :as :ascii
ga                      Print the ascii value of the character under the
                        cursor in decimal, hexadecimal and octal
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/12814647/showing-single-space-invisible-character-in-vim&quot;&gt;Showing single space invisible character in vim&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;However, one should note that nbsp stands for non-breakable space (character &lt;strong&gt;0xA0&lt;/strong&gt;).
It’s different from ordinary whitespaces (character &lt;strong&gt;0x20&lt;/strong&gt;) and in most cases, we’ll have to do &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-v x a 0&lt;/code&gt; in &lt;em&gt;insert mode&lt;/em&gt; to type it.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Non-breaking_space&quot;&gt;Non-breaking space – Wikipedia&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;In word processing and digital typesetting, a &lt;strong&gt;non-breaking space&lt;/strong&gt;, also called &lt;strong&gt;NBSP&lt;/strong&gt;, &lt;strong&gt;required space&lt;/strong&gt;, &lt;strong&gt;no-break space&lt;/strong&gt;, &lt;strong&gt;non-breakable space&lt;/strong&gt;, &lt;strong&gt;hard space&lt;/strong&gt;, or &lt;strong&gt;fixed space&lt;/strong&gt; (in most typefaces, it is not of fixed width) is a &lt;em&gt;space&lt;/em&gt; character that prevents an automatic line break at its position.
In some formats, including HTML, it also prevents consecutive whitespace characters from collapsing into a single space.
Non-breaking space characters with other widths also exist.&lt;/p&gt;

      &lt;p&gt;In HTML, the common non-breaking space, which is the same width as the ordinary space character, is encoded as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;nbsp;&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;#160;&lt;/code&gt;.
In &lt;strong&gt;Unicode&lt;/strong&gt;, it is encoded as &lt;strong&gt;U+00A0&lt;/strong&gt;.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://decodeunicode.org/en/u+000A0&quot;&gt;U+000A0 – decodeunicode.org&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://symbl.cc/en/00A0/&quot;&gt;No-Break Space (nbsp) – Unicode Number U+00A0 – SYMBL&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Symbol Meaning&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;No-Break Space. Latin-1 Supplement.&lt;/p&gt;

      &lt;p&gt;The symbol “No-Break Space” is included in the “Latin-1 punctuation and symbols” subblock of the “Latin-1 Supplement” block and was approved as part of Unicode version 1.1 in 1993.&lt;/p&gt;

      &lt;p&gt;Synonyms: nbsp&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;Technical Information&lt;/strong&gt;&lt;/p&gt;
      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Unicode Name: No-Break Space
Unicode Number: U+00A0 
HTML Code: &amp;amp;#160; 
CSS Code: \00A0 
Entity &amp;amp;nbsp;
Plane: 0: Basic Multilingual Plane
Unicode Block: Latin-1 Supplement
Unicode Subblock: Latin-1 punctuation and symbols
Unicode Version: 1.1 (1993)
Alt Code: Alt 255(English Keyboard Layout)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;

      &lt;p&gt;&lt;strong&gt;Properties&lt;/strong&gt;&lt;/p&gt;
      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Type of paired mirror bracket (bidi): None
Composition Exclusion:                No
Case change:                          00A0
Simple case change:                   00A0
Grapheme_Base:                        +
Scripts:                              Common
White_Space                           +
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;

      &lt;p&gt;&lt;strong&gt;Encoding&lt;/strong&gt;&lt;/p&gt;

      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Encoding  hex          dec (bytes)  dec         binary
UTF-8     C2 A0        194 160      49824       11000010 10100000
UTF-16BE  00 A0        0 160        160         00000000 10100000
UTF-16LE  A0 00        160 0        40960       10100000 00000000
UTF-32BE  00 00 00 A0  0 0 0 160    160         00000000 00000000 00000000 10100000
UTF-32LE  A0 00 00 00  160 0 0 0    2684354560  10100000 00000000 00000000 00000000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.fileformat.info/info/unicode/char/00a0/index.htm&quot;&gt;Unicode Character ‘NO-BREAK SPACE’ (U+00A0) - FileFormat.Info - The Digital Rosetta Stone&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://rishida.net/tools/conversion&quot;&gt;How to Convert Text to Unicode Codepoints&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/arp242/uni/&quot;&gt;uni - Query the Unicode database from the commandline, with good support for emojis&lt;/a&gt; – How to install and use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni&lt;/code&gt; on FreeBSD 14. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ftfy.readthedocs.io/&quot;&gt;ftfy: fixes text for you&lt;/a&gt; – How to install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ftfy&lt;/code&gt; on FreeBSD 14. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://onlinetools.com/unicode&quot;&gt;Online Unicode Tools - by Browserling – A collection of useful tools for working with Unicode&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.bigmessowires.com/2021/10/14/non-breaking-spaces-and-utf-8-madness/&quot;&gt;Non-Breaking Spaces and UTF-8 Madness&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.bigmessowires.com/2021/06/01/when-a-space-is-not-a-space/&quot;&gt;When A Space Is Not A Space&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=27896856&quot;&gt;Beware of the Unicode no-break space (0xC2 0xA0) – Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://somethingstrange.com/posts/a-convenient-caboodle-of-unicode-characters/&quot;&gt;A Convenient Caboodle of Unicode Characters&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://charbase.com/00a0-unicode-no-break-space&quot;&gt;U+00A0: NO-BREAK SPACE – Charbase: A visual unicode database&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://vi.stackexchange.com/questions/40272/why-does-vim-neovim-show-the-zero-width-space-as-200b&quot;&gt;Why does vim/neovim show the zero width space as &amp;lt;200b&amp;gt;?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/List_of_Unicode_characters&quot;&gt;List of Unicode characters&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/12837682/non-breaking-utf-8-0xc2a0-space-and-preg-replace-strange-behaviour&quot;&gt;non-breaking utf-8 0xc2a0 space and preg_replace strange behaviour&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/40336464/why-some-utf-8-characters-falls-into-some-weird-squares-with-four-digits&quot;&gt;Why some UTF-8 characters fall into some weird squares with four digits?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;It means your font doesn&apos;t have a symbol for U+80FD or U+591F (etc), so the square is a fallback that allows you to determine what the Unicode symbol was, even though the glyph cannot be displayed accurately.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/4682310/why-are-squares-instead-of-whitespaces-appearing-in-my-html&quot;&gt;Why are squares instead of whitespaces appearing in my HTML?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;It appears to be coming from your CSS font setting in body. If you inspect the element in Chrome and disable the style the issue goes away.

body {
   font-family: LiberationSansRegular;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/42257374/square-symbols-appearing-instead-of-spaces&quot;&gt;Square symbols appearing instead of spaces - Stack Overflow&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/217228/what-does-it-mean-when-my-text-is-displayed-as-boxes&quot;&gt;unicode - What does it mean when my text is displayed as boxes? - Stack Overflow&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Usually, that means that the Unicode character specified isn&apos;t available in that particular font. Try changing fonts to one of the multinational ones, it should go away.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/217237/what-does-it-mean-when-my-text-is-displayed-as-question-marks&quot;&gt;What does it mean when my text is displayed as Question Marks?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/36291/why-do-some-characters-show-as-squares-in-chrome&quot;&gt;Why do some characters show as squares in Chrome? - Unix &amp;amp; Linux Stack Exchange&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://answers.microsoft.com/en-us/msoffice/forum/all/squares-instead-of-spaces-and-special-characters/50059571-9781-4e7b-b179-2070dd1c6595&quot;&gt;squares instead of spaces and special characters&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ux.stackexchange.com/questions/91255/how-can-i-best-display-a-blank-space-character&quot;&gt;How can I best display a blank space character?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ux.stackexchange.com/questions/55220/what-character-can-i-use-to-represent-the-space-bar&quot;&gt;What character can I use to represent the space bar?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.jkorpela.fi/chars/spaces.html&quot;&gt;Unicode spaces&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.cogsci.ed.ac.uk/~richard/utf-8.cgi?input=00A0&amp;amp;mode=hex&quot;&gt;UTF-8 Tool – Unicode character for Hex code point 00A0&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://askubuntu.com/questions/47328/text-inside-files-has-squares-with-numbers-in-it&quot;&gt;Text inside files has squares with numbers in it&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://old.reddit.com/r/linuxmasterrace/comments/10pxwv0/how_to_fix_these_weird_squares_or_missing_unicode/&quot;&gt;How to fix these weird squares or missing unicode in arch linux?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://superuser.com/questions/581523/program-to-check-look-up-utf-8-unicode-characters-in-string-on-command-line&quot;&gt;Program to check/look up UTF-8/Unicode characters in string on command line? - Super User&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/13992934/how-to-fix-utf-encoding-for-whitespaces&quot;&gt;How to fix UTF encoding for whitespaces?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.perlmonks.org/?node_id=11109644&quot;&gt;Safely removing Unicode zero-width spaces and other non-printing characters&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unicode.link/&quot;&gt;Unicode Visualizer&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:help ascii&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:help ga&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vim(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;:as[cii]        or                                      *ga* *:as* *:ascii*
ga                      Print the ascii value of the character under the
                        cursor in decimal, hexadecimal and octal.
                        Mnemonic: Get Ascii value.

                        For example, when the cursor is on a &apos;R&apos;:
                                &amp;lt;R&amp;gt;  82,  Hex 52,  Octal 122  
                        When the character is a non-standard ASCII character,
                        but printable according to the &apos;isprint&apos; option, the
                        non-printable version is also given.

                        When the character is larger than 127, the &amp;lt;M-x&amp;gt; form
                        is also printed.  For example:
                                &amp;lt;~A&amp;gt;  &amp;lt;M-^A&amp;gt;  129,  Hex 81,  Octal 201  
                                &amp;lt;p&amp;gt;  &amp;lt;|~&amp;gt;  &amp;lt;M-~&amp;gt;  254,  Hex fe,  Octal 376  
                        (where &amp;lt;p&amp;gt; is a special character)

                        The &amp;lt;Nul&amp;gt; character in a file is stored internally as
                        &amp;lt;NL&amp;gt;, but it will be shown as:
                                &amp;lt;^@&amp;gt;  0,  Hex 00,  Octal 000  

                        If the character has composing characters these are
                        also shown.  The value of &apos;maxcombine&apos; doesn&apos;t matter.

                        If the character can be inserted as a digraph, also
                        output the two characters that can be used to create
                        the character:
                            &amp;lt;ö&amp;gt; 246, Hex 00f6, Oct 366, Digr o:
                        This shows you can type CTRL-K o : to insert ö.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[2] About &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xkbcli-how-to-type(1)&lt;/code&gt; on FreeBSD 14:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v xkbcli-how-to-type
 
% type xkbcli-how-to-type
xkbcli-how-to-type: not found
 
% which xkbcli-how-to-type
xkbcli-how-to-type: Command not found.
 
% whereis xkbcli-how-to-type
xkbcli-how-to-type: /usr/local/share/man/man1/xkbcli-how-to-type.1.gz
 
% locate xkbcli-how-to-type
/usr/local/libexec/xkbcommon/xkbcli-how-to-type
/usr/local/share/man/man1/xkbcli-how-to-type.1.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[3] How to install and use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni&lt;/code&gt; on FreeBSD 14&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg search --regex ^uni-
uni-2.7.0_2                    Query the Unicode database from the commandline

% sudo pkg install uni
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni search nbsp
             Dec    UTF8       HTML      Name
&apos;␣&apos;  U+FEFF  65279  ef bb bf   &amp;amp;#xfeff;  ZERO WIDTH NO-BREAK SPACE [BYTE ORDER MARK, BOM, ZWNBSP]

% uni search space | wc -l
      93

% uni search space | grep -i break | wc -l
       3

% uni search space | grep -i break
&apos; &apos;  U+00A0  160    c2 a0      &amp;amp;nbsp;    NO-BREAK SPACE
&apos; &apos;  U+202F  8239   e2 80 af   &amp;amp;#x202f;  NARROW NO-BREAK SPACE
&apos;␣&apos;  U+FEFF  65279  ef bb bf   &amp;amp;#xfeff;  ZERO WIDTH NO-BREAK SPACE [BYTE ORDER MARK, BOM, ZWNBSP]

% uni search &quot;NO-BREAK SPACE&quot;
             Dec    UTF8       HTML      Name
&apos; &apos;  U+00A0  160    c2 a0      &amp;amp;nbsp;    NO-BREAK SPACE
&apos; &apos;  U+202F  8239   e2 80 af   &amp;amp;#x202f;  NARROW NO-BREAK SPACE
&apos;␣&apos;  U+FEFF  65279  ef bb bf   &amp;amp;#xfeff;  ZERO WIDTH NO-BREAK SPACE [BYTE ORDER MARK, BOM, ZWNBSP]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uni print 0x00a0
             Dec    UTF8        HTML       Name
&apos; &apos;  U+00A0  160    c2 a0       &amp;amp;nbsp;     NO-BREAK SPACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[4] How to install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ftfy&lt;/code&gt; on FreeBSD 14&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search ftfy
py311-ftfy-6.2.0               Fix some problems with Unicode text after the fact

$ sudo pkg install py311-ftfy

$ pkg query %Fp py311-ftfy
/usr/local/bin/ftfy
/usr/local/bin/ftfy-3.11
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sun, 11 Aug 2024 16:41:24 -0700</pubDate>
        <link>http://localhost:4000/unicode/utf8/x11/xorg/xterm/cli/terminal/shell/howto/sysadmin/unix/typography/font/webbrowser/html/2024/08/11/why-some-chars-displayed-as-squares.html</link>
        <guid isPermaLink="true">http://localhost:4000/unicode/utf8/x11/xorg/xterm/cli/terminal/shell/howto/sysadmin/unix/typography/font/webbrowser/html/2024/08/11/why-some-chars-displayed-as-squares.html</guid>
        
        
        <category>unicode</category>
        
        <category>utf8</category>
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>xterm</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>howto</category>
        
        <category>sysadmin</category>
        
        <category>unix</category>
        
        <category>typography</category>
        
        <category>font</category>
        
        <category>webbrowser</category>
        
        <category>html</category>
        
      </item>
    
      <item>
        <title>How to Find an X11 Window ID (WID) by a Process ID (PID)</title>
        <description>&lt;p&gt;aka How to Find an X11 (X, Xorg) Window ID (WID) and Switch to That Window&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;OS: &lt;em&gt;FreeBSD 14&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ freebsd-version 
14.0-RELEASE-p6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shell: &lt;em&gt;csh&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps $$
  PID TT  STAT    TIME COMMAND
69641 19  Ss   0:00.95 -csh (csh)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;method-1-instal-and-use-wmctrl1&quot;&gt;Method 1: Instal and Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl(1)&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;Tools:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;(Optional) &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xwininfo(1)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Install &lt;em&gt;wmctrl&lt;/em&gt; package.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install wmctrl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Comment of the &lt;em&gt;wmctrl&lt;/em&gt; package.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg query %c wmctrl
Command line tool to interact with an EWMH/NetWM compatible X managers
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Description of the &lt;em&gt;wmctrl&lt;/em&gt; package.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg query &apos;%e&apos; wmctrl
The wmctrl program is a command line tool to interact with an
EWMH/NetWM compatible X Window Manager.

It provides command line access to almost all the features defined in
the EWMH specification. Using it, it&apos;s possible to, for example, obtain
information about the window manager, get a detailed list of desktops
and managed windows, switch and resize desktops, change number of
desktops, make windows full-screen, always-above or sticky, and
activate, close, move, resize, maximize and minimize them.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Show information about the window manager and about the environment:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -m
Name: FVWM
Class: fvwm
PID: N/A
Window manager&apos;s &quot;showing the desktop&quot; mode: N/A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I’m looking for a window where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vi(1)&lt;/code&gt; text editor opened a specific file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxw | grep -v grep | grep &apos;vi ed-notes&apos;
dusko   94716   0.0  0.0    13908    3764 13  I+   10:58  0:00.01 vi ed-notes.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxw | grep -v grep | grep &apos;vi ed-notes&apos; | cut -w -f2
94716
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Explanation&lt;/em&gt; for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-w&lt;/code&gt; option for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; utility:&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; (on &lt;em&gt;FreeBSD 14&lt;/em&gt;) for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-w&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  Use at least 132 columns to display information, instead of the
  default which is the window size if ps is associated with a
  terminal.  If the -w option is specified more than once, ps will
  use as many columns as necessary without regard for the window size.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;TIP: With the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-e&lt;/code&gt; option, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; displays the environment as well.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxe -ww -p 94702
USER    PID %CPU %MEM    VSZ   RSS TT  STAT STARTED    TIME COMMAND
dusko 94702  0.0  0.1 115856 13660 v0  I    10:57   0:00.11 VENDOR=amd fvwm_editor=gvim LOGNAME=dusko LC_CTYPE=en_CA.UTF-8 LC_MESSAGES=en_CA.UTF-8 LANG=en_CA.UTF-8 PAGER=less OSTYPE=FreeBSD LC_TIME=en_CA.UTF-8 MACHTYPE=x86_64 MAIL=/var/mail/dusko GDK_USE_XFT=1 QT_XFT=1 TASKRC=/mnt/usbflashdrive/mydotfiles/.taskrc PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:/home/dusko/bin:/home/dusko/.local/bin EDITOR=vi fvwm_img=/home/dusko/.fvwm/img/ HOST=fbsd1.home.arpa fvwm_theme_img=/home/dusko/.fvwm/deco/arctic GTK2_RC_FILES=/home/dusko/.gtkrc-2.0 fvwm_browser=/usr/local/bin/firefox fvwm_term=/usr/local/bin/xterm fvwm_file=rox DISPLAY=:0 fvwm_goright=3ddesk --view=goright --noautofun PWD=/home/dusko fvm_gnome_icon_theme=gnant GROUP=dusko HOSTDISPLAY=fbsd1.home.arpa:0 fvwm_theme=arctic TERM=xterm cset_wall_1=10 FVWM_MODULEDIR=/usr/local/libexec/fvwm/2.6.9 cset_wall_2=20 cset_wall_3=30 USER=dusko HOME=/home/dusko OOO_FORCE_DESKTOP=gnome cset_wall_4=40 fvwm_weather=um WINDOWPATH=9 fvwm_icon=/usr/local/share/icons/gnant SHELL=/bin/csh HOSTTYPE=FreeBSD MM_CHARSET=UTF-8 QT_QPA_PLATFORMTHEME=qt5ct fvwm_goleft=3ddesk --view=goleft --noautofun LC_ALL= CHEAT_CONFIG_PATH=/mnt/usbflashdrive/mydotfiles/cheat/conf.yml fvwm_calc=/usr/local/bin/xcalc FVWM_USERDIR=/home/dusko/.fvwm FVWM_DATADIR=/usr/local/share/fvwm fvwm_dock_x=730 fvwm_script=/home/dusko/.fvwm/script/ fvwm_wallpaper_dir=/home/dusko/.fvwm/img/wallpaper BLOCKSIZE=K SHLVL=1 fvwm_mail=/usr/local/bin/thunderbird /usr/local/bin/xterm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxwwl -p 94716
USER    PID %CPU %MEM   VSZ  RSS TT  STAT STARTED    TIME COMMAND         UID  PPID C PRI NI MWCHAN
dusko 94716  0.0  0.0 13908 3368 13  I+   10:58   0:00.01 vi ed-notes.md 1001 94704 2  24  0 ttyin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Explanation&lt;/em&gt; for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-l&lt;/code&gt; option for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; utility:&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; (on &lt;em&gt;FreeBSD 14&lt;/em&gt;) for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-l      Display information associated with the following keywords: uid, pid,
        ppid, cpu, pri, nice, vsz, rss, mwchan, state, tt, time, and command.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxwwl -p 94716 | sed -n 2p
dusko 94716  0.0  0.0 13908 3368 13  I+   10:58   0:00.01 vi ed-notes.md 1001 94704 2  24  0 ttyin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, the &lt;strong&gt;PPID&lt;/strong&gt; (parent process ID) of the process ID (&lt;strong&gt;PID&lt;/strong&gt;) 94716 is 94704.&lt;/p&gt;

&lt;p&gt;To display the PPID as the last column of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; output, you can use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-o&lt;/code&gt; option.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid  -p 94716
USER    PID %CPU %MEM   VSZ  RSS TT  STAT STARTED    TIME COMMAND         PPID
dusko 94716  0.0  0.0 13908 3368 13  I+   10:58   0:00.01 vi ed-notes.md 94704
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To obtain the value of the last field in the output, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;awk(1)&lt;/code&gt;’s variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$NF&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 94716 | awk &apos;{print NF}&apos;
12
13
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 94716 | sed -n 1p | cut -w -f12
PPID
 
$ ps auxww -o ppid -p 94716 | sed -n 2p | cut -w -f13
94704
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: For continuing with going up the process tree, refer to &lt;em&gt;Footnote&lt;/em&gt; 1 [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;].&lt;/p&gt;

&lt;p&gt;You are interested in displaying a part of the tree with the process that started the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vi(1)&lt;/code&gt; text editor:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxwd | grep -v grep | grep -B2 94716
dusko   94702   0.0  0.1     115856   11696 v0  I    10:57        0:00.11 |     |-- /usr/local/bin/xterm
dusko   94704   0.0  0.0     107160       8 13  IWs  -            0:00.00 |     | `-- -csh (csh)
dusko   94716   0.0  0.0      13908    3368 13  I+   10:58        0:00.01 |     |   `-- vi ed-notes.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxwd | grep -v grep | grep -B2 94716 | head -1 | cut -w -f2
94702
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Explanation&lt;/em&gt; for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d&lt;/code&gt; option for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; utility:&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; (on &lt;em&gt;FreeBSD 14&lt;/em&gt;) for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  Arrange processes into descendancy order and prefix each command
  with indentation text showing sibling and parent/child
  relationships as a tree.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d&lt;/code&gt; option is a non-standard FreeBSD extension; that is, it’s specific to BSD (BSD syntax).&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps(1)&lt;/code&gt; on &lt;em&gt;FreeBSD 14&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;STANDARDS
     For historical reasons, the ps utility under FreeBSD supports a different
     set of options from what is described by IEEE Std 1003.2 (&quot;POSIX.2&quot;), and
     what is supported on non-BSD operating systems.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example, on Debian Linux, running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ps auxwd&lt;/code&gt; generates this error: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;error: unsupported option (BSD syntax)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The releavant part of the whole process tree:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Terminal emulator (xterm), with PID 94702
    &lt;ul&gt;
      &lt;li&gt;Child:  Shell (C shell, a.k.a. csh), with PID 94704
        &lt;ul&gt;
          &lt;li&gt;Child: Text editor (vi), with PID 94716&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl --help&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  -l     List windows managed by the window manager.
  -p     Include PIDs in the window list. Very few X applications support this feature.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  -p     Include PIDs in the window list printed by the -l action. Prints
         a PID of &apos;0&apos; if the application owning the window does not
         support it.`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702
0x0500000c  8 94702  fbsd1.home.arpa xterm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1
0x0500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove the prefix &lt;em&gt;0x&lt;/em&gt; because &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xwininfo(1)&lt;/code&gt; doesn’t do &lt;em&gt;zero padding&lt;/em&gt; [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;].&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1 | colrm 1 3
500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xwininfo -root -tree | grep -n 500000c
546:           0x500000c &quot;xterm&quot;: (&quot;xterm&quot; &quot;XTerm&quot;)  484x316+0+0  +301+886
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xwininfo -root -tree | grep -A10 -B3 500000c
        9 children:
        0xa027aa (has no name): ()  484x316+1+1  +301+886
           1 child:
           0x500000c &quot;xterm&quot;: (&quot;xterm&quot; &quot;XTerm&quot;)  484x316+0+0  +301+886
              1 child:
              0x5000018 (has no name): ()  484x316+0+0  +301+886
        0xa027ab (has no name): ()  29x29+0+0  +300+885
        0xa027ad (has no name): ()  29x29+457+0  +757+885
        0xa027af (has no name): ()  29x29+0+289  +300+1174
        0xa027b1 (has no name): ()  29x29+457+289  +757+1174
        0xa027ac (has no name): ()  428x1+29+0  +329+885
        0xa027ae (has no name): ()  1x260+485+29  +785+914
        0xa027b0 (has no name): ()  428x1+29+317  +329+1202
        0xa027b2 (has no name): ()  1x260+0+29  +300+914
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back to previous &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl(1)&lt;/code&gt; command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702
0x0500000c  8 94702  fbsd1.home.arpa xterm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;activate-the-window-with-wmctrl1&quot;&gt;Activate the Window with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl(1)&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Activate the window by switching to its desktop and by raising it.&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -i -a 0x0500000c  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Explanation:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl --help&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  -a &amp;lt;WIN&amp;gt;  Activate the window by switching to its desktop and raising it.
  -i        Interpret &amp;lt;WIN&amp;gt; as a numerical window ID.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Move the window to the current desktop and activate it.&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -i -R 0x0500000c  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Explanation:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl --help&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-R &amp;lt;WIN&amp;gt;  Move the window to the current desktop and activate it.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Move the window to the specified desktop.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;NOTE: To list all desktops managed by the window manager, use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d&lt;/code&gt; option.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -d
0  * DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  Main
1  - DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  Email
2  - DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  Editor
3  - DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  passxc
4  - DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  mutt
5  - DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  Desk 6
6  - DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  Desk 7
7  - DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  Desk 8
8  - DG: 2560x1440  VP: 0,0  WA: 0,0 2560x1440  net
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example, move the window to desktop 8:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -t8 -i -r 0x0500000c  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -i -t8 -r 0x0500000c  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Explanation:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl --help&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-r &amp;lt;WIN&amp;gt; -t &amp;lt;DESK&amp;gt;  Move the window to the specified desktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;method-2-instal-and-use-xdotool1&quot;&gt;Method 2: Instal and Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xdotool(1)&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;Tools:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xdotool(1)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Comment of the &lt;em&gt;xdotool&lt;/em&gt; package (queried from from remote repositories).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg rquery %c xdotool
Programmatically simulate keyboard input or mouse activity
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Description of the &lt;em&gt;xdotool&lt;/em&gt; package (queried from from remote repositories).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg rquery %e xdotool
Programatically (or manually) simulate keyboard input or mouse activity
using X11&apos;s XTEST extension.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Home page of the &lt;em&gt;xdotool&lt;/em&gt; package (queried from from remote repositories).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg rquery %w xdotool
https://www.semicomplete.com/projects/xdotool/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install &lt;em&gt;xdotool&lt;/em&gt; package.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install xdotool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxw | grep -v grep | grep &apos;vi testfile.md&apos;
dusko    8352   0.0  0.0      13908    3476 13  S+   16:59        0:00.01 vi testfile.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxwd | grep -v grep | grep -B2 &apos;vi testfile.md&apos;
dusko    8328   0.0  0.1     109712   12200 v0  S    16:58        0:00.11 |     |-- /usr/local/bin/xterm
dusko    8330   0.0  0.6     107160   95008 13  Is   16:58        0:00.66 |     | `-- -csh (csh)
dusko    8352   0.0  0.0      13908    3476 13  I+   16:59        0:00.01 |     |   `-- vi testfile.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxwd | grep -v grep | grep -B2 &apos;vi testfile.md&apos; | head -1 | cut -w -f2
8328
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xdotool search --all --pid 8328
83886092
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Convert from decimal to hexadecimal.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;obase=16; ibase=10; 83886092&quot; | bc
500000C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or - with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %x\\n 83886092
500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %X\\n 83886092
500000C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;activate-the-window&quot;&gt;Activate the Window&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Activate the window by switching to its desktop and by raising it.&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -i -a 0x500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wmctrl(1)&lt;/code&gt; doesn’t care about &lt;em&gt;zero padding&lt;/em&gt; so all of the following commands work.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -t8 -i -a 0x0500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -t8 -i -a 0x00500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -t8 -i -a 0x0000500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -t8 -i -a 0x000000000000000500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Move the window to the current desktop and activate it.&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -i -R 0x500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Move the window to the specified desktop.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;For example, move the window to desktop 3:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -t3 -i -r 0x500000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;tips&quot;&gt;Tips&lt;/h2&gt;

&lt;p&gt;Tools:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xprop(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xlsclients(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xdotool(1)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xprop -id 0x380000C _NET_WM_PID
_NET_WM_PID(CARDINAL) = 3870
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xprop -id 0x380000C 
_NET_WM_STATE(ATOM) = _NET_WM_STATE_HIDDEN
WM_STATE(WM_STATE):
                window state: Iconic
                icon window: 0xa03b42
_NET_FRAME_EXTENTS(CARDINAL) = 1, 1, 1, 1
_KDE_NET_WM_FRAME_STRUT(CARDINAL) = 1, 1, 1, 1
_NET_WM_ALLOWED_ACTIONS(ATOM) = _NET_WM_ACTION_CHANGE_DESKTOP, _NET_WM_ACTION_CLOSE, _NET_WM_ACTION_FULLSCREEN, _NET_WM_ACTION_MAXIMIZE_HORZ, _NET_WM_ACTION_MAXIMIZE_VERT, _NET_WM_ACTION_MINIMIZE, _NET_WM_ACTION_MOVE, _NET_WM_ACTION_RESIZE, _NET_WM_ACTION_SHADE, _NET_WM_ACTION_STICK
_NET_WM_DESKTOP(CARDINAL) = 8
WM_PROTOCOLS(ATOM): protocols  WM_DELETE_WINDOW
_NET_WM_PID(CARDINAL) = 3870
WM_CLIENT_LEADER(WINDOW): window id # 0x380000c
WM_LOCALE_NAME(STRING) = &quot;en_CA.UTF-8&quot;
WM_CLASS(STRING) = &quot;xterm&quot;, &quot;XTerm&quot;
WM_HINTS(WM_HINTS):
                Client accepts input or input focus: True
                Initial state is Normal State.
                window id # to use for icon: 0x3800019
WM_NORMAL_HINTS(WM_SIZE_HINTS):
                program specified size: 484 by 316
                program specified minimum size: 10 by 17
                program specified resize increment: 6 by 13
                program specified base size: 4 by 4
                window gravity: NorthWest
WM_CLIENT_MACHINE(STRING) = &quot;fbsd1.home.arpa&quot;
WM_COMMAND(STRING) = { &quot;/usr/local/bin/xterm&quot; }
WM_ICON_NAME(STRING) = &quot;xterm&quot;
WM_NAME(STRING) = &quot;xterm&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xwininfo -id 0x00e0000c

xwininfo: Window id: 0xe0000c &quot;xterm&quot;

  Absolute upper-left X:  245
  Absolute upper-left Y:  1123
  Relative upper-left X:  0
  Relative upper-left Y:  0
  Width: 484
  Height: 316
  Depth: 24
  Visual: 0x21
  Visual Class: TrueColor
  Border width: 0
  Class: InputOutput
  Colormap: 0x20 (installed)
  Bit Gravity State: NorthWestGravity
  Window Gravity State: NorthWestGravity
  Backing Store State: NotUseful
  Save Under State: no
  Map State: IsViewable
  Override Redirect State: no
  Corners:  +245+1123  -1831+1123  -1831-1  +245-1
  -geometry 80x24+244-0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsclients -l | grep -n -i 0x380000C
25:Window 0x380000c:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsclients -l | sed -n 25,30p
Window 0x380000c:
  Machine:  fbsd1.home.arpa
  Name:  xterm
  Icon Name:  xterm
  Command:  /usr/local/bin/xterm
  Instance/Class:  xterm/XTerm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] Continuing with going up the process tree.&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;PPID&lt;/em&gt; of the &lt;em&gt;PID&lt;/em&gt; 94704 is 94702.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 94704 | awk &apos;{print NF}&apos;
12
13
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 94704 | sed -n 2p | cut -w -f13
94702
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;PPID&lt;/em&gt; of the &lt;em&gt;PID&lt;/em&gt; 94702 is 90450.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 94702 | awk &apos;{print NF}&apos;
12
12
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 94702 | sed -n 1p | cut -w -f12
PPID
 
$ ps auxww -o ppid -p 94702 | sed -n 2p | cut -w -f12
90450
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;PPID&lt;/em&gt; of the &lt;em&gt;PID&lt;/em&gt; 90450 is 90425.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 90450 | awk &apos;{ print NF }&apos;
12
13
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 90450 | sed -n 2p | cut -w -f13
90425
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;PPID&lt;/em&gt; of the &lt;em&gt;PID&lt;/em&gt; 90425 is 90424.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 90425 | sed -n 2p | awk &apos;{ print NF }&apos;
12
 
$ ps auxww -o ppid -p 90425 | sed -n 2p | cut -w -f12
90424
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;PPID&lt;/em&gt; of the &lt;em&gt;PID&lt;/em&gt; 90424 is &lt;strong&gt;PID 1&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxww -o ppid -p 90424 | sed -n 2p | awk &apos;{print NF}&apos;
14
 
$ ps auxww -o ppid -p 90424 | sed -n 2p | cut -w -f14
1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[2] &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wc(1)&lt;/code&gt; also counts the newline (a.k.a. &lt;strong&gt;NL&lt;/strong&gt;, or &lt;strong&gt;nl&lt;/strong&gt;, or &lt;strong&gt;line feed&lt;/strong&gt;, or &lt;strong&gt;LF&lt;/strong&gt;, or &lt;strong&gt;lf&lt;/strong&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 72210 | cut -w -f1 | wc -c
      11

$ wmctrl -lp | grep 72210 | cut -w -f1 | wc -m
      11
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With the following sed command, place every character on a new line.&lt;/p&gt;

&lt;p&gt;Note &lt;em&gt;a blank line&lt;/em&gt; (an empty line) at the end of the output.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1 | sed &apos;s/\n$/H/&apos; | sed &apos;s/\(.\)/\1\n/g&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;0
x
0
5
0
0
0
0
0
c

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1 | sed &apos;s/\n$/H/&apos; | sed &apos;s/\(.\)/\1\n/g&apos; | wc -l
      11
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1 | cat -vet
0x0500000c$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1 | vis -w
0x0500000c\012$ 
 
$ wmctrl -lp | grep 94702 | cut -w -f1 | vis -l
0x0500000c\$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Octal &lt;strong&gt;012&lt;/strong&gt; is &lt;strong&gt;LF&lt;/strong&gt; (line feed) in ASCII.&lt;/p&gt;

&lt;p&gt;See &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;man 7 ascii&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1 | od -ta
0000000    0   x   0   5   0   0   0   0   0   c  nl                    
0000013
 
$ wmctrl -lp | grep 94702 | cut -w -f1 | od -tc
0000000    0   x   0   5   0   0   0   0   0   c  \n                    
0000013
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1 | awk &apos;{ print length($0) }&apos;
10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wmctrl -lp | grep 94702 | cut -w -f1 | awk &apos;{ print length }&apos;
10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tools:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump(1)&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hd(1)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od(1)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Aug 5, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/1131277/how-to-convert-a-x11-window-id-to-a-process-id?rq=1&quot;&gt;How to convert a X11 window ID to a process ID?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/151407/how-to-get-an-x11-window-from-a-process-id&quot;&gt;How to get an X11 Window from a Process ID?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/2250757/is-there-a-linux-command-to-determine-the-window-ids-associated-with-a-given-pro?rq=1&quot;&gt;Is there a Linux command to determine the window IDs associated with a given process ID?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.freshports.org/x11/wmctrl&quot;&gt;wmctrl Command line tool to interact with an EWMH/NetWM compatible X managers – FreshPort - The Place for Ports&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.freedesktop.org/wiki/Software/wmctrl/&quot;&gt;wmctrl - a UNIX/Linux command line tool to interact with an EWMH/NetWM compatible X Window Manager&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20120907043247/http://spiralofhope.com/wmctrl-examples.html&quot;&gt;wmctrl Examples - Archived from original on Sep 7, 2012&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/31584361/why-does-the-wc-command-count-one-more-character-than-expected&quot;&gt;Why does the wc command count one more character than expected?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/400650/counting-the-characters-of-each-line-with-wc&quot;&gt;Counting the characters of each line with wc&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/66360/character-count-in-unix-wc-command&quot;&gt;Character count in Unix wc command&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/9899049/placing-every-character-on-a-new-line&quot;&gt;Placing every character on a new line&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Fri, 09 Aug 2024 19:01:12 -0700</pubDate>
        <link>http://localhost:4000/x11/xorg/xterm/cli/terminal/shell/howto/sysadmin/unix/2024/08/09/xorg-x11-window-id-by-process-id.html</link>
        <guid isPermaLink="true">http://localhost:4000/x11/xorg/xterm/cli/terminal/shell/howto/sysadmin/unix/2024/08/09/xorg-x11-window-id-by-process-id.html</guid>
        
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>xterm</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>howto</category>
        
        <category>sysadmin</category>
        
        <category>unix</category>
        
      </item>
    
      <item>
        <title>Beginner&apos;s Introduction to Perl [WIP]</title>
        <description>&lt;p&gt;OS: 14.0-RELEASE-p6  &lt;br /&gt;
Shell: &lt;em&gt;tcsh&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mkdir ~/beginner_s_introduction_to_perl
 
$ cd ~/beginner_s_introduction_to_perl
 
$ command -v perl; type perl; which perl; whereis perl
/usr/local/bin/perl
perl is /usr/local/bin/perl
/usr/local/bin/perl
perl: /usr/local/bin/perl /usr/local/lib/perl5/5.30/perl/man/man1/perl.1.gz /usr/src/contrib/file/magic/Magdir/perl
 
$ command -v env; type env; which env; whereis env
/usr/bin/env
env is /usr/bin/env
/usr/bin/env
env: /usr/bin/env /usr/share/man/man1/env.1.gz /usr/src/usr.bin/env
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vi first.pl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat first.pl
#!/usr/bin/env perl
print &quot;Hello, World!\n&quot;;
 
$ ls -lh first.pl
-rw-r--r--  1 dusko dusko   45B Jul 24 11:02 first.pl
 
$ chmod 0744 first.pl
 
$ ls -lh first.pl
-rwxr--r--  1 dusko dusko   45B Jul 24 11:02 first.pl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./first.pl
Hello, World!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;variables&quot;&gt;Variables&lt;/h2&gt;

&lt;p&gt;Perl has three types of variables: scalars, arrays and hashes.
Think of them as “things”, “lists” and “dictionaries”.&lt;/p&gt;

&lt;p&gt;In Perl, all variable names are a punctuation character, a letter or underscore, and one or more alphanumeric characters or underscores.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Scalars&lt;/strong&gt; are single things.&lt;/p&gt;

&lt;p&gt;The name of a scalar begins with a dollar sign (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&lt;/code&gt;), such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$i&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$abacus&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;About the only basic operator that you can use on strings is concatenation.
The concatenation operator is the period (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt;).
Concatenation and addition are two different things:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat concat.pl 
#!/usr/bin/env perl

$a = &quot;8&quot;;        # Note the quotes.  $a is a string.
$b = $a + &quot;1&quot;;   # &quot;1&quot; is a string too.
$c = $a . &quot;1&quot;;   # But $b and $c have different values!

print &quot;$b\n&quot;;
print &quot;$c\n&quot;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./concat.pl
9
81
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Just remember, the plus sign &lt;em&gt;adds&lt;/em&gt; numbers and the period &lt;em&gt;puts strings together&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Arrays&lt;/strong&gt; are &lt;em&gt;lists&lt;/em&gt; of scalars.&lt;/p&gt;

&lt;p&gt;Array names begin with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt;.
You define arrays by listing their contents in parentheses, separated by commas:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@lotto_numbers = (1, 2, 3, 4, 5, 6);
@months = (&quot;July&quot;, &quot;August&quot;, &quot;September&quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The contents of an array are &lt;em&gt;indexed&lt;/em&gt; beginning with &lt;strong&gt;0&lt;/strong&gt;.
To retrieve the elements of an array, you replace the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt; sign with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&lt;/code&gt; sign, and follow that with the index position of the element you want.
(It begins with a dollar sign because you’re getting a scalar value.)
You can also modify it in place, just like any other scalar.&lt;/p&gt;

&lt;p&gt;If you want to find the length of an array, use the value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#array_name&lt;/code&gt;.
This is one less than the number of elements in the array.
If the array just doesn’t exist or is empty, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#array_name&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-1&lt;/code&gt;.
If you want to resize an array, just change the value of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#array_name&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat months.pl
#!/usr/bin/env perl

@months = (&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;);

print $months[0];       # This prints &quot;Jan&quot;
print &quot;\n&quot;;             # Newline must go within quotes
print &quot;$months[9]\n&quot;;   # Oct, not Sep because indexing starts with 0

$winter_months[0] = &quot;Dec&quot;;  # This implicitly creates @winter_months

print &quot;$winter_months[0]\n&quot;;
print &quot;\n&quot;;
print &quot;$#months\n&quot;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./months.pl
Jan
Oct
Dec

11
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Hashes&lt;/strong&gt; are called “dictionaries” in some programming languages, and that’s what they are: a term and a definition, or in more correct language a &lt;em&gt;key&lt;/em&gt; and a &lt;em&gt;value&lt;/em&gt;.
Each key in a hash has one and only one corresponding value.&lt;/p&gt;

&lt;p&gt;The name of a hash begins with a percentage sign (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%&lt;/code&gt;), like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%parents&lt;/code&gt;.
You define hashes by comma-separated pairs of key and value:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;%days_in_summer = ( &quot;Jul&quot; =&amp;gt; 31, &quot;Aug&quot; =&amp;gt; 31, &quot;Sep&quot; =&amp;gt; 30 );
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can fetch any value from a hash by referring to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$hashname{key}&lt;/code&gt;, or modify it in place just like any other scalar.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;print $days_in_summer{&quot;Sep&quot;};   # 30
$days_in_summer{&quot;Feb&quot;} = 29;    # Let&apos;s assume it&apos;s a leap year
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to see what keys are in a hash, you can use the keys function with the name of the hash.
This returns a list containing all of the keys in the hash.
The list isn’t always in the same order, though; while we could count on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@months&lt;/code&gt; to always return Jul, Aug, Sep in that order, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keys %days_in_summer&lt;/code&gt; might return them in any order whatsoever.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@month_list = keys %days_in_summer;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat hashes.pl
#!/usr/bin/env perl

%days_in_summer = ( &quot;Jul&quot; =&amp;gt; 31, &quot;Aug&quot; =&amp;gt; 31, &quot;Sep&quot; =&amp;gt; 30 );

print $days_in_summer{&quot;Sep&quot;};   # 30
print &quot;\n&quot;;

$days_in_summer{&quot;Mar&quot;} = 31;

print $days_in_summer{&quot;Mar&quot;};
print &quot;\n&quot;;

@month_list = keys %days_in_summer;
# @month_list is now (&apos;Jul&apos;, &apos;Sep&apos;, &apos;Aug&apos;) !

print &quot;\n&quot;; 
print @month_list[0,1,2];
print &quot;\n&quot;; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./hashes.pl
30
31

AugJulMar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./hashes.pl
30
31

MarJulAug
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./hashes.pl
30
31

JulSepAug
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The three types of variables have three separate &lt;strong&gt;namespaces&lt;/strong&gt;.
That means that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$abacus&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@abacus&lt;/code&gt; are two different variables, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$abacus[0]&lt;/code&gt; (the first element of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@abacus&lt;/code&gt;) is not the same as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$abacus{0}&lt;/code&gt; (the value in abacus that has the key 0).&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.perl.com/pub/2000/10/begperl1.html/&quot;&gt;Beginner’s Introduction to Perl Oct 16, 2000 by Doug Sheppard&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Wed, 24 Jul 2024 10:58:25 -0700</pubDate>
        <link>http://localhost:4000/perl/programming/tutorial/cli/terminal/shell/script/it/computing/unix/sysadmin/learning/2024/07/24/introduction-to-perl.html</link>
        <guid isPermaLink="true">http://localhost:4000/perl/programming/tutorial/cli/terminal/shell/script/it/computing/unix/sysadmin/learning/2024/07/24/introduction-to-perl.html</guid>
        
        
        <category>perl</category>
        
        <category>programming</category>
        
        <category>tutorial</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>script</category>
        
        <category>it</category>
        
        <category>computing</category>
        
        <category>unix</category>
        
        <category>sysadmin</category>
        
        <category>learning</category>
        
      </item>
    
      <item>
        <title>CLI Math [WIP]</title>
        <description>&lt;h1 id=&quot;bc1&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bc(1)&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;In &lt;em&gt;tcsh&lt;/em&gt;/&lt;em&gt;csh&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;33.59 - 20.45&quot; | bc
13.14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: 
You don’t have to use a newline witn &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; (that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%s\\n&lt;/code&gt;) in FreeBSD in &lt;em&gt;csh (tcsh)&lt;/em&gt; shell.
You have to use a newline with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; (that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%s\\n&lt;/code&gt;) on Apple Mac, a.k.a. macOS, with &lt;em&gt;bash&lt;/em&gt; shell.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bc(1)&lt;/code&gt; on FreeBSD 14:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;bc(1) is an interactive processor for a language first standardized in 1991 by POSIX.&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Fri, 19 Jul 2024 11:42:44 -0700</pubDate>
        <link>http://localhost:4000/cli/terminal/shell/console/math/howto/2024/07/19/cli-math.html</link>
        <guid isPermaLink="true">http://localhost:4000/cli/terminal/shell/console/math/howto/2024/07/19/cli-math.html</guid>
        
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>console</category>
        
        <category>math</category>
        
        <category>howto</category>
        
      </item>
    
      <item>
        <title>New Storage Pool and Installing a New VM in Text Mode in KVM - HowTo [WIP]</title>
        <description>&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt; Transcribe my log 2024_06_21_1245 &lt;br /&gt;
&lt;strong&gt;[TODO]&lt;/strong&gt; SELinux&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Assumptions:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Your KVM server name: &lt;em&gt;yourkvmserver.com&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;New VM name: &lt;em&gt;appserver1&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;creating-xml-file-template&quot;&gt;Creating XML File Template&lt;/h2&gt;

&lt;p&gt;Log in to your hypervisor.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh dusko@yourkvmserver.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh list --all
 Id    Name                           State
----------------------------------------------------
 1     mail                           running
 2     www                            running
 3     groups                         running
 4     xenon                          running
 5     neon                           running
 6     webmailx                       running
 -     exceed                         shut off
 -     fbsdtest1                      shut off
 -     mailxtest                      shut off

$ sudo virsh pool-list --all
 Name                 State      Autostart
-------------------------------------------
 default              active     yes
 tmp                  active     yes

$ sudo virsh pool-info default
Name:           default
UUID:           a721f571-...
State:          running
Persistent:     yes
Autostart:      yes
Capacity:       4.55 TiB
Allocation:     1.68 TiB
Available:      2.87 TiB

$ sudo virsh pool-info tmp
Name:           tmp
UUID:           5a272ff5-...
State:          running
Persistent:     yes
Autostart:      yes
Capacity:       113.98 GiB
Allocation:     30.51 GiB
Available:      83.47 GiB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-list --pool default
 Name                 Path
------------------------------------------------------------------------------
 exceed.qcow2         /iscsisan/images/exceed.qcow2
 fbsdtest1.qcow2      /iscsisan/images/fbsdtest1.qcow2
 groups.qcow2         /iscsisan/images/groups.qcow2
 mail.qcow2           /iscsisan/images/mail.qcow2
 mailxtest.qcow2      /iscsisan/images/mailxtest.qcow2
 matlab.qcow2         /iscsisan/images/matlab.qcow2
 neon.qcow2           /iscsisan/images/neon.qcow2
 webmailx.qcow2       /iscsisan/images/webmailx.qcow2
 www.qcow2            /iscsisan/images/www.qcow2
 xenon.qcow2          /iscsisan/images/xenon.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -Alh /iscsisan/images/
total 724G
-rw-------. 1 qemu qemu  38G Jun 15 08:01 exceed.qcow2
-rw-r--r--. 1 root root 2.0G Dec  6  2019 fbsdtest1.qcow2
-rw-r--r--. 1 qemu qemu 123G Jun 21 12:48 groups.qcow2
-rw-r--r--. 1 qemu qemu  92G Jun 21 12:49 mail.qcow2
-rw-r--r--. 1 qemu qemu 117G Apr 20  2021 mailxtest.qcow2
-rw-------. 1 root root  25G Jan 28  2020 matlab.qcow2
-rw-r--r--. 1 qemu qemu  79G Jun 21 12:49 neon.qcow2
-rw-------. 1 qemu qemu  46G Jun 21 12:49 webmailx.qcow2
-rw-r--r--. 1 qemu qemu 123G Jun 21 12:49 www.qcow2
-rw-r--r--. 1 qemu qemu  82G Jun 21 12:31 xenon.qcow2

$ qemu-img info /iscsisan/images/groups.qcow2
image: /iscsisan/images/groups.qcow2
file format: qcow2
virtual size: 123G (131941395456 bytes)
disk size: 123G
cluster_size: 65536
Format specific information:
    compat: 1.1
    lazy refcounts: true

$ sudo virsh vol-info /iscsisan/images/groups.qcow2 --pool default
Name:           groups.qcow2
Type:           file
Capacity:       122.88 GiB
Allocation:     122.90 GiB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-dumpxml /iscsisan/images/groups.qcow2 --pool default
&amp;lt;volume type=&apos;file&apos;&amp;gt;
  &amp;lt;name&amp;gt;groups.qcow2&amp;lt;/name&amp;gt;
  &amp;lt;key&amp;gt;/iscsisan/images/groups.qcow2&amp;lt;/key&amp;gt;
  &amp;lt;source&amp;gt;
  &amp;lt;/source&amp;gt;
  &amp;lt;capacity unit=&apos;bytes&apos;&amp;gt;131941395456&amp;lt;/capacity&amp;gt;
  &amp;lt;allocation unit=&apos;bytes&apos;&amp;gt;131961782272&amp;lt;/allocation&amp;gt;
  &amp;lt;physical unit=&apos;bytes&apos;&amp;gt;131961782272&amp;lt;/physical&amp;gt;
  &amp;lt;target&amp;gt;
    &amp;lt;path&amp;gt;/iscsisan/images/groups.qcow2&amp;lt;/path&amp;gt;
    &amp;lt;format type=&apos;qcow2&apos;/&amp;gt;
    &amp;lt;permissions&amp;gt;
      &amp;lt;mode&amp;gt;0644&amp;lt;/mode&amp;gt;
      &amp;lt;owner&amp;gt;107&amp;lt;/owner&amp;gt;
      &amp;lt;group&amp;gt;107&amp;lt;/group&amp;gt;
      &amp;lt;label&amp;gt;system_u:object_r:svirt_image_t:s0:c65,c100&amp;lt;/label&amp;gt;
    &amp;lt;/permissions&amp;gt;
    &amp;lt;timestamps&amp;gt;
      &amp;lt;atime&amp;gt;1718999550.568884804&amp;lt;/atime&amp;gt;
      &amp;lt;mtime&amp;gt;1718999545.766868089&amp;lt;/mtime&amp;gt;
      &amp;lt;ctime&amp;gt;1718999545.766868089&amp;lt;/ctime&amp;gt;
    &amp;lt;/timestamps&amp;gt;
    &amp;lt;compat&amp;gt;1.1&amp;lt;/compat&amp;gt;
    &amp;lt;features&amp;gt;
      &amp;lt;lazy_refcounts/&amp;gt;
    &amp;lt;/features&amp;gt;
  &amp;lt;/target&amp;gt;
&amp;lt;/volume&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep 107 /etc/passwd
qemu:x:107:107:qemu user:/:/sbin/nologin

$ grep 107 /etc/group
qemu:x:107:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vi ~/vol-template-for-appserver1.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat ~/vol-template-for-appserver1.xml
&amp;lt;volume type=&apos;file&apos;&amp;gt;
  &amp;lt;name&amp;gt;appserver1.qcow2&amp;lt;/name&amp;gt;
  &amp;lt;key&amp;gt;/iscsisan/images/appserver1.qcow2&amp;lt;/key&amp;gt;
  &amp;lt;source&amp;gt;
  &amp;lt;/source&amp;gt;
  &amp;lt;capacity unit=&apos;G&apos;&amp;gt;240&amp;lt;/capacity&amp;gt;
  &amp;lt;target&amp;gt;
    &amp;lt;path&amp;gt;/iscsisan/images/appserver1.qcow2&amp;lt;/path&amp;gt;
    &amp;lt;format type=&apos;qcow2&apos;/&amp;gt;
    &amp;lt;permissions&amp;gt;
      &amp;lt;mode&amp;gt;0644&amp;lt;/mode&amp;gt;
      &amp;lt;owner&amp;gt;107&amp;lt;/owner&amp;gt;
      &amp;lt;group&amp;gt;107&amp;lt;/group&amp;gt;
      &amp;lt;label&amp;gt;virt_image_t&amp;lt;/label&amp;gt;
    &amp;lt;/permissions&amp;gt;
  &amp;lt;/target&amp;gt;
&amp;lt;/volume&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 virsh vol-create \
 --pool default \
 ~/vol-template-for-appserver1.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Vol appserver1.qcow2 created from /home/dusko/vol-template-for-appserver1.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-list --pool default
 Name                 Path
------------------------------------------------------------------------------
 appserver1.qcow2     /iscsisan/images/appserver1.qcow2
 exceed.qcow2         /iscsisan/images/exceed.qcow2
 fbsdtest1.qcow2      /iscsisan/images/fbsdtest1.qcow2
 groups.qcow2         /iscsisan/images/groups.qcow2
 mail.qcow2           /iscsisan/images/mail.qcow2
 mailxtest.qcow2      /iscsisan/images/mailxtest.qcow2
 matlab.qcow2         /iscsisan/images/matlab.qcow2
 neon.qcow2           /iscsisan/images/neon.qcow2
 webmailx.qcow2       /iscsisan/images/webmailx.qcow2
 www.qcow2            /iscsisan/images/www.qcow2
 xenon.qcow2          /iscsisan/images/xenon.qcow2

$ ls -lh /iscsisan/images/appserver1.qcow2
-rw-r--r--. 1 qemu qemu 196K Jun 21 13:44 /iscsisan/images/appserver1.qcow2

$ date
Fri Jun 21 13:44:30 PDT 2024

$ file /iscsisan/images/appserver1.qcow2
/iscsisan/images/appserver1.qcow2: QEMU QCOW Image (v2), 257698037760 bytes

$ qemu-img info /iscsisan/images/appserver1.qcow2
image: /iscsisan/images/appserver1.qcow2
file format: qcow2
virtual size: 240G (257698037760 bytes)
disk size: 196K
cluster_size: 65536
Format specific information:
    compat: 0.10

$ sudo virsh vol-info /iscsisan/images/appserver1.qcow2
Name:           appserver1.qcow2
Type:           file
Capacity:       240.00 GiB
Allocation:     196.00 KiB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-dumpxml /iscsisan/images/appserver1.qcow2 --pool default
&amp;lt;volume type=&apos;file&apos;&amp;gt;
  &amp;lt;name&amp;gt;appserver1.qcow2&amp;lt;/name&amp;gt;
  &amp;lt;key&amp;gt;/iscsisan/images/appserver1.qcow2&amp;lt;/key&amp;gt;
  &amp;lt;source&amp;gt;
  &amp;lt;/source&amp;gt;
  &amp;lt;capacity unit=&apos;bytes&apos;&amp;gt;257698037760&amp;lt;/capacity&amp;gt;
  &amp;lt;allocation unit=&apos;bytes&apos;&amp;gt;200704&amp;lt;/allocation&amp;gt;
  &amp;lt;physical unit=&apos;bytes&apos;&amp;gt;200704&amp;lt;/physical&amp;gt;
  &amp;lt;target&amp;gt;
    &amp;lt;path&amp;gt;/iscsisan/images/appserver1.qcow2&amp;lt;/path&amp;gt;
    &amp;lt;format type=&apos;qcow2&apos;/&amp;gt;
    &amp;lt;permissions&amp;gt;
      &amp;lt;mode&amp;gt;0644&amp;lt;/mode&amp;gt;
      &amp;lt;owner&amp;gt;107&amp;lt;/owner&amp;gt;
      &amp;lt;group&amp;gt;107&amp;lt;/group&amp;gt;
      &amp;lt;label&amp;gt;system_u:object_r:unlabeled_t:s0&amp;lt;/label&amp;gt;
    &amp;lt;/permissions&amp;gt;
    &amp;lt;timestamps&amp;gt;
      &amp;lt;atime&amp;gt;1719002657.236714680&amp;lt;/atime&amp;gt;
      &amp;lt;mtime&amp;gt;1719002657.232714666&amp;lt;/mtime&amp;gt;
      &amp;lt;ctime&amp;gt;1719002657.235714676&amp;lt;/ctime&amp;gt;
    &amp;lt;/timestamps&amp;gt;
  &amp;lt;/target&amp;gt;
&amp;lt;/volume&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -Alh /iscsisan/
total 123G
drwxr-xr-x. 1 root  root    16 Sep  6  2020 abacuswebmo
drwxr-xr-x. 1 qemu  qemu   270 Jun 21 13:44 images
drwxrwxr-x. 1 dusko dusko  870 Dec  3  2019 neon
-rw-r--r--. 1 qemu  qemu  123G Jul 13  2019 www.qcow2
-rw-r--r--. 1 root  root  197K Jul 13  2019 www.qcow2.original.bak

$ ls -Alh /iscsisan/images/
total 724G
-rw-r--r--. 1 qemu qemu 196K Jun 21 13:44 appserver1.qcow2
-rw-------. 1 qemu qemu  38G Jun 15 08:01 exceed.qcow2
-rw-r--r--. 1 root root 2.0G Dec  6  2019 fbsdtest1.qcow2
-rw-r--r--. 1 qemu qemu 123G Jun 21 13:54 groups.qcow2
-rw-r--r--. 1 qemu qemu  92G Jun 21 13:54 mail.qcow2
-rw-r--r--. 1 qemu qemu 117G Apr 20  2021 mailxtest.qcow2
-rw-------. 1 root root  25G Jan 28  2020 matlab.qcow2
-rw-r--r--. 1 qemu qemu  79G Jun 21 13:54 neon.qcow2
-rw-------. 1 qemu qemu  46G Jun 21 13:54 webmailx.qcow2
-rw-r--r--. 1 qemu qemu 123G Jun 21 13:54 www.qcow2
-rw-r--r--. 1 qemu qemu  82G Jun 21 13:54 xenon.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Previously I copied RHEL 9.2 ISO DVD image to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/iscsisan/ISO/rhel-9.2-x86_64-dvd.iso&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;NOTE: For the following &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virt-install&lt;/code&gt; command: Instead of probably more common &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--disk=&amp;lt;disk_size&amp;gt;&lt;/code&gt;, in this case you will use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--disk vol=poolname/volname&lt;/code&gt; option for specifying storage volume.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 virt-install \
 --name appserver1 \
 --memory 8192 \
 --vcpus 4 \
 --disk vol=default/appserver1.qcow2 \
 --os-variant rhel9.2 \
 --graphics none \
 --location /iscsisan/ISO/rhel-9.2-x86_64-dvd.iso \
 --extra-args=&apos;console=ttyS0&apos;

ERROR    Error validating install location: Distro &apos;rhel9.2&apos; does not exist in our dictionary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virt-install&lt;/code&gt;, it’s not critical to use an &lt;em&gt;os-variant&lt;/em&gt; config distro file.&lt;/p&gt;

&lt;p&gt;The distro config file is used to lookup the optimized drivers to use primarily for disk and network.
You could just use the ‘rhel8’ distro type when installing ‘rhel-9.2’ and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virt-install&lt;/code&gt; would work fine.
If you were to do that, it could mean that some defaults may be configured with suboptimal values; for example, if there have been changes in defaults between &lt;em&gt;rhel8&lt;/em&gt; and &lt;em&gt;rhel9&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virt-install&lt;/code&gt; gets its OS information from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osinfo-db&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;If your OS does not have a recent version of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osinfo-db&lt;/code&gt;, you can manually download it from &lt;a href=&quot;https://libosinfo.org/download.html&quot;&gt;libosinfo: The Operating System information database - Download page&lt;/a&gt;, &lt;a href=&quot;https://releases.pagure.org/libosinfo/&quot;&gt;libosinfo: The Operating System information database - Download site&lt;/a&gt;, and import it.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wget https://releases.pagure.org/libosinfo/osinfo-db-20231215.tar.xz 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You could use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tar(1)&lt;/code&gt; to check for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rhel9&lt;/code&gt; configurations.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tar xf osinfo-db-20231215.tar.xz

$ ls osinfo-db-20231215/os/redhat.com/rhel-9*
osinfo-db-20231215/os/redhat.com/rhel-9-unknown.xml
osinfo-db-20231215/os/redhat.com/rhel-9.0.xml
osinfo-db-20231215/os/redhat.com/rhel-9.1.xml
osinfo-db-20231215/os/redhat.com/rhel-9.2.xml
osinfo-db-20231215/os/redhat.com/rhel-9.3.xml
osinfo-db-20231215/os/redhat.com/rhel-9.4.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After that, you could import it into your system by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osinfo-db-import&lt;/code&gt; command: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osinfo-db-import -v osinfo-db-20231215.tar.xz&lt;/code&gt;. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-v&lt;/code&gt; options displays all imported OSes.&lt;/p&gt;

&lt;p&gt;Since in this case you have the Red Hat Subscription Management (RHSM) (previously Red Hat Customer Portal or RedHat Network Systems Management (RHN) or just RHEL Subscription), download and install the RPM package for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osinfo-db&lt;/code&gt; from Red Hat.&lt;/p&gt;

&lt;p&gt;However, I had problems with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscription-manager&lt;/code&gt; so I first had to fix that.
For how it was done, refer to the section below, &lt;em&gt;Troubleshooting RHEL Repos and subscription-manager&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;After that, see &lt;em&gt;Installing osinfo-db Package Manually&lt;/em&gt; section further down.&lt;/p&gt;

&lt;h2 id=&quot;troubleshooting-rhel-repos-and-subscription-manager&quot;&gt;Troubleshooting RHEL Repos and subscription-manager&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/redhat-release
Red Hat Enterprise Linux Server release 7.6 (Maipo)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum list installed | wc -l
There was an error communicating with RHN.
Red Hat Satellite or RHN Classic support will be disabled.
Error communicating with server. The message was:
Unable to connect to the host and port specified
880
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum list installed | grep osinfo
There was an error communicating with RHN.
Red Hat Satellite or RHN Classic support will be disabled.
Error communicating with server. The message was:
Unable to connect to the host and port specified
libosinfo.x86_64               1.1.0-3.el7         @rhel-x86_64-server-7
osinfo-db.noarch               20190319-2.el7      @rhel-x86_64-server-7
osinfo-db-tools.x86_64         1.1.0-1.el7         @rhel-x86_64-server-7

$ sudo yum update osinfo-db
Loaded plugins: langpacks, product-id, rhnplugin, search-disabled-repos,
              : subscription-manager
There was an error communicating with RHN.
Red Hat Satellite or RHN Classic support will be disabled.
Error communicating with server. The message was:
Unable to connect to the host and port specified
There are no enabled repos.
 Run &quot;yum repolist all&quot; to see the repos you have.
 To enable Red Hat Subscription Management repositories:
     subscription-manager repos --enable &amp;lt;repo&amp;gt;
 To enable custom repositories:
     yum-config-manager --enable &amp;lt;repo&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum list installed | grep -i katello
There was an error communicating with RHN.
Red Hat Satellite or RHN Classic support will be disabled.
Error communicating with server. The message was:
Unable to connect to the host and port specified

$ rpm -qa | wc -l
847

$ rpm -qa | grep -i katello
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some references pointing to issues with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscription-manager&lt;/code&gt; are also logged in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/log/messages&lt;/code&gt;.
Here’s some excerpts from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/log/messages&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Jun 21 15:55:36 appserver1 systemd[1]: Starting dnf makecache...
Jun 21 15:55:37 appserver1 dnf[1738]: Updating Subscription Management repositories.
Jun 21 15:55:37 appserver1 dnf[1738]: Unable to read consumer identity
Jun 21 15:55:37 appserver1 dnf[1738]: This system is not registered with an entitlement server. You can use subscription-manager to register.
Jun 21 15:55:37 appserver1 dnf[1738]: Failed determining last makecache time.
Jun 21 15:55:37 appserver1 dnf[1738]: There are no enabled repositories in &quot;/etc/yum.repos.d&quot;, &quot;/etc/yum/repos.d&quot;, &quot;/etc/distro.repos.d&quot;.
Jun 21 15:55:37 appserver1 systemd[1]: dnf-makecache.service: Deactivated successfully.
Jun 21 15:55:37 appserver1 systemd[1]: Finished dnf makecache.
Jun 21 16:25:36 appserver1 systemd[1]:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/log/messages&lt;/code&gt; excerpt is from a different server, which was previously registered but in the meantime started experiencing problems with RHEL subscription:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;... subscription-manager: Added subscription for &apos;Content Access&apos; contract &apos;None&apos;
... subscription-manager: Added subscription for product &apos; Content Access&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 yum install --nogpgcheck \
 http://your.satelliteserver.com/pub/katello-ca-consumer-latest.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 subscription-manager register \
 --org=NameProvidedByYourOrg \
 --activationkey=YourActivationKey
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;WARNING

This system has already been registered with Red Hat using RHN Classic.

Your system is being registered again using Red Hat Subscription Management.
Red Hat recommends that customers only register once.

To learn how to unregister from either service please consult this
Knowledge Base Article:  https://access.redhat.com/kb/docs/DOC-45563

The system has been registered with ID: 9afd7f11-...
The registered system name is: kvmname2.yourdomain.com
Installed Product Current Status:
Product Name: Red Hat Enterprise Linux Server
Status:       Not Subscribed

Unable to find available subscriptions for all your installed products.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager identity
server type: RHN Classic and Red Hat Subscription Management
system identity: 9afd7f11-...
name: kvmname2.yourdomain.com
org name: Your Org Name
org ID: YourOrgName
environment name: Library/RHEL-7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager repos --list
+----------------------------------------------------------+
    Available Repositories in /etc/yum.repos.d/redhat.repo
+----------------------------------------------------------+
Repo ID:   jws-5-for-rhel-7-server-rpms
Repo Name: JBoss Web Server 5 (RHEL 7 Server) (RPMs)
Repo URL:  https://your.satelliteserver.com/pulp/content/OrgName/Library/RHEL-
           7/content/dist/rhel/server/7/7Server/$basearch/jws/5/os
Enabled:   0
. . . 

[ skipped 80 lines ]
. . . 

Repo ID:   rhel-7-server-satellite-client-6-rpms
Repo Name: Red Hat Satellite Client 6 (for RHEL 7 Server) (RPMs)
Repo URL:  https://your.satelliteserver.com/pulp/content/OrgName/Library/RHEL-
           7/content/dist/rhel/server/7/7Server/$basearch/sat-client/6/os
Enabled:   1

Repo ID:   rhel-7-server-satellite-capsule-6.6-rpms
Repo Name: Red Hat Satellite Capsule 6.6 (for RHEL 7 Server) (RPMs)
Repo URL:  https://your.satelliteserver.com/pulp/content/OrgName/Library/RHEL-
           7/content/dist/rhel/server/7/7Server/$basearch/sat-capsule/6.6/os
Enabled:   0

Repo ID:   rhel-7-server-rpms
Repo Name: Red Hat Enterprise Linux 7 Server (RPMs)
Repo URL:  https://your.satelliteserver.com/pulp/content/OrgName/Library/RHEL-
           7/content/dist/rhel/server/7/$releasever/$basearch/os
Enabled:   1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager identity
server type: RHN Classic and Red Hat Subscription Management
system identity: 9afd7f11-...
name: kvmname2.yourdomain.com
org name: Your Org Name
org ID: YourOrgName
environment name: Library/RHEL-7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager status
+-------------------------------------------+
   System Status Details
+-------------------------------------------+
Overall Status: Unknown
Content Access Mode is set to Organization/Environment Access. This host has access to content, regar
dless of subscription status.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:   Red Hat Enterprise Linux Server
Product ID:     69
Version:        7.9
Arch:           x86_64
Status:         Not Subscribed
Status Details:
Starts:
Ends:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager list --available
+-------------------------------------------+
    Available Subscriptions
+-------------------------------------------+
Subscription Name:   Red Hat Enterprise Linux Academic Site Subscription with
                     Satellite, Standard (Server, Desktop, Workstation, POWER,
                     HPC, Per FTE)
Provides:            Red Hat Beta
                     Red Hat Enterprise Linux for Power, big endian - Extended
                     Update Support
                     Red Hat Enterprise Linux for x86_64
. . . 
[ skipped 85 lines ]
. . . 
SKU:                 RH01157
Contract:            1.......
Pool ID:             0ee7b......
Provides Management: Yes
Available:           5000
Suggested:           1
Service Level:       Standard
Service Type:        L1-L3
Subscription Type:   Standard
Starts:              04/30/2024
Ends:                05/02/2025
System Type:         Physical

Subscription Name:   Red Hat Ansible Automation Platform (Academic Edition),
                     Standard (100 Managed Nodes)
Provides:            Red Hat Ansible Automation Platform
                     Red Hat Ansible Engine
                     Red Hat Single Sign-On
                     JBoss Enterprise Application Platform
                        . . . 
                  [ cut 12 lines ]
                        . . . 

Subscription Name:   Red Hat Enterprise Linux Academic Extended Life Cycle
                     Support (Unlimited Guests)
Provides:            Red Hat Enterprise Linux Server - Extended Life Cycle
                     Support
                        . . . 
                  [ cut 12 lines ]
                        . . . 

Subscription Name:   Red Hat JBoss Enterprise Application Platform ELS Program,
                     64-Core Standard
Provides:            Red Hat JBoss Data Grid
                     JBoss Enterprise Application Platform - ELS
                     Red Hat AMQ Interconnect
                     OpenJDK Java (for Middleware)
                        . . . 
                  [ cut 12 lines ]
                        . . . 

Subscription Name:   Red Hat JBoss Enterprise Application Platform, 64-Core
                     Standard
Provides:            Red Hat Beta
                     Red Hat Software Collections (for RHEL Server)
                     Red Hat Openshift Serverless
                     Red Hat Enterprise Linux for x86_64
                        . . . 
                     Red Hat CoreOS
                     Red Hat Ansible Engine
                        . . . 
                     Oracle Java (for RHEL Server)
                        . . . 
                     Red Hat Enterprise Linux Server
                        . . . 

Subscription Name:   Red Hat Directory Server (Replica)
Provides:            Red Hat Directory Server
                        . . . 

Subscription Name:   Red Hat Satellite Infrastructure Subscription
Provides:            Red Hat Beta
                     Red Hat Software Collections (for RHEL Server)
                     Red Hat Enterprise Linux for x86_64
                     Red Hat CodeReady Linux Builder for x86_64
                     Red Hat Ansible Engine
                     Red Hat Enterprise Linux Load Balancer (for RHEL Server)
                     Red Hat Discovery
                     Red Hat Satellite 5 Managed DB
                     Red Hat Satellite Capsule
                     Red Hat Enterprise Linux Server
                        . . . 

Subscription Name:   Red Hat Directory Server
Provides:            Red Hat Directory Server
                        . . . 
                  [ cut 12 lines ]
                        . . . 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum repolist all
Loaded plugins: langpacks, product-id, rhnplugin, search-disabled-repos,
              : subscription-manager
There was an error communicating with RHN.
Red Hat Satellite or RHN Classic support will be disabled.
Error communicating with server. The message was:
Unable to connect to the host and port specified
repo id                                           repo name      status
jws-3-for-rhel-7-server-rpms/7Server/x86_64       JBoss Web Serv disabled
jws-5-for-rhel-7-server-rpms/x86_64               JBoss Web Serv disabled
rhel-7-server-ansible-2-rpms/x86_64               Red Hat Ansibl disabled
rhel-7-server-ansible-2.8-rpms/x86_64             Red Hat Ansibl disabled
rhel-7-server-devtools-rpms/x86_64                Red Hat Develo disabled
rhel-7-server-dotnet-rpms/7Server/x86_64          dotNET on RHEL disabled
rhel-7-server-extras-rpms/x86_64                  Red Hat Enterp disabled
rhel-7-server-optional-rpms/7Server/x86_64        Red Hat Enterp disabled
rhel-7-server-rh-common-rpms/7Server/x86_64       Red Hat Enterp disabled
rhel-7-server-rhn-tools-rpms/7Server/x86_64       RHN Tools for  disabled
!rhel-7-server-rpms/7Server/x86_64                Red Hat Enterp enabled: 34,473
rhel-7-server-satellite-capsule-6.6-rpms/x86_64   Red Hat Satell disabled
!rhel-7-server-satellite-client-6-rpms/x86_64     Red Hat Satell enabled:     37
rhel-7-server-satellite-maintenance-6-rpms/x86_64 Red Hat Satell disabled
rhel-7-server-supplementary-rpms/7Server/x86_64   Red Hat Enterp disabled
rhel-server-rhscl-7-rpms/7Server/x86_64           Red Hat Softwa disabled
repolist: 34,510
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager list --consumed
+-------------------------------------------+
   Consumed Subscriptions
+-------------------------------------------+
Subscription Name:   Red Hat Enterprise Linux Academic Site Subscription with
                     Satellite, Standard (Server, Desktop, Workstation, POWER,
                     HPC, Per FTE)
Provides:            Red Hat Enterprise Linux Atomic Host
                        . . .
                     Red Hat Enterprise Linux for x86_64
                        . . .
                     Red Hat Ansible Engine
                     Red Hat Enterprise Linux Desktop
                     Red Hat Enterprise Linux Server
                        . . .
                        . . .
SKU:                 RH01157
Contract:            1.......
Account:             6.....
Serial:              61........................
Pool ID:             0ee7b......
Provides Management: Yes
Active:              True
Quantity Used:       1
Service Level:       Standard
Service Type:        L1-L3
Status Details:      Subscription is current
Subscription Type:   Standard
Starts:              04/30/2024
Ends:                05/02/2025
System Type:         Physical
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum -C repolist
Loaded plugins: langpacks, product-id, rhnplugin, search-disabled-repos,
              : subscription-manager
repo id                                       repo name                   status
!jws-3-x86_64-server-7-rpm                    Red Hat JBoss Web Server (v    476
!rhel-7-server-rpms/7Server/x86_64            Red Hat Enterprise Linux 7  34,473
!rhel-7-server-satellite-client-6-rpms/x86_64 Red Hat Satellite Client 6      37
!rhel-x86_64-server-7                         Red Hat Enterprise Linux Se 29,414
!rhel-x86_64-server-7-rhscl-1                 Red Hat Software Collection 12,735
!rhel-x86_64-server-extras-7                  RHEL Server Extras (v. 7 fo  1,303
!rhel-x86_64-server-optional-7                RHEL Server Optional (v. 7  21,413
!rhel-x86_64-server-supplementary-7           RHEL Server Supplementary (    376
!rhn-tools-rhel-x86_64-server-7               RHN Tools for RHEL Server (    139
repolist: 100,366
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager config
[server]
   hostname = your.satelliteserver.com
   insecure = [0]
   no_proxy = []
   port = [443]
   prefix = /rhsm
   proxy_hostname = []
   proxy_password = []
   proxy_port = []
   proxy_user = []
   server_timeout = [180]
   ssl_verify_depth = [3]

[rhsm]
   auto_enable_yum_plugins = [1]
   baseurl = https://your.satelliteserver.com/pulp/content/
   ca_cert_dir = [/etc/rhsm/ca/]
   consumercertdir = [/etc/pki/consumer]
   entitlementcertdir = [/etc/pki/entitlement]
   full_refresh_on_yum = 1
   inotify = [1]
   manage_repos = [1]
   pluginconfdir = [/etc/rhsm/pluginconf.d]
   plugindir = [/usr/share/rhsm-plugins]
   productcertdir = [/etc/pki/product]
   repo_ca_cert = /etc/rhsm/ca/katello-server-ca.pem
   repomd_gpg_url = []
   report_package_profile = [1]

[rhsmcertd]
   autoattachinterval = [1440]
   certcheckinterval = [240]
   splay = [1]

[logging]
   default_log_level = [INFO]

[] - Default value in use
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum update osinfo-db
. . . 

Updated:
  osinfo-db.noarch 0:20200529-1.el7

Complete!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osinfo-query os&lt;/code&gt; command gives you a list of supported operating system variants.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ osinfo-query os | wc -l
662

$ osinfo-query os | grep rhel | wc -l
73

$ osinfo-query os | grep rhel9 | wc -l
0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 yum -y remove rhn-setup rhn-client-tools yum-rhn-plugin \
 rhnsd rhn-check rhnlib spacewalk-abrt spacewalk-oscap \
 osad &apos;rh-*-rhui-client&apos; &apos;candlepin-cert-consumer-*&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum list installed | grep -i katello
katello-ca-consumer-your.satelliteserver.com.noarch

$ sudo subscription-manager remove --all
1 local certificate has been deleted.
1 subscription removed at the server.

$ sudo subscription-manager unregister
Unregistering from: your.satelliteserver.com:443/rhsm
System has been unregistered.

$ sudo subscription-manager clean
All local data removed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 yum install --nogpgcheck \
 http://your.satelliteserver.com/pub/katello-ca-consumer-latest.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager register --org=NameProvidedByYourOrg --activationkey=YourActivationKey
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The system has been registered with ID: 8f326fad-...
The registered system name is: kvmname2.yourdomain.com

Installed Product Current Status:
Product Name: Red Hat Enterprise Linux Server
Status:       Not Subscribed

Unable to find available subscriptions for all your installed products.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager attach --auto
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum clean all
Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-
              : manager
Cleaning repos: rhel-7-server-rpms rhel-7-server-satellite-client-6-rpms
Other repos take up 945 M of disk space (use --verbose for details)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ du -chs /var/cache/yum/
945M    /var/cache/yum/
945M    total

$ sudo du -chs /var/cache/yum/
945M    /var/cache/yum/
945M    total

$ sudo rm -rf /var/cache/yum/*

$ sudo du -chs /var/cache/yum/
0       /var/cache/yum/
0       total
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager unregister
Unregistering from: your.satelliteserver.com:443/rhsm

System has been unregistered.

$ sudo subscription-manager clean
All local data removed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum remove &apos;katello-ca-consumer*&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 yum install --nogpgcheck \
 http://your.satelliteserver.com/pub/katello-ca-consumer-latest.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager register --org=NameProvidedByYourOrg --activationkey=YourActivationKey
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The system has been registered with ID: a4bba9cb-...
The registered system name is: kvmname2.yourdomain.com
Installed Product Current Status:
Product Name: Red Hat Enterprise Linux Server
Status:       Not Subscribed

Unable to find available subscriptions for all your installed products.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum -y remove rhn-setup rhn-client-tools yum-rhn-plugin rhnsd \
 rhn-check rhnlib spacewalk-abrt spacewalk-oscap osad &apos;rh-*-rhui-client&apos; \
 &apos;candlepin-cert-consumer-*&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager repos --list
. . . 
Repo ID:   rhel-7-server-satellite-client-6-rpms
Repo Name: Red Hat Satellite Client 6 (for RHEL 7 Server) (RPMs)

Repo URL:  https://your.satelliteserver.com/pulp/content/OrgName/Library/RHEL-
           7/content/dist/rhel/server/7/7Server/$basearch/sat-client/6/os
Enabled:   1

Repo ID:   rhel-7-server-satellite-capsule-6.6-rpms
Repo Name: Red Hat Satellite Capsule 6.6 (for RHEL 7 Server) (RPMs)
Repo URL:  https://your.satelliteserver.com/pulp/content/OrgName/Library/RHEL-
           7/content/dist/rhel/server/7/7Server/$basearch/sat-capsule/6.6/os
Enabled:   0

Repo ID:   rhel-7-server-rpms
Repo Name: Red Hat Enterprise Linux 7 Server (RPMs)
Repo URL:  https://your.satelliteserver.com/pulp/content/OrgName/Library/RHEL-
           7/content/dist/rhel/server/7/$releasever/$basearch/os
Enabled:   1
. . . 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum repolist all
Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-
              : manager
This system is registered with an entitlement server, but is not receiving updates. You can use subscription-manager to assign subscriptions.

repo id                                           repo name      status
jws-3-for-rhel-7-server-rpms/7Server/x86_64       JBoss Web Serv disabled
jws-5-for-rhel-7-server-rpms/x86_64               JBoss Web Serv disabled
rhel-7-server-ansible-2-rpms/x86_64               Red Hat Ansibl disabled
rhel-7-server-ansible-2.8-rpms/x86_64             Red Hat Ansibl disabled
rhel-7-server-devtools-rpms/x86_64                Red Hat Develo disabled
rhel-7-server-dotnet-rpms/7Server/x86_64          dotNET on RHEL disabled
rhel-7-server-extras-rpms/x86_64                  Red Hat Enterp disabled
rhel-7-server-optional-rpms/7Server/x86_64        Red Hat Enterp disabled
rhel-7-server-rh-common-rpms/7Server/x86_64       Red Hat Enterp disabled
rhel-7-server-rhn-tools-rpms/7Server/x86_64       RHN Tools for  disabled
!rhel-7-server-rpms/7Server/x86_64                Red Hat Enterp enabled: 34,473
rhel-7-server-satellite-capsule-6.6-rpms/x86_64   Red Hat Satell disabled
!rhel-7-server-satellite-client-6-rpms/x86_64     Red Hat Satell enabled:     37
rhel-7-server-satellite-maintenance-6-rpms/x86_64 Red Hat Satell disabled
rhel-7-server-supplementary-rpms/7Server/x86_64   Red Hat Enterp disabled
rhel-server-rhscl-7-rpms/7Server/x86_64           Red Hat Softwa disabled
repolist: 34,510
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager repos --enable rhel-7-server-extras-rpms
Repository &apos;rhel-7-server-extras-rpms&apos; is enabled for this system.

$ sudo subscription-manager repos --enable rhel-7-server-optional-rpms
Repository &apos;rhel-7-server-optional-rpms&apos; is enabled for this system.

$ sudo subscription-manager repos --enable rhel-7-server-rh-common-rpms
Repository &apos;rhel-7-server-rh-common-rpms&apos; is enabled for this system.

$ sudo subscription-manager repos --enable rhel-7-server-rhn-tools-rpms
Repository &apos;rhel-7-server-rhn-tools-rpms&apos; is enabled for this system.

$ sudo subscription-manager repos --enable rhel-7-server-satellite-capsule-6.6-rpms
Repository &apos;rhel-7-server-satellite-capsule-6.6-rpms&apos; is enabled for this system.

$ sudo subscription-manager repos --enable rhel-7-server-satellite-maintenance-6-rpms
Repository &apos;rhel-7-server-satellite-maintenance-6-rpms&apos; is enabled for this system.

$ sudo subscription-manager repos --enable rhel-7-server-supplementary-rpms
Repository &apos;rhel-7-server-supplementary-rpms&apos; is enabled for this system.

$ sudo subscription-manager repos --enable rhel-server-rhscl-7-rpms
Repository &apos;rhel-server-rhscl-7-rpms&apos; is enabled for this system.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum repolist all
Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-
              : manager
This system is registered with an entitlement server, but is not receiving updates. You can use subsc
ription-manager to assign subscriptions.
rhel-7-server-extras-rpms                                | 3.4 kB     00:00
rhel-7-server-optional-rpms                              | 3.2 kB     00:00
rhel-7-server-rh-common-rpms                             | 3.8 kB     00:00
rhel-7-server-rhn-tools-rpms                             | 3.8 kB     00:00
rhel-7-server-rpms                                       | 3.5 kB     00:00
rhel-7-server-satellite-capsule-6.6-rpms                 | 4.0 kB     00:00
rhel-7-server-satellite-client-6-rpms                    | 3.8 kB     00:00
rhel-7-server-satellite-maintenance-6-rpms               | 3.8 kB     00:00
rhel-7-server-supplementary-rpms                         | 3.4 kB     00:00
rhel-server-rhscl-7-rpms                                 | 3.5 kB     00:00
(1/3): rhel-server-rhscl-7-rpms/7Server/x86_64/group       |  124 B   00:00
(2/3): rhel-server-rhscl-7-rpms/7Server/x86_64/updateinfo  | 1.3 MB   00:00
(3/3): rhel-server-rhscl-7-rpms/7Server/x86_64/primary_db  | 6.6 MB   00:00
repo id                                            repo name     status
jws-3-for-rhel-7-server-rpms/7Server/x86_64        JBoss Web Ser disabled
jws-5-for-rhel-7-server-rpms/x86_64                JBoss Web Ser disabled
rhel-7-server-ansible-2-rpms/x86_64                Red Hat Ansib disabled
rhel-7-server-ansible-2.8-rpms/x86_64              Red Hat Ansib disabled
rhel-7-server-devtools-rpms/x86_64                 Red Hat Devel disabled
rhel-7-server-dotnet-rpms/7Server/x86_64           dotNET on RHE disabled
!rhel-7-server-extras-rpms/x86_64                  Red Hat Enter enabled:  1,482
!rhel-7-server-optional-rpms/7Server/x86_64        Red Hat Enter enabled: 24,420
!rhel-7-server-rh-common-rpms/7Server/x86_64       Red Hat Enter enabled:    243
!rhel-7-server-rhn-tools-rpms/7Server/x86_64       RHN Tools for enabled:    139
!rhel-7-server-rpms/7Server/x86_64                 Red Hat Enter enabled: 34,473
!rhel-7-server-satellite-capsule-6.6-rpms/x86_64   Red Hat Satel enabled:    231
!rhel-7-server-satellite-client-6-rpms/x86_64      Red Hat Satel enabled:     37
!rhel-7-server-satellite-maintenance-6-rpms/x86_64 Red Hat Satel enabled:     62
!rhel-7-server-supplementary-rpms/7Server/x86_64   Red Hat Enter enabled:    511
!rhel-server-rhscl-7-rpms/7Server/x86_64           Red Hat Softw enabled: 14,708
repolist: 76,306
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum install katello-host-tools
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum list installed | grep -i katello
katello-ca-consumer-your.satelliteserver.com.noarch
katello-host-tools.noarch 4.2.3-5.el7sat  @rhel-7-server-satellite-client-6-rpms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum update rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum list installed | grep -i osinfo
libosinfo.x86_64               1.1.0-3.el7         @rhel-x86_64-server-7
osinfo-db.noarch               20200529-1.el7      @rhel-7-server-rpms
osinfo-db-tools.x86_64         1.1.0-1.el7         @rhel-x86_64-server-7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;installing-osinfo-db-package-manually&quot;&gt;Installing osinfo-db Package Manually&lt;/h3&gt;

&lt;p&gt;Separately download RPM for the latest version of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osinfo-db&lt;/code&gt; package from the Red Hat Subscription Management (RHSM) (previously Red Hat Customer Portal or RedHat Network Systems Management (RHN) or just RHEL Subscription).&lt;/p&gt;

&lt;p&gt;After you log in to the RHSM, navigate to &lt;a href=&quot;https://access.redhat.com/downloads/&quot;&gt;Downloads&lt;/a&gt; &amp;gt; Software Components &amp;gt; RPM Package Search.
Search for: &lt;em&gt;osinfo-db&lt;/em&gt;.
Choose Version of the package from its drop-down.
Click on the ‘Download Now’ link .
(Package name in this case was &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;osinfo-db-20231215-1.el8.noarch.rpm&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum install /home/dusko/osinfo-db-20231215-1.el8.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ osinfo-query os | wc -l
844

$ osinfo-query os | grep rhel9 | wc -l
6

$ osinfo-query os | grep rhel9
rhel9-unknown | Red Hat Enterprise Linux 9 Unknown | 9-unknown | http://redhat.com/rhel/9-unknown
rhel9.0       | Red Hat Enterprise Linux 9.0       | 9.0       | http://redhat.com/rhel/9.0
rhel9.1       | Red Hat Enterprise Linux 9.1       | 9.1       | http://redhat.com/rhel/9.1
rhel9.2       | Red Hat Enterprise Linux 9.2       | 9.2       | http://redhat.com/rhel/9.2
rhel9.3       | Red Hat Enterprise Linux 9.3       | 9.3       | http://redhat.com/rhel/9.3
rhel9.4       | Red Hat Enterprise Linux 9.4       | 9.4       | http://redhat.com/rhel/9.4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;install-a-guest-vm-with-virt-install&quot;&gt;Install a Guest VM with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virt-install&lt;/code&gt;&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 virt-install \
 --name appserver1 \
 --memory 8192 \
 --vcpus 4 \
 --disk vol=default/appserver1.qcow2 \
 --os-variant rhel9.2 \
 --graphics none \
 --location /iscsisan/ISO/rhel-9.2-x86_64-dvd.iso \
 --extra-args=&apos;console=ttyS0&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Starting install...
Retrieving file .treeinfo...                                | 1.5 kB  00:00
Retrieving file vmlinuz...                                  |  12 MB  00:00
Retrieving file initrd.img...                               |  96 MB  00:00

Connected to domain appserver1

Escape character is ^]

[    0.000000] Linux version 5.14.0-284.11.1.el9_2.x86_64
  (mockbuild@x86-vm-09.build.eng.bos.redhat.com)
  (gcc (GCC) 11.3.1 20221121 (Red Hat 11.3.1-4), 
  GNU ld version 2.35.2-37.el9) #1 SMP PREEMPT_DYNAMIC
  Wed Apr 12 10:45:03 EDT 2023

[    0.000000] The list of certified hardware and cloud instances for 
  Red Hat Enterprise Linux 9 can be viewed at the Red Hat Ecosystem Catalog,
  https://catalog.redhat.com.

[    0.000000] Command line: console=ttyS0

[    0.000000] x86/fpu: Supporting XSAVE feature 0x001: &apos;x87 floating point registers&apos;
[    0.000000] x86/fpu: Supporting XSAVE feature 0x002: &apos;SSE registers&apos;
                           . . . 
                           . . . 
[    5.792583] systemd[1]: Detected virtualization kvm.
[    5.793158] systemd[1]: Detected architecture x86-64.
[    5.793755] systemd[1]: Running in initrd.

Welcome to Red Hat Enterprise Linux 9.2 (Plow) dracut-057-21.git20230214.el9 (Initramfs)!

[    5.797627] systemd[1]: No hostname configured, using default hostname.
[    5.799878] systemd[1]: Hostname set to &amp;lt;localhost&amp;gt;.
                           . . . 
[    8.140652] RPC: Registered udp transport module.
[    8.141201] RPC: Registered tcp transport module.
[    8.141750] RPC: Registered tcp NFSv4.1 backchannel transport module.

[  OK  ] Finished dracut pre-udev hook.
         Starting Rule-based Manage…for Device Events and Files...
[  OK  ] Started Rule-based Manager for Device Events and Files.
         Starting dracut pre-trigger hook...
[  OK  ] Finished dracut pre-trigger hook.
         Starting Coldplug All udev Devices...

Starting installer, one moment...
anaconda 34.25.2.10-1.el9_2 for Red Hat Enterprise Linux 9.2 started.

 * installation log files are stored in /tmp during the installation
 * shell is available on TTY2
 * if the graphical installation interface fails to start, try again with the
   inst.text bootoption to start text installation
 * when reporting a bug add logs from /tmp as separate text/plain attachments

===============================================================================
===============================================================================

Text mode provides a limited set of installation options. It does not offer
custom partitioning for full control over the disk layout. Would you like to use
VNC mode instead?

1) Start VNC
2) Use text mode

Please make a selection from the above [&apos;c&apos; to continue, &apos;q&apos; to quit, &apos;r&apos; to
refresh]:

      


[anaconda]1:main* 2:shell  3:log  4:storage-log &amp;gt;Switch tab: Alt+Tab | Help: F1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press ‘2’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Please make a selection from the above [&apos;c&apos; to continue, &apos;q&apos; to quit, &apos;r&apos; to
refresh]: 2

================================================================================
================================================================================

Installation

1) [x] Language settings                 2) [x] Time settings
       (English (United States))                (America/New_York timezone)
3) [!] Installation source               4) [!] Software selection
       (Processing...)                          (Processing...)
5) [!] Installation Destination          6) [x] Kdump
       (Processing...)                          (Kdump is enabled)
7) [x] Network configuration             8) [!] Root password
       (Connected: ens3)                        (Root account is disabled)
9) [!] User creation
       (No user will be created)

Please make a selection from the above [&apos;b&apos; to begin installation, &apos;q&apos; to quit,
&apos;r&apos; to refresh]:
[anaconda]1:main* 2:shell  3:log  4:storage-log &amp;gt;Switch tab: Alt+Tab | Help: F1

    2 [x] Time settings

================================================================================
================================================================================

Time settings

Timezone: America/New_York

NTP servers:
ntp1.yourdomain.com (status: working)
ntp2.yourdomain.com (status: working)
[ . . . ]

1) Change timezone
2) Configure NTP servers

Please make a selection from the above [&apos;c&apos; to continue, &apos;q&apos; to quit, &apos;r&apos; to
refresh]:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Change timezone to &lt;em&gt;America/Vancouver&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Add two NTP servers (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ntp1.yourdomain.com&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ntp2.yourdomain.com&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Time settings

Timezone: America/Vancouver

NTP servers:
ntp1.yourdomain.com (status: working)
ntp2.yourdomain.com status: working)
[ . . . ]

1) Change timezone
2) Configure NTP servers
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Change 5) Installation Destination.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;5) [!] Installation Destination
   (Automatic partitioning selected)

Partitioning Options
1) [ ] Replace Existing Linux system(s)
2) [x] Use All Space
3) [ ] Use Free Space
4) [ ] Manually assign mount points

Installation requires partitioning of your hard drive. Select what space
to use for the install target or manually assign mount points.

Partition Scheme Options
1) [ ] Standard Partition
2) [x] LVM
3) [ ] LVM Thin Provisioning
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Change 7) Network configuration.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;7) [x] Network configuration
       (Connected: ens3)

Network configuration

Wired (ens3) connected
 IPv4 Address: 1.2.3.4 Netmask: 255.255.255.0 Gateway: 1.2.3.254
 DNS: 1.1.1.1,8.8.8.8

Host Name:
  Current host name: dhcp-123.yourdomain.com

1) Set host name
2) Configure device ens3

1) Host Name:
   Host Name: appserver1.yourdomain.com

) Configure device ens3

Device configuration

1) IPv4 address or &quot;dhcp&quot; for DHCP
   dhcp
2) IPv4 netmask
3) IPv4 gateway
4) IPv6 address[/prefix] or &quot;auto&quot; for automatic, &quot;dhcp&quot; for DHCP,
        &quot;ignore&quot; to turn off
        auto
5) IPv6 default gateway
6) Nameservers (comma separated)
7) [x] Connect automatically after reboot
8) [ ] Apply configuration in installer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After changes:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Device configuration

1) IPv4 address or &quot;dhcp&quot; for DHCP
   1.2.3.4
2) IPv4 netmask
   255.255.255.0
3) IPv4 gateway
   1.2.3.254
4) IPv6 address[/prefix] or &quot;auto&quot; for automatic, &quot;dhcp&quot; for DHCP,
   &quot;ignore&quot; to turn off
   ignore
5) IPv6 default gateway
6) Nameservers (comma separated)
   1.1.1.1,8.8.8.8
7) [x] Connect automatically after reboot
8) [x] Apply configuration in installer

Please make a selection from the above [&apos;c&apos; to continue, &apos;q&apos; to quit, &apos;r&apos; to
refresh]:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press ‘c’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;4) [x] Software selection
       (Server with GUI)

Software selection

Base environment

1) [x] Server with GUI                  4) [ ] Workstation
2) [ ] Server                           5) [ ] Custom Operating System
3) [ ] Minimal Install                  6) [ ] Virtualization Host

Please make a selection from the above [&apos;c&apos; to continue, &apos;q&apos; to quit, &apos;r&apos; to
refresh]: 5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After changes:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Software selection

Additional software for selected environment

1) [x] Guest Agents                     9) [x] Headless Management
2) [x] Standard                         10) [x] Network Servers
3) [x] Legacy UNIX Compatibility        11) [ ] RPM Development Tools
4) [x] Console Internet Tools           12) [ ] Scientific Support
5) [x] Container Management             13) [x] Security Tools
6) [x] Development Tools                14) [ ] Smart Card Support
7) [ ] .NET Development                 15) [x] System Tools
8) [ ] Graphical Administration Tools

Please make a selection from the above [&apos;c&apos; to continue, &apos;q&apos; to quit, &apos;r&apos; to
refresh]: c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;8) [!] Root password
       (Root account is disabled)

Root password

Please select new root password. You will have to type it twice.

Password:
Password (confirm):
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;9) [ ] User creation
   (No user will be created)

User creation

1) [x] Create user
2) Full name
   dusko
3) User name
   dusko
4) [x] Use password
5) Password
   Password set.
6) [x] Administrator
7) Groups
   wheel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;================================================================================
================================================================================

Installation

1) [x] Language settings                 2) [x] Time settings
       (English (United States))                (America/Vancouver timezone)
3) [x] Installation source               4) [x] Software selection
       (Local media)                            (Custom Operating System)
5) [x] Installation Destination          6) [x] Kdump
       (Automatic partitioning                  (Kdump is enabled)
       selected)
7) [x] Network configuration             8) [x] Root password
       (Connected: ens3)                        (Root password is set)
9) [x] User creation
       (Administrator dusko will be
       created)

Please make a selection from the above [&apos;b&apos; to begin installation, &apos;q&apos; to quit,
&apos;r&apos; to refresh]:

[anaconda]1:main* 2:shell  3:log  4:storage-log &amp;gt;Switch tab: Alt+Tab | Help: F1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press ‘b’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Please make a selection from the above [&apos;b&apos; to begin installation, &apos;q&apos; to quit,
&apos;r&apos; to refresh]: b
================================================================================
================================================================================
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Progress
.

Setting up the installation environment
Configuring storage
Creating disklabel on /dev/vda
Creating xfs on /dev/vda1
Creating lvmpv on /dev/vda2
Creating swap on /dev/mapper/rhel_dhcp--123-swap
Creating xfs on /dev/mapper/rhel_dhcp--123-home
Creating xfs on /dev/mapper/rhel_dhcp--123-root
...
Running pre-installation scripts
.
Running pre-installation tasks
....

Installing.

Starting package installation process
Downloading packages
Preparing transaction from installation source

Installing libgcc.x86_64 (1/944)
   . . . 
   . . . 
Verifying yajl.x86_64 (943/944)
Verifying zlib-devel.x86_64 (944/944)

.
Installing boot loader
..
Performing post-installation setup tasks
.
Configuring Red Hat subscription
....
Configuring installed system
..............
Writing network configuration
.
Creating users
.....
Configuring addons
.
Generating initramfs
....
Storing configuration files and kickstarts
.
Running post-installation scripts
.
Installation complete

Use of this product is subject to the license agreement found at:
/usr/share/redhat-release/EULA

Installation complete. Press ENTER to quit:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press ENTER.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[  OK  ] Stopped Anaconda.
[  OK  ] Stopped target Anaconda System Services.
[  OK  ] Stopped Hold until boot process finishes up.
[  OK  ] Stopped Terminate Plymouth Boot Screen.
         Stopping RHSM dbus service...
         Stopping System Logging Service..
                    . . .
                    . . .
[  OK  ] Stopped target Local File Systems.
         Unmounting /mnt/sysimage/boot...
         Unmounting /mnt/sysimage/dev/pts...
         Unmounting /mnt/sysimage/dev/shm...
         Unmounting /mnt/sysimage/home...
         Unmounting /mnt/sysimage/proc...
         Unmounting /mnt/sysimage/run...
         Unmounting /mnt/sysimage/sys/fs/selinux...
         Unmounting /mnt/sysimage/tmp...
         Unmounting /mnt/sysroot/boot...
         Unmounting /mnt/sysroot/dev/pts...
         Unmounting /mnt/sysroot/dev/shm...
         Unmounting /mnt/sysroot/home...
         Unmounting /mnt/sysroot/proc...
         Unmounting /mnt/sysroot/run...
         Unmounting /mnt/sysroot/sys/fs/selinux...


                               GRUB version 2.06


 +----------------------------------------------------------------------------+
 |*Red Hat Enterprise Linux (5.14.0-284.11.1.el9_2.x86_64) 9.2 (Plow)         |
 | Red Hat Enterprise Linux (0-rescue-8244f8f3856641feb9f0a82867653602) 9.2 (&amp;gt;|
 |                                                                            |
 |                                                                            |
 |                                                                            |
 |                                                                            |
 |                                                                            |
 |                                                                            |
 |                                                                            |
 |                                                                            |
 +----------------------------------------------------------------------------+

      Use the ^ and v keys to select which entry is highlighted.
      Press enter to boot the selected OS, `e&apos; to edit the commands
      before booting or `c&apos; for a command-line.
   The highlighted entry will be executed automatically in 5s.


[  OK  ] Started Show Plymouth Boot Screen.
[  OK  ] Started Forward Password R…s to Plymouth Directory Watch.
[  OK  ] Reached target Path Units.

[    2.642454] virtio_blk virtio2: [vda] 503316480 512-byte logical blocks (258 GB/240 GiB)
[    2.647842]  vda: vda1 vda2
[    2.774706] virtio_net virtio0 ens3: renamed from eth0
[    2.791128] scsi host0: ata_piix
                    . . .
                    . . .
[    4.844931] systemd[1]: Detected virtualization kvm.
[    4.845507] systemd[1]: Detected architecture x86-64.


Welcome to Red Hat Enterprise Linux 9.2 (Plow)!


[    4.890879] systemd-rc-local-generator[584]: /etc/rc.d/rc.local is not marked executable, skipping
                    . . .
                    . . .
[  OK  ] Finished Permit User Sessions.
[  OK  ] Started Deferred execution scheduler.
[  OK  ] Started Command Scheduler.
         Starting Hold until boot process finishes up...
         Starting Terminate Plymouth Boot Screen...

Red Hat Enterprise Linux 9.2 (Plow)
Kernel 5.14.0-284.11.1.el9_2.x86_64 on an x86_64

Activate the web console with: systemctl enable --now cockpit.socket

appserver1 login:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Jun 21, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://raymii.org/s/articles/virt-install_introduction_and_copy_paste_distro_install_commands.html#toc_15&quot;&gt;Installing Virtual Machines with virt-install, plus copy pastable distro install one-liners&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/44277936/distro-rhel7-2-does-not-exist-in-our-dictionary&quot;&gt;distro ‘rhel7.2’ does not exist in our dictionary - StackOverflow&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Fri, 21 Jun 2024 22:30:44 -0700</pubDate>
        <link>http://localhost:4000/kvm/qemu/virtualization/storage/disk/tutorial/howto/sysadmin/2024/06/21/kvm-new-pool-and-vm.html</link>
        <guid isPermaLink="true">http://localhost:4000/kvm/qemu/virtualization/storage/disk/tutorial/howto/sysadmin/2024/06/21/kvm-new-pool-and-vm.html</guid>
        
        
        <category>kvm</category>
        
        <category>qemu</category>
        
        <category>virtualization</category>
        
        <category>storage</category>
        
        <category>disk</category>
        
        <category>tutorial</category>
        
        <category>howto</category>
        
        <category>sysadmin</category>
        
      </item>
    
      <item>
        <title>Graphics in LaTeX with TikZ [WIP]</title>
        <description>&lt;h2 id=&quot;what-is-tikz&quot;&gt;What is TikZ?&lt;/h2&gt;

&lt;p&gt;The inventor of TikZ, Till Tantau, created the name as a recursive acronym in German.
TikZ stands for TikZ ist kein Zeichenprogramm, which translates to TikZ is not a drawing program.&lt;/p&gt;

&lt;p&gt;The origin of TikZ is called PGF, which stands for Portable Graphics Format and is a set of graphics &lt;em&gt;macros&lt;/em&gt; that can be used with pdfLaTeX and the classic DVI/PostScript-based LaTeX.
Today, TikZ is used as the frontend for PGF as the backend.&lt;/p&gt;

&lt;p&gt;TikZ is a set of TeX commands for drawing graphics.
Just like LaTeX is code that describes a document, TikZ is code that describes graphics and looks like LaTeX code.
With TikZ, you write &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\draw [blue] circle (1cm);&lt;/code&gt; to get a blue circle with a 1 cm radius in your PDF document.&lt;/p&gt;

&lt;p&gt;First, you need to  load the &lt;em&gt;tikz&lt;/em&gt; package in the preamble of your LaTeX document:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage{tikz}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;TikZ provides additional features with separate libraries.
Here, you load the &lt;em&gt;quotes&lt;/em&gt; library for adding annotations with an easy quoting syntax that you will use in the drawing:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usetikzlibrary{quotes}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use a &lt;em&gt;tikzpicture&lt;/em&gt; environment for the &lt;em&gt;drawing&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\begin{tikzpicture}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;working-with-coordinates&quot;&gt;Working with Coordinates&lt;/h2&gt;

&lt;p&gt;When you want TikZ to place a line, a circle, or any other element on the drawing, you need to tell it where to put it.
For this, you use coordinates.&lt;/p&gt;

&lt;h3 id=&quot;cartesian-coordinates&quot;&gt;Cartesian Coordinates&lt;/h3&gt;

&lt;p&gt;In the two dimensions of your drawing, you consider an x axis in the horizontal direction going from left to right and a y axis in the vertical order going from bottom to top.
Then, you define a point by its distance to each axis.&lt;/p&gt;

&lt;p&gt;A point &lt;strong&gt;(0,0)&lt;/strong&gt; is called the &lt;strong&gt;origin&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;polar-coordinates&quot;&gt;Polar Coordinates&lt;/h3&gt;

&lt;p&gt;Let’s consider the same plane as you had with Cartesian coordinates.
Just now, you define a point by its distance to the origin and the angle to the x axis.&lt;/p&gt;

&lt;p&gt;The syntax is &lt;strong&gt;(angle:distance)&lt;/strong&gt;.
TikZ uses a colon to distinguish it from Cartesian coordinates in polar coordinate syntax. 
For example, a point &lt;strong&gt;(60:2)&lt;/strong&gt;: a distance of &lt;strong&gt;2&lt;/strong&gt; from the origin &lt;strong&gt;(0:0)&lt;/strong&gt; with an angle of &lt;strong&gt;60 degrees&lt;/strong&gt; to the &lt;em&gt;x&lt;/em&gt; axis.
Similarly, &lt;strong&gt;(20:2)&lt;/strong&gt; also has a distance of &lt;strong&gt;2&lt;/strong&gt; to the origin and an angle of &lt;strong&gt;20 degrees&lt;/strong&gt; to the &lt;em&gt;x&lt;/em&gt; axis, and &lt;strong&gt;(180:3)&lt;/strong&gt; has a distance of &lt;strong&gt;3&lt;/strong&gt; and an angle of &lt;strong&gt;180 degrees&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;three-dimensional-coordinates&quot;&gt;Three-Dimensional coordinates&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;using-relative-coordinates&quot;&gt;Using Relative Coordinates&lt;/h3&gt;

&lt;p&gt;When you use &lt;strong&gt;\draw&lt;/strong&gt; with a sequence of coordinates, you can state the relative position to the first coordinate by adding a &lt;strong&gt;+&lt;/strong&gt; sign.
So, &lt;strong&gt;+(4,2)&lt;/strong&gt; means the new coordinate is &lt;strong&gt;plus 4&lt;/strong&gt; in the &lt;em&gt;x&lt;/em&gt; direction and &lt;strong&gt;plus 2&lt;/strong&gt; in the &lt;em&gt;y&lt;/em&gt; direction.
Note that with +, it is always relative to the first coordinate in this path section.&lt;/p&gt;

&lt;p&gt;That’s not so handy - always looking back to the first coordinate.
TikZ offers another syntax with &lt;strong&gt;double plus signs&lt;/strong&gt;.
For example, &lt;strong&gt;++(1,2)&lt;/strong&gt; means &lt;strong&gt;plus one&lt;/strong&gt; in the &lt;em&gt;x&lt;/em&gt; direction and &lt;strong&gt;plus 2&lt;/strong&gt; in the &lt;em&gt;y&lt;/em&gt; direction but from the previous point.
That means you can move step by step.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;using-units&quot;&gt;Using Units&lt;/h2&gt;

&lt;p&gt;From
&lt;em&gt;Chapger 2: Creating the First TikZ Images - LaTeX Graphics with TikZ by Stefan Kottwitz, Published by Packt Publishing&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;You may already have wondered what a coordinate (1,2) or a radius of 2 can mean in a document regarding the size of the PDF.
Mathematically, in a coordinate system, it’s clear but in a document, you need actual width, height, and lengths.&lt;/p&gt;

  &lt;p&gt;So, by default, 1 means &lt;em&gt;1 cm&lt;/em&gt;.
You can use any LaTeX dimension, so you can also write &lt;strong&gt;(8mm,20pt)&lt;/strong&gt; as a coordinate or &lt;strong&gt;(60:1in)&lt;/strong&gt; for 60 degrees with a 1-inch distance.&lt;/p&gt;

  &lt;p&gt;You can change the default unit lengths of 1 cm to anything else you like.
If you write &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\begin{tikzpicture}[x=3cm,y=2cm]&lt;/code&gt;, you get x = 1 as 3 cm, and y = 1 will be 2 cm.
So, &lt;strong&gt;(2,2)&lt;/strong&gt; would mean the point, &lt;strong&gt;(6cm,4cm)&lt;/strong&gt;.
It’s an easy way of changing the dimensions of a complete TikZ drawing.
For example, change x and y to be twice as big in the &lt;strong&gt;tikzpicture&lt;/strong&gt; options to &lt;em&gt;double a picture in size&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;commands-in-the-tikzpicture-environment&quot;&gt;Commands in the tikzpicture environment&lt;/h2&gt;

&lt;h3 id=&quot;draw&quot;&gt;\draw&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\draw&lt;/code&gt; produces a &lt;em&gt;path&lt;/em&gt; with coordinates and picture elements in between until you end it with a semicolon (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;;&lt;/code&gt;).
You can sketch it like the following:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw[&amp;lt;style&amp;gt;] &amp;lt;coordinate&amp;gt; &amp;lt;picture element&amp;gt; &amp;lt;coordinate&amp;gt; ... ;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To draw a &lt;em&gt;circle&lt;/em&gt;, with a radius of 0.5 cm at the default origin; that is (0,0):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw circle (0.5);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To draw a line from (-0.5,0) to (0.5,0) in Cartesian coordinates, with the label ‘Test’:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw (-0.5,0) to [&quot;Test&quot;] (0.5,0);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To draw a thin, dotted &lt;em&gt;grid&lt;/em&gt; from the coordinate (-3,-3) to the coordinate (3,3):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw[thin,dotted] (-3,-3) grid (3,3);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To draw a line with an &lt;em&gt;arrow tip&lt;/em&gt;, from the coordinate (-3,0) to the coordinate (3,0):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw[-&amp;gt;] (-3,0) -- (3,0);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Complete document example with TikZ test drawing:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cat tikz_example.tex
\documentclass{article}
\usepackage{tikz}
\usetikzlibrary{quotes}

\begin{document}
\begin{tikzpicture}
  \draw circle (0.5);
  \draw (-0.5,0) to [&quot;Test&quot;] (0.5,0);
\end{tikzpicture}
\end{document} 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Compile it to PDF.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -pdf tikz_example.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open the PDF with a PDF viewer.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mupdf tikz_example.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;drawing-geometric-shapes-with-tikz&quot;&gt;Drawing Geometric Shapes with TikZ&lt;/h2&gt;

&lt;p&gt;You start with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\draw &amp;lt;coordinate&amp;gt;&lt;/code&gt; (that’s the &lt;em&gt;current coordinate&lt;/em&gt;) and continue with some of the following elements:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Line: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-- (x,y)&lt;/code&gt; draws a line from the current coordinate to (x,y).&lt;/li&gt;
  &lt;li&gt;Rectangle: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rectangle (x,y)&lt;/code&gt; draws a rectangle where one corner is the current coordinate, and the opposite corner is (x,y).&lt;/li&gt;
  &lt;li&gt;Grid: Like rectangle but with lines in between as a grid.&lt;/li&gt;
  &lt;li&gt;Circle: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;circle (r)&lt;/code&gt; is a short syntax: draw a circle with a radius of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r&lt;/code&gt;, at the default origin; that is, (0,0).&lt;/li&gt;
  &lt;li&gt;Circle - the extended syntax is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;circle [radius=r]&lt;/code&gt;, which draws a circle with the center at the current coordinate and a radius of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Ellipse: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ellipse [x radius = rx, y radius = ry]&lt;/code&gt; draws an ellipse with a horizontal radius of rx and a vertical radius of ry. The short form is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ellipse (rx and ry)&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Arc: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;arc[start angle=a, end angle=b, radius=r]&lt;/code&gt; gives a part of a circle with a radius of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r&lt;/code&gt; at the &lt;em&gt;current coordinate&lt;/em&gt;, starting from angles &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a&lt;/code&gt; to angles &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b&lt;/code&gt;. The short command version is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;arc(a:b:r)&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Arc: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;arc[start angle=a, end angle=b, x radius=rx, y radius=ry]&lt;/code&gt; gives a part of an ellipse with an x radius of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rx&lt;/code&gt; and a y radius of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ry&lt;/code&gt; at the &lt;em&gt;current coordinate&lt;/em&gt;, starting from angle &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a&lt;/code&gt; and going to angle &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b&lt;/code&gt;. The short syntax would be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;arc(a:b:rx and ry)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;drawing-and-positioning-nodes-with-tikz&quot;&gt;Drawing and Positioning Nodes with TikZ&lt;/h2&gt;

&lt;p&gt;In TikZ, a node is a piece of text that can have a specific shape.
By default, nodes have a &lt;em&gt;rectangular&lt;/em&gt; shape but you can choose between many other shapes, such as circles, ellipses, polygons, stars, clouds, and many more.
Using shapes other than rectangles and circles requires loading the shapes library.
To use the &lt;em&gt;shapes&lt;/em&gt; library (often also called shapes package), add this line to your TikZ document:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usetikzlibrary{shapes}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following are rules of thumb to note:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The node text is in curly braces and is always required&lt;/li&gt;
  &lt;li&gt;Coordinates are in parentheses&lt;/li&gt;
  &lt;li&gt;Design options are in square brackets&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When you want TikZ to also draw the &lt;em&gt;border&lt;/em&gt;, add the draw option to the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw (4,2) node[draw] {Test Node};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can choose a border colour, fill it with a color, and choose a text colour.
For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw (4,2) node[draw, color=red, fill=yellow, text=blue] {Test Node};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since nodes are used often, there is the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\node&lt;/code&gt; command for drawing them.&lt;/p&gt;

&lt;p&gt;Consider the following command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw (4,2) node [draw] {Test Node};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You could write the following instead.&lt;/p&gt;

&lt;p&gt;A node with a border:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\node [draw] at (4,2) {Test Node};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A node without a border:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\node at (4,2) {Test Node};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can give nodes names.
You use parentheses for this.&lt;/p&gt;

&lt;p&gt;Create three nodes: a rectangle node (r), a circle node (c), and an ellipse node (e):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\node (r) at (0,1)   [draw, rectangle] {Node 1};
\node (c) at (1.5,0) [draw, circle]    {Node 2};
\node (e) at (3,1)   [draw, ellipse]   {Node 3};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can use these names for later drawings.
For example, now you can add arrows from one node to another, using &lt;em&gt;compass directions&lt;/em&gt;, such as north, south, east, west, and others:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw[-&amp;gt;] (r.east)  -- (e.west);
\draw[-&amp;gt;] (r.south) -- (c.north west);
\draw[-&amp;gt;] (e.south) -- (c.north east);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;These compass directions are called &lt;strong&gt;anchors&lt;/strong&gt;.
That’s because you can use them to anchor a node on a position.
For example, to put a red-filled circle at (4,2) and then add a rectangular node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw[fill=red] (4,2) circle[radius=0.1];
\node at (4,2) [draw, rectangle] {Node with Red Anchor Example};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can see that the rectangle node is placed in a way that its center is at the given coordinate of (4,2).
If you want to have (4,2) as the southwest corner, you can define this corner as the anchor of the node:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw[fill=red] (4,2) circle[radius=0.1];
\node at (4,2) [draw, rectangle, anchor=south west]{Node with SW Anchor};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;using-shapes-and-anchors-with-tikz&quot;&gt;Using Shapes and Anchors with TikZ&lt;/h2&gt;

&lt;p&gt;While rectangle and circle node shapes are available by default, others require loading the &lt;em&gt;shapes&lt;/em&gt; package.
To load the shapes package (strictly speaking it’s a library, not a package), add this line to your LaTeX document:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usetikzlibrary{shapes}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some of the shapes from the shapes TikZ library:&lt;/p&gt;

&lt;p&gt;circle
circle split
semicircle
circular sector
forbidden sign
dart
kite
isosceles triangle
diamond
regular polygon (5 sides)
regular polygon (6 sides)
regular polygon (8 sides)
trapezium
cloud
start
startbust
cylinder
signal
tape
magnetic tape
ellipse&lt;/p&gt;

&lt;p&gt;rectangle:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\node (r) at (0,2) [draw, rectangle] {Node 1};&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;rectangle split:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\node (r) at (0,2) [draw, rectangle split] {Node 1};
\node (r) at (0,2) [draw, rectangle split horizontal=true, rectangle split] {Node 1};
\node (r) at (0,2) [rectangle split horizontal=false, rectangle split parts=3, rectangle split, draw] {Node 1};
\node (r) at (0,2) [rectangle split, rectangle split parts=3, draw, rectangle split horizontal] {Node 1};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;coordinate&lt;/p&gt;

&lt;p&gt;A &lt;strong&gt;coordinate&lt;/strong&gt; is a node with empty text and the coordinate shape, meaning it has &lt;em&gt;zero width and height&lt;/em&gt; values.
It has the same anchor names as a default rectangle node but of course all anchors are equal here so you don’t need to specify any anchor.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\coordinate (begin) at (2,0);
\coordinate (end)   at (4,2);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\node[shape=coordinate] (begin) at (2,0) {};
\node[shape=coordinate] (end) at (4,2) {};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Many shapes provide particular options, such as the number of puffs in a cloud, the number of parts in a split rectangle, aspect ratio, angles, and of course, the standard options for colour, filling, rotation, line width, and many more.&lt;/p&gt;

&lt;p&gt;Once nodes and anchors are understood, it’s often not much more complicated than selecting the desired shape, using the comprehensive manual to choose from the available design options for shapes, selecting colours, and then doing some fine-tuning on dimensions.&lt;/p&gt;

&lt;p&gt;Apart from libraries, other packages use TikZ and build on it.
One is the &lt;em&gt;tikzpeople&lt;/em&gt; package, which provides shapes of people.
It was originally intended to depict the usage of cryptographic protocols between parties.&lt;/p&gt;

&lt;p&gt;To load the tikzpeople package, add the following line in the preamble of your LaTeX document.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage{tikzpeople}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;hello-world-in-tikz&quot;&gt;Hello World in TikZ&lt;/h2&gt;

&lt;p&gt;To place a simple piece of text on the coordinates x=4 and y=2:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\draw (4,2) node {Hello, World!};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The short form (a.k.a. with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\node&lt;/code&gt; command):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\node (4,2) {Hello, World!};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The complete LaTeX code for Hello World in TikZ:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat hello.tex
\documentclass{article}
\usepackage{tikz}

\begin{document}
\begin{tikzpicture}
  \node (4,2) {Hello, World!};
\end{tikzpicture}
\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To compile it to PDF:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -pdf hello.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;View it with a PDF viewer.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mupdf hello.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;package-standalone---create-a-pdf-containing-only-an-image&quot;&gt;Package standalone - Create a PDF Containing Only an Image&lt;/h2&gt;

&lt;p&gt;To create a PDF containing of only an image (or a graph or diagram), use the &lt;em&gt;standalone&lt;/em&gt;  package.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ctan.org/pkg/standalone&quot;&gt;Package standalone on CTAN - Compile TeX pictures stand-alone or as part of a document&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To actually use a package in a document, you need to include it in the document by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\documentclass&lt;/code&gt; LaTeX keyword:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\documentclass[tikz,border=10pt]{standalone}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;standalone&lt;/em&gt; class allows you to create documents that consist only of &lt;em&gt;a single drawing&lt;/em&gt; and &lt;em&gt;cuts&lt;/em&gt; the PDF document to &lt;em&gt;the actual content&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Therefore, you don’t have a letter or A4 page with just a tiny drawing, plus a lot of white space and margins.&lt;/p&gt;

&lt;p&gt;With the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;border=10pt&lt;/code&gt; option you get a small margin of 10 pt around the picture. Having a small margin looks nicer in a PDF viewer.&lt;/p&gt;

&lt;p&gt;Since the &lt;em&gt;standalone&lt;/em&gt; class is designed for drawings, it provides a &lt;em&gt;tikz&lt;/em&gt; option.
As you set that option, the class loads TikZ automatically so you &lt;strong&gt;don’t have to add&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\usepackage{tikz}&lt;/code&gt; anymore.&lt;/p&gt;

&lt;p&gt;An example with &lt;em&gt;tikz&lt;/em&gt; package: a block diagram with arrows, labels and symbols from &lt;a href=&quot;https://github.com/f0nzie/tikz_favorites/blob/develop/src/elem-add_tikz_symbols_to_block_arr+symbol+diagram+command+style.tex&quot;&gt;My Favorite Tikz Things - Alfonso R. Reyes&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch -o tikzdiagex.tex \ 
 &quot;https://raw.githubusercontent.com/f0nzie/tikz_favorites/develop/src/elem-add_tikz_symbols_to_block_arr%2Bsymbol%2Bdiagram%2Bcommand%2Bstyle.tex&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -lualatex tikzdiagex.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is the compiled PDF: &lt;a href=&quot;http://localhost:4000/assets/txt/tikzdiagex.pdf&quot;&gt;tikzdiagex.pdf&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Jun 14, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/f0nzie/tikz_favorites&quot;&gt;Collection of favorite TikZ graphics&lt;/a&gt; - or  &lt;a href=&quot;https://f0nzie.github.io/tikz_favorites/&quot;&gt;My Favorite Tikz Things - Alfonso R. Reyes&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ctan.org/pkg/standalone&quot;&gt;standalone Package on CTAN - Compile TeX pictures stand-alone or as part of a document&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 14 Jun 2024 22:17:44 -0700</pubDate>
        <link>http://localhost:4000/tex/latex/graphics/diagram/graph/pdf/documentation/writing/technicalwriting/svg/vector/image/png/design/reference/tutorial/howto/2024/06/14/latex-tikz.html</link>
        <guid isPermaLink="true">http://localhost:4000/tex/latex/graphics/diagram/graph/pdf/documentation/writing/technicalwriting/svg/vector/image/png/design/reference/tutorial/howto/2024/06/14/latex-tikz.html</guid>
        
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>graphics</category>
        
        <category>diagram</category>
        
        <category>graph</category>
        
        <category>pdf</category>
        
        <category>documentation</category>
        
        <category>writing</category>
        
        <category>technicalwriting</category>
        
        <category>svg</category>
        
        <category>vector</category>
        
        <category>image</category>
        
        <category>png</category>
        
        <category>design</category>
        
        <category>reference</category>
        
        <category>tutorial</category>
        
        <category>howto</category>
        
      </item>
    
      <item>
        <title>Installing Node.js on RHEL 8 and RHEL 9 [WIP]</title>
        <description>&lt;p&gt;&lt;strong&gt;[TODO]: Transcribe the log 2024_07_02_1100_chemapps2…&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;install-nodejs-manually&quot;&gt;Install Node.js Manually&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://nodejs.org/&quot;&gt;Nodejs.org&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Run JavaScript Everywhere&lt;/p&gt;

  &lt;p&gt;Node.js is a free, open-source, cross-platform JavaScript runtime environment that lets developers create servers, web apps, command line tools and scripts.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Navigate to
&lt;a href=&quot;https://nodejs.org/en/download/package-manager/&quot;&gt;https://nodejs.org/en/download/package-manager/&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Click ‘Package Manager’.&lt;/li&gt;
  &lt;li&gt;In ‘Install Node.js’ drop-down, select the most recent version.
(At the time of this writing: &lt;em&gt;v20.14.0 (LTS)&lt;/em&gt;).&lt;/li&gt;
  &lt;li&gt;For ‘on’, select &lt;em&gt;Linux&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;For ‘using, select &lt;em&gt;nvm&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Install nvm (Node Version Manager).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# curl -O https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Review the &lt;em&gt;install.sh&lt;/em&gt; shell script.&lt;/p&gt;

&lt;p&gt;Download and install Node.js (you may need to restart the terminal).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nvm install 20
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Verify the right Node.js version is in the environment.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# node -v  # should print `v20.14.0`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Verify the right NPM version is in the environment.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# npm -v # should print `10.7.0`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;hello-world-in-javascript---nodejs---rhel-8&quot;&gt;Hello World in JavaScript - Node.js - RHEL 8&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi hello.js
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat hello.js 
#!/usr/bin/env node 

console.log(&quot;Hello, World! from Node &quot; + process.version)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# node hello.js 
Hello, World! from Node v20.14.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Jun 11, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://developers.redhat.com/hello-world/nodejs&quot;&gt;Install Node.js on Red Hat Enterprise Linux - Red Hat Developer&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://nodejs.org/&quot;&gt;Nodejs.org&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Run JavaScript Everywhere&lt;/p&gt;

      &lt;p&gt;Node.js is a free, open-source, cross-platform JavaScript runtime environment that lets developers create servers, web apps, command line tools and scripts.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developers.redhat.com/rhel8/hw/nodejs&quot;&gt;Hello World - Node.js on RHEL 8&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Tue, 11 Jun 2024 20:46:19 -0700</pubDate>
        <link>http://localhost:4000/webdevelopment/http/css/javascript/howto/2024/06/11/node-js.html</link>
        <guid isPermaLink="true">http://localhost:4000/webdevelopment/http/css/javascript/howto/2024/06/11/node-js.html</guid>
        
        
        <category>webdevelopment</category>
        
        <category>http</category>
        
        <category>css</category>
        
        <category>javascript</category>
        
        <category>howto</category>
        
      </item>
    
      <item>
        <title>TeX and LaTeX Package Management [WIP]</title>
        <description>&lt;p&gt;OS: FreeBSD 14    &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;package-managers-with-tex-distributions&quot;&gt;Package Managers with TeX distributions&lt;/h2&gt;

&lt;p&gt;TeX Live:  TeX Live Manager (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tlmgr&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tlshell&lt;/code&gt;)  &lt;br /&gt;
MiKTeX:    MiKTeX package manager (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mpm&lt;/code&gt;)  &lt;br /&gt;
MacTeX:    TeX Live Utility&lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;tlmgr&lt;/strong&gt; program is the successor of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texconfig(1)&lt;/code&gt; tool.
From the man page for &lt;em&gt;texconfig(1)&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;texconfig(1)                TeX Live                texconfig(1)
NAME
    texconfig - configures teTeX or TeX Live

    texconfig-sys - configures teTeX or TeX Live system-wide
DESCRIPTION
    texconfig allows one to configure and maintain TeX in an easy and
    convenient manner, offering a series of dialog boxes to the user.  The
    directory in which texconfig is found is also preferentially used to
    find subprograms.

    The tlmgr program has subsumed this function for TeX Live.  This
    program is still supported, but the tlmgr interface is much more
    actively developed and tested.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To list all packages
(a.k.a. to list all installed TeX/LaTeX packages, a.k.a. to list all availabled packages for installation):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tlmgr info
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With no argument, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tlmgr info&lt;/code&gt; lists all packages available at the package repository, prefixing those already installed with “&lt;strong&gt;i&lt;/strong&gt;”.&lt;/p&gt;

&lt;p&gt;To get more information about &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tlmgr info&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tlmgr info --help
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tlmgr info | wc -l
    7658

$ tlmgr info | grep -i palatino
i domitian: Drop-in replacement for Palatino
i mathpazo: Fonts to typeset mathematics to match Palatino
i palatino: URW &apos;Base 35&apos; font pack for LaTeX
i pxfonts: Palatino-like fonts in support of mathematics
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;show-general-configuration-information-for-tex-live&quot;&gt;Show General Configuration Information for TeX Live&lt;/h2&gt;

&lt;p&gt;Show general configuration information for TeX Live, including active configuration files, path settings, and more.
This is like running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texconfig conf&lt;/code&gt; but works on all supported platforms.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tlmgr conf&lt;/code&gt; gives all &lt;em&gt;kpathsea&lt;/em&gt; variables.
It might feel that’s better than using one &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kpathsea&lt;/code&gt; command (to get one variable) at a time.&lt;/p&gt;

&lt;!---
https://talk.jekyllrb.com/t/code-block-is-improperly-handled-and-generates-liquid-syntax-error/7599/2

With Jekyll, Markdown files are fist processed by Liquid, and then Markdown, so Liquid syntax is interpreted, even within Markdown code-blocks.

To avoid the problem, the raw tag can be used to disable Liquid processing 161.

https://shopify.github.io/liquid/tags/template/#raw

raw
Temporarily disables tag processing. This is useful for generating certain content that uses conflicting syntax, such as Mustache or Handlebars.
--&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tlmgr conf
=========================== version information ==========================
tlmgr revision 66457 (2023-03-08 00:07:12 +0100)
tlmgr using installation: /usr/local/share/tlpkg
==================== executables found by searching PATH =================
PATH: /usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:/home/dusko/bin:/home/dusko/.local/bin
dvipdfmx:  /usr/local/bin/dvipdfmx
dvips:     /usr/local/bin/dvips
fmtutil:   /usr/local/bin/fmtutil
kpsewhich: /usr/local/bin/kpsewhich
luatex:    /usr/local/bin/luatex
mktexpk:   /usr/local/bin/mktexpk
pdftex:    /usr/local/bin/pdftex
tex:       /usr/local/bin/tex
tlmgr:     /usr/local/bin/tlmgr
updmap:    /usr/local/bin/updmap
xetex:     /usr/local/bin/xetex
=========================== active config files ==========================
config.ps:        /usr/local/share/texmf-dist/dvips/config/config.ps
fmtutil.cnf:      /usr/local/share/texmf-config/web2c/fmtutil.cnf
mktex.cnf:        /usr/local/share/texmf-dist/web2c/mktex.cnf
pdftexconfig.tex: /usr/local/share/texmf-dist/tex/generic/tex-ini-files/pdftexconfig.tex
texmf.cnf:        /var/db/tlpkg/texmf.cnf
texmf.cnf:        /usr/local/share/texmf-dist/web2c/texmf.cnf
============================= font map files =============================
Missing argument in sprintf at /usr/local/bin/tlmgr line 6507.
kanjix.map:  pdftex.map:  /usr/local/share/texmf-dist/fonts/map/pdftex/updmap/pdftex.map
ps2pk.map:   /usr/local/share/texmf-dist/fonts/map/dvips/updmap/ps2pk.map
psfonts.map: /usr/local/share/texmf-dist/fonts/map/dvips/updmap/psfonts.map
=========================== kpathsea variables ===========================
ENCFONTS=.:{{}/home/dusko/.texlive2023/texmf-config,/home/dusko/.texlive2023/texmf-var,/home/dusko/texmf,!!/usr/local/share/texmf-local,!!/usr/local/share/texmf-config,!!/usr/local/share/texmf-var,!!/usr/local/share/texmf-dist}/fonts/enc//
SYSTEXMF=/usr/local/share/texmf-var:/usr/local/share/texmf-local:/usr/local/share/texmf-dist
TEXCONFIG={{}/home/dusko/.texlive2023/texmf-config,/home/dusko/.texlive2023/texmf-var,/home/dusko/texmf,!!/usr/local/share/texmf-local,!!/usr/local/share/texmf-config,!!/usr/local/share/texmf-var,!!/usr/local/share/texmf-dist}/dvips//
TEXFONTMAPS=.:{{}/home/dusko/.texlive2023/texmf-config,/home/dusko/.texlive2023/texmf-var,/home/dusko/texmf,!!/usr/local/share/texmf-local,!!/usr/local/share/texmf-config,!!/usr/local/share/texmf-var,!!/usr/local/share/texmf-dist}/fonts/map/{kpsewhich,pdftex,dvips,}//
TEXMF={{}/home/dusko/.texlive2023/texmf-config,/home/dusko/.texlive2023/texmf-var,/home/dusko/texmf,!!/usr/local/share/texmf-local,!!/usr/local/share/texmf-config,!!/usr/local/share/texmf-var,!!/usr/local/share/texmf-dist}
TEXMFCONFIG=/home/dusko/.texlive2023/texmf-config
TEXMFDBS={!!/usr/local/share/texmf-local,!!/usr/local/share/texmf-config,!!/usr/local/share/texmf-var,!!/usr/local/share/texmf-dist}
TEXMFDIST=/usr/local/share/texmf-dist
TEXMFHOME=/home/dusko/texmf
TEXMFLOCAL=/usr/local/share/texmf-local
TEXMFMAIN=/usr/local/share/texmf-dist
TEXMFSYSCONFIG=/usr/local/share/texmf-config
TEXMFSYSVAR=/usr/local/share/texmf-var
TEXMFVAR=/home/dusko/.texlive2023/texmf-var
TEXPSHEADERS=.:{{}/home/dusko/.texlive2023/texmf-config,/home/dusko/.texlive2023/texmf-var,/home/dusko/texmf,!!/usr/local/share/texmf-local,!!/usr/local/share/texmf-config,!!/usr/local/share/texmf-var,!!/usr/local/share/texmf-dist}/{dvips,fonts/{enc,type1,type42,type3}}//
VARTEXFONTS=/home/dusko/.texlive2023/texmf-var/fonts
WEB2C={{}/home/dusko/.texlive2023/texmf-config,/home/dusko/.texlive2023/texmf-var,/home/dusko/texmf,!!/usr/local/share/texmf-local,!!/usr/local/share/texmf-config,!!/usr/local/share/texmf-var,!!/usr/local/share/texmf-dist}/web2c
==== kpathsea variables from environment only (ok if no output here) ====
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;checking-package-status&quot;&gt;Checking Package Status&lt;/h3&gt;

&lt;p&gt;For example, to check status of the package &lt;em&gt;tikz&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ kpsewhich tikz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/local/share/texmf-dist/tex/plain/pgf/frontendlayer/tikz.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For more details on a specific package, use the tlmgr tool (TeX Live only):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tlmgr info &amp;lt;package_name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tlmgr info palatino
package:     palatino
category:    Package
shortdesc:   URW &apos;Base 35&apos; font pack for LaTeX
longdesc:    A set of fonts for use as &quot;drop-in&quot; replacements for Adobe&apos;s basic
set, comprising: Century Schoolbook (substituting for Adobe&apos;s New Century School
book); Dingbats (substituting for Adobe&apos;s Zapf Dingbats); Nimbus Mono L (substit
uting for Abobe&apos;s Courier); Nimbus Roman No9 L (substituting for Adobe&apos;s Times);
 Nimbus Sans L (substituting for Adobe&apos;s Helvetica); Standard Symbols L (substit
uting for Adobe&apos;s Symbol); URW Bookman; URW Chancery L Medium Italic (substituti
ng for Adobe&apos;s Zapf Chancery); URW Gothic L Book (substituting for Adobe&apos;s Avant
 Garde); and URW Palladio L (substituting for Adobe&apos;s Palatino).
installed:   Yes
revision:    61719
sizes:       run: 1553k
relocatable: Yes
cat-license: gpl
cat-topics:  font font-type1 font-collection
cat-related: tex-gyre
collection:  collection-fontsrecommended
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ kpsewhich --help
Usage: kpsewhich [OPTION]... [FILENAME]...

Standalone path lookup and expansion for the Kpathsea library.
The default is to look up each FILENAME in turn and report its
first match (if any) to standard output.

When looking up format (.fmt/.base/.mem) files, it is usually necessary
to also use -engine, or nothing will be returned; in particular,
-engine=/ will return matching format files for any engine.

-all                   output all matches, one per line (no effect with pk/gf).
[-no]-casefold-search  fall back to case-insensitive search if no exact match.
-cnf-line=STRING       parse STRING as a configuration file line.
-debug=NUM             set debugging flags.
-D, -dpi=NUM           use a base resolution of NUM; default 600.
-engine=STRING         set engine name to STRING.
-expand-braces=STRING  output variable and brace expansion of STRING.
-expand-path=STRING    output complete path expansion of STRING.
-expand-var=STRING     output variable expansion of STRING.
-format=NAME           use file type NAME (list shown by -help-formats).
-help                  display this message and exit.
-help-formats          display information about all supported file formats.
-interactive           ask for additional filenames to look up.
[-no]-mktex=FMT        disable/enable mktexFMT generation (FMT=pk/mf/tex/tfm).
-mode=STRING           set device name for $MAKETEX_MODE to STRING; no default.
-must-exist            search the disk as well as ls-R if necessary.
-path=STRING           search in the path STRING.
-progname=STRING       set program name to STRING.
-safe-in-name=STRING   check if STRING is ok to open for input.
-safe-out-name=STRING  check if STRING is ok to open for output.
-show-path=TYPE        output search path for file type TYPE
                         (list shown by -help-formats).
-subdir=STRING         only output matches whose directory ends with STRING.
-var-brace-value=STRING output brace-expanded value of variable $STRING.
-var-value=STRING       output variable-expanded value of variable $STRING.
-version               display version information number and exit.
 
Email bug reports to tex-k@tug.org.
Kpathsea home page: https://tug.org/kpathsea/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As per
&lt;a href=&quot;https://tex.stackexchange.com/questions/8357/how-to-have-local-package-override-default-package&quot;&gt;installing - How to have local package override default package - TeX - LaTeX Stack Exchange&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;By Alan Munn  Jan 6, 2011 at 16:39
@Seamus: No, you do &lt;em&gt;not&lt;/em&gt; need to run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texhash&lt;/code&gt; for user additions ever.
And you certainly wouldn’t need to run it with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt;.
If that were true, the whole idea of user additions would be invalid, since it would prevent non-administrator accounts from ever managing their own local packages.&lt;/p&gt;

  &lt;p&gt;By user2478  Jan 6, 2011 at 17:12
TeX uses three variables for the directories: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXMF&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXMFLOCAL&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXMFHOME&lt;/code&gt;.
For the first two, a directory list file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ls -R&lt;/code&gt; is needed, which is created by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mktexlsr&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texhash&lt;/code&gt;.
The user directory dosn’t use such a file.
The &lt;em&gt;search order&lt;/em&gt; for files is: &lt;em&gt;document dir&lt;/em&gt; - &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TEXMFHOME&lt;/code&gt; - &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TEXMFLOCAL&lt;/code&gt; - &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TEXMF&lt;/code&gt;.
For MiKTeX you have other directories.
And everything is predefined in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texmf.cnf&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tlmgr conf
---- snip ----
texmf.cnf:        /var/db/tlpkg/texmf.cnf
texmf.cnf:        /usr/local/share/texmf-dist/web2c/texmf.cnf
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;These two files are the same:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff /var/db/tlpkg/texmf.cnf /usr/local/share/texmf-dist/web2c/texmf.cnf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;working-with-the-package-documentation&quot;&gt;Working with the Package Documentation&lt;/h2&gt;

&lt;p&gt;The LaTeX and its package installations contain documentation.&lt;/p&gt;

&lt;p&gt;You can access it by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texdoc&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ texdoc &amp;lt;package_name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ texdoc palatino
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On my system, LibreOffice opened &lt;em&gt;/usr/local/share/texmf-dist/doc/latex/psnfss/psnfss2e.pdf&lt;/em&gt; file.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;filename-lookup&quot;&gt;Filename Lookup&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;kpathsea&lt;/em&gt; - Its fundamental purpose is filename lookup. &lt;br /&gt;
&lt;em&gt;kpathsea&lt;/em&gt; is the manager of searches and file generation. &lt;br /&gt;
&lt;em&gt;kpathsea&lt;/em&gt; = Karl [Berry]’s Path Search&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.tug.org/teTeX/tetex-texmfdist/doc/programs/kpathsea.pdf&quot;&gt;Karl Berry and Olaf Weber. kpathsea library, version 3.5.4, 2005&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This system is said to speed up searches for files done by all of the tools of the TeX world and to generate files on demand.
To generate files, &lt;strong&gt;kpathsea&lt;/strong&gt; has three utilities at its disposal:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mktextfm&lt;/code&gt;, which generates a missing TFM file.
This utility is called by TeX when they cannot find a TFM file for a font used in the document.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mktexmf&lt;/code&gt;, which generates the METAFONT source file corresponding to the METAFONT used in the document if this font does not already exist.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mktexpk&lt;/code&gt;, which generates a bitmap font from the corresponding METAFONT source files.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;As per &lt;a href=&quot;https://tex.stackexchange.com/questions/449769/finding-and-configuring-my-texmf-tree&quot;&gt;Finding and configuring my texmf tree - TeX - LaTeX Stack Exchange&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Local additions&lt;/strong&gt; should &lt;strong&gt;not&lt;/strong&gt; be put into the system texmf directory, i.e., &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/texmf&lt;/code&gt; but instead should be put into your &lt;strong&gt;home texmf&lt;/strong&gt; folder.
This folder is not created automatically so you need to create it yourself.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The location of your local &lt;em&gt;texmf&lt;/em&gt; can be found by using the command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ kpsewhich -var-value TEXMFHOME
/home/dusko/texmf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On a Linux system, this will typically be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/texmf&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/home/&amp;lt;username&amp;gt;/texmf&lt;/code&gt;).
You can create the folder yourself but it must conform to the &lt;strong&gt;TeX Directory Structure&lt;/strong&gt; (&lt;strong&gt;TDS&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;On FreeBSD 14.0:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -h /usr/local/bin/kps*
/usr/local/bin/kpseaccess       /usr/local/bin/kpsetool
/usr/local/bin/kpsepath         /usr/local/bin/kpsewhere
/usr/local/bin/kpsereadlink     /usr/local/bin/kpsewhich
/usr/local/bin/kpsestat         /usr/local/bin/kpsexpand
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -h /usr/local/bin/tex*
/usr/local/bin/tex              /usr/local/bin/texhash
/usr/local/bin/tex2aspc         /usr/local/bin/texlinks
/usr/local/bin/tex2lyx          /usr/local/bin/texliveonfly
/usr/local/bin/tex4ebook        /usr/local/bin/texloganalyser
/usr/local/bin/tex4ht           /usr/local/bin/texlogfilter
/usr/local/bin/texaccents       /usr/local/bin/texlogsieve
/usr/local/bin/texconfig        /usr/local/bin/texlua
/usr/local/bin/texconfig-dialog /usr/local/bin/texluac
/usr/local/bin/texconfig-sys    /usr/local/bin/texluajit
/usr/local/bin/texcount         /usr/local/bin/texluajitc
/usr/local/bin/texdef           /usr/local/bin/texosquery
/usr/local/bin/texdiff          /usr/local/bin/texosquery-jre5
/usr/local/bin/texdirflatten    /usr/local/bin/texosquery-jre8
/usr/local/bin/texdoc           /usr/local/bin/texplate
/usr/local/bin/texdoctk         /usr/local/bin/text2pcap
/usr/local/bin/texfot           /usr/local/bin/textestvis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -h /usr/local/bin/latex*
/usr/local/bin/latex            /usr/local/bin/latexdiff-vc
/usr/local/bin/latex-git-log    /usr/local/bin/latexfileversion
/usr/local/bin/latex-papersize  /usr/local/bin/latexindent
/usr/local/bin/latex2man        /usr/local/bin/latexmk
/usr/local/bin/latex2nemeth     /usr/local/bin/latexpand
/usr/local/bin/latexdef         /usr/local/bin/latexrevise
/usr/local/bin/latexdiff
 
$ ls -h /usr/local/bin/lua*
/usr/local/bin/lua52            /usr/local/bin/luahbtex
/usr/local/bin/lua53            /usr/local/bin/luajittex
/usr/local/bin/lua54            /usr/local/bin/lualatex
/usr/local/bin/luac52           /usr/local/bin/lualollipop
/usr/local/bin/luac53           /usr/local/bin/luaotfload-tool
/usr/local/bin/luac54           /usr/local/bin/luatex
/usr/local/bin/luafindfont
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;installing-packages-manually&quot;&gt;Installing Packages Manually&lt;/h2&gt;

&lt;p&gt;(aka Installing a package that doesn’t come by default with LaTeX)&lt;br /&gt;
(aka Installing a new style file that doesn’t come by default with LaTeX)&lt;br /&gt;
(aka How to have local package override default package) &lt;br /&gt;
(aka When should I put things in the local texmf directory (folder)?) &lt;br /&gt;
(aka Finding and configuring your texmf tree)&lt;/p&gt;

&lt;p&gt;From
&lt;a href=&quot;https://github.com/amunn/make-local-texmf&quot;&gt;make-local-texmf – Mac script to make a local texmf folder&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Every TeX distribution expects to find personal additions (such as private style files or packages not part of the main distribution) in a local directory.
The name of this directory is ‘texmf’ and it has a specific structure of sub-directories so that the TeX programs can find files correctly.&lt;/p&gt;

  &lt;p&gt;Q: When should I put things in the local texmf folder?  &lt;br /&gt;
A: Before putting anything into the local texmf folder, you should check that the relevant package isn’t already part of TeXLive, and therefore included in the MacTeX distribution.
The easiest way to do this is to use the TeXLive utility.
This is especially true of packages on CTAN, most of which are included in TeXLive, and should already be available to you.&lt;/p&gt;

  &lt;p&gt;If you know that a package is not available as part of TeXLive, then you should put it into your local texmf folder.&lt;/p&gt;

  &lt;p&gt;Q: What goes where? &lt;br /&gt;
A: The texmf folder contains a number of folders, and these folders themselves contain other folders.&lt;/p&gt;

  &lt;p&gt;Also, the local texmf needs to follow the TeX Directory Structure (&lt;strong&gt;TDS&lt;/strong&gt;); (you don’t need to create all of these directories initially but you do need to put things in the right places when you add new stuff):&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;*  bibtex directory    This is where bib files and bst files go
   -  bst directory       Put bst files here
   -  bib directory       Put bib files here
*  tex directory       This is where new packages go
   -  latex directory     Put latex packages here
   -  plain directory     Put plain tex files here
   -  xelatex directory   Put xelatex specific packages here
   -  xetex  directory    Put plain xetex files here
   -  context directory   Put context files here
   -  generic directory   Put files that are usable with any TeX flavour here
* doc directory
  - put documentation files from packages installed in the tex directory here
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;For example, you have the new package cool-new-package.
If it’s a LaTeX package, the package will come with (at least) a &lt;em&gt;.sty&lt;/em&gt; file, and some documentation files (often a &lt;em&gt;.tex&lt;/em&gt; and &lt;em&gt;.pdf&lt;/em&gt; version).
You would create a directory in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/texmf/tex/latex&lt;/code&gt; called cool-new-package and then put &lt;em&gt;cool-new-package.sty&lt;/em&gt; there.
You would also create a cool-new-package directory in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/texmf/doc&lt;/code&gt; and put the documentation files there.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From
&lt;a href=&quot;https://tex.stackexchange.com/questions/449769/finding-and-configuring-my-texmf-tree&quot;&gt;Finding and configuring my texmf tree - TeX - LaTeX Stack Exchange&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;By David Carlisle - Sep 6, 2018 at 22:05  &lt;br /&gt;
When you install the “system” TeX/LaTeX via sudo, the default TeX tree is not writable under a normal account but the default search path includes TEXMFHOME set to a texmf tree in your home directory (which does not need to exist) so if you make it and put just your updated files in there, then all standard files will be found in the existing system location but it will look in ~/texmf first and find any updated files there.&lt;/p&gt;

  &lt;p&gt;By Alan Munn - Sep 6, 2018 at 22:05  &lt;br /&gt;
You don’t need to make all of the structure, just the stuff you need.
So minimally you will probably need &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/texmf/tex/latex&lt;/code&gt; for LaTeX packages and if you want documentation for a package to be found by texdoc it should be in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/texmf/doc&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;By Alan Munn - Sep 6, 2018 at 22:23 &lt;br /&gt;
Local additions should not be put into the system &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texmf&lt;/code&gt; directory, i.e. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/texmf&lt;/code&gt;,  but instead should be put into your home &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texmf&lt;/code&gt; directory.
This directory is not created automatically so you need to create it yourself.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In other words, in a brand new installation, a local texmf directory is not created and you will need to create one if one doesn’t exist.
It should be found first when LaTeX searches for packages.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;latexmk&quot;&gt;latexmk&lt;/h2&gt;

&lt;p&gt;To get usage information for latexmk:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -help
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To compile a document and create a PDF from it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -pdf file_name.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To compile a document with &lt;em&gt;lualatex&lt;/em&gt;.
(a.k.a. Use &lt;em&gt;lualatex&lt;/em&gt; for processing files to PDF.):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -lualatex file_name.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sun, 09 Jun 2024 20:15:14 -0700</pubDate>
        <link>http://localhost:4000/tex/latex/2024/06/09/tex-latex-pkg-management.html</link>
        <guid isPermaLink="true">http://localhost:4000/tex/latex/2024/06/09/tex-latex-pkg-management.html</guid>
        
        
        <category>tex</category>
        
        <category>latex</category>
        
      </item>
    
      <item>
        <title>TeX and LaTeX Quick Start</title>
        <description>&lt;p&gt;OS: FreeBSD 14 &lt;br /&gt;
Shell: csh  &lt;br /&gt;
X Window Manager: FVWM&lt;br /&gt;
DVI Viewer: xdvi
PDF Viewers: zathura, mupdf&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;hello-world-in-tex&quot;&gt;Hello World in TeX&lt;/h1&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat helloworld.tex
% Hello World in plain \TeX
Hello, World!
\bye
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Running TeX on this file (for example, by typing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tex helloworld.tex&lt;/code&gt;) creates an output file called &lt;em&gt;helloworld.dvi&lt;/em&gt;, representing the content of the page in a &lt;strong&gt;d&lt;/strong&gt;e&lt;strong&gt;v&lt;/strong&gt;ice &lt;strong&gt;i&lt;/strong&gt;ndependent format (&lt;strong&gt;DVI&lt;/strong&gt;).
A DVI file could then be either viewed on screen or converted to a suitable format for printing.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tex helloworld.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If your system doesn’t have a program for viewing .dvi files, you can install 
&lt;strong&gt;xdvi&lt;/strong&gt; program (DVI Previewer for the X Window System):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search xdvi
tex-xdvik-22.87.06_3           DVI Previewer (kpathsearch) for X
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install tex-xdvik
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xdvi helloworld.dvi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To change the colour of the background and the colour of the text (foreground):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xdvi -bg white -fg black helloworld.dvi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, you can use &lt;strong&gt;pdfTeX&lt;/strong&gt;, which is capable of generating typeset PDF output in place of DVI.
pdfTeX has other capabilities, most notably in the area of fine typographic detail (for example, its support for optimising line breaks), but its greatest impact to date has been in the area of PDF output. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;] [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
In FreeBSD, &lt;strong&gt;pdftex&lt;/strong&gt; is installed by &lt;em&gt;tex-basic-engines&lt;/em&gt; package.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pdftex helloworld.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zathura helloworld.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;hello-world-in-latex&quot;&gt;Hello World in LaTeX&lt;/h1&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat helloworld.tex
% Hello World! in LaTeX
\documentclass{minimal}
\begin{document}
  Hello, World!
\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pdflatex helloworld.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zathura helloworld.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;what-is-tex-also-called-plain-tex&quot;&gt;What is TeX (also called Plain TeX)?&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Typesetting engine (typesetting system) [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;Typesetting language [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;Typesetting computer program [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;Plain TeX is the basic macro package [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;what-is-latex-answer-simplified-latex--tex--macros&quot;&gt;What is LaTeX? Answer (Simplified): LaTeX = TeX + Macros&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;A TeX macro package [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;A document processing system [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;A set of commands for interacting with the system at a higher level than the plain TeX [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;8&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;A macro system (built on top of TeX that aims to simplify its use and automate many common formatting tasks) [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;9&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
  &lt;li&gt;LaTeX uses the TeX formatter as its typesetting engine [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;10&lt;/a&gt;&lt;/sup&gt;]&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;the-levels-of-tex&quot;&gt;The Levels of TeX&lt;/h1&gt;

&lt;p&gt;From &lt;a href=&quot;https://tug.org/levels.html&quot;&gt;LaTeX vs. MiKTeX: The levels of TeX - TUG (TeX User Group)&lt;/a&gt;: [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;11&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Distributions: MiKTeX, TeX Live, W32TeX, …&lt;/li&gt;
  &lt;li&gt;Front ends and editors: Emacs, vim, TeXworks, TeXShop, WinEdt, …&lt;/li&gt;
  &lt;li&gt;Engines: TeX, pdfTeX, XeTeX, LuaTeX, …&lt;/li&gt;
  &lt;li&gt;Formats: LaTeX, plain TeX, OpTeX, …&lt;/li&gt;
  &lt;li&gt;Packages: geometry, lm, …&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;the-first-latex-document&quot;&gt;The First LaTeX Document&lt;/h1&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://www.ctan.org/pkg/first-latex-doc&quot;&gt;first-latex-doc – A document for absolute LaTeX beginners&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The document leads a reader, who knows nothing about LaTeX, through the production of a two page document.&lt;/p&gt;

  &lt;p&gt;The user who has completed that first document, and wants to carry on, will find recommendations for tutorials.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mirrors.ctan.org/info/first-latex-doc/first-latex-doc.pdf&quot;&gt;first-latex-doc.pdf – The PDF file of example first document with embedded explanation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See also: &lt;br /&gt;
&lt;a href=&quot;https://www.ctan.org/tex-archive/info/latex-doc-ptr&quot;&gt;A First Set of LaTeX Resources&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.maths.tcd.ie/~dwilkins/LaTeXPrimer/TypicalInput.html&quot;&gt;A Typical LaTeX Input File - From &lt;em&gt;Getting Started with LaTeX&lt;/em&gt;, 2nd Edition, 1995 - David R. Wilkins&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;texlatex-document-structure&quot;&gt;TeX/LaTeX Document Structure&lt;/h1&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://en.m.wikibooks.org/wiki/LaTeX/Document_Structure&quot;&gt;LaTeX/Document Structure - Wikibooks&lt;/a&gt; and &lt;a href=&quot;http://mirrors.ctan.org/info/impatient/book.pdf&quot;&gt;Free edition of the book “TeX for the Impatient”&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Commands&lt;/li&gt;
  &lt;li&gt;Preamble&lt;/li&gt;
  &lt;li&gt;Classes (Document Classes)&lt;/li&gt;
  &lt;li&gt;Packages&lt;/li&gt;
  &lt;li&gt;Groups&lt;/li&gt;
  &lt;li&gt;Environments&lt;/li&gt;
  &lt;li&gt;The Document Environment
    &lt;ul&gt;
      &lt;li&gt;Top Matter (aka Front Matter)
        &lt;ul&gt;
          &lt;li&gt;Table Of Contents (TOC)&lt;/li&gt;
          &lt;li&gt;Abstract&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Sectioning (Sectioning Commands)
        &lt;ul&gt;
          &lt;li&gt;Section Numbering&lt;/li&gt;
          &lt;li&gt;Section Number Style&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Ordinary Paragraphs&lt;/li&gt;
      &lt;li&gt;Back Matter (aka End Matter or Special Pages)
        &lt;ul&gt;
          &lt;li&gt;Bibliography&lt;/li&gt;
          &lt;li&gt;Appendix or Appendices&lt;/li&gt;
          &lt;li&gt;Index&lt;/li&gt;
          &lt;li&gt;Acronyms&lt;/li&gt;
          &lt;li&gt;Nomenclature&lt;/li&gt;
          &lt;li&gt;Glossary&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Book Structure
    &lt;ul&gt;
      &lt;li&gt;Page Order&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following image (based on &lt;a href=&quot;https://mirrors.ctan.org/info/simplified-latex/simplified-intro.pdf&quot;&gt;A Simplified Introduction to LaTeX - Harvey J. Greenberg and Dan Luecking&lt;/a&gt; shows a structure of a LaTeX document.&lt;/p&gt;

&lt;p&gt;You can also download this image as a cropped PDF from here:
&lt;a href=&quot;http://localhost:4000/assets/txt/latex-doc-structure.pdf&quot;&gt;latex-doc-structure.pdf&lt;/a&gt; [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;12&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/latex-doc-structure.png&quot; alt=&quot;The structure of a LaTeX document&quot; title=&quot;The structure of a LaTeX document&quot; /&gt;&lt;/p&gt;

&lt;p&gt;An image showing the structure of a LaTeX document&lt;/p&gt;

&lt;h2 id=&quot;commands&quot;&gt;Commands&lt;/h2&gt;

&lt;p&gt;Every input file must contain the &lt;strong&gt;commands&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.unswmathsoc.org/files/resources/misc/LaTeX_Guide_2019.pdf&quot;&gt;An Introduction to LaTeX - UNSW Mathematics Society&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Commands are what you use to access the features in LaTeX.
Every command is preceeded by the backslash symbol: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\command&lt;/code&gt;.
Some commands may require you to provide arguments; for example, bold font requires you to provide the text you wish to bold as an argument: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\textbf{bold text here}&lt;/code&gt;.
Each command is different, and the number of arguments required depends on which command you are currently using.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;preamble&quot;&gt;Preamble&lt;/h2&gt;

&lt;p&gt;A.k.a. the layout (or the setup) of the document.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\documentclass{...}

\begin{document}
...
\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The area between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\documentclass{...}&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\begin{document}&lt;/code&gt; is called the &lt;strong&gt;preamble&lt;/strong&gt;.
The preamble consists of all of the packages, commands and any other functionality you want to include.&lt;/p&gt;

&lt;p&gt;Major or permanent modifications should go in a &lt;em&gt;.sty&lt;/em&gt; file and be invoked with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\usepackage&lt;/code&gt; command.&lt;/p&gt;

&lt;h2 id=&quot;classes-document-classes&quot;&gt;Classes (Document Classes)&lt;/h2&gt;

&lt;p&gt;When processing an input file, LaTeX needs to know which layout standard to use.
Layouts standards are contained within ‘class files’ which have &lt;em&gt;.cls&lt;/em&gt; as their filename extension.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\documentclass[options]{class}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;class&lt;/code&gt; parameter for the command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\documentclass&lt;/code&gt; specifies the .cls file to use for the document.
It is recommended to put this declaration at the very beginning.
The LaTeX distribution provides additional classes for other layouts, including letters and slides.
It is also possible to create your own.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;options&lt;/code&gt; parameter customizes the behaviour of the document class.
The &lt;em&gt;options&lt;/em&gt; have to be &lt;em&gt;separated by commas&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Example: an input file for a LaTeX document could start with the line&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\documentclass[11pt,twoside,a4paper]{article}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which instructs LaTeX to typeset the document as an article with a base font size of 11 points, and to produce a layout suitable for double sided printing on A4 paper.&lt;/p&gt;

&lt;p&gt;Here’s &lt;a href=&quot;https://ctan.org/topic/class&quot;&gt;a comprehensive list of document classes&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;code-snippets-for-standard-classes&quot;&gt;Code Snippets for Standard Classes&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://texblog.org/code-snippets/standard-classes/#article&quot;&gt;Article&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://texblog.org/code-snippets/standard-classes/#report&quot;&gt;Report&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://texblog.org/code-snippets/standard-classes/#book&quot;&gt;Book&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;packages&quot;&gt;Packages&lt;/h2&gt;

&lt;p&gt;While writing your document, you will probably find that there are some areas where basic LaTeX cannot solve your problem.
If you want to include graphics, coloured text or source code from a file into your document, you need to enhance the capabilities of LaTeX.
Such enhancements are called packages.
Some packages come with the LaTeX base distribution.
Others are provided separately. Modern TeX distributions come with a large number of packages pre-installed.
The command to use a package is pretty simple: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\usepackage&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\usepackage&lt;/code&gt; command goes into the &lt;strong&gt;preamble&lt;/strong&gt; of the document; that is, in the area between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\documentclass{...}&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\begin{document}&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage[options]{package}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can pass &lt;em&gt;several options&lt;/em&gt; to a package, each &lt;em&gt;separated by a comma&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage[option1,option2,option3]{&apos;&apos;package_name&apos;&apos;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;recommended-packages&quot;&gt;Recommended Packages&lt;/h2&gt;

&lt;h3 id=&quot;from-a-simplified-introduction-to-latex&quot;&gt;From ‘A Simplified Introduction to LaTeX’&lt;/h3&gt;

&lt;p&gt;From &lt;a href=&quot;https://mirrors.ctan.org/info/simplified-latex/simplified-intro.pdf&quot;&gt;A Simplified Introduction to LaTeX - Harvey J. Greenberg and Dan Luecking&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You will find other packages useful, depending upon your technical area.
Here are some packages that give you special symbols: &lt;em&gt;chemsym&lt;/em&gt;, &lt;em&gt;qsymbols&lt;/em&gt;,
&lt;em&gt;wasysym&lt;/em&gt;, and &lt;em&gt;xypic&lt;/em&gt;.
Also, the &lt;em&gt;algorithm&lt;/em&gt; package enables an environment to write source code with standard language elements, and there are others with similar properties or for particular programming languages (&lt;em&gt;viz.&lt;/em&gt;, &lt;em&gt;c-pascal&lt;/em&gt; and &lt;em&gt;listings&lt;/em&gt;).
The &lt;em&gt;graphtex&lt;/em&gt; package specializes in all sorts of graphs, including those commonly found in automata theory.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From the preamble in that document:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage{amsmath}           % formerly amstex
\usepackage{amssymb}           % ams symbols (\mathbb fonts)
\usepackage{amscd}             % draws commutative diagrams
\usepackage{bm}                % bold math fonts (\mathbm)
\usepackage{graphicx,pst-all}  % graphics
\usepackage{hyphenat}          % enables control over hyphenation
\usepackage{fancyvrb,moreverb} % verbatim
\usepackage{float}             % enable float [H] option
\usepackage[T1]{fontenc}       % ...to write \textbf{\textsc{..}}
\usepackage{ifthen}            % ifthenelse {condition}{true}{false}
\usepackage{makeidx}           % index
\usepackage{multirow}          % like multicolumn
\usepackage{mathrsfs}          % more math symbols (viz., \mathscr)
\usepackage{theorem}           % enables more control over newtheorem
\usepackage{url}               % \url{...}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;recommended-packages---references&quot;&gt;Recommended Packages - References&lt;/h3&gt;

&lt;p&gt;From &lt;a href=&quot;https://web.archive.org/web/20160808221527/http://www.howtotex.com/packages/the-nag-package-warns-you-for-incorrect-latex-usage/&quot;&gt;The nag package warns you for incorrect LaTeX usage - howtotex.com – Archived from the original on Aug 8, 2016&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ctan.org/pkg/nag&quot;&gt;https://www.ctan.org/pkg/nag&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ctan.org/pkg/l2tabu&quot;&gt;https://www.ctan.org/pkg/l2tabu&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;l2tabu - Obsolete packages and commands&lt;/p&gt;

      &lt;p&gt;The “sins” of LaTeX users, and how to correct them.
The document provides a list of obsolete packages and commands.&lt;/p&gt;

      &lt;p&gt;This original is in German.
Translated version in English: &lt;a href=&quot;https://www.ctan.org/pkg/l2tabu-english&quot;&gt;https://www.ctan.org/pkg/l2tabu-english&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It also comes with TeX Live so you can access it by entering the following command in your OS.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ texdoc l2tabuen
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In FreeBSD, your PDF viewer opens this file: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/texmf-dist/doc/latex/l2tabu-english/l2tabuen.pdf&lt;/code&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;An essential guide to LaTeX2e usage&lt;/strong&gt; - Obsolete commands and packages &lt;br /&gt;
by Mark Trettin &lt;br /&gt;
English translation by Jürgen Fenn &lt;br /&gt;
June 17, 2007&lt;/p&gt;

  &lt;p&gt;Abstract  &lt;br /&gt;
This is the English version 1.8.5.7 of l2tabu, focusing on obsolete commands and packages, and demonstrating the most severe mistakes most LaTeX users are prone to make.
You should read this guide if you want to improve on your LaTeX code.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From &lt;a href=&quot;https://web.archive.org/web/20160815072957/http://www.howtotex.com/packages/9-essential-latex-packages-everyone-should-use&quot;&gt;Nine essential LaTeX packages everyone should use - howtotex.com – Archived from the original on Aug 15, 2016&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/amsmath&quot;&gt;https://ctan.org/pkg/amsmath&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/geometry&quot;&gt;https://ctan.org/pkg/geometry&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/graphicx&quot;&gt;https://ctan.org/pkg/graphicx&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/nag&quot;&gt;https://ctan.org/pkg/nag&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/microtype&quot;&gt;https://ctan.org/pkg/microtype&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/siunitx&quot;&gt;https://ctan.org/pkg/siunitx&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/booktabs&quot;&gt;https://ctan.org/pkg/booktabs&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/cleveref&quot;&gt;https://ctan.org/pkg/cleveref&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/hyperref&quot;&gt;https://ctan.org/pkg/hyperref&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note on &lt;em&gt;hyperref&lt;/em&gt; package: as a rule of thumb it should be loaded at the end of the preamble, after all the other packages.
A few exceptions exist, such as the &lt;em&gt;cleveref&lt;/em&gt; package. 
&lt;em&gt;cleveref&lt;/em&gt; should be loaded after hyperref.
More exceptions are listed in this post on TeX.SE: &lt;a href=&quot;https://tex.stackexchange.com/questions/1863/which-packages-should-be-loaded-after-hyperref-instead-of-before&quot;&gt;Which packages should be loaded after hyperref instead of before?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://brushingupscience.com/2016/02/13/four-effortless-latex-packages-you-should-use/&quot;&gt;Four effortless LaTeX packages you should use&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/mathpazo&quot;&gt;https://ctan.org/pkg/mathpazo&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/microtype&quot;&gt;https://ctan.org/pkg/microtype&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/caption&quot;&gt;https://ctan.org/pkg/caption&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ctan.org/pkg/sectsty&quot;&gt;https://ctan.org/pkg/sectsty&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;groups&quot;&gt;Groups&lt;/h2&gt;

&lt;p&gt;From &lt;a href=&quot;http://mirrors.ctan.org/info/impatient/book.pdf&quot;&gt;Free edition of the book “TeX for the Impatient”&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;A &lt;em&gt;group&lt;/em&gt; consists of material enclosed in matching left and right &lt;strong&gt;braces&lt;/strong&gt; (&lt;strong&gt;{&lt;/strong&gt; and &lt;strong&gt;}&lt;/strong&gt;).
By placing a command within a group, you can limit its effects to the material within the group.
For instance, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\bf&lt;/code&gt; command tells TeX to set something in &lt;strong&gt;boldface&lt;/strong&gt; type.
If you were to put &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\bf&lt;/code&gt; into your input file and do nothing else to counteract it, everything in your document following the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\bf&lt;/code&gt; would be set in boldface.
By enclosing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\bf&lt;/code&gt; in a group, you limit its effect to the group.
For example, if you type:&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;We have {\bf a few boldface words} in this sentence.&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;you’ll get:&lt;/p&gt;

  &lt;p&gt;We have &lt;strong&gt;a few boldface words&lt;/strong&gt; in this sentence.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;environments&quot;&gt;Environments&lt;/h2&gt;

&lt;p&gt;Areas between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\begin{...}&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\end{...}&lt;/code&gt; pairs are called &lt;strong&gt;environments&lt;/strong&gt;.  [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;13&lt;/a&gt;&lt;/sup&gt;] [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;14&lt;/a&gt;&lt;/sup&gt;] [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;15&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;Environments typically take the form:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\begin{environmentname}[optional parameters]{mandatory parameters}
**--text--**
\end{environmentname}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In other words, the &lt;em&gt;begin/end&lt;/em&gt; structure distinguishes the syntax of environments from commands. Note that some environments don’t have required parameters.
For the subtle distinction between commands in environments, refer to this SE discussion:  &lt;a href=&quot;https://tex.stackexchange.com/questions/8373/why-does-latex-make-a-distinction-between-commands-and-environments&quot;&gt;Why does LaTeX make a distinction between commands and environments?&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;the-document-environment&quot;&gt;The Document Environment&lt;/h2&gt;

&lt;p&gt;A.k.a. Actual Document (Document Body or Main Body of the Text)&lt;/p&gt;

&lt;p&gt;After the preamble, the text of your document is enclosed between two commands which identify the beginning and end of the actual document:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\begin{document}
...
\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A useful side-effect of marking the end of the document text is that you can store comments or temporary text underneath the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\end{document}&lt;/code&gt; in the knowledge that LaTeX will never try to typeset them:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\end{document}
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;top-matter-aka-front-matter&quot;&gt;Top Matter (aka Front Matter)&lt;/h4&gt;

&lt;p&gt;At the beginning of most documents there will be information about the document itself, such as the title and date, and also information about the authors, such as name, address, email etc.
All of this type of information within LaTeX is collectively referred to as &lt;em&gt;top matter&lt;/em&gt; (aka &lt;em&gt;front matter&lt;/em&gt;).
Although never explicitly specified (there is no &lt;em&gt;\topmatter&lt;/em&gt; or &lt;em&gt;\frontmatter&lt;/em&gt; command) you are likely to encounter the term within LaTeX documentation.&lt;/p&gt;

&lt;p&gt;A simple example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\documentclass[11pt,a4paper]{report}

\begin{document}
\title{How to Structure a LaTeX Document}
\author{Andrew Roberts}
\date{December 2004}
\maketitle
\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You always finish the top matter (front matter) with the \maketitle command, which tells LaTeX that it’s complete and it can typeset the title according to the information you have provided and the class (style) you are using.
If you omit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\maketitle&lt;/code&gt;, the title will not be typeset.&lt;/p&gt;

&lt;p&gt;Using this approach, you can only create a title with a fixed layout.
If you want to create your title freely, see the &lt;a href=&quot;https://en.m.wikibooks.org/wiki/LaTeX/Title_Creation&quot;&gt;Title Creation&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;abstract&quot;&gt;Abstract&lt;/h4&gt;

&lt;p&gt;As most research papers have an abstract, there are predefined commands for telling LaTeX which part of the content makes up the abstract.
This should appear in its logical order, therefore, after the top matter (front matter), but before the main sections of the body.
This command is available for the document classes article and report, but not book.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\documentclass{article}

\begin{document}

\begin{abstract}
Your abstract goes here...
...
\end{abstract}
...
\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;By default, LaTeX will use the word “Abstract” as a title for your abstract.
If you want to change it into anything else, e.g. “Executive Summary”, add the following line before you begin the abstract environment:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\renewcommand{\abstractname}{Executive Summary}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;sectioning-sectioning-commands&quot;&gt;Sectioning (Sectioning Commands)&lt;/h3&gt;

&lt;p&gt;Here are some of the sectioning commands.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\chapter{Introduction}
This chapter&apos;s content...

\section{Structure}
This section&apos;s content...

\subsection{Top Matter}
This subsection&apos;s content...

\subsubsection{Article Information}
This subsubsection&apos;s content...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You do not need to specify section numbers; LaTeX performs automatic numbering of the sections.
Also, for sections, you do not need to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\begin&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\end&lt;/code&gt; commands to indicate which content belongs to a given block.&lt;/p&gt;

&lt;p&gt;If you want to use &lt;strong&gt;sections without numbering them&lt;/strong&gt;, then add an &lt;strong&gt;asterisk (*)&lt;/strong&gt; after the section command, but before the first curly brace, i.e. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\section*{A Title Without Numbers}&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;LaTeX provides 7 levels of depth for defining sections (see table below).
Each section in this table is a subsection of the one above it.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+---------------------------------+-------+-----------------------+
| Command                         | Level | Comment               |
+---------------------------------+-------+-----------------------+
| \part{&quot;part&quot;}                   |  -1   | not in letter         |
+---------------------------------+-------+-----------------------+
| \chapter{&quot;chapter&quot;}             |   0   | only book and report* | 
+---------------------------------+-------+-----------------------+
| \section{&quot;section&quot;}             |   1   | not in letter         |
+---------------------------------+-------+-----------------------+
| \subsection{&quot;subsection&quot;}       |   2   | not in letter         |
+---------------------------------+-------+-----------------------+
| \subsubsection{&quot;subsubsection&quot;} |   3   | not in letter         |
+---------------------------------+-------+-----------------------+
| \paragraph{&quot;paragraph&quot;}         |   4   | not in letter         |
+---------------------------------+-------+-----------------------+
| \subparagraph{&quot;subparagraph&quot;}   |   5   | not in letter         |
+---------------------------------+-------+-----------------------+

[*] You need \documentclass{book} or \documentclass{report}.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All the titles of the sections are added automatically to the table of contents (if you decide to insert one).
But if you make manual styling changes to your heading, for example a very long title, or some special line-breaks or unusual font-play, this would appear in the Table of Contents as well, which you almost certainly don’t want.
LaTeX allows you to give an optional extra version of the heading text which only gets used in the Table of Contents and any running heads, if they are in effect.
This optional alternative heading goes in [square brackets] before the curly braces:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\section[Effect on staff turnover]{An analysis of the
effect of the revised recruitment policies on staff
turnover at divisional headquarters}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;ordinary-paragraphs&quot;&gt;Ordinary Paragraphs&lt;/h4&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;sample-latex-documents&quot;&gt;Sample LaTeX Documents&lt;/h1&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://tug.org/begin.html&quot;&gt;Getting started with TeX, LaTeX, and friends&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;introductory-latex-document-small2etex&quot;&gt;Introductory LaTeX Document (small2e.tex)&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;If you have TeX installed and just want to get started, you can peruse and process this &lt;a href=&quot;https://mirror.ctan.org/macros/latex/base/small2e.tex&quot;&gt;introductory LaTeX document (small2e)&lt;/a&gt;.
When you’ve mastered that, move on to this &lt;a href=&quot;https://mirror.ctan.org/macros/latex/base/sample2e.tex&quot;&gt;more complex example (sample2e)&lt;/a&gt;.&lt;/p&gt;

  &lt;p&gt;The basic procedure is to create plain text files in any editor or GUI front end (TeXworks, TeXShop, GNU Emacs, etc.), and then run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pdflatex myfile.tex&lt;/code&gt; from a command line to get PDF output.
Or run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;latex&lt;/code&gt; to get DVI output, instead of PDF.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://mirror.ctan.org/macros/latex/base/small2e.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pdflatex small2e.tex 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mupdf small2e.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;more-complex-introductory-latex-document-sample2etex&quot;&gt;More Complex Introductory LaTeX Document (sample2e.tex)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://mirror.ctan.org/macros/latex/base/sample2e.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pdflatex sample2e.tex 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mupdf sample2e.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;template-from-ams-latex-primer&quot;&gt;Template from AMS-LaTeX Primer&lt;/h2&gt;
&lt;h2 id=&quot;aka-getting-up-and-running-with-ams-latex&quot;&gt;(aka Getting up and running with AMS-LaTeX)&lt;/h2&gt;

&lt;p&gt;From
&lt;a href=&quot;http://mirror.ctan.org/info/amslatex/primer/amshelp.pdf&quot;&gt;Getting up and running with AMS-LaTeX – Philip S. Hirschhorn&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Abstract.&lt;/p&gt;

  &lt;p&gt;Together with the template file &lt;em&gt;template.tex&lt;/em&gt;, these notes are an attempt to tell you enough about LaTeX and AMS-LaTeX so that you can get started without having to read the book.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You can download the &lt;em&gt;template.tex&lt;/em&gt; from CTAN here: &lt;a href=&quot;https://mirrors.ctan.org/info/amslatex/primer/template.tex&quot;&gt;https://mirrors.ctan.org/info/amslatex/primer/template.tex&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;mwe-minimal-working-example-of-a-latex-document&quot;&gt;MWE (Minimal Working Example) of a LaTeX Document&lt;/h2&gt;

&lt;p&gt;From &lt;a href=&quot;https://vladar.bearblog.dev/latex-for-tabletop/&quot;&gt;LaTeX for tabletop - a MWE (minimal working example) of a LaTeX document&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;STY files&lt;/strong&gt; &lt;br /&gt;
It is quite useful to keep all of your custom formatting parameters and macros in a separate file.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You can download the &lt;em&gt;.tex&lt;/em&gt; and &lt;em&gt;.sty&lt;/em&gt; files for this example here: &lt;br /&gt;
&lt;a href=&quot;http://localhost:4000/assets/txt/example.tex&quot;&gt;example.tex&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://localhost:4000/assets/txt/example.sty&quot;&gt;example.sty&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;minimal-latex-file&quot;&gt;Minimal LaTeX File&lt;/h2&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://mirrors.ctan.org/info/lshort/english/lshort.pdf&quot;&gt;The Not-So Short Guide to LaTeX2e - Or LaTeX2e in 139 minutes – Tobias Oetiker, Hubert Partl, Irene Hyna, and Elisabeth Schlegl&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\documentclass{article}
\begin{document}
A Minimal LaTeX File.
\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;slightly-more-than-minimal-latex-input-file&quot;&gt;Slightly More than Minimal LaTeX Input File&lt;/h2&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://mirrors.ctan.org/info/lshort/english/lshort.pdf&quot;&gt;The Not-So Short Guide to LaTeX2e - Or LaTeX2e in 139 minutes&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat small.tex
\documentclass[a4paper,11pt]{article}

% define the title
\author{P.~Dusko}
\title{Minimalism}

\begin{document}

% generates the title
\maketitle

% insert the table of contents
\tableofcontents

\section{Section with Some Interesting Words}
Well, and here begins my lovely article.

\section{Good Bye Section}
\ldots{} and here it ends.

\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: When you have a TOC (Table Of Contents) in your document, you need to invoke  LaTeX &lt;strong&gt;two times&lt;/strong&gt; so unless you are using &lt;a href=&quot;https://www.cantab.net/users/johncollins/latexmk/index.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;latexmk(1)&lt;/code&gt; Perl script&lt;/a&gt;, or &lt;a href=&quot;https://latex-mk.sourceforge.net/&quot;&gt;&lt;em&gt;LaTeX-Mk&lt;/em&gt; (&lt;em&gt;make&lt;/em&gt;-based build system for LaTeX projects)&lt;/a&gt;, or the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make(1)&lt;/code&gt; program, you need to run the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pdflatex(1)&lt;/code&gt; command (or  the&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;latex&lt;/code&gt; command, or the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lualatex&lt;/code&gt; command) &lt;strong&gt;two times&lt;/strong&gt; in order to get a correct table of contents. [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;16&lt;/a&gt;&lt;/sup&gt;] [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;17&lt;/a&gt;&lt;/sup&gt;] [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;18&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pdflatex small.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pdflatex small.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mupdf small.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/latex-minimalism.png&quot; alt=&quot;Slightly more than minimal LaTeX file&quot; title=&quot;Slightly more than minimal LaTeX file&quot; /&gt;&lt;/p&gt;

&lt;p&gt;An image showing a slightly more than minimal LaTeX file&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;one-page-document-template-one-pager-boilerplate&quot;&gt;One Page Document Template (One-Pager Boilerplate)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat latexonepage.tex 
\documentclass{article}

% Preamble - the area between \documentclass{...} and \begin{document}
\usepackage{lipsum}
\title{The quick brown fox jumps over the lazy dog}
\author{Name}
% Preamble - the area between \documentclass{...} and \begin{document}

% Document Body - the area between \begin{document} and \end{document}
\begin{document}

% Document title; Author&apos;s name; Date - From \title and \author
\maketitle  

The lipsum command automatically generates the specified number of paragraphs of text that is commonly used for examples.

\section{Text for the first section}
  \lipsum[1]
\subsection{Text for a subsection of the first section}
  Text for a subsection of the first section.
\subsection{Another subsection of the first section}
  Text for another subsection of the first section.

\section{The second section}
  Text for the second section.
\subsection{Title of the first subsection of the second section}
  Text for the second subsection.

\end{document}
% Document Body - the area between \begin{document} and \end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pdflatex latexonepage.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If your run ends with a question mark, then you can type ‘x’ and press the ‘Enter’ key to get out.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zathura latexonepage.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that &lt;strong&gt;numbering&lt;/strong&gt; of the sections and subsections is done &lt;strong&gt;automatically&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;optional-all-in-one-preamble&quot;&gt;Optional: All-in-One Preamble&lt;/h2&gt;

&lt;p&gt;All-in-one preamble that takes care of LuaLaTeX and XeLaTeX (based on &lt;a href=&quot;https://mirrors.ctan.org/info/lshort/english/lshort.pdf&quot;&gt;The Not-So Short Guide to LaTeX2e (Version 6.4, Mar 9, 2021) - Figure 2.1: All-in-one preamble that takes care of LuaLaTeX and XeLaTeX, page 24&lt;/a&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage{iftex}
\ifXeTeX
  \usepackage{fontspec}
\else
  \usepackage{luatextra}
\fi
\defaultfontfeatures{Ligatures=TeX}
\usepackage{polyglossia}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can download the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;latexonepage.tex&lt;/code&gt; file with the all-in-one preamble here: &lt;a href=&quot;http://localhost:4000/assets/txt/latexonepage.tex&quot;&gt;latexonepage.tex&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lualatex latexonepage.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zathura latexonepage.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;mini-faq-for-one-page-document-template&quot;&gt;Mini FAQ for One Page Document Template&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://texfaq.org/FAQ-nopageno&quot;&gt;How to get rid of page numbers&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://texfaq.org/FAQ-latexqual&quot;&gt;The quality of your LaTeX&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;my-typical-minimal-document-template-boilerplate&quot;&gt;My Typical Minimal Document Template (Boilerplate)&lt;/h2&gt;

&lt;p&gt;Based on:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ctan.org/tex-archive/info/beginlatex/&quot;&gt;&lt;em&gt;Beginners’ LaTeX&lt;/em&gt; (now called the &lt;em&gt;Formatting Information&lt;/em&gt; document) - CTAN&lt;/a&gt;,&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://wch.github.io/latexsheet/latexsheet.pdf&quot;&gt;LaTeX cheat sheet - Winston Chang&lt;/a&gt;,&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://latex.silmaril.ie/formattinginformation&quot;&gt;Formatting Information - https://latex.silmaril.ie/formattinginformation&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat latex-template.tex
\documentclass[12pt]{article}

% vv-- Preamble - the area between \documentclass{...} and \begin{document}
\usepackage{fontspec,url}
\usepackage{fullpage}      % Use 1 inch margins
\setmainfont{XCharter}
\setcounter{secnumdepth}{0}
\pagenumbering{gobble}     % Preventing pages from being numbered
% ^^-- Preamble - the area between \documentclass{...} and \begin{document}

% vv-- Document Body - the area between \begin{document} and \end{document}
\begin{document}

\section{My \LaTeX\ Template}

This is a short example of a \LaTeX\ document I wrote on \today. 
It shows a few simple features of automated typesetting, including:
\begin{itemize}
  \item setting the font size to 12pt for the `article&apos; class;
  \item using any font, not just the default;
  \item using the special formatting for URIs (URLs or web addresses);
  \item using the XCharter typeface;
  \item preventing sections from being numbered;
  \item preventing pages from being numbered;
  \item formatting a section heading;
  \item using the \textbf{ \LaTeX\ } logo;
  \item generating today&apos;s date;
  \item formatting this list of items;
  \item formatting a subsection heading;
  \item using opening and closing quotes;
  \item boxing, centering, italicizing, and putting text into bold type.
\end{itemize}

\subsection{More information}

This example was taken from the book `Formatting
Information&apos;, which you can read online at
\url{http://latex.silmaril.ie/formattinginformation/}
and use as a teach-yourself guide.

\bigskip

A table:
\begin{table}[!th]
\begin{tabular}{|l|c|r|}
\hline
  first &amp;amp; row &amp;amp; data \\
  second &amp;amp; row &amp;amp; data \\
\hline
\end{tabular}
\caption{This is the caption}
\label{ex:table}
\end{table}

The table is numbered \ref{ex:table}.

\begin{center}
  \fbox{\emph{Have a nice day!}}
\end{center}

\end{document}
% ^^-- Document Body - the area between \begin{document} and \end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lualatex latex-template.tex
. . . 
LaTeX Warning: Label(s) may have changed. Rerun to get cross-references right.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lualatex latex-template.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zathura latex-template.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/latex-template.png&quot; alt=&quot;My typical minimal LaTeX template file&quot; title=&quot;My typical minimal LaTeX template file&quot; /&gt;&lt;/p&gt;

&lt;p&gt;An image showing my typical minimal LaTeX template file&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;tips-and-tricks&quot;&gt;Tips and Tricks&lt;/h3&gt;

&lt;h4 id=&quot;supressing-page-numbering&quot;&gt;Supressing Page Numbering&lt;/h4&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\pagenumbering{gobble}&lt;/code&gt; in the preamble of your LaTeX document.&lt;/p&gt;

&lt;h4 id=&quot;unnumbered-headings&quot;&gt;Unnumbered Headings&lt;/h4&gt;

&lt;p&gt;To get an unnumbered heading which does not go into the TOC (Table of Contents), follow the command name with an asterisk (*) before the opening curly brace.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\section*{Section Title}&lt;/code&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;sample-file-with-some-interesting-tex-and-latex-examples&quot;&gt;Sample File with Some Interesting TeX and LaTeX Examples&lt;/h2&gt;

&lt;p&gt;You can download the sample file here: &lt;br /&gt;
&lt;a href=&quot;http://localhost:4000/assets/txt/tex-latex-extras.tex&quot;&gt;tex-latex-extras.tex&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://localhost:4000/assets/txt/tex-latex-extras.pdf&quot;&gt;tex-latex-extras.pdf&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lualatex tex-latex-extras.tex
. . . 
LaTeX Warning: Label(s) may have changed. Rerun to get cross-references right.
. . . 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lualatex tex-latex-extras.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zathura tex-latex-extras.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;customization&quot;&gt;Customization&lt;/h2&gt;

&lt;h3 id=&quot;commands-newcommand-and-renewcommand&quot;&gt;Commands &lt;em&gt;\newcommand&lt;/em&gt; and &lt;em&gt;\renewcommand&lt;/em&gt;&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\newcommand&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\renewcommand&lt;/code&gt; commands enable you to define your own commands and change parameter values of existing commands.&lt;/p&gt;

&lt;h4 id=&quot;your-own-abbreviations-and-commands&quot;&gt;Your Own Abbreviations and Commands&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;The command that gives us the ability to make our own has the following
form: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\newcommand{\name}[n]{whatever }&lt;/code&gt;, where &lt;em&gt;n&lt;/em&gt; is the number of arguments, and &lt;em&gt;whatever&lt;/em&gt; is whatever you want the command to do.
Here are two examples simply to abbreviate commands with long names:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\newcommand{\ul}{\underline}
\newcommand{\mc}{\multicolumn}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;The first lets us write &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\ul{something}&lt;/code&gt; to underline something.
The second lets us write &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\mc{3}{c}{stuff}&lt;/code&gt; to enter a multicolumn, in either a tabular or an array environment, spanning 3 columns and centered.&lt;/p&gt;

  &lt;p&gt;The latex compiler will not let you use a name that is already being used.
For example, if you specify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\newcommand{\fbox}&lt;/code&gt;…, you will get a fatal error message since there is already a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\fbox&lt;/code&gt; command.&lt;/p&gt;

  &lt;p&gt;A related use is when the command requires some lines of code.
Consider the following example:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\newcommand{\Box}{\mbox{\begin{picture}(0,0)
                          \put( 2,0){\framebox(7,7)}
                         \end{picture} }}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\mbox&lt;/code&gt; is used to ensure text mode).
Now &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\Box&lt;/code&gt; ⇒ □ and, having defined the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\Box&lt;/code&gt; command, you can use it in other new commands.&lt;/p&gt;

  &lt;p&gt;For example, if in the document preamble you specified: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\newcommand{\chkbox}{$\Box^\surd\;$}&lt;/code&gt;
Then, \chkbox ⇒ ☑&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;The preamble can become very long as we add your commands so it is useful to put them in a separate file, say &lt;em&gt;mydefs.tex&lt;/em&gt; (note the &lt;em&gt;.tex&lt;/em&gt; suffix).
Then, we use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\input&lt;/code&gt; command to have the latex compiler read it wherever it is placed.
In particular, the preamble of this document contains the command:&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\input{mydefs}&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;(The suffix &lt;em&gt;.tex&lt;/em&gt; is assumed.)
Different source files could simply input this same file so duplication of work is avoided.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;your-own-names-titles-and-numbers&quot;&gt;Your Own Names, Titles and Numbers&lt;/h4&gt;

&lt;h4 id=&quot;your-own-environments&quot;&gt;Your Own Environments&lt;/h4&gt;

&lt;h4 id=&quot;your-own-margins-and-spacing&quot;&gt;Your Own Margins and Spacing&lt;/h4&gt;

&lt;h4 id=&quot;your-own-output-control&quot;&gt;Your Own Output Control&lt;/h4&gt;

&lt;h4 id=&quot;your-own-bibliography&quot;&gt;Your Own Bibliography&lt;/h4&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;makefile&quot;&gt;Makefile&lt;/h1&gt;

&lt;p&gt;NOTE:
The second line (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pdflatex helloworld.tex&lt;/code&gt;) starts with one &lt;em&gt;ASCII tab&lt;/em&gt;, a.k.a. the &lt;em&gt;TAB character&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;From the man page for &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=make&amp;amp;sektion=1&quot;&gt;&lt;em&gt;make(1)&lt;/em&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Each of the lines in this script &lt;em&gt;must&lt;/em&gt; be preceded by a tab.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat makefile
helloworld.pdf: helloworld.tex
	pdflatex helloworld.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;makefile-scripts-with-latex-mk&quot;&gt;Makefile Scripts with LaTeX-Mk&lt;/h1&gt;

&lt;p&gt;Author: Dan McMahill (&lt;a href=&quot;https://github.com/dmcmahill&quot;&gt;dmcmahill&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;LaTeX-Mk&lt;/strong&gt;: Collection of makefile and scripts for LaTeX documents [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;19&lt;/a&gt;&lt;/sup&gt;] [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;20&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install latex-mk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;LaTeX-Mk homepage - SourceForge.net:
&lt;a href=&quot;https://latex-mk.sourceforge.net/&quot;&gt;https://latex-mk.sourceforge.net/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;LaTeX-Mk project - GitHub:
&lt;a href=&quot;https://github.com/dmcmahill/latex-mk&quot;&gt;https://github.com/dmcmahill/latex-mk&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;using-latexmk-to-generate-pdf-by-pdflatex&quot;&gt;Using latexmk to Generate PDF by pdflatex&lt;/h1&gt;

&lt;p&gt;Author: &lt;a href=&quot;https://www.cantab.net/users/johncollins/index.html&quot;&gt;John Collins&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://mg.readthedocs.io/latexmk.html&quot;&gt;Using Latexmk&lt;/a&gt; - aka What is LaTeXmk?:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;If you use cross-references, you often have to run LaTeX more than once, if you use BibTeX for your bibliography or if you want to have a glossary you even need to run external programs in-between.&lt;/p&gt;

  &lt;p&gt;To avoid all this hassle, you should simply use Latexmk!&lt;/p&gt;

  &lt;p&gt;Latexmk is a Perl script which you just have to run once and it does everything else for you … completely automagically.&lt;/p&gt;

  &lt;p&gt;And the nice thing is: you probably have it already installed on your computer, because it is part of MacTeX and MikTeX and it is bundled with many Linux Distributions.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In FreeBSD, &lt;strong&gt;latexmk&lt;/strong&gt; is installed by package &lt;strong&gt;texlive-base&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -pdflatex helloworld.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mupdf helloworld.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;using-latexmk-with-lualatex-for-processing-files-to-pdf&quot;&gt;Using latexmk with LuaLaTeX for Processing Files to PDF&lt;/h1&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -lualatex helloworld.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mupdf helloworld.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latexmk -C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Latexmk homepage:
&lt;a href=&quot;https://www.cantab.net/users/johncollins/latexmk/index.html&quot;&gt;https://www.cantab.net/users/johncollins/latexmk/index.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Latexmk is also available at &lt;a href=&quot;https://ctan.org/&quot;&gt;CTAN&lt;/a&gt; at &lt;a href=&quot;https://ctan.org/pkg/latexmk/&quot;&gt;https://ctan.org/pkg/latexmk/&lt;/a&gt;, and is/will be in the TeXLive and MiKTeX distributions.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;editors&quot;&gt;Editors&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.lyx.org/&quot;&gt;LyX – The Document Processor&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.xm1math.net/texmaker/&quot;&gt;TeXmaker - Free cross-platform latex editor&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.texstudio.org/&quot;&gt;TeXstudio (formerly TexMakerX) - an integrated writing environment for creating LaTeX documents – an open-source fork (2009) of Texmaker that offers a different approach to configurability and features&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://texstudio.sourceforge.net/&quot;&gt;TeXstudio on SourceForge.net&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/texstudio-org/texstudio&quot;&gt;TeXstudio on GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tug.org/texworks/&quot;&gt;TeXworks - Lowering the entry barrier to the TeX world - a simple TeX front-end program (working environment)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://kile.sourceforge.io/&quot;&gt;Kile - an Integrated LaTeX Editing Environment&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.libreoffice.org/&quot;&gt;LibreOffice - with iMath and TexMaths extensions can provide mathematical TeX typesetting&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;online-editors&quot;&gt;Online Editors&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.overleaf.com&quot;&gt;Overleaf (previously ShareLaTeX) - a partial-WYSIWYG, online editor that provides a cloud-based solution to TeX with additional features in real-time collaborative editing&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;NOTE 1: ShareLaTeX and Overleaf have been merged in to one Overleaf v2 and Overleaf v1 had retired on January 8th, 2019.&lt;/p&gt;

    &lt;p&gt;NOTE 2: It’s Open Source, so you can install it on your own server:  &lt;br /&gt;
&lt;a href=&quot;https://github.com/overleaf/overleaf&quot;&gt;https://github.com/overleaf/overleaf&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.tlhiv.org/ltxpreview/&quot;&gt;LaTeX previewer&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://papeeria.com/&quot;&gt;Papeeria - Online LaTeX editor – LaTeX and Markdown online Collaborative, free and reliable&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://latexonlineeditor.net/&quot;&gt;LaTeXOnlineEditor (XO) – Your browser-based writing &amp;amp; formatting program to create PDFs&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;editors---references&quot;&gt;Editors - References&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Comparison_of_TeX_editors&quot;&gt;Comparison of TeX editors - Wikipedia&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Category:TeX_editors&quot;&gt;Category:TeX editors - Wikipedia&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tex.stackexchange.com/questions/3/compiling-documents-online&quot;&gt;Compiling documents online - TeX - LaTeX Stack Exchange&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://texblog.net/latex-link-archive/online-compiler/&quot;&gt;Online LaTeX Compilers&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;fonts-and-typefaces-font-families-in-texlatex&quot;&gt;Fonts and Typefaces (Font Families) in Tex/LaTeX&lt;/h1&gt;

&lt;p&gt;LaTeX handles its fonts as combination of three parameters.
These individual switches can be used inside a group, or as an environment:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;{\ttfamily This is typewriter (monospaced) text}
\begin{mdseries}
This text is set in medium weight.
\end{mdseries}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here are the categories and possible values. &lt;br /&gt;
&lt;strong&gt;family&lt;/strong&gt; roman, sans serif, typewriter (monospaced) type: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\rmfamily&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\sffamily&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\ttfamily&lt;/code&gt;. &lt;br /&gt;
&lt;strong&gt;series&lt;/strong&gt; medium and bold: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\mdseries&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\bfseries&lt;/code&gt;.&lt;br /&gt;
&lt;strong&gt;shape&lt;/strong&gt; upright, italic, slanted, and small caps: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\upshape&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\itshape&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\slshape&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\scshape&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Basically:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;roman: Computer Modern Roman&lt;/li&gt;
  &lt;li&gt;sans serif: Computer Modern Sans Serif&lt;/li&gt;
  &lt;li&gt;typewriter (monospaced): Computer Modern Typewriter&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;font-size&quot;&gt;Font Size&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;size&lt;/strong&gt; tiny, scriptsize, footnotesize, small, normalsize, large, Large, LARGE, huge, HUGE: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\tiny&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\scriptsize&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\footnotesize&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\small&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\normalsize&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\large&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\Large&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\LARGE&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\huge&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\HUGE&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;latex2e-fonts&quot;&gt;LaTeX2e Fonts&lt;/h2&gt;

&lt;p&gt;From &lt;a href=&quot;http://mirrors.ctan.org/macros/latex/base/fntguide.pdf&quot;&gt;LaTeX2e font selection. LaTeX Project Team, March 2024&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;1.1 LaTeX2e fonts&lt;/p&gt;

  &lt;p&gt;The most important difference between LaTeX 2.09 and LaTeX2e is the way that
fonts are selected.
In LaTeX 2.09, the Computer Modern fonts were built into the LaTeX format, and so customizing LaTeX to use other fonts was a major effort.&lt;/p&gt;

  &lt;p&gt;In LaTeX2e, very few fonts are built into the format, and there are commands to load new text and math fonts.
Packages such as &lt;em&gt;times&lt;/em&gt; or &lt;em&gt;latexsym&lt;/em&gt; allow authors to access these fonts.
This document describes how to write similar font-loading packages.&lt;/p&gt;

  &lt;p&gt;The LaTeX2e font selection system was first released as the ‘New Font Selection Scheme’ (NFSS) in 1989, and then in release 2 in 1993.
LaTeX2e includes NFSS release 2 as standard.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;changing-the-default-document-fonts&quot;&gt;Changing the Default Document Fonts&lt;/h2&gt;

&lt;p&gt;a.k.a. &lt;strong&gt;Changing Fonts&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Default font: the &lt;strong&gt;Computer Modern&lt;/strong&gt; fonts (part of what makes TeX recognizable).&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.overleaf.com/learn/latex/Font_typefaces&quot;&gt;Font typefaces - Overleaf (previously ShareLaTeX)&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;By default, LaTeX typesets documents using the &lt;em&gt;Computer Modern&lt;/em&gt; typeface family but you can use LaTeX packages to use different fonts according to your needs or preferences.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;When TeX starts up it has sixteen fonts available. 
A complete list of the sixteen fonts is given in Appendix F of &lt;strong&gt;The TeXbook&lt;/strong&gt; (&lt;a href=&quot;https://web.archive.org/web/20230811015407/https://www.cs.stanford.edu/~knuth/abcde.html#texbk&quot;&gt;Donald E. Knuth, Addison-Wesley, Reading,Massachusetts, 1984, ISBN 0-201-13488-9 – Archived from original on Aug 11, 2023&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;More details: &lt;a href=&quot;https://mirrors.ctan.org/info/gentle/gentle.pdf&quot;&gt;A Gentle Introduction to Tex (A Manual for Self-study) by Michael Doob, Department of Mathematics, The University of Manitoba&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is a minimum set of alternative fonts that are available beside Computer Modern.
The related collection of macro packages is often referred to as the “PSNFSS collection”.
It supports the use of the popular typefaces Times, Helvetica, Palatino and Charter (and a few others), and it supports math fonts that suit Times and Palatino.
The related documentation (Using common Postscript fonts with LaTeX - Walter Schmidt) is available in every LaTeX distribution as a PDF file named &lt;em&gt;psnfss2e.pdf&lt;/em&gt;, usually in the directory doc/latex/psnfss (on FreeBSD: /usr/local/share/texmf-dist/doc/latex/psnfss/psnfss2e.pdf).&lt;/p&gt;

&lt;p&gt;Most contemporary TeX distributions come with (almost) all free text and math fonts that are available from CTAN.&lt;/p&gt;

&lt;p&gt;More details: &lt;a href=&quot;http://www.tug.org/pracjourn/2006-1/schmidt/&quot;&gt;Font selection in LaTeX: The most frequently asked questions An article to the PracTeX Journal by Walter Schmidt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Since 1993, the package &lt;strong&gt;PSNFSS&lt;/strong&gt; (the ‘PostScript New Font Selecting System’) is included in LaTeX2e release 2 as standard. In this package, you choose from ‘Base 35’ fonts, thirty-five fonts that any Level 2 PostScript printer (and GhostScript) has.&lt;/p&gt;

&lt;p&gt;There are various packages that change one or more of the font families, some part of the PSNFSS, some not, and there are some that are now obsolete.&lt;/p&gt;

&lt;h3 id=&quot;using-fonts-that-are-intrinsic-in-a-basic-latex-installation&quot;&gt;Using Fonts that are Intrinsic in a Basic LaTeX Installation&lt;/h3&gt;

&lt;p&gt;For these fonts, you don’t need to add anything the preamble.&lt;/p&gt;

&lt;p&gt;The following shows examples of how to use all of LaTeX intrinsic font styles.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;This is \textbf{boldface}.
This is \textit{italic}.
This is \textrm{roman}.
This is \textsc{small caps}.
This is \textsf{sans serif}.
This is \textsl{slanted}.
This is \texttt{typewriter}.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;More fonts are available in LaTeX packages.
Also, you can install additional fonts manually or with your operating system’s package manager.&lt;/p&gt;

&lt;h3 id=&quot;changing-default-font-to-fonts-included-with-texlatex-distributions&quot;&gt;Changing Default Font to Fonts Included with TeX/LaTeX Distributions&lt;/h3&gt;

&lt;p&gt;For these fonts, you need to add a package name in the document preamble.&lt;/p&gt;

&lt;p&gt;For example, by adding \usepackage{tgbonum} to the document preamble, LaTeX will use the TEX Gyre Bonum font family to typeset your document:&lt;/p&gt;

&lt;p&gt;For example, if you want to use the &lt;em&gt;Palatino&lt;/em&gt; font, by adding the following in the preamble, LaTeX will use the &lt;em&gt;Palatino&lt;/em&gt; font family to typeset your LaTeX document.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{palatino}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;changing-default-font-to-one-installed-by-os-package-manager&quot;&gt;Changing Default Font to One Installed by OS Package Manager&lt;/h3&gt;

&lt;p&gt;For example, you want to install &lt;em&gt;Atkinson Hyperlegible&lt;/em&gt; font and use it in your LaTeX document.&lt;/p&gt;

&lt;p&gt;To install it on FreeBSD with its package manager:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install atkinson-hyperlegible
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | grep -i Atkinson | wc -l
       8
 
$ fc-list | grep -i Atkinson
/usr/local/share/fonts/atkinson-hyperlegible/Atkinson-Hyperlegible-Bold-102.otf: Atkinson Hyperlegible:style=Bold
. . . 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --info /usr/local/share/fonts/atkinson-hyperlegible/Atkinson-Hyperlegible-Bold-102.otf
Family:              Atkinson Hyperlegible
Subfamily:           Bold
Full name:           AtkinsonHyperlegible-Bold
PostScript name:     AtkinsonHyperlegible-Bold
. . . 
Description:         Atkinson Hyperlegible is a neo-grotesque typeface created by Applied Design Works for Braille Institute of America, Inc. It has been developed specifically to increase legibility for readers with low vision, and to improve character recognition. 
Designer:            Elliott Scott, Megan Eiswerth, Linus Boman, Theodore Petrosky
Designer URL:        http://helloapplied.com
. . . 
Vendor URL:          https://www.BrailleInstitute.org/
. . . 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-match &quot;Atkinson Hyperlegible&quot;
Atkinson-Hyperlegible-Regular-102.otf: &quot;Atkinson Hyperlegible&quot; &quot;Regular&quot;
 
$ fc-match AtkinsonHyperlegible
Atkinson-Hyperlegible-Regular-102.otf: &quot;Atkinson Hyperlegible&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ luaotfload-tool --update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the following in the preamble of your LaTeX document:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage{fontspec}
\setmainfont{Atkinson Hyperlegible}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;changing-fonts-for-a-specific-element-in-the-document&quot;&gt;Changing Fonts for a Specific Element in the Document&lt;/h3&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://www.overleaf.com/learn/latex/Font_typefaces&quot;&gt;Font typefaces - Overleaf (previously ShareLaTeX)&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\documentclass{article}
\usepackage[T1]{fontenc}
\usepackage{tgbonum}

\begin{document}
This document is a sample document to 
test font families and font typefaces.

{\fontfamily{qcr}\selectfont
This text uses a different font typeface
}
\end{document}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;The command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\fontfamily{qcr}\selectfont&lt;/code&gt; will set the &lt;em&gt;TeX gyre cursor&lt;/em&gt; font typeface, whose fontcode is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qcr&lt;/code&gt;, for the text inside the braces. A lot more LaTeX font typefaces are available, see the reference guide.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The popular LaTeX font typefaces are originated from four families:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;em&gt;Computer Modern&lt;/em&gt; (default in standard LaTeX classes): CM Roman, CM Sans Serif, CM Typewriter (monospaced)&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Latin Modern&lt;/em&gt;: LM Roman, LM Sans Serif, LM Typewriter, LM Dunhill&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Post Script Fonts&lt;/em&gt;: Times, Utopia/Fourier, Palatino, Bookman, Helvetica, Courier&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;TeX Gyre&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\fontfamily{qcr}\selectfont&lt;/code&gt; will set the &lt;em&gt;TeX gyre cursor&lt;/em&gt; font typeface, whose &lt;strong&gt;fontcode&lt;/strong&gt; is &lt;strong&gt;qcr&lt;/strong&gt;, for the text inside the braces.
A lot more LaTeX font typefaces are available, see the &lt;a href=&quot;https://www.overleaf.com/learn/latex/Font_typefaces#Reference_guide&quot;&gt;reference guide&lt;/a&gt;. 
This reference guide lists Roman, Sans Serif and Typewriter (monospaced) typefaces in a table containing four columns: &lt;em&gt;Font&lt;/em&gt;, &lt;em&gt;Font Package Name&lt;/em&gt;, &lt;em&gt;Fontcode (Font Code)&lt;/em&gt;, &lt;em&gt;Example&lt;/em&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;commandsenvironments-for-text-font-appearance&quot;&gt;Commands/Environments for Text Font Appearance&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;textbf textit textrm textsc textsf texttt
tiny scriptsize footnotesize small normalsize large
Large LARGE huge Huge underline verb verbatim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;commands-to-control-fonts-in-math-mode&quot;&gt;Commands to Control Fonts in Math Mode&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;left boldmath (set in text mode)
cal displaystyle mathbf mathcal
mathit mathnormal mathrm mathsf
mathtt mbox overbrace overline
right textstyle underbrace underline
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;font-and-typefaces---references&quot;&gt;Font and Typefaces - References&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://vladar.bearblog.dev/latex-and-its-fancy-fonts/&quot;&gt;LaTeX and its fancy fonts&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tug.org/fonts/&quot;&gt;Fonts and TeX - TUG (TeX User Group)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.lfe.pt/latex/fonts/typography/2022/11/21/latex-fonts-part1.html&quot;&gt;My favourite fonts to use with LaTeX (part 1)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tug.org/FontCatalogue/&quot;&gt;The LaTeX Font Catalogue - TUG&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mirror.ctan.org/info/symbols/comprehensive/symbols-letter.pdf&quot;&gt;Comprehensive LATEX Symbols List, Scott Pakin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.ctan.org/tex-archive/info/symbols/comprehensive&quot;&gt;The Comprehensive LaTeX Symbol List - Symbols accessible from LaTeX - CTAN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.overleaf.com/learn/latex/Font_typefaces&quot;&gt;Font typefaces - Overleaf (previously ShareLaTeX)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.overleaf.com/learn/latex/Font_typefaces#Reference_guide&quot;&gt;Reference guide - Roman, Sans Serif and Typewriter (Monospaced) typefaces – aka Fontcodes (font codes) - Overleaf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://brushingupscience.com/2018/06/14/palatino-and-source-sans-pro-the-only-fonts-a-scientist-needs/&quot;&gt;Palatino and Source Sans Pro, the only fonts a scientist needs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;NOTE: If you want to use the Palatino font, you also need to use the following two packages: &lt;em&gt;fontenc&lt;/em&gt; (with option &lt;em&gt;T1&lt;/em&gt;) and &lt;em&gt;textcomp&lt;/em&gt; in the preamble of your LaTeX document.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{palatino}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://texdoc.org/serve/palatino/0&quot;&gt;Using common PostScript fonts with LaTeX - PSNFSS - Walter Schmidt&lt;/a&gt;:
    &lt;blockquote&gt;
      &lt;p&gt;1 What is PSNFSS?&lt;/p&gt;

      &lt;p&gt;The PSNFSS collection includes a set of files that provide a complete working
setup of the LaTeX font selection scheme (NFSS2) for use with common PostScript
fonts.
It covers the so-called ‘Base 35’ fonts (which are built into any Level 2 PostScript printing device and the Ghostscript interpreter) and a number of free fonts.&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;3 Special considerations&lt;/p&gt;

      &lt;p&gt;3.1 Output font encoding&lt;/p&gt;

      &lt;p&gt;None of the packages listed in table 1 changes the output font encoding from its default setting OT1. It is, however, highly recommended to use the fonts with the extended T1 and TS1 (text symbols) encodings by means of the commands:&lt;/p&gt;

      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\usepackage[T1]{fontenc}
\usepackage{textcomp}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Also See:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.gust.org.pl/projects/e-foundry/tex-gyre/&quot;&gt;The TeX Gyre (TG) Collection of Fonts - GUST (Grupa Użytkowników Systemu TeX ) Web Presence&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;Pagella&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;The package (&lt;a href=&quot;https://www.gust.org.pl/projects/e-foundry/tex-gyre/pagella/index_html&quot;&gt;download&lt;/a&gt;) contains the most recent version of the TeX Gyre Pagella family of fonts in the PostScript Type 1 and OpenType formats.
TeX Gyre Pagella is based on the URW Palladio L kindly released by URW++ Design and Development Inc. under GFL (independently of the GPL release accompanying Ghostscript).
The Vietnamese glyphs were added by Han The Thanh.&lt;/p&gt;

      &lt;p&gt;TeX Gyre &lt;strong&gt;Pagella&lt;/strong&gt; can be used as a &lt;strong&gt;replacement&lt;/strong&gt; for the renowned &lt;strong&gt;Palatino&lt;/strong&gt; font (designed by Hermann Zapf in the 1940’s for the Stempel type foundry; an interesting lifestory of Hermann Zapf can be found at: &lt;a href=&quot;https://web.archive.org/web/20070512201725/http://www.linotype.com/1494/theschoolyears.html&quot;&gt;http://www.linotype.com/1494/theschoolyears.html – Archived from the original May 12, 2007&lt;/a&gt;&lt;/p&gt;

      &lt;p&gt;(Please note that with the release of this family the QuasiPalatino fonts became obsolete.)&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tex.stackexchange.com/questions/202767/using-fonts-installed-in-local-texlive&quot;&gt;Using fonts installed in local texlive (including Palatino) - TeX - LaTeX Stack Exchange&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.dev/articles/variable-fonts&quot;&gt;Introduction to variable fonts on the web&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;The terms font and typeface are often used interchangeably by developers.
However, there is a difference: A typeface is the underlying visual design that can exist in many different typesetting technologies, and a font is one of these implementations, in a digital file format.
In other words, a typeface is what you &lt;em&gt;see&lt;/em&gt;, and the font is what you &lt;em&gt;use&lt;/em&gt;.&lt;/p&gt;

      &lt;p&gt;Another concept that is often overlooked is the distinction between a style, and a family.
A style is a single and specific typeface, such as Bold Italic, and a family is the complete set of styles.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;my-choice-of-engine-luatex-lualatex&quot;&gt;My Choice of Engine: LuaTeX (LuaLaTeX)&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;Reason&lt;/strong&gt;: Because of &lt;strong&gt;Unicode support&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;NOTE: As LuaLaTeX allocates as much memory as it happens to need, it can be slow.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://en.wikipedia.org/wiki/TeX&quot;&gt;TeX - Wikipedia&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;… LuaTeX, a &lt;strong&gt;Unicode-aware&lt;/strong&gt; &lt;em&gt;extension&lt;/em&gt; to TeX that includes a Lua runtime with extensive hooks into the underlying TeX routines and algorithms.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From &lt;a href=&quot;https://en.wikipedia.org/wiki/LuaTeX&quot;&gt;LuaTeX - Wikipedia&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;When LuaTeX is used with the LaTeX format, it is sometimes called “LuaLaTeX”.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;On FreeBSD, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lualatex&lt;/code&gt; command is installed with package &lt;em&gt;tex-luatex&lt;/em&gt;.
Similarly, the documentation for &lt;em&gt;LuaLaTeX&lt;/em&gt; is also installed with package &lt;em&gt;tex-luatex&lt;/em&gt; in directory: &lt;em&gt;/usr/local/share/texmf-dist/doc/lualatex/lualatex-doc/&lt;/em&gt;.
This directory contains a file &lt;em&gt;lualatex-doc.pdf&lt;/em&gt;, which is titled &lt;em&gt;A guide to LuaLaTeX&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;From &lt;em&gt;A guide to LuaLaTeX, Manuel Pégourié-Gonnard (mpg@elzevir.fr), May 5, 2013 – 1.1 Just what is LuaLaTeX?&lt;/em&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;LuaLaTeX is the LuaTeX engine with the LaTeX format.
Well, this answer isn’t very satisfying if you don’t know what LuaTeX and LaTeX are.&lt;/p&gt;

  &lt;p&gt;As you probably know, LaTeX is the general framework in which documents begin with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\documentclass&lt;/code&gt;, packages are loaded with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\usepackage&lt;/code&gt;, fonts are selected in a clever way (so that you can switch to boldface while preserving italics), pages are build with complicated algorithms including support for headers, footers, footnotes, margin notes, floating material, etc.
This mostly doesn’t change with LuaLaTeX, but new and more powerful packages are available to make parts of the system work in a better way.&lt;/p&gt;

  &lt;p&gt;So, what’s LuaTeX? Short version: the hottest TeX engine right now!
Long version: It is the designated successor of pdfTeX and includes all of its core features: direct generation of PDF files with support for advanced PDF features and micro-typographic enhancements to TeX typographic algorithms.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;repositories&quot;&gt;Repositories&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://www.ctan.org/&quot;&gt;CTAN - The Comprehensive TeX Archive Network&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tug.org/FontCatalogue/&quot;&gt;The LaTeX Font Catalogue&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;drawing-in-tex-and-latex&quot;&gt;Drawing in TeX and LaTeX&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://sourceforge.net/projects/gratex/&quot;&gt;GraTeX&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://latexdraw.sourceforge.net/&quot;&gt;LaTeXDraw - SourceForge.net&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/latexdraw/latexdraw&quot;&gt;LaTeXDraw - GitHub&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://texcad.sourceforge.io/&quot;&gt;TeXCAD&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jpicedt.sourceforge.net/&quot;&gt;jPicEdt - jPicEdt for LaTeX&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.ams.org/arc/resources/pdfs/tikz_tutorials_all-brown.pdf&quot;&gt;Using TikZ to Prepare Illustrations, by Jennifer Brown&lt;/a&gt;.
This is a series of tutorials to show how to use TikZ to create professional-quality mathematical diagrams, graphs, and illustrations&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://texample.net/tikz/&quot;&gt;TikZ and PGF - TeXample.net&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/fhackenberger/ktikz&quot;&gt;KtikZ - a nice user interface for making pictures using TikZ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20230925033323/https://www.hackenberger.at/blog/ktikz-editor-for-the-tikz-language/&quot;&gt;KtikZ Editor - Archived from the original on Sep 25 2023&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;KtikZ is a small application helping you to create TikZ (from the LaTeX pgf package) diagrams for your publications.
It requires qt4, libpoppler, LaTeX (pdflatex), the LaTeX preview-latex-style package and pgf itself.
For the eps export functionality you also need the poppler-utils package.
If you’d like to improve this little tool just clone it from &lt;a href=&quot;https://github.com/fhackenberger/ktikz&quot;&gt;https://github.com/fhackenberger/ktikz&lt;/a&gt; and send a pull request.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://asymptote.sourceforge.io/&quot;&gt;Asymptote - The Vector Graphics Language&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://inkscape.org/&quot;&gt;Inkscape - Vector graphics editor&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;tutorials&quot;&gt;Tutorials&lt;/h1&gt;

&lt;p&gt;Andrew Roberts has a few well written &lt;a href=&quot;http://www.andy-roberts.net/misc/latex/&quot;&gt;tutorials on his website&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.tug.org/twg/mactex/tutorials/ltxprimer-1.0.pdf&quot;&gt;LaTeX tutorials - a primer&lt;/a&gt; by the Indian TeX User Group (The TUG&lt;em&gt;India&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;Creating a LaTeX Minimal (Minimum) Example - aka Minimal Working Example (MWE): &lt;a href=&quot;http://www.dickimaw-books.com/latex/minexample/minexample-a4.pdf&quot;&gt;PDF&lt;/a&gt;,
&lt;a href=&quot;https://www.dickimaw-books.com/latex/minexample/html/&quot;&gt;HTML&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mirror.ctan.org/info/amslatex/primer/amshelp.pdf&quot;&gt;Getting up and running with AMS-LaTeX – Philip S. Hirschhorn&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mirror.ctan.org/macros/latex/required/amsmath/amsldoc.pdf&quot;&gt;User’s Guide for the amsmath Package - (AMS) American Mathematical Society, LaTeX Project&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;tools&quot;&gt;Tools&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://latex.js.org/&quot;&gt;LaTeX.js.org - JavaScript LaTeX to HTML5 Translator&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/michael-brade/LaTeX.js&quot;&gt;The source of LaTeX.js on GitHub&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://latex.js.org/playground.html&quot;&gt;LaTeX.js.org - Playground&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;LaTeX.js Showcase&lt;/p&gt;

  &lt;p&gt;made with ♥ by Michael Brade&lt;/p&gt;

  &lt;p&gt;This document will show most of the features of LaTeX.js while at the same time being a gentle &lt;em&gt;introduction to LaTeX&lt;/em&gt;.
In the appendix, the API as well as the format of custom macro definitions in JavaScript will be explained.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://sylvainhalle.github.io/textidote/&quot;&gt;TeXtidote - Spelling, grammar and style checking on LaTeX documents&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/textext/textext&quot;&gt;TexText – Re-editable LaTeX and typst graphics for Inkscape&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.jabref.org/&quot;&gt;JabRef – Open-source, cross-platform citation and reference management software&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;texlatex-resources&quot;&gt;TeX/LaTeX Resources&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://texblog.org/2012/10/29/getting-started-with-latex-a-collection-of-resources/&quot;&gt;Getting started with LaTeX - a collection of resources - texblog&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://texblog.org/tex-resources/&quot;&gt;TeX/LaTeX Resources - texblog&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tug.org/interest.html&quot;&gt;TeX Resources on the Web - TeX Users Group (TUG)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tex.stackexchange.com/questions/339/latex-editors-ides&quot;&gt;LaTeX Editors/IDEs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tex.stackexchange.com/questions/162/what-are-other-good-resources-on-line-for-information-about-tex-latex-and-frien&quot;&gt;What are other good resources on-line for information about TeX, LaTeX and friends?&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h1&gt;

&lt;p&gt;[1] &lt;a href=&quot;https://texfaq.org/FAQ-pdftex&quot;&gt;What is pdfTeX? - The TeX FAQ - The TeX Frequently Asked Question List&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;One can reasonably say that pdfTeX is (today) the main stream of TeX distributions: most LaTeX nowadays use pdfTeX whether they know it or not.&lt;/p&gt;

  &lt;p&gt;pdfTeX is a development of TeX that is capable of generating typeset PDF output in place of DVI. pdfTeX has other capabilities, most notably in the area of fine typographic detail (for example, its support for optimising line breaks), but its greatest impact to date has been in the area of PDF output.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[2] From &lt;a href=&quot;https://tug.org/applications/pdftex/&quot;&gt;pdfTeX - TUG (TeX Users Group)&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;pdfTeX is an extension of TeX which can produce PDF directly from TeX source, as well as original DVI files.
pdfTeX incorporates the e-TeX extensions.&lt;/p&gt;

  &lt;p&gt;pdfTeX also has a variety of other extensions, perhaps most notably for microtypography line breaking features.
The microtype package provides a convenient interface for LaTeX.&lt;/p&gt;

  &lt;p&gt;pdfTeX is released as part of TeX Live, and also included in all TeX distributions, notably MiKTeX. Current release: NEWS, manual, sources.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[3] From &lt;a href=&quot;https://tug.org/texshowcase/&quot;&gt;The TeX showcase&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;This is the TeX showcase, edited by Gerben Wierda.
It contains extreme examples of what you can do with TeX, the typesetting engine from Donald Knuth, world famous mathematician, computer scientist and above all well known for TeX.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[4] From &lt;a href=&quot;https://tug.org/begin.html&quot;&gt;Getting started with TeX, LaTeX, and friends - TUG (TeX Users Group)&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;TeX is a typesetting language.
Instead of visually formatting your text, you enter your manuscript text intertwined with TeX commands in a plain text file.
You then run TeX to produce formatted output, such as a PDF file.
Thus, in contrast to standard word processors, your document is a separate file that does not pretend to be a representation of the final typeset output, and so can be easily edited and manipulated.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[5] &lt;a href=&quot;https://en.wikibooks.org/wiki/LaTeX&quot;&gt;LaTeX (Guide to LaTeX) - Wikibooks&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;TeX is a typesetting computer program created by &lt;a href=&quot;https://en.wikipedia.org/wiki/Donald_Knuth&quot;&gt;Donald Knuth&lt;/a&gt;, originally for his magnum opus, &lt;a href=&quot;https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming&quot;&gt;The Art of Computer Programming&lt;/a&gt;.
It takes a “plain” text file and converts it into a high-quality document for printing or on-screen viewing.
LaTeX is a macro system built on top of TeX that aims to simplify its use and automate many common formatting tasks.
It is the de-facto standard for academic journals and books in several fields, such as mathematics and physics, and provides some of the best typography free software has to offer.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[6] &lt;a href=&quot;https://ctan.org/pkg/components&quot;&gt;Components of TeX - Joachim Schrod’s technical article describing many of the relationships between supplementary components (files and programs) - An overview of the ingredients of the TeX system – The Components of TEX, Joachim Schrod, March 1991&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[7] &lt;a href=&quot;https://texfaq.org/FAQ-latex&quot;&gt;What is LaTeX? - The TeX FAQ - The TeX Frequently Asked Question List&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;LaTeX is a TeX macro package, originally written by Leslie Lamport, that provides a document processing system.
LaTeX allows markup to describe the structure of a document, so that the user need not think about presentation.
By using document classes and add-on packages, the same document can be produced in a variety of different layouts.&lt;/p&gt;

  &lt;p&gt;Lamport says that LaTeX “represents a balance between functionality and ease of use”.
This shows itself as a continual conflict that leads to the need for such things as FAQs: LaTeX can meet most user requirements, but finding out how is often tricky.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[8] From &lt;a href=&quot;https://www.ctan.org/tex&quot;&gt;What are TeX and its friends? - CTAN (The Comprehensive TeX Archive Network)&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;An important boost to that popularity came in 1985 with the introduction of LaTeX by Leslie Lamport.
This is a set of commands that allows authors to interact with the system at a higher level than Knuth’s original command set (called Plain TeX).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[9] From &lt;a href=&quot;https://en.wikibooks.org/wiki/LaTeX&quot;&gt;LaTeX - Wikibooks&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;LaTeX is a macro system built on top of TeX that aims to simplify its use and automate many common formatting tasks.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[10] From &lt;a href=&quot;https://ctan.org/pkg/lshort-english&quot;&gt;The Not-So Short Guide to LaTeX2e&lt;/a&gt;, &lt;a href=&quot;https://mirrors.ctan.org/info/lshort/english/lshort.pdf&quot;&gt;The document itself (A4 paper format) in PDF&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;1.1.2 LaTeX&lt;/p&gt;

  &lt;p&gt;LaTeX enables authors to typeset and print their work at the highest typographical quality, using a predefined, professional layout. 
LATEX was originally written by Leslie Lamport.
It uses the TeX formatter as its typesetting engine.
These days LaTeX is maintained by the LaTeX Project.
LaTeX is pronounced “Lay-tech” or “Lah-tech.”
If you refer to LaTeX in an ASCII environment, you type LaTeX.
LaTeX 2ε is pronounced “Lay-tech two e” and typed LaTeX2e.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[11] From &lt;a href=&quot;https://tug.org/levels.html&quot;&gt;LaTeX vs. MiKTeX: The levels of TeX - TUG (TeX User Group)&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;Distributions: &lt;a href=&quot;https://miktex.org/&quot;&gt;MiKTeX&lt;/a&gt;, &lt;a href=&quot;https://tug.org/texlive/&quot;&gt;TeX Live&lt;/a&gt;, &lt;a href=&quot;https://www.w32tex.org/&quot;&gt;W32TeX&lt;/a&gt;, …
These are the large, coherent collections of TeX-related software to be downloaded and installed.
When someone says “I need to install TeX on my machine”, they’re usually looking for a distribution.&lt;/li&gt;
    &lt;li&gt;Front ends and editors: &lt;a href=&quot;https://www.gnu.org/software/emacs/&quot;&gt;Emacs&lt;/a&gt;, &lt;a href=&quot;https://www.vim.org/&quot;&gt;vim&lt;/a&gt;, &lt;a href=&quot;https://tug.org/texworks/&quot;&gt;TeXworks&lt;/a&gt;, &lt;a href=&quot;o&quot;&gt;TeXShop&lt;/a&gt;, TeXnicCenter, WinEdt, … 
These editors are what you use to create a document file.
Some (e.g., TeXShop) are devoted specifically to TeX, others (e.g., Emacs) can be used to edit any sort of file.
TeX documents are independent of any particular editor; the TeX typesetting program itself does not include an editor.&lt;/li&gt;
    &lt;li&gt;Engines: &lt;a href=&quot;https://ctan.org/pkg/tex&quot;&gt;TeX&lt;/a&gt;, &lt;a href=&quot;https://tug.org/applications/pdftex/index.html&quot;&gt;pdfTeX&lt;/a&gt;, &lt;a href=&quot;http://scripts.sil.org/xetex&quot;&gt;XeTeX&lt;/a&gt;, &lt;a href=&quot;https://www.luatex.org//&quot;&gt;LuaTeX&lt;/a&gt;, …
These are the executable binaries which implement different TeX variants. In short:
      &lt;blockquote&gt;
        &lt;p&gt;pdfTeX implements direct PDF output, along with a variety of programming and other extensions.
XeTeX does the above, and also supports Unicode natively, OpenType and TrueType fonts, access to system fonts, … 
LuaTeX does all the above, and provides access to many internals via the embedded Lua language. Thus it is by far the most programmable engine.
[e][u]pTeX provide full support for Japanese typesetting. 
There are other engines, but the above are by far the most commonly used nowadays.&lt;/p&gt;
      &lt;/blockquote&gt;
    &lt;/li&gt;
    &lt;li&gt;Formats: &lt;a href=&quot;https://texfaq.org/FAQ-latex&quot;&gt;LaTeX&lt;/a&gt;, &lt;a href=&quot;https://ctan.org/pkg/texbytopic&quot;&gt;plain TeX&lt;/a&gt;, &lt;a href=&quot;https://ctan.org/pkg/optex&quot;&gt;OpTeX&lt;/a&gt;, … 
These are the TeX-based languages in which one actually writes documents.
When someone says “TeX is giving me a mysterious error”, they usually mean a format.&lt;/li&gt;
    &lt;li&gt;Packages: &lt;a href=&quot;https://ctan.org/pkg/geometry&quot;&gt;geometry&lt;/a&gt;, &lt;a href=&quot;https://ctan.org/pkg/lm&quot;&gt;lm&lt;/a&gt;, … 
These are add-ons to the basic TeX system, developed independently, providing additional typesetting features, fonts, documentation, etc.
A package might or might not work with any given format and/or engine; for example, many are designed specifically for LaTeX, but there are plenty of others, too.
The CTAN sites provide access to the vast majority of packages in the TeX world; CTAN is generally the source used by the distributions.&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;[12] Here are the steps explaining how I created the image showing the structure of a LaTeX document.&lt;/p&gt;

&lt;p&gt;You can download the source LaTeX file for this image here: 
&lt;a href=&quot;http://localhost:4000/assets/txt/latex-doc-structure.tex&quot;&gt;latex-doc-structure.tex&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Then, run the following commands.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ latex latex-doc-structure.tex 
$ dvipng latex-doc-structure.dvi

$ ls | tail -1
latex-doc-structure1.png

$ mv latex-doc-structure1.png latex-doc-structure.png 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dvips latex-doc-structure.dvi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gs -q -dSAFER -dNOPAUSE -dBATCH -sDEVICE=bbox -f latex-doc-structure.ps
%%BoundingBox: 110 506 487 705
%%HiResBoundingBox: 110.861997 506.825985 486.881985 704.249979
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gs \
 -q \
 -sDEVICE=pdfwrite \
 -o latex-doc-structure.pdf \
 -c &quot;[/CropBox [110 506 487 705] /PAGES pdfmark&quot; \
 -f latex-doc-structure.ps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zathura latex-doc-structure.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[13] Reference: &lt;a href=&quot;https://www.learnlatex.org/en/lesson-03#what-youve-got&quot;&gt;Learn LaTeX.org - Lesson 3 – LaTeX document structure - What you’ve got&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[14] Reference: &lt;a href=&quot;https://web.archive.org/web/20160505212246/http://www.howtotex.com/download/FiveMinuteGuideToLaTeX.pdf&quot;&gt;Five minute guide to LaTeX (PDF) - How To LaTeX (howtolatex.com) – Archived from the original on May 5, 2016&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;1.1.2 Environments&lt;/p&gt;

  &lt;p&gt;Environments contain special content, such as math, figures, tables, etc.
Environments start with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\begin{}&lt;/code&gt; and end with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\end{}&lt;/code&gt;, where the &lt;strong&gt;environment name&lt;/strong&gt; is between &lt;strong&gt;{}&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;document&lt;/code&gt; environment is most important: all content within this environment will be &lt;strong&gt;printed&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[15] Reference: &lt;a href=&quot;https://mirrors.ctan.org/info/beginlatex/beginlatex.pdf&quot;&gt;Formatting information - A beginner’s introduction to typesetting with LaTeX&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;This &lt;strong&gt;\begin … \end&lt;/strong&gt; pair of commands is an example of a common LaTeX structure called an &lt;strong&gt;&lt;em&gt;environment&lt;/em&gt;&lt;/strong&gt;.
Environments enclose text which is to be handled in a particular way.
All environments start with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\begin{...}&lt;/code&gt; and end with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\end{...}&lt;/code&gt; (putting the name of the environment in the curly braces).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[16] The &lt;em&gt;TOC (Table Of Contents)&lt;/em&gt; is an example of a &lt;strong&gt;cross-reference&lt;/strong&gt;.
(Cross-references are references to anything that is numbered; for example, sections, figures, formulas, tables, and special segments of text.)&lt;/p&gt;

&lt;p&gt;Since they are not updated on the first LaTeX invocation, when you use cross-references in your document, you need to run LaTeX &lt;strong&gt;two times&lt;/strong&gt; to get a correct table of contents.
&lt;strong&gt;Sometimes&lt;/strong&gt; it might be necessary to compile the document a &lt;strong&gt;third time&lt;/strong&gt;.
LaTeX will tell you when this is necessary &lt;strong&gt;but&lt;/strong&gt; &lt;em&gt;pdflatex&lt;/em&gt; will not tell you that.&lt;/p&gt;

&lt;p&gt;LaTeX creates a table of contents by taking the section headings and page numbers from the last compile cycle of the document.&lt;/p&gt;

&lt;p&gt;To avoid running LaTeX multiple times, you can use tools like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;latexmk&lt;/code&gt; or &lt;strong&gt;LaTeX-Mk&lt;/strong&gt;. (Refer to use of these three tools in sections about them in this document.)&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://en.wikibooks.org/wiki/LaTeX/Basics#Ancillary_files&quot;&gt;LaTeX Basics - Wikibooks - 4.2 Ancillary files&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The TeX compilers are single-pass processes.
It means that there is no way for a compiler to &lt;em&gt;jump&lt;/em&gt; around the document, which would be useful for the &lt;em&gt;table of contents&lt;/em&gt; and &lt;em&gt;references&lt;/em&gt;.
Indeed the compiler cannot guess at which page a specific section is going to be printed, so when the table of contents is printed before the upcoming sections, it cannot set the page numbers.&lt;/p&gt;

  &lt;p&gt;To circumvent this issue, many LaTeX commands which need to &lt;em&gt;jump&lt;/em&gt;, use &lt;strong&gt;ancillary files&lt;/strong&gt; which usually have the same file name as the current document but a different extension.
It stores temporary data into these files and use them for the next compilation.
So to have an up-to-date table of contents, you need to compile the document twice.
There is no need to re-compile if no section moved.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[17] From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;latexmk(1)&lt;/code&gt; (on FreeBSD 14: &lt;em&gt;/usr/local/share/texmf-dist/doc/support/latexmk&lt;/em&gt;):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;A very annoying complication handled very reliably by &lt;em&gt;latexmk&lt;/em&gt;, is that LaTeX is a multiple pass system.
On each run, LaTeX reads in information generated on a previous run, for things like cross referencing and indexing.
In the simplest cases, a second run of LaTeX suffices, and often the log file contains a message about the need for another pass.
However, there is a wide variety of add-on macro packages to LaTeX, with a variety of behaviors.
The result is to break simple-minded determinations of how many runs are needed and of which programs.
&lt;em&gt;Latexmk&lt;/em&gt; has a highly general and efficient solution to these issues.
The solution involves retaining between runs information on the source files, and a symptom is that &lt;em&gt;latexmk&lt;/em&gt; generates an extra file (with extension &lt;em&gt;.fdb_latexmk&lt;/em&gt;, by default) that contains the source file information.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;When &lt;em&gt;latexmk&lt;/em&gt; is run, it examines properties of the source files, and if any have been changed since the last document generation, &lt;em&gt;latexmk&lt;/em&gt; will run the various LaTeX processing programs as necessary.
In particular, it will repeat the run of &lt;em&gt;latex&lt;/em&gt; (or a related program) often enough to resolve all cross references; depending on the macro packages used.
With some macro packages and document classes, four, or even more, runs may be needed.
If necessary, &lt;em&gt;latexmk&lt;/em&gt; will also run &lt;em&gt;bibtex&lt;/em&gt;, &lt;em&gt;biber&lt;/em&gt;, and/or &lt;em&gt;makeindex&lt;/em&gt;.
In addition, &lt;em&gt;latexmk&lt;/em&gt; can be configured to generate other necessary files.
For example, from an updated figure file it can automatically generate a file in encapsulated postscript or another suitable format for reading by LaTeX.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[18] From &lt;a href=&quot;https://ctan.org/pkg/impatient&quot;&gt;TeX for the Impatient - a book (of around 350 pages) on TeX, Plain TeX and Eplain – CTAN – Chapter 2: Using TeX - Turning input into ink - Programs and files you need&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;In order to produce a TeX document, you’ll need to run the TeX program
and several related programs as well.
You’ll also need supporting files for TeX and possibly for these other programs.
In this book we can tell you about TeX but we can’t tell you about the other programs and the supporting files except in very general terms because they depend on your local TeX environment.
The people who provide you with TeX should be able to supply you with what we call local information.
The local information tells you how to start up TeX, how to use the related programs, and how to gain access to the supporting files.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[19] From &lt;a href=&quot;https://latex-mk.sourceforge.net/&quot;&gt;LaTeX-Mk homepage&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;LaTeX-Mk is a complete system for simplifying the management of small to large sized LaTeX documents.
LaTeX-Mk uses the standard &lt;em&gt;make&lt;/em&gt; program for doing most of the work.
Users simply create a makefile which many times is as simple as one line that specifies the document name and a single include line that loads all of the LaTeX-Mk rules.
LaTeX-Mk has been used for many years on projects ranging in scale from a single page business letter to a published book.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[20] From the &lt;em&gt;latex-mk&lt;/em&gt; package description on FreeBSD 14 (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ pkg rquery &apos;%e&apos; latex-mk&lt;/code&gt;):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;LaTeX-Mk is a tool for managing small to large sized LaTeX projects.
The typical LaTeX-Mk input file is simply a series of variable definitions in a Makefile for the project.
After creating a simple Makefile the user can easily perform all required steps to do such tasks as: preview the document, print the document, or produce a PDF file.
LaTeX-Mk will keep track of files that have changed and how to run the various programs that are needed to produce the output.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;texdoc---tool-to-find-and-view-documents-in-tex-live&quot;&gt;Texdoc - Tool to Find and View Documents in TeX Live&lt;/h2&gt;

&lt;p&gt;For short help, in your OS enter the following command.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ texdoc --help
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For full manual&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ texdoc texdoc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In FreeBSD, your PDF viewer opens this file: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/texmf-dist/doc/support/texdoc/texdoc.pdf&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls /usr/local/share/texmf-dist/doc/support/texdoc/
COPYING         README.md       texdoc.pdf
NEWS            texdoc-doc.cls  texdoc.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Excerpts from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/texmf-dist/doc/support/texdoc/README.md&lt;/code&gt;:&lt;/p&gt;

&lt;h1 id=&quot;texdoc---find-and-view-documentation-in-tex-live&quot;&gt;Texdoc - Find and view documentation in TeX Live&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/TeX-Live/texdoc/actions/workflows/ci.yml&quot;&gt;&lt;img src=&quot;https://github.com/TeX-Live/texdoc/actions/workflows/ci.yml/badge.svg&quot; alt=&quot;CI&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;https://www.ctan.org/pkg/texdoc&quot;&gt;&lt;img src=&quot;https://img.shields.io/ctan/v/texdoc?color=FC02FF&amp;amp;label=CTAN&amp;amp;style=flat&quot; alt=&quot;CTAN&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;general-information&quot;&gt;General Information&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Website: &lt;a href=&quot;https://www.tug.org/texdoc/&quot;&gt;https://www.tug.org/texdoc/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Repository: &lt;a href=&quot;https://github.com/TeX-Live/texdoc/&quot;&gt;https://github.com/TeX-Live/texdoc/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Mailing list: &lt;a href=&quot;mailto:texdoc@tug.org&quot;&gt;texdoc@tug.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;using-texdoc&quot;&gt;Using Texdoc&lt;/h2&gt;

&lt;p&gt;Texdoc is part of the TeX Live distribution. Generally, you don’t have to install it yourself.&lt;/p&gt;

&lt;p&gt;. . .&lt;/p&gt;

&lt;p&gt;Here, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXDOC&lt;/code&gt; means the path to the texdoc dev sources you cloned (or downloaded), and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXMFHOME&lt;/code&gt; denotes your personal TEXMF tree (you can get its location with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kpsewhich --var-value TEXMFHOME&lt;/code&gt;).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;The command.&lt;/strong&gt; Symlink or copy &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXDOC/script&lt;/code&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXMFHOME/scripts/texdoc&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;The configuration file.&lt;/strong&gt; Symlink or copy &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXDOC/texdoc.cnf&lt;/code&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXMFHOME/texdoc/texdoc-dist.cnf&lt;/code&gt; (notice the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-dist&lt;/code&gt; part). It will completely override the other configuration files except &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TEXMFHOME/texdoc/texdoc.cnf&lt;/code&gt; which you can still use for you personal settings.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You can make sure that the right files are used by running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texdoc --files&lt;/code&gt;: the first line contains the full path to the version of used &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texdoclib.tlu&lt;/code&gt;, and the rest lists the configuration files in use.&lt;/p&gt;

&lt;h2 id=&quot;files-in-this-repository&quot;&gt;Files in This Repository&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;doc/&lt;/code&gt; contains the documentation,&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;script/&lt;/code&gt; contains the source code,&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spec/&lt;/code&gt; is a directory for testing scripts, and&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texdoc.cnf&lt;/code&gt; is the default configuration file.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;. . .&lt;/p&gt;

&lt;h2 id=&quot;further-information&quot;&gt;Further Information&lt;/h2&gt;

&lt;p&gt;More specific information, such as the TODO list of this project and some information for distributors, can be found in the Wiki of our GitHub repository.
Please visit:  &lt;a href=&quot;https://github.com/TeX-Live/texdoc/wiki&quot;&gt;https://github.com/TeX-Live/texdoc/wiki&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;most-frequently-referred-documents-for-this-page&quot;&gt;Most Frequently Referred Documents for this Page&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://mirrors.ctan.org/info/simplified-latex/simplified-intro.pdf&quot;&gt;A Simplified Introduction to LaTeX - Harvey J. Greenberg and Dan Luecking&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/alexpovel/latex-cookbook/releases/latest/download/cookbook.pdf&quot;&gt;LaTeX Cookbook (A Modern LaTeX Cookbook)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://latex.knobs-dials.com/&quot;&gt;Arbitrary LaTeX reference&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;documents-collection&quot;&gt;Documents Collection&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://ctan.org/pkg/tex-nutshell&quot;&gt;TeX-nutshell - A short document about TeX principles – https://ctan.org/pkg/tex-nutshell&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://mirrors.ctan.org/info/tex-nutshell/tex-nutshell.pdf&quot;&gt;TeX-nutshell - A short document about TeX principles - The Document Itself&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://ctan.org/pkg/simplified-latex&quot;&gt;A Simplified Introduction to LaTeX - https://ctan.org/pkg/simplified-latex&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;http://mirrors.ctan.org/info/simplified-latex/simplified-intro.pdf&quot;&gt;A Simplified Introduction to LaTeX - The Document Itself&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://csweb.ucc.ie/~dongen/LAF/Basics.pdf&quot;&gt;http://csweb.ucc.ie/~dongen/LAF/Basics.pdf&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://csweb.ucc.ie/~dongen/LAF/Commands.pdf&quot;&gt;http://csweb.ucc.ie/~dongen/LAF/Commands.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://ctan.org/pkg/impatient&quot;&gt;https://ctan.org/pkg/impatient&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://mirrors.ctan.org/info/impatient/book.pdf&quot;&gt;http://mirrors.ctan.org/info/impatient/book.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://ctan.org/pkg/gentle&quot;&gt;gentle - A Gentle Introduction to Tex (A Manual for Self-study) by Michael Doob, Department of Mathematics, The University of Manitoba&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;https://mirrors.ctan.org/info/gentle/gentle.pdf&quot;&gt;gentle – A Gentle Introduction to TeX - The Document Itself&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;http://latex.silmaril.ie/veryshortguide/&quot;&gt;http://latex.silmaril.ie/veryshortguide/&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://latex.silmaril.ie/veryshortguide/veryshortguide.pdf&quot;&gt;http://latex.silmaril.ie/veryshortguide/veryshortguide.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://mirrors.ctan.org/info/latex-veryshortguide/veryshortguide.pdf&quot;&gt;http://mirrors.ctan.org/info/latex-veryshortguide/veryshortguide.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://mirrors.ctan.org/info/latex-veryshortguide/veryshortguide-A4-imposed.pdf&quot;&gt;http://mirrors.ctan.org/info/latex-veryshortguide/veryshortguide-A4-imposed.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://ctan.org/pkg/fntguide&quot;&gt;https://ctan.org/pkg/fntguide&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://tug.org/TUGboat/Articles/tb14-2/tb39rahtz-nfss.pdf&quot;&gt;https://tug.org/TUGboat/Articles/tb14-2/tb39rahtz-nfss.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://tug.org/pracjourn/2006-1/schmidt/schmidt.pdf&quot;&gt;https://tug.org/pracjourn/2006-1/schmidt/schmidt.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://ctan.org/pkg/latex-essential&quot;&gt;https://ctan.org/pkg/latex-essential&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://mirrors.ctan.org/info/latex-essential/ess2e.pdf&quot;&gt;http://mirrors.ctan.org/info/latex-essential/ess2e.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://ctan.org/pkg/fontsmpl&quot;&gt;https://ctan.org/pkg/fontsmpl&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://mirrors.ctan.org/macros/latex/required/tools/fontsmpl.pdf&quot;&gt;http://mirrors.ctan.org/macros/latex/required/tools/fontsmpl.pdf&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://www.ctan.org/tex-archive/info/fontsampler/&quot;&gt;https://www.ctan.org/tex-archive/info/fontsampler/&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://mirrors.ctan.org/info/fontsampler/sampler.pdf&quot;&gt;https://mirrors.ctan.org/info/fontsampler/sampler.pdf&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Jun 1, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/%22Hello,_World!%22_program&quot;&gt;“Hello, World!” program - Wikipedia&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/TeX#How_it_is_run&quot;&gt;TeX - Wikipedia - How it is run - A sample Hello world program in plain TeX&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/leachim6/hello-world/blob/main/t/TeX.tex&quot;&gt;Hello world in TeX&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/leachim6/hello-world/blob/main/l/LaTeX.tex&quot;&gt;Hello world in LaTeX&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://helloworldcollection.de/&quot;&gt;The Hello World Collection&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://rosettacode.org/wiki/Hello_world/Text&quot;&gt;Hello world - Rosetta Code&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/leachim6/hello-world&quot;&gt;GitHub – leachim6/hello-world: Hello world in every computer language&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://latex.knobs-dials.com/&quot;&gt;Arbitrary LaTeX reference&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Many problems in LaTeX require some research so I started to record my findings.
Some of this is overly simplified, never investigated past my own needs, some things are unverified, some quite possible wrong.
Lately I haven’t needed TeX much so I don’t work on this page much - feel free to mail me any suggestions, corrections, and such.
Please wait until the page is loaded; expansion will not work before it is.
You can expand all sections when you want to search or print.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20160404010339/http://latex.howtotex.com/&quot;&gt;LaTeX Resources - HowToTeX.com – Archived from original on Apr 4, 2016&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www-h.eng.cam.ac.uk/help/tpl/textprocessing/&quot;&gt;Text Processing using LaTeX - CUED (University of Cambridge, Department of Engineering) - Computing Help - LaTeX&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20151022042027/http://www.ucs.cam.ac.uk/docs/leaflets/u36/&quot;&gt;TeX (‘Introduction to TeX - a.k.a. Plain TeX’) (Archived from the original on Oct 22, 2015)&lt;/a&gt; is a powerful text processing language and is the required format for some periodicals now.
TeX has many macros to which you can eventually add your own.
LaTeX is a macro package which sits on top of TeX and provides all the structuring facilities to help with writing large documents.
Automated chapter and section macros are provided, together with cross referencing and bibliography macros.
LaTeX tends to take over the style decisions, but all the benefits of plain TeX are still present when it comes to doing maths.
The &lt;a href=&quot;http://www-h.eng.cam.ac.uk/help/tpl/textprocessing/latex_advocacy.html&quot;&gt;Why LaTeX?&lt;/a&gt; page discusses LaTeX’s strengths/weaknesses.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20151022042027/http://www.ucs.cam.ac.uk/docs/leaflets/u36/&quot;&gt;Introduction to TeX (Plain TeX) – Archived from the original on Oct 22, 2015)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20160326193543/http://theunsungheroesofit.com/helloworld/&quot;&gt;Unsung Heroes of IT / Part One: Brian Kernighan. TheUnsungHeroesOfIT.com. Archived from the original on Mar 26 2016&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ctan.org/tex&quot;&gt;What are TeX and its friends? - CTAN (The Comprehensive TeX Archive Network)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.unswmathsoc.org/files/resources/misc/LaTeX_Guide_2019.pdf&quot;&gt;An Introduction to LaTeX - UNSW Mathematics Society&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://allthingslinguistic.com/post/50042310246/what-is-latex-and-why-do-linguists-love-it&quot;&gt;What is LaTeX and why do linguists love it?&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;I’ve made a sample document with a few demos of things that linguists do in LaTeX, which you can download &lt;a href=&quot;https://www.dropbox.com/s/s94vt5p8coe8gpj/Linguist%20LaTeX%20demo.tex&quot;&gt;here as .tex&lt;/a&gt; (input) and&amp;gt; &lt;a href=&quot;https://www.dropbox.com/s/qj5d2b0ckcgosm8/Linguist%20LaTeX%20demo.pdf&quot;&gt;here as .pdf&lt;/a&gt; (output).&lt;/p&gt;

      &lt;p&gt;NOTE: If you want to avoid Dropbox prompting you to register or login before downloading them, you can also download the &lt;em&gt;.tex&lt;/em&gt; and the &lt;em&gt;.pdf&lt;/em&gt; files here: 
&lt;a href=&quot;http://localhost:4000/assets/txt/LinguistLaTeXdemo.tex&quot;&gt;LinguistLaTeXdemo.tex&lt;/a&gt; and 
&lt;a href=&quot;http://localhost:4000/assets/txt/LinguistLaTeXdemo.pdf&quot;&gt;LinguistLaTeXdemo.pdf&lt;/a&gt;&lt;/p&gt;

      &lt;p&gt;. . .&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;Why do linguists use LaTeX?&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;You may have noticed that it’s easier to take notes about linguistics by hand than it is on a computer, because there are so many symbols and diagrams that are used in linguistics that are really difficult to make in a word processor.&lt;/p&gt;

      &lt;p&gt;But because LaTeX is free, open-source, and highly customizable, many wonderful people have written packages for anyone to use that let you type linguistics symbols (IPA and semantics), draw trees, and make automatically formatted and numbered example sentences.
(See a &lt;a href=&quot;https://www.dropbox.com/s/qj5d2b0ckcgosm8/Linguist%20LaTeX%20demo.pdf&quot;&gt;sample document here&lt;/a&gt;.)&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikibooks.org/wiki/LaTeX&quot;&gt;LaTeX (Guide to LaTeX) - Wikibooks&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tug.org/begin.html&quot;&gt;Getting started with TeX, LaTeX, and friends&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ctan.org/starter&quot;&gt;Starting out with TeX, LaTeX, and friends - CTAN&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://petr.olsak.net/ftp/olsak/optex/tex-nutshell.pdf&quot;&gt;TeX in a Nutshell - Petr Olšák&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://physics.nyu.edu/~physlab/Lab_Main/Latexguide.pdf&quot;&gt;Beginner’s LaTeX Guide&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ctan.org/pkg/first-latex-doc&quot;&gt;The First LaTeX Document – first-latex-doc – A document for absolute LaTeX beginners&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://mirrors.ctan.org/info/first-latex-doc/first-latex-doc.pdf&quot;&gt;first-latex-doc.pdf – The PDF file of example first document with embedded explanation&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.maths.tcd.ie/~dwilkins/LaTeXPrimer/TypicalInput.html&quot;&gt;A Typical LaTeX Input File - From &lt;em&gt;Getting Started with LaTeX&lt;/em&gt;, 2nd Edition, 1995 - David R. Wilkins&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ctan.org/tex-archive/info/latex-doc-ptr&quot;&gt;A First Set of LaTeX Resources&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20160803193128/http://www.howtotex.com/general/five-minute-guide-to-latex/&quot;&gt;Five minute guide to LaTeX (in HTML) - How To LaTeX (howtolatex.com) – Archived from the original on Aug 3, 2016&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20160505212246/http://www.howtotex.com/download/FiveMinuteGuideToLaTeX.pdf&quot;&gt;Five minute guide to LaTeX (in PDF) - How To LaTeX (howtolatex.com) – Archived from the original on May 5, 2016&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://vladar.bearblog.dev/latex-for-tabletop/&quot;&gt;LaTeX for tabletop - a MWE (minimal working example) of a LaTeX document&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ctan.org/&quot;&gt;CTAN (The Comprehensive TeX Archive Network)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://texfaq.org/FAQ-pdftex&quot;&gt;What is pdfTeX? - The TeX FAQ - The TeX Frequently Asked Question List&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://texfaq.org/FAQ-texthings&quot;&gt;Things with “TeX” in the name - The TeX FAQ - Frequently Asked Question List for TeX&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.m.wikibooks.org/wiki/LaTeX/Document_Structure&quot;&gt;LaTeX Document Structure - Wikibooks&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/TeX&quot;&gt;TeX - Wikipedia&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.luatex.org/&quot;&gt;LuaTeX&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/LuaTeX&quot;&gt;LuaTeX - Wikipedia&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/alexpovel/latex-cookbook&quot;&gt;LaTeX Cookbook (A Modern LaTeX Cookbok)&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Download PDF: &lt;a href=&quot;https://github.com/alexpovel/latex-cookbook/releases/latest/download/cookbook.pdf&quot;&gt;https://github.com/alexpovel/latex-cookbook/releases/latest/download/cookbook.pdf&lt;/a&gt;&lt;/p&gt;

      &lt;p&gt;This repo contains a LaTeX document, usable as a cookbook (different “recipes” to achieve various things in LaTeX) as well as as a template.
The resulting PDF covers LaTeX-specific topics and instructions on compiling the LaTeX source.&lt;/p&gt;

      &lt;p&gt;A comprehensive LaTeX template with examples for theses, books and more, employing the ‘latest and greatest’ (UTF8, glossaries, fonts, …).
The PDF artifact is built using CI/CD, with a Python testing framework.&lt;/p&gt;

      &lt;p&gt;There is a by former coworkers of the author, at the research institute this template originated from as well.
Active development is still happening there:&lt;/p&gt;

      &lt;p&gt;&lt;a href=&quot;https://collaborating.tuhh.de/m21/public/theses/itt-latex-template&quot;&gt;LaTeX template of the Institute of Engineering Thermodynamics (M21) for theses - Based on the Cookbook by Alex Povel&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ctan.org/topic/class&quot;&gt;Comprehensive list of LaTeX document classes&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.cantab.net/users/johncollins/latexmk/index.html&quot;&gt;Latexmk homepage&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ctan.org/pkg/latexmk/&quot;&gt;Latexmk at CTAN&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mg.readthedocs.io/latexmk.html&quot;&gt;Using Latexmk&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/opieters/latex_intro/blob/master/latex-intro.pdf&quot;&gt;LaTeX Intro Workshop - Introduction to LaTeX for writing papers in LaTeX&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=style.Makefile&amp;amp;sektion=5&quot;&gt;Manual page for style.Makefile(5) - FreeBSD Makefile file style guide - FreeBSD Manual Pages&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=make&amp;amp;sektion=1&quot;&gt;Manual page for make(1) - Maintain program dependencies - FreeBSD Manual Pages&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://texblog.org/2012/10/29/getting-started-with-latex-a-collection-of-resources/&quot;&gt;Getting started with LaTeX – a collection of resources&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://theoval.cmp.uea.ac.uk/~nlct/latex/pdfdoc/pdfdoc/pdfdoc.html&quot;&gt;Creating a PDF document using pdflatex&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://latex-mk.sourceforge.net/&quot;&gt;LaTeX-Mk homepage - SourceForge.net&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/dmcmahill/latex-mk&quot;&gt;LaTeX-Mk project - GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://texblog.org/2008/09/17/latex-for-chemists-chefs-managers-and-paparazzi/&quot;&gt;LaTeX for Chemists, Chefs, Managers and Paparazzi&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www-sop.inria.fr/miaou/latex/styles-eng.html&quot;&gt;List of all LaTeX packages - All styles files available on CTAN&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tug.ctan.org/&quot;&gt;CTAN package directory - aka The CTAN archive - Comprehensive TeX Archive Network - The CTAN root directory&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.latextemplates.com/&quot;&gt;LaTeX Templates&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://texample.net/tikz/&quot;&gt;TikZ and PGF - TeXample.net – TikZ and PGF Examples – TikZ Galleries&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.learnlatex.org/&quot;&gt;Learn LaTeX - Learn LaTeX online for free in beginner friendly lessons&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://wch.github.io/latexsheet/&quot;&gt;LaTeX cheat sheet - Winston Chang&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://mirror.ctan.org/info/latexcheat/latexcheat/latexsheet.pdf&quot;&gt;General LaTeX Cheat Sheet - latexsheet.pdf&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://mirrors.ctan.org/info/latex-refsheet/LaTeX_RefSheet.pdf&quot;&gt;latex-refsheet - LaTeX Reference Sheet for a thesis with KOMA-Script&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.andy-roberts.net/misc/latex/&quot;&gt;Andrew Roberts - tutorials on his website&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ctan.org/pkg/impatient&quot;&gt;TeX for the Impatient - a book (of around 350 pages) on TeX, Plain TeX and Eplain – CTAN&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bitbucket.org/VictorEijkhout/tex-latex-science-book/raw/2353026a66c47870f9d7a99e09e79a8af3f9fd20/TeXLaTeXcourse.pdf&quot;&gt;The Computer Science of TeX and LaTeX; based on CS 594, fall 2004, University of Tennessee - Victor Eijkhout, Texas Advanced Computing Center, The University of Texas at Austin - 2012&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/VictorEijkhout/tex-by-topic/raw/main/TeXbyTopic.pdf&quot;&gt;TeX by Topic, A TeXnician’s Reference - Victor Eijkhout - Document Revision 1.5, 2019&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.andy-roberts.net/latex/&quot;&gt;Getting to Grips with LaTeX&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.latex-project.org/help/documentation/usrguide.pdf&quot;&gt;LaTeX for authors, LaTeX Project Team&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tex.stackexchange.com/questions/8373/why-does-latex-make-a-distinction-between-commands-and-environments&quot;&gt;Why does LaTeX make a distinction between commands and environments?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.walden-family.com/texland/&quot;&gt;Travels in TeX Land (by Dave Walden)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.walden-family.com/texland/tb109walden-preprint.pdf&quot;&gt;Macro memories, TUGboat, vol. 35 no. 1, 2014, pp. 99-110&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tug.org/pracjourn/2005-3/walden-travels/&quot;&gt;Travels in TeX Land: A Macro, Three Software Packages, and the Trouble with TeX (The PracTeX Journal, 2005)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tug.org/pracjourn/2006-2/walden/&quot;&gt;Travels in TeX Land: LaTeX for Productivity in Book Writing (The PracTeX Journal, 2006)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tug.org/pracjourn/2006-3/walden/&quot;&gt;Travels in TeX Land: Final Layout of a Book (The PracTeX Journal, 2006)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 01 Jun 2024 20:09:43 -0700</pubDate>
        <link>http://localhost:4000/tex/latex/pdf/x11/xorg/tutorial/howto/sysadmin/technicalwriting/documentation/writing/plaintext/text/editor/utf8/unicode/unix/2024/06/01/tex-latex-quick-start.html</link>
        <guid isPermaLink="true">http://localhost:4000/tex/latex/pdf/x11/xorg/tutorial/howto/sysadmin/technicalwriting/documentation/writing/plaintext/text/editor/utf8/unicode/unix/2024/06/01/tex-latex-quick-start.html</guid>
        
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>pdf</category>
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>tutorial</category>
        
        <category>howto</category>
        
        <category>sysadmin</category>
        
        <category>technicalwriting</category>
        
        <category>documentation</category>
        
        <category>writing</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>editor</category>
        
        <category>utf8</category>
        
        <category>unicode</category>
        
        <category>unix</category>
        
      </item>
    
      <item>
        <title>BACKUPS [WIP]</title>
        <description>&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on May 22, 2024)&lt;/p&gt;

&lt;h3 id=&quot;rsync&quot;&gt;RSYNC&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.stearns.org/doc/rsync-quickstart.txt&quot;&gt;rsync - Quick Start&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20190109091404/http://blog.interlinked.org/tutorials/rsync_time_machine.html&quot;&gt;Time Machine for every Unix out there – Archived from original on Jan 9, 2019&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://ekenberg.se/blog/linux-timemachine-with-rsync/&quot;&gt;Linux Time Machine With Rsync&lt;/a&gt;
Edit: The script in this article has been superseeded by the &lt;a href=&quot;https://github.com/ekenberg/linux-timemachine&quot;&gt;Linux Time Machine project on GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://ekenberg.github.io/linux-timemachine/&quot;&gt;Linux-timemachine – Backup with hard links - Save time and space - And your data&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/ekenberg/linux-timemachine&quot;&gt;Linux Time Machine project on GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://backuppc.github.io/backuppc/&quot;&gt;BackupPC&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;BackupPC is written in Perl and extracts backup data via SMB using Samba, tar over ssh/rsh/nfs, or rsync.
It is robust, reliable, well documented and freely available as Open Source on Github.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.sanitarium.net/golug/rsync_backups_2010.html&quot;&gt;Do-It-Yourself Backup System Using Rsync - Kevin Korb - Presented 2010-03-02&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unixservertech.com/scripts/rsbackup_p2p.html&quot;&gt;rsbackup_p2p – Back up files on local machine to a peer server using rsync protocol&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;VERY insecure server replication tool.
This requires root ssh access to the remote server via non-password protected ssh key.
Suitable for replicating servers internally on a LAN or over a VPN connection, but not recommended for other installations.&lt;/p&gt;

      &lt;p&gt;Basically, uses rsync to update a path/ to remote server:path/.
Allows for local scripting on source machine and target machine, both before and after synchronization occurs.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unixservertech.com/scripts/rsbackup_lib.html&quot;&gt;rsbackup_lib - Library used by all rsBackup scripts&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This is basically a single library that has common routines used by rsbackup_client, rsbackup_p2p and rsbackup_server.&lt;/p&gt;

      &lt;p&gt;If you install any of these packages, this needs to be installed first.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unixservertech.com/scripts/scripts.html&quot;&gt;scripts - Needed scripts for rsbackup and rsbackup_p2p&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Contains example conf file, and some initialization and cleanup scripts&lt;/p&gt;

      &lt;p&gt;Additionally, it includes a copy of the open source sendEmail.pl script that allows sending of e-mail, with attachments, without the requirment of having a mail server installed on your machine.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20100214071346/https://bernaz.wordpress.com/2008/01/19/flyback-a-time-machine-backup-utility-for-linux/&quot;&gt;FlyBack - a “Time Machine” backup utility for Linux&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/mwarrenus/flyback&quot;&gt;flyback - Time Machine clone for Linux based on git&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20160201170750/http://backintime.le-web.org&quot;&gt;Back In Time&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.cis.upenn.edu/~bcpierce/unison/index.html&quot;&gt;Unison - Unison File Synchronizer&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.sanitarium.net/golug/rsync+btrfs_backups_2011.html&quot;&gt;Do-It-Yourself Backup System Using Rsync and Btrfs - Kevin Korb - Presented 2011-04-06&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://btrfs.readthedocs.io&quot;&gt;BTRFS documentation&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.sanitarium.net/rsyncfaq/&quot;&gt;rsync FAQ - Maintained by Kevin Korb&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;zfs&quot;&gt;ZFS&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.amoradi.org/20210909095248.html&quot;&gt;3 2 1 Backup feast&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://forums.freebsd.org/threads/how-to-create-new-full-snapshots.66903/&quot;&gt;How to create new full snapshots? (in ZFS) - FreeBSD Forums&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;snapshots&quot;&gt;Snapshots&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20071230073436/https://flaviostechnotalk.com/wordpress/index.php/2005/06/28/filesystem-snapshots-with-unionfs/&quot;&gt;Filesystem snapshots with unionfs - Archived from original on Dec 30, 2007&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Z Says:
June 28th, 2005 at 7:57 am
What is the benefit compared to LVM snapshots?&lt;/p&gt;

      &lt;p&gt;Z Says:
June 28th, 2005 at 7:57 am
How does it compare to LVM snapshots?&lt;/p&gt;

      &lt;p&gt;flavio Says:
June 28th, 2005 at 8:50 am&lt;/p&gt;

      &lt;p&gt;Z,&lt;/p&gt;

      &lt;p&gt;LVM snapshots are just another alternative to provide snapshot capabilities to filesystems.&lt;/p&gt;

      &lt;p&gt;The main differences are that unionfs snapshots work at a higher level (directories), are filesystem agnostic and generally simpler to implement.&lt;/p&gt;

      &lt;p&gt;Flavio&lt;/p&gt;

      &lt;p&gt;C Says:
June 30th, 2005 at 3:33 pm&lt;/p&gt;

      &lt;p&gt;One big advantage over LVM: you don’t have to destroy an existing partition to get this working!&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;general&quot;&gt;General&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;[TODO] - Change the Title?&lt;/strong&gt; (Possible new title: synchronization)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/opennet/FSBackup&quot;&gt;FSBackup (File system backup) - File system backup and synchronization utility&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;http://www.opennet.ru/dev/fsbackup/&quot;&gt;FSBackup home page - FSBACKUP - system of incremental backup and synchronization of FS (file system)&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;https://www.freshports.org/sysutils/fsbackup/&quot;&gt;FSBackup port in FreeBSD (sysutils/fsbackup)&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;http://www.opennet.ru/dev/fsbackup/fsbackup_eng_guide.txt&quot;&gt;FSBackup – Step-by-Step Guide&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;For documentation in English: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perldoc fsbackup.pl&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.halfgaar.net/backing-up-unix&quot;&gt;Backing up Linux, BSD and other Unix(-like) systems&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://thedailywtf.com/articles/Immaculate_Backup_&quot;&gt;Immaculate Backup - Alex Papadimoulis - 2007-02-21&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/Tolaris/bu&quot;&gt;bu: A fast backup utility for Linux command-line systems. Backs up a file or directory and names it by date. Use it before editing critical files.&lt;/a&gt; - Shell script in Python&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://livebackup.sourceforge.net/&quot;&gt;LiveBackup (a framework to create bootable live ISOs from installed Linux systems)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://wiki.ubuntu.com/TimeVault&quot;&gt;TimeVault - WARNING: TimeVault has been unmaintained for a while&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;tools&quot;&gt;Tools&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;[TODO] - To change the title?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://sr.ht/~apreiml/prunef/&quot;&gt;prunef -  A backup rotation filter for your shell&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Takes an unsorted list of backup names and returns a list of backups for deletion.
The backup rotation rules are given via command line args.
The backup names need to contain the time and a date(1) like format specifier is required to parse those.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/adamfeuer/rotate-backups&quot;&gt;Rotate backups script&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;This script is designed to be used by processes that create tarred and compressed backups every hour or every day.
These backups accumulate, taking up disk space.&lt;/p&gt;

      &lt;p&gt;By running this rotator script once per hour shortly before your hourly backup cron runs, you can save 24 houly backups, 7 daily backups and an arbitrary number of weekly backups (the default is 52).&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Wed, 22 May 2024 20:09:27 -0700</pubDate>
        <link>http://localhost:4000/backup/rsync/tar/versioncontrol/sysadmin/cli/terminal/shell/script/unix/disasterrecovery/boot/images/snapshot/disk/storage/tool/console/tutorial/ssh/encryption/tip/howto/2024/05/22/backups.html</link>
        <guid isPermaLink="true">http://localhost:4000/backup/rsync/tar/versioncontrol/sysadmin/cli/terminal/shell/script/unix/disasterrecovery/boot/images/snapshot/disk/storage/tool/console/tutorial/ssh/encryption/tip/howto/2024/05/22/backups.html</guid>
        
        
        <category>backup</category>
        
        <category>rsync</category>
        
        <category>tar</category>
        
        <category>versioncontrol</category>
        
        <category>sysadmin</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>script</category>
        
        <category>unix</category>
        
        <category>disasterrecovery</category>
        
        <category>boot</category>
        
        <category>images</category>
        
        <category>snapshot</category>
        
        <category>disk</category>
        
        <category>storage</category>
        
        <category>tool</category>
        
        <category>console</category>
        
        <category>tutorial</category>
        
        <category>ssh</category>
        
        <category>encryption</category>
        
        <category>tip</category>
        
        <category>howto</category>
        
      </item>
    
      <item>
        <title>Jails with ZFS on FreeBSD</title>
        <description>&lt;p&gt;In this example, the host operating system &lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; is &lt;em&gt;FreeBSD 13&lt;/em&gt;, with the following FreeBSD kernel and userland versions&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;the version and patch level of the installed kernel (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-k&lt;/code&gt;): 13.2-RELEASE-p4,&lt;/li&gt;
  &lt;li&gt;the version and patch level of the running kernel (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-r&lt;/code&gt;): 13.2-RELEASE-p4,&lt;/li&gt;
  &lt;li&gt;the version and patch level of the installed userland (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-u&lt;/code&gt;) (a.k.a. user environment)): 13.2-RELEASE-p4.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ freebsd-version -kru
13.2-RELEASE-p4
13.2-RELEASE-p4
13.2-RELEASE-p4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;create-a-new-zfs-dataset-for-your-first-jail&quot;&gt;Create a New ZFS Dataset for Your First Jail&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list | grep -i jail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -Alh /jail
ls: /jail: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zfs create -o mountpoint=/jail zroot/jail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -Alh /jail
total 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -ld /jail
drwxr-xr-x  2 root  wheel  2 Mar 28 21:15 /jail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list | grep -i jail
zroot/jail                                                     96K   244G       96K  /jail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will name the jail &lt;em&gt;burgundy&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zfs create zroot/jail/burgundy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list | grep -i jail
zroot/jail                                                    192K   244G       96K  /jail
zroot/jail/burgundy                                            96K   244G       96K  /jail/burgundy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ df -hT | grep -i jail
zroot/jail                         zfs        244G     96K    244G     0%    /jail
zroot/jail/burgundy                zfs        244G     96K    244G     0%    /jail/burgundy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;create-or-modify-jailconf-configuration-file&quot;&gt;Create or Modify jail.conf Configuration File&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -ld /etc/jail*
drwxr-xr-x  2 root  wheel  2 Jul 27  2022 /etc/jail.conf.d

$ ls -Alh /etc/jail.conf.d/
total 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /etc/jail.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /etc/jail.conf
-rw-r--r--  1 root  wheel   464B Mar 28 21:42 /etc/jail.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/jail.conf
mount.devfs;                         # Mount devfs inside the jail
exec.start=&quot;sh /etc/rc&quot;;             # Start command
exec.stop=&quot;sh /etc/rc.shutdown&quot;;     # Stop command
path=&quot;/jail/${name}&quot;;                # Path to the jail
host.hostname=&quot;${name}.myhost.lan&quot;;  # Hostname

burgundy {
    interface=&quot;ue0&quot;;
    ip4.addr = &quot;192.168.1.20&quot;;       # IP address of the jail 
    allow.raw_sockets = 1;           # To allow ping(8) and traceroute(8)
    allow.chflags = 1;   # Treat privileged users as privileged inside the jail
}

# Don&apos;t import any environment variables when connecting
# from the host system to the jail (except ${TERM})
exec.clean;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;install-freebsd-in-the-jail-with-bsdinstall8&quot;&gt;Install FreeBSD in the Jail with bsdinstall(8)&lt;/h2&gt;

&lt;p&gt;You can install the base system by extracting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;base.txz&lt;/code&gt; set or by downloading from git and compiling from source but I will install the base system by using &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=bsdinstall&amp;amp;sektion=8&quot;&gt;bsdinstall(8)&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo bsdinstall jail /jail/burgundy


 FreeBSD Installer
 -----------------------------------------------------------------------------
 +----------------------------|Mirror Selection|-----------------------------+
 | Please select the site closest to you or &quot;other&quot; if                       | 
 | you&apos;d like to specify a different choice.  Also note                      |
 | that not every site listed here carries more than the                     |
 | base distribution kits.  Only Primary sites are                           |
 | guaranteed to carry the full range of possible distributions.             |
 | Select a site that&apos;s close!                                               |
 |                                                                           |
 | +-----------------------------------------------------------------------+ |
 | |           ftp://ftp.freebsd.org      Main Site                        | |
 | |           ftp://ftp.freebsd.org      IPv6 Main Site                   | |

---- snip ---  
 
 +---------------------------------------------------------------------------+
 |                    [  OK  ]     [Other ]     [Cancel]                     |
 +---------------------------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After selecting your site:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;        +-------------------|Distribution Select|--------------------+
        | Choose optional system components to install:              |
        | +--------------------------------------------------------+ |
        | |[ ] lib32_dbg 32-bit compatibility libraries (Debugging)| |
        | |[X] lib32     32-bit compatibility libraries            | |
        | |[ ] ports     Ports tree                                | |
        | |[ ] src       System source tree                        | |
        | |[ ] tests     Test suite                                | |
        | +--------------------------------------------------------+ |
        |                          [  OK  ]                          |
        +------------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                   +--------|Fetching Distribution|-------+
                   | base.txz             [     76%     ] |
                   | lib32.txz            [   Pending   ] |
                   |                                      |
                   | Fetching distribution files...       |
                   |                                      |
                   |  +-Overall Progress---------------+  |
                   |  |               58%              |  |
                   |  +--------------------------------+  |
                   +--------------------------------------+


                   +---------|Archive Extraction|---------+
                   | base.txz             [     90%     ] |
                   | lib32.txz            [   Pending   ] |
                   |                                      |
                   | Extracting distribution files...     |
                   |                                      |
                   |  +-Overall Progress---------------+  |
                   |  |               88%              |  |
                   |  +--------------------------------+  |
                   +--------------------------------------+


FreeBSD Installer
========================

Please select a password for the system management account (root):
Typed characters will not be visible.
Changing local password for root
New Password:
Retype New Password:


+---------------------------|System Configuration|---------------------------+
| Choose the services you would like to be started at boot:                  |
| +------------------------------------------------------------------------+ |
| |[ ] local_unbound      Local caching validating resolver                | |
| |[X] sshd               Secure shell daemon                              | |
| |[ ] moused             PS/2 mouse pointer on console                    | |
| |[ ] ntpd               Synchronize system and network time              | |
| |[ ] ntpd_sync_on_start Sync time on ntpd startup, even if offset is high| |
| |[ ] powerd             Adjust CPU frequency dynamically if supported    | |
| |[X] dumpdev            Enable kernel crash dumps to /var/crash          | |
| +------------------------------------------------------------------------+ |
+----------------------------------------------------------------------------+
|                                  [  OK  ]                                  |
+----------------------------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I selected the following services:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+---------------------------|System Configuration|---------------------------+
| Choose the services you would like to be started at boot:                  |
| +------------------------------------------------------------------------+ |
| |[ ] local_unbound      Local caching validating resolver                | |
| |[X] sshd               Secure shell daemon                              | |
| |[ ] moused             PS/2 mouse pointer on console                    | |
| |[X] ntpd               Synchronize system and network time              | |
| |[X] ntpd_sync_on_start Sync time on ntpd startup, even if offset is high| |
| |[ ] powerd             Adjust CPU frequency dynamically if supported    | |
| |[X] dumpdev            Enable kernel crash dumps to /var/crash          | |
| +------------------------------------------------------------------------+ |
+----------------------------------------------------------------------------+
|                                  [  OK  ]                                  |
+----------------------------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                       +------|Add User Accounts|-----+
                       | Would you like to add users  |
                       | to the installed system now? |
                       +------------------------------+
                       |     [ Yes  ]    [  No  ]     |
                       +------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Selected  [ Yes ]  in  ‘Add User Accounts’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FreeBSD Installer
========================
Add Users

Username: dusko
Full name: dusko
Uid (Leave empty for default): 
Login group [dusko]: 
Login group is dusko. Invite dusko into other groups? []: wheel
Login class [default]: 
Shell (sh csh tcsh nologin) [sh]: tcsh
Home directory [/home/dusko]: 
Home directory permissions (Leave empty for default): 
Use password-based authentication? [yes]: yes
Use an empty password? (yes/no) [no]: no
Use a random password? (yes/no) [no]: no
Enter password: 
Enter password again: 
Lock out the account after creation? [no]: no
Username   : dusko
Password   : *****
Full Name  : dusko
Uid        : 1001
Class      : 
Groups     : dusko wheel
Home       : /home/dusko
Home Mode  : 
Shell      : /bin/tcsh
Locked     : no
OK? (yes/no): yes
adduser: INFO: Successfully added (dusko) to the user database.
Add another user? (yes/no): no

Goodbye!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;update-rcconf-configuration-file&quot;&gt;Update rc.conf Configuration File&lt;/h2&gt;

&lt;p&gt;You will need to add these configuration variables to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rc.conf&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jail_enable=&quot;YES&quot;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Optionally: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jail_list=&quot;burgundy&quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Enable jails on boot, and optionally add the name of the jail to the list of jails to automatically start on boot.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cp -i /etc/rc.conf /etc/rc.conf.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sysrc jail_enable=&quot;YES&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sysrc jail_list=&quot;burgundy&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;network-setup-with-jails-ip-address-under-the-same-subnet-as-host&quot;&gt;Network Setup with Jail’s IP Address under the Same Subnet as Host&lt;/h3&gt;

&lt;p&gt;In my home setup I use IP &lt;em&gt;aliases&lt;/em&gt; against my primary network interface.
(You use an &lt;em&gt;alias&lt;/em&gt; when you want to establish an additional network address for an interface.)&lt;/p&gt;

&lt;p&gt;In production (for example, for host with only one public IP address), you can use NAT (also known as NATing) on the host.
For that setup, use instructions provided below under section titled &lt;a href=&quot;#network-setup-with-jail-ip-address-in-private-subnet-and-nat-with-pf&quot;&gt;Network Setup with Jail IP Address in Private Subnet and NAT with pf&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;List of all available interfaces on the host system:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -l
em0 lo0 ue0 vm-public
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Network interfaces that are currently down:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -l -d
em0 vm-public
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Network interfaces that are active:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -l -u
lo0 ue0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to exclude &lt;em&gt;loopback&lt;/em&gt; interfaces from the list of network interfaces displayed with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-l&lt;/code&gt; option, set  &lt;em&gt;address_family&lt;/em&gt; parameter of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ifconfig(8)&lt;/code&gt; utility to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ether&lt;/code&gt;. On this system, the name of the active network interface is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ue0&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -l -u ether
ue0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Using the &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;amp;sektion=8&quot;&gt;ifconfig(8)&lt;/a&gt; utility, display the configuration of interfaces that are up with the exception of loopback:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a -u -G lo
ue0: flags=...
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the output, select the line with the IP address of the network interface.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a -u -G lo | grep inet
        inet 192.168.1.10 netmask 0xffffff00 broadcast 192.168.1.255
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To display the IP address of the network interface in CIDR notation (also known as the &lt;em&gt;slash notation&lt;/em&gt;, or CIDR format), use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-f&lt;/code&gt; flag, which controls the output format of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ifconfig(8)&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a -u -G lo -f inet:cidr | grep inet
        inet 192.168.1.10/24 broadcast 192.168.1.255
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Show routing tables.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ netstat -r
Routing tables

Internet:
Destination        Gateway            Flags     Netif Expire
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the output, select the line with the default gateway &lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ netstat -r | grep default
default            192.168.1.254      UGS         ue0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For this setup; that is, when you use the jail’s IP address under the same subnet as the host, which is the same subnet as gateway, if the IP address of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ue0&lt;/code&gt; network interface of the host is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.1.10&lt;/code&gt; with gateway &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.1.254&lt;/code&gt;, then the jail IP address should be in the range of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.1.x&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You need to add an alias for your active network adapter (in this case, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ue0&lt;/code&gt;) to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rc.conf&lt;/code&gt; configuration file.
For example, to add an alias with an IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.1.20&lt;/code&gt; to the network interface named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ue0&lt;/code&gt;, use the following command to add an IP alias entry for this to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rc.conf&lt;/code&gt; configuration file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sysrc ifconfig_ue0_alias0=&quot;inet 192.168.1.20/32&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
 --unified=0 \
 /etc/rc.conf.bak \
 /etc/rc.conf
--- /etc/rc.conf.bak    2024-03-28 21:45:06.863268000 -0700
+++ /etc/rc.conf        2024-03-28 22:42:32.278941000 -0700
@@ -19,0 +20,3 @@
+jail_enable=&quot;YES&quot;
+jail_list=&quot;burgundy&quot;
+ifconfig_ue0_alias0=&quot;inet 192.168.1.20/32&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
If you create another jail later on and you want to create a new IP alias for it (for example with an IP address &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.1.21&lt;/code&gt;), you’d add it by using the following command.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sysrc ifconfig_ue0_alias1=&quot;inet 192.168.1.21/32&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
Alternatively, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ifconfig_⟨interface⟩_aliases&lt;/code&gt; variable, which has the same functionality as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ifconfig_⟨interface⟩_alias⟨n⟩&lt;/code&gt; and can have all of entries in a variable like the following:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sysrc ifconfig_ue0_aliases=&quot;\
 inet 192.168.1.22 netmask 0xffffffff \
 inet 192.168.1.23 netmask 0xffffffff \
 inet 192.168.1.24 netmask 0xffffffff&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ifconfig_⟨interface⟩_alias⟨n⟩&lt;/code&gt; variable also supports CIDR notation.&lt;/p&gt;

&lt;p&gt;From
&lt;a href=&quot;https://forums.freebsd.org/threads/ping-sendto-cant-assign-requested-address-in-jail.2019/&quot;&gt;“ping: sendto: Can’t assign requested address” in Jail&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;To allow networking, first, interface must be specified in jail.conf.
That interface must exist in host’s ifconfig and has alias containing subnet of jail’s IP address because value of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip4.addr=&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jail.conf&lt;/code&gt; will be added to interface specified in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;interface=&lt;/code&gt;.
If subnet of &lt;em&gt;ip4.addr&lt;/em&gt; doesn’t exist in that interface, jail’s IP won’t be added.&lt;/p&gt;

  &lt;p&gt;The easiest setup is to use jail’s IP under the same subnet as the host, which is the same subnet as gateway.
I.e., if &lt;em&gt;em0&lt;/em&gt; of the host use IP 192.168.0.5 with gateway 192.168.0.1, then jail IP should be in range of 192.168.0.x.&lt;/p&gt;

  &lt;p&gt;For host with only one public IP e.g., 61.x.x.x, you have to use a private subnet by adding a subnet to network interface as an alias, specify jail’s IP under that subnet, then use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pf(4)&lt;/code&gt; to NAT that subnet to public IP.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;When you are ready to start using jails, start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jail&lt;/code&gt; service.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service jail start 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service jail status
 JID             IP Address      Hostname                      Path
 burgundy        192.168.1.20    burgundy.myhost.lan           /jail/burgundy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=jls&amp;amp;sektion=8&quot;&gt;jls(8)&lt;/a&gt; to list jails.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ jls
   JID  IP Address      Hostname                      Path
     1  192.168.1.20    burgundy.myhost.lan           /jail/burgundy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The version and patch level of the installed &lt;em&gt;userland&lt;/em&gt; in the jail:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo freebsd-version -j burgundy
13.2-RELEASE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To enter the jail from host (a.k.a. log in to the jail) - a.k.a. Run the shell in the jail with &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;amp;sektion=8&quot;&gt;jexec(8)&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo jexec burgundy /bin/sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bsdinstall(8)&lt;/code&gt; doesn’t intall a kernel into the jail.&lt;/p&gt;

&lt;p&gt;From
&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/jails/&quot;&gt;Chapter 17. Jails and Containers - FreeBSD Handbook - FreeBSD Documentation Portal&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Jails do not have a kernel. &lt;br /&gt;
They run on the host’s kernel.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# freebsd-version -k
freebsd-version: unable to locate kernel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The jail’s running kernel version and patch level are inherited from the host so they are the same as the host’s running kernel and patch level:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# freebsd-version -r
13.2-RELEASE-p4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The jail’s userland version and patch level:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# freebsd-version -u
13.2-RELEASE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# uname -a
FreeBSD burgundy.myhost.lan 13.2-RELEASE-p4 FreeBSD 13.2-RELEASE-p4 GENERIC amd64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this instance, the resolver, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt;, in the jail had to be fixed:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf 
# Generated by resolvconf
search example.com 
nameserver 1.2.3.4
nameserver 1.2.3.5
nameserver 192.168.1.254
nameserver 75.153.1.2

# ping -c2 8.8.8.8
PING 8.8.8.8 (8.8.8.8): 56 data bytes
64 bytes from 8.8.8.8: icmp_seq=0 ttl=60 time=6.474 ms
64 bytes from 8.8.8.8: icmp_seq=1 ttl=60 time=6.261 ms

--- 8.8.8.8 ping statistics ---
2 packets transmitted, 2 packets received, 0.0% packet loss
round-trip min/avg/max/stddev = 6.261/6.368/6.474/0.107 ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# resolvconf -I
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the host’s gateway (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.1.254&lt;/code&gt;) to the jail’s &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=resolv.conf&amp;amp;sektion=5&quot;&gt;resolv.conf(5)&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf &quot;nameserver 192.168.1.254&quot; | resolvconf -a ue0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf
# Generated by resolvconf
nameserver 192.168.1.254
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# resolvconf -u
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf
# Generated by resolvconf
nameserver 192.168.1.254
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ping -c2 192.168.1.254
PING 192.168.1.254 (192.168.1.254): 56 data bytes
64 bytes from 192.168.1.254: icmp_seq=0 ttl=64 time=1.415 ms
64 bytes from 192.168.1.254: icmp_seq=1 ttl=64 time=1.683 ms

--- 192.168.1.254 ping statistics ---
2 packets transmitted, 2 packets received, 0.0% packet loss
round-trip min/avg/max/stddev = 1.415/1.549/1.683/0.134 ms

# ping -c2 freebsd.org
PING freebsd.org (96.47.72.84): 56 data bytes
64 bytes from 96.47.72.84: icmp_seq=0 ttl=53 time=78.208 ms
64 bytes from 96.47.72.84: icmp_seq=1 ttl=53 time=78.663 ms

--- freebsd.org ping statistics ---
2 packets transmitted, 2 packets received, 0.0% packet loss
round-trip min/avg/max/stddev = 78.208/78.436/78.663/0.228 ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Logout from the jail.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the host, restart &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;netif&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;routing&lt;/code&gt; services.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service netif restart &amp;amp;&amp;amp; sudo service routing restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service jail status
 JID             IP Address      Hostname                      Path
 burgundy        192.168.1.20    burgundy.myhost.lan           /jail/burgundy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ jls
   JID  IP Address      Hostname                      Path
     1  192.168.1.20    burgundy.myhost.lan           /jail/burgundy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can also log in to the jail with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ssh(1)&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nc -z -v 192.168.1.20 22
Connection to 192.168.1.20 22 port [tcp/ssh] succeeded!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh dusko@192.168.1.20
The authenticity of host &apos;192.168.1.20 (192.168.1.20)&apos; can&apos;t be established.
ED25519 key fingerprint is SHA256:k7pm7Z......................................
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added &apos;192.168.1.20&apos; (ED25519) to the list of known hosts.
(dusko@192.168.1.20) Password for dusko@burgundy.myhost.lan:
FreeBSD 13.2-RELEASE-p4 GENERIC

Welcome to FreeBSD!

---- snip ----

dusko@burgundy:~ % ifconfig 
em0: flags=8822&amp;lt;BROADCAST,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
---- snip ----
        status: no carrier
lo0: flags=8049&amp;lt;UP,LOOPBACK,RUNNING,MULTICAST&amp;gt; metric 0 mtu 16384
---- snip ----
ue0: flags=8843&amp;lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
---- snip ----
        inet 192.168.1.20 netmask 0xffffffff broadcast 192.168.1.20
        media: Ethernet autoselect (1000baseT &amp;lt;full-duplex&amp;gt;)
        status: active
vm-public: flags=8843&amp;lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Logout from the jail.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dusko@burgundy:~ % exit
logout
Connection to 192.168.1.20 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;network-setup-with-jail-ip-address-in-private-subnet-and-nat-with-pf&quot;&gt;Network Setup with Jail IP Address in Private Subnet and NAT with pf&lt;/h3&gt;

&lt;p&gt;Assumptions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;This system has only one public IP address: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;61.2.3.4&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;The host system already has the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rc.conf&lt;/code&gt; file with jail-related configuraiton variables:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/rc.conf

---- snip ----

jail_enable=&quot;YES&quot;
jail_list=&quot;burgundy&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/jail.conf
# STARTUP/LOGGING
exec.start=&quot;/bin/sh /etc/rc&quot;;             # Start command
exec.stop=&quot;/bin/sh /etc/rc.shutdown&quot;;     # Stop command
exec.consolelog = &quot;/var/log/jail_console_${name}.log&quot;;

# PERMISSIONS
allow.raw_sockets = 1;           # To allow ping(8) and traceroute(8)
mount.devfs;                     # Mount devfs inside the jail
# Don&apos;t import any environment variables when connecting
# from the host system to the jail (except ${TERM})
exec.clean;

# HOSTNAME/PATH
path=&quot;/jail/${name}&quot;;                # Path to the jail
host.hostname=&quot;${name}.myhost.lan&quot;;  # Hostname

burgundy {
    # NETWORK
    interface=&quot;ue0&quot;;
    ip4.addr=&quot;172.16.0.11&quot;;            # IP address of the jail

    allow.chflags = 1;   # Treat privileged users as privileged inside the jail
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this setup, you have to use a private subnet by adding a subnet to the network interface as an alias, specify jail’s IP address under that subnet, and then use &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=pf&amp;amp;sektion=4&quot;&gt;pf(4)&lt;/a&gt; on the host to NAT to that subnet to the public IP address.&lt;/p&gt;

&lt;p&gt;Name of the active network interface is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ue0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -l 
ue0 lo0 vm-public tap0
 
$ ifconfig -l -d
vm-public tap0
 
$ ifconfig -l -u
ue0 lo0
 
$ ifconfig -l -u ether
ue0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a -u -G lo | grep inet
        inet 61.2.3.4 netmask 0xffffff00 broadcast 61.2.3.255 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add a private network subnet as an alias against your active network adapter. 
For example, to add a subnet &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;172.16.0.0/24&lt;/code&gt; to the network interface named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ue0&lt;/code&gt;, use the following command, which adds the subnet alias entry for this to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rc.conf&lt;/code&gt; configuration file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sysrc ifconfig_ue0_aliases=&quot;inet 172.16.0.0/24&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Next, add two configuration variables (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gateway_enable=&quot;YES&quot;&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pf_enable=&quot;YES&quot;&lt;/code&gt;) to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt; configuration file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sysrc gateway_enable=&quot;YES&quot;
$ sudo sysrc pf_enable=&quot;YES&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/rc.conf

---- snip ----

jail_enable=&quot;YES&quot;
jail_list=&quot;burgundy&quot;
gateway_enable=&quot;YES&quot;
pf_enable=&quot;YES&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Load &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pf.ko&lt;/code&gt; module.
(Alternatively, you can restart your FreeBSD host.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo kldload pf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pf.conf&lt;/code&gt; packet filter configuration file &lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /etc/pf.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/pf.conf
IP_PUB=&quot;61.2.3.4&quot; 
NET_JAIL=&quot;172.16.0.0/24&quot;
nat pass on ue0 from $NET_JAIL to any -&amp;gt; $IP_PUB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pf&lt;/code&gt; service.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service pf start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To enter the jail from host (a.k.a. log in to the jail), run the usual &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;amp;sektion=8&quot;&gt;jexec(8)&lt;/a&gt; command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo jexec burgundy /bin/sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Mar 28, 2024)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/jails/&quot;&gt;Chapter 17. Jails and Containers - FreeBSD Handbook&lt;/a&gt; |
&lt;a href=&quot;http://phk.freebsd.dk/pubs/sane2000-jail.pdf&quot;&gt;Jails: Confining the omnipotent root. - Poul-Henning Kamp -  Robert N. M. Watson  - The FreeBSD Project (PDF)&lt;/a&gt; |
&lt;a href=&quot;https://wiki.freebsd.org/VladimirKrstulja/Guides/Jails&quot;&gt;Unadulterated Jails, the Simple Way&lt;/a&gt; |
&lt;a href=&quot;https://wiki.freebsd.org/Jails&quot;&gt;Jails - FreeBSD Wiki&lt;/a&gt; |
&lt;a href=&quot;https://rubenerd.com/starting-with-freebsd-jails/&quot;&gt;Starting with FreeBSD jails&lt;/a&gt; |
&lt;a href=&quot;https://blog.frankleonhardt.com/2019/jails-on-freebsd-are-easy-without-ezjail/&quot;&gt;Jails on FreeBSD are easy without ezjail&lt;/a&gt; |
&lt;a href=&quot;https://rubenerd.com/using-freebsd-update-to-upgrade-jails/&quot;&gt;Using freebsd-update to upgrade jails&lt;/a&gt; |
&lt;a href=&quot;https://forums.freebsd.org/threads/ping-sendto-cant-assign-requested-address-in-jail.2019/&quot;&gt;ping: sendto: Can’t assign requested address in Jail - FreeBSD Forums&lt;/a&gt; |
&lt;a href=&quot;https://ogris.de//howtos/jupdate.sh&quot;&gt;jupdate.sh - Jail update shell script by Felix J. Ogris - Run freebsd-update, portsnap, and portmaster on the host system and inside each running jail&lt;/a&gt; |
&lt;a href=&quot;https://www.benburwell.com/posts/freebsd-jails/&quot;&gt;FreeBSD Experiment 1: Jails&lt;/a&gt; | 
&lt;a href=&quot;https://ogris.de//howtos/freebsd-jails.html&quot;&gt;Jails on FreeBSD&lt;/a&gt; |
&lt;a href=&quot;https://web.archive.org/web/20210125235815/https://kettunen.io/post/standard-freebsd-jails/&quot;&gt;Creating Comfy FreeBSD Jails Using Standard Tools - Posted on Jan 17, 2021&lt;/a&gt; |
&lt;a href=&quot;https://news.ycombinator.com/item?id=25813800&quot;&gt;Creating Comfy FreeBSD Jails Using Standard Tools - Discussion on Hacker News&lt;/a&gt; |
&lt;a href=&quot;https://sysadvent.blogspot.com/2010/12/day-14-freebsd-jails.html&quot;&gt;SysAdvent- Day 14 - FreeBSD Jails - Posted on Dec 14, 2010&lt;/a&gt; |
&lt;a href=&quot;https://www.shaka.today/freebsd-jail-quick-setup-with-networking-2022/&quot;&gt;FreeBSD Jail Quick Setup with Networking&lt;/a&gt; |
&lt;a href=&quot;https://blog.frankleonhardt.com/2020/networking-freebsd-jails/&quot;&gt;Networking FreeBSD Jails&lt;/a&gt; |
&lt;a href=&quot;http://kbeezie.com/freebsd-jail-single-ip/&quot;&gt;FreeBSD Jail with Single IP&lt;/a&gt; |
&lt;a href=&quot;https://etherealwake.com/2021/08/freebsd-jail-networking/&quot;&gt;FreeBSD Jails And Networking&lt;/a&gt; |
&lt;a href=&quot;https://forums.freebsd.org/threads/my-freebsd-hardening-script.89523/page-2#post-633105&quot;&gt;Re: chflags(7) in a hardening and security context, &lt;a href=&quot;https://forums.freebsd.org/posts/633105&quot;&gt;https://forums.freebsd.org/posts/633105&lt;/a&gt;&lt;/a&gt; |
&lt;a href=&quot;https://rubenerd.com/build-yourself-a-freebsd-vpn-box/&quot;&gt;Build yourself a little FreeBSD jail services box&lt;/a&gt; |
&lt;a href=&quot;https://wiki.freebsd.org/BSDInstall&quot;&gt;BSDInstall - FreeBSD Wiki&lt;/a&gt; |
&lt;a href=&quot;https://srobb.net/freebsdjail.html&quot;&gt;FreeBSD Jails&lt;/a&gt; |
&lt;a href=&quot;https://srobb.net/nullfsjail.html&quot;&gt;Multiple FreeBSD Jails with nullfs (on FreeBSD-9.2&lt;/a&gt; |
&lt;a href=&quot;https://genneko.github.io/playing-with-bsd/system/learning-notes-on-jails/&quot;&gt;Learning Notes on FreeBSD Jails&lt;/a&gt; |
&lt;a href=&quot;https://web.archive.org/web/20210125235815/https://kettunen.io/post/standard-freebsd-jails/&quot;&gt;Creating Comfy FreeBSD Jails Using Standard Tools&lt;/a&gt; |
&lt;a href=&quot;https://brokenco.de/2021/02/02/freebsd-pkg-with-an-offline-jail.html&quot;&gt;Using FreeBSD’s pkg(1) with an ‘offline’ jail&lt;/a&gt; |
&lt;a href=&quot;https://www.amoradi.org/20210908201936.html&quot;&gt;FreeBSD jails and vnet from scratch (this guide is for vnet jails)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;FreeBSD Manual Pages - Manpages for: &lt;br /&gt;
&lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=jail.conf&amp;amp;sektion=5&quot;&gt;jail.conf(5)&lt;/a&gt;,
&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=bsdinstall&amp;amp;sektion=8&quot;&gt;bsdinstall(8)&lt;/a&gt;,
&lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=jls&amp;amp;sektion=8&quot;&gt;jls(8)&lt;/a&gt;,
&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;amp;sektion=8&quot;&gt;jexec(8)&lt;/a&gt;,
&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=rc&amp;amp;sektion=8&quot;&gt;rc(8)&lt;/a&gt;,
&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=service&amp;amp;sektion=8&quot;&gt;service(8)&lt;/a&gt;,
&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;amp;sektion=8&quot;&gt;ifconfig(8)&lt;/a&gt;,
k&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=netstat&amp;amp;sektion=1&quot;&gt;netstat(1)&lt;/a&gt;,
&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=resolv.conf&amp;amp;sektion=5&quot;&gt;resolv.conf(5)&lt;/a&gt;,
&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=pf&amp;amp;sektion=4&quot;&gt;pf(4)&lt;/a&gt;,
&lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=pf.conf&amp;amp;sektion=5&quot;&gt;pf.conf(5)&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;hr /&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;When used with jails, a host is often called a “host system” or “host environment”. &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;From the manpage for &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=netstat&amp;amp;sektion=1&quot;&gt;netstat(1)&lt;/a&gt;: “When netstat is invoked with the routing table option -r, it lists the available routes and their status.  Each route consists of a destination host or network, and a gateway to use in forwarding packets.  The flags field shows a collection of information about the route stored as binary choices.  The individual flags are discussed in more detail in the route(8) and route(4) manual pages.  The mapping between letters and flags is: 1 RTF_PROTO1 Protocol specific routing flag #1, 2 RTF_PROTO2 Protocol specific routing flag #2, 3 RTF_PROTO3 Protocol specific routing flag #3, B RTF_BLACKHOLE Just discard pkts (during updates), b RTF_BROADCAST The route represents a broadcast address, D RTF_DYNAMIC Created dynamically (by redirect), G RTF_GATEWAY Destination requires forwarding by intermediary, H RTF_HOST Host entry (net otherwise), L RTF_LLINFO Valid protocol to link address translation, M RTF_MODIFIED Modified dynamically (by redirect), R RTF_REJECT Host or net unreachable, S RTF_STATIC Manually added, U RTF_UP Route usable, X RTF_XRESOLVE External daemon translates proto to link address.” Therefore, when letters in the &lt;strong&gt;Flags&lt;/strong&gt; field are &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UGS&lt;/code&gt;, it means: Route usable (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U&lt;/code&gt; for usable), Destination requires forwarding by intermediary (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;G&lt;/code&gt; for gateway), Manually added (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt; for static). &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;From the manpage for &lt;a href=&quot;https://man.freebsd.org/cgi/man.cgi?query=pf.conf&amp;amp;sektion=5&quot;&gt;pf.conf(5)&lt;/a&gt;: “FILES . . .  /etc/pf.conf  Default location of the ruleset file.  The file has to be created manually as it is not installed with a standard installation.” &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 28 Mar 2024 20:13:41 -0700</pubDate>
        <link>http://localhost:4000/freebsd/jail/container/vm/virtualization/zfs/sysadmin/2024/03/28/freebsd-zfs-jails.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/jail/container/vm/virtualization/zfs/sysadmin/2024/03/28/freebsd-zfs-jails.html</guid>
        
        
        <category>freebsd</category>
        
        <category>jail</category>
        
        <category>container</category>
        
        <category>vm</category>
        
        <category>virtualization</category>
        
        <category>zfs</category>
        
        <category>sysadmin</category>
        
      </item>
    
      <item>
        <title>Kanban Board with Gitea</title>
        <description>&lt;p&gt;Log in to Gitea.&lt;/p&gt;

&lt;p&gt;Click on &lt;em&gt;Repositories&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Create a new repository: &lt;br /&gt;
Click on the “+” in the upper right corner &lt;br /&gt;
From the menu, select New Repository &lt;br /&gt;
Type in a name of the repository in the &lt;em&gt;Repository Name&lt;/em&gt; text box &lt;br /&gt;
(In this example, the name of the repository will be:  &lt;em&gt;planning&lt;/em&gt;) &lt;br /&gt;
Click on &lt;em&gt;Create Repository&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Select your repository; in this example, select a repository named &lt;em&gt;planning&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Click on &lt;em&gt;Projects&lt;/em&gt; &amp;gt; &lt;em&gt;New Project&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Enter the name of the project in the &lt;em&gt;Title&lt;/em&gt; text box &lt;br /&gt;
If needed, fill out &lt;em&gt;Description&lt;/em&gt;, &lt;em&gt;Template&lt;/em&gt;, &lt;em&gt;Card Previews&lt;/em&gt; &lt;br /&gt;
Click &lt;em&gt;Create Project&lt;/em&gt; &lt;br /&gt;
(in this example, the name of the project will be:  &lt;em&gt;Update the server&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;Click on &lt;em&gt;Project&lt;/em&gt; tab &lt;br /&gt;
Select the project where you want to add Kanban board &lt;br /&gt;
(in this example, a project named &lt;em&gt;Update the server&lt;/em&gt;) &lt;br /&gt;
You will be presented with a Kanban view&lt;br /&gt;
Here you can add new columns by clicking on &lt;em&gt;New Column&lt;/em&gt; &lt;br /&gt;
Default: the first column is automatically added and is named &lt;em&gt;Uncategorized&lt;/em&gt;&lt;br /&gt;
&lt;em&gt;Note:&lt;/em&gt; you can move items in the column up or down &lt;br /&gt;
To add a new column, click on &lt;em&gt;New Column&lt;/em&gt; &lt;br /&gt;
Give it a name by typing it in the &lt;em&gt;Name&lt;/em&gt; text box &lt;br /&gt;
(in this example, let’s name it: &lt;em&gt;Today&lt;/em&gt;) &lt;br /&gt;
Click &lt;em&gt;Create Column&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;To add a new item for columns in Kanban board (aka Kanban view): &lt;br /&gt;
Click on &lt;em&gt;Issues&lt;/em&gt; tab &lt;br /&gt;
Click on &lt;em&gt;New Issue&lt;/em&gt; &lt;br /&gt;
Type the title of the issue in the &lt;em&gt;Title&lt;/em&gt; text box &lt;br /&gt;
(in this example, name of a new issue will be: &lt;em&gt;Renew certificate&lt;/em&gt;) &lt;br /&gt;
Select one or all of the following links (with cogwheel or gearwheel icons):&lt;br /&gt;
&lt;em&gt;Labels&lt;/em&gt;, &lt;em&gt;Milestone&lt;/em&gt;, &lt;em&gt;Projects&lt;/em&gt;, &lt;em&gt;Assignees&lt;/em&gt;  &lt;br /&gt;
In this example, I selected:  &lt;br /&gt;
  &lt;em&gt;Projects&lt;/em&gt; &amp;gt; &lt;em&gt;Update the server&lt;/em&gt; &lt;br /&gt;
  &lt;em&gt;Assignees&lt;/em&gt; &amp;gt; &lt;em&gt;dusko&lt;/em&gt;  &lt;br /&gt;
Click on &lt;em&gt;Create Issue&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Click on &lt;em&gt;Projects&lt;/em&gt; tab  &lt;br /&gt;
Click on the project name; in this case:  &lt;em&gt;Update the server&lt;/em&gt; &lt;br /&gt;
Default: the issue from the previous step is added to &lt;em&gt;Uncategorized&lt;/em&gt; column &lt;br /&gt;
You can move it to another column; for example, to column &lt;em&gt;Today&lt;/em&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Wed, 20 Mar 2024 19:45:39 -0700</pubDate>
        <link>http://localhost:4000/productivity/gtd/howto/cli/terminal/shell/plaintext/text/markdown/versioncontrol/git/2024/03/20/kanban-board-gitea.html</link>
        <guid isPermaLink="true">http://localhost:4000/productivity/gtd/howto/cli/terminal/shell/plaintext/text/markdown/versioncontrol/git/2024/03/20/kanban-board-gitea.html</guid>
        
        
        <category>productivity</category>
        
        <category>gtd</category>
        
        <category>howto</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>markdown</category>
        
        <category>versioncontrol</category>
        
        <category>git</category>
        
      </item>
    
      <item>
        <title>How to Add and Use a Separate Directory in Jekyll or How to Loop through and Render Collections in Jekyll</title>
        <description>&lt;p&gt;a.k.a. “How to iterate through pages in directory listing in Jekyll” &lt;br /&gt;
a.k.a. “How to provide directory listing in Jekyll”&lt;br /&gt;
a.k.a. “How to render pages from Jekyll collections” &lt;br /&gt;
a.k.a. “How to render files from Jekyll collections” &lt;br /&gt;
a.k.a. “How to create subdirectories from the root directory in Jekyll” &lt;br /&gt;
a.k.a. “Loop through a directory in jekyll”&lt;/p&gt;

&lt;p&gt;Documents (the items in a collection) live in a directory in the root of the site named _&lt;em&gt;collection_name&lt;/em&gt;.
Note the underscore (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt;) in the name of the directory&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;.
In this example, the new collection will be named &lt;em&gt;notes&lt;/em&gt; so the directory name for this collection will be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_notes&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Choose &lt;strong&gt;Method 1&lt;/strong&gt; or &lt;strong&gt;Method 2&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;method-1-new-directory-coupled-with-a-complement-directory&quot;&gt;Method 1: New Directory Coupled with a Complement Directory&lt;/h2&gt;

&lt;p&gt;Q: Why do you need an additional directory; that is, why do you need one directory (in this example named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_notes&lt;/code&gt;) and the other without a preceding underscore (in this example named&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notes&lt;/code&gt;)?  &lt;br /&gt;
A: In addition to the underscored directory, you need the complement directory so that directory listing showing all pages from the the collection directory doesn’t display a link to the &lt;strong&gt;Index&lt;/strong&gt; file itself.
(Also see the NOTE under &lt;em&gt;Create Index File for New Directory&lt;/em&gt; heading further below.)&lt;/p&gt;

&lt;h3 id=&quot;add-a-new-collection-to-the-_configyml-configuration-file&quot;&gt;Add a New Collection to the _config.yml Configuration File&lt;/h3&gt;

&lt;p&gt;First, backup your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; configuration file.
In the root directory of your Jekyll project:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cp -i _config.yml _config.yml.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;, under &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;collections:&lt;/code&gt; add:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;notes:
  permalink: /notes/:path
  output: true
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
In my tests, it also worked with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;permalink&lt;/code&gt; line commented out.&lt;/p&gt;

&lt;p&gt;To create a link to the new directory, you need to make an additional modification in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file.
Under &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;urls:&lt;/code&gt; section in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; add:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;- text: Notes
  url: /notes/index.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Comparing the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; configuration file before and after the changes:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff _config.yml.ORIG _config.yml
38a39,41
&amp;gt;   notes:
&amp;gt;     permalink: /notes/:path
&amp;gt;     output: true
58a62,63
&amp;gt;     - text: Notes
&amp;gt;       url: /notes/index.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;collections:&lt;/code&gt; section now looks like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n 35,42p _config.yml
collections:
  project:
    output: true
    permalink: /project/:path/
  notes:
    permalink: /notes/:path
    output: true

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;urls:&lt;/code&gt; section is now:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n 59,68p _config.yml
urls:
    - text: About
      url: /about/
    - text: Notes
      url: /notes/index.html
    - text: XML Feed
      url: /feed.xml
    - text: Categories 
      url: /category/categories

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Image: URLs (URIs) before adding a new link to Jekyll’s Navigation section&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/navigation-jekyll-urls-before.png&quot; alt=&quot;URLs (URIs) before adding a new link to Jekyll&apos;s Navigation section&quot; title=&quot;URLs (URIs) before adding a new link to Jekyll&apos;s Navigation section&quot; /&gt;&lt;/p&gt;

&lt;p&gt;An image showing URLs (URIs) after adding a new link to the Navigation is displayed after &lt;em&gt;Restart Jekyll Server&lt;/em&gt; heading further below.&lt;/p&gt;

&lt;h3 id=&quot;create-a-new-directory-and-its-complement-directory&quot;&gt;Create a New Directory and Its Complement Directory&lt;/h3&gt;

&lt;p&gt;In the root directory of your Jekyll project, create a new directory with a preceding underscore (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mkdir _notes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In addition, create another directory with the same name but this time without using the underscore symbol (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mkdir notes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;add-markdown-files-in-new-directory&quot;&gt;Add Markdown Files in New Directory&lt;/h3&gt;

&lt;p&gt;Add your Markdown files in the directory with the underscore (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt;).
For example, create four new Markdown files here.&lt;/p&gt;

&lt;p&gt;Example content of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_notes&lt;/code&gt; directory:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -h _notes/*
_notes/note1.md _notes/note2.md _notes/note3.md _notes/note4.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ensure that your Markdown files in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_notes&lt;/code&gt; directory have YAML front matter at the top.  For example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;note1.md&lt;/code&gt; might look like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat _notes/note1.md 
---
layout: default
title: &quot;My Note 1&quot;
---

First note.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-index-file-for-new-directory&quot;&gt;Create Index File for New Directory&lt;/h3&gt;

&lt;p&gt;Create &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;index.md&lt;/code&gt; and save it in the directory without the underscore (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt;); that is, in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notes&lt;/code&gt; directory.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
If you place the &lt;strong&gt;Index&lt;/strong&gt; file in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_notes&lt;/code&gt; instead of in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notes&lt;/code&gt; directory, the listing will also include a link to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;index.html&lt;/code&gt; file itself.
Most likely, you don’t want that.&lt;/p&gt;

&lt;p&gt;Example content of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;index.md&lt;/code&gt; file in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notes&lt;/code&gt; directory:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat notes/index.md 
---
title: My Notes
layout: default
---

# My Digital Notes

&amp;lt;ul&amp;gt;
  {% for note in site.notes %}
    &amp;lt;li&amp;gt;
       &amp;lt;h3&amp;gt;
          &amp;lt;a href=&quot;{{ note.url | relative_url }}&quot;&amp;gt;
             {{ note.title }}
          &amp;lt;/a&amp;gt;
       &amp;lt;/h3&amp;gt;
    &amp;lt;/li&amp;gt;
  {% endfor %}
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;An alternate &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;index.md&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat notes/index.md 
---
title: My Notes
layout: default
---

# My Digital Notes

&amp;lt;ul&amp;gt;
{% for note in site.notes %}
  &amp;lt;li&amp;gt;&amp;lt;a href=&quot;{{ site.baseurl }}{{ note.url }}&quot;&amp;gt;{{ note.title }}&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
{% endfor %}
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;restart-jekyll-server&quot;&gt;Restart Jekyll Server&lt;/h3&gt;

&lt;p&gt;Restart the server.
Since you’ve made changes in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file, you need to restart the Jekyll server to ensure that it picks up the changes.
Navigate to the root of your Jekyll project directory and run:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Image: URLs (URIs) after adding a new link to Jekyll’s Navigation section&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/navigation-jekyll-urls-after.png&quot; alt=&quot;URLs (URIs) after adding a new link to Jekyll&apos;s Navigation section&quot; title=&quot;URLs (URIs) after adding a new link to Jekyll&apos;s Navigation section&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;method-2-using-collection_namehtml-as-index-file&quot;&gt;Method 2: Using collection_name.html as Index File&lt;/h2&gt;

&lt;h3 id=&quot;add-a-new-collection-to-the-_configyml-configuration-file-1&quot;&gt;Add a New Collection to the _config.yml Configuration File&lt;/h3&gt;

&lt;p&gt;Refer to &lt;em&gt;Add a New Collection to the _config.yml Configuration File&lt;/em&gt; section in &lt;em&gt;Method 1&lt;/em&gt; above.&lt;/p&gt;

&lt;h3 id=&quot;create-a-new-directory&quot;&gt;Create a New Directory&lt;/h3&gt;

&lt;p&gt;In the root directory of your Jekyll project, create a new directory with a preceding underscore (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mkdir _notes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;add-markdown-files-in-new-directory-1&quot;&gt;Add Markdown Files in New Directory&lt;/h3&gt;

&lt;p&gt;Refer to &lt;em&gt;Add Markdown Files in New Directory&lt;/em&gt; section in &lt;em&gt;Method 1&lt;/em&gt; above.&lt;/p&gt;

&lt;h3 id=&quot;create-index-file-for-new-directory-1&quot;&gt;Create Index File for New Directory&lt;/h3&gt;

&lt;p&gt;In the root directory of your Jekyll project, create a file named &lt;em&gt;collection_name.html&lt;/em&gt;.
In this example, the collection is named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notes&lt;/code&gt; so the Index file is named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notes.html&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Example content of the Index file for a collection.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat notes.html 
---
title: Index
layout: default
---

&amp;lt;h2&amp;gt;List of Notes&amp;lt;/h2&amp;gt;
 
&amp;lt;ul&amp;gt;
{% for note in site.notes %}
  &amp;lt;li&amp;gt;&amp;lt;a href=&quot;{{ site.baseurl }}{{ note.url }}&quot;&amp;gt;{{ note.title }}&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
{% endfor %}
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;restart-jekyll-server-1&quot;&gt;Restart Jekyll Server&lt;/h3&gt;

&lt;p&gt;Refer to &lt;em&gt;Restart Jekyll Server&lt;/em&gt; section in &lt;em&gt;Method 1&lt;/em&gt; above.&lt;/p&gt;

&lt;hr /&gt;

&lt;!-- Footnotes --&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Mar 1, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/docs/step-by-step/09-collections/&quot;&gt;Jekyll website - Docs - Getting Started - Step by Step Tutorial - 9. Collections&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.marcelofossrj.com/cheatsheet/2019/02/17/jekyll-cheatsheet.html&quot;&gt;Jekyll Cheatsheet&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://talk.jekyllrb.com/t/solved-pages-from-collection-list-are-not-render/1059&quot;&gt;[SOLVED] Pages from collection list are not rendered - Jekyll Talk Community - Help&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Relevant post:&lt;br /&gt;
&lt;a href=&quot;https://talk.jekyllrb.com/t/solved-pages-from-collection-list-are-not-render/1059/4&quot;&gt;https://talk.jekyllrb.com/t/solved-pages-from-collection-list-are-not-render/1059/4&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://talk.jekyllrb.com/t/get-name-of-each-post-in-each-category/5646/4&quot;&gt;index.md - How to list all collections – Get name of each post in each category - Jekyll Talk Community - Help&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/64557906/jekyll-collection-with-subdirectories-and-own-index-html&quot;&gt;Jekyll collection with subdirectories and own index.html&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mademistakes.com/mastering-jekyll/how-to-link/&quot;&gt;URLs and links in Jekyll - How Jekyll uses URLs and how to link posts, pages, assets, and other resources together&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://talk.jekyllrb.com/t/help-with-collections-not-calling-pages/1671&quot;&gt;Help with collections (not calling pages) - Jekyll Talk Community - Help&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/jekyll-collections&quot;&gt;Introduction to Collections in Jekyll - DigitalOcean Tutorials&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://michaelcurrin.github.io/jekyll-blog-demo/&quot;&gt;Starter for a static website or blog - built with Jekyll, a minimal theme and GitHub Pages&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/MichaelCurrin/jekyll-blog-demo&quot;&gt;jekyll-blog-demo code on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;In Jekyll, directory and file names that begin with an underscore (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt;) are treated as special directories and files. The special directories are: _layouts: Contains layout files that define the structure of pages on your site, _includes: Contains reusable snippets of code that can be included in your layouts and pages, _posts: Contains blog posts written in Markdown or HTML format, _data: Contains YAML or JSON files that can be used to store data for use in your site, _sass: Contains Sass files (CSS preprocessor) that can be used to style your site, _plugins: Contains custom plugins written in Ruby that extend the functionality of Jekyll. Apart from those directories, Jekyll doesn’t read directories that start with an underscore (and some other special characters) &lt;strong&gt;unless&lt;/strong&gt; the directory has been configured as a &lt;strong&gt;collection&lt;/strong&gt;. &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 01 Mar 2024 18:41:32 -0800</pubDate>
        <link>http://localhost:4000/howto/webdevelopment/ruby/programming/coding/2024/03/01/jekyll-separated-folder-collections-directory-listing.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/webdevelopment/ruby/programming/coding/2024/03/01/jekyll-separated-folder-collections-directory-listing.html</guid>
        
        
        <category>howto</category>
        
        <category>webdevelopment</category>
        
        <category>ruby</category>
        
        <category>programming</category>
        
        <category>coding</category>
        
      </item>
    
      <item>
        <title>ANSI Escape Sequence - Terminals, Shells, Consoles [WIP]</title>
        <description>&lt;h1 id=&quot;todo&quot;&gt;TODO&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Add about &lt;strong&gt;readline&lt;/strong&gt; vs &lt;strong&gt;libedit&lt;/strong&gt; vs &lt;strong&gt;editline&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;REFERENCES:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;BSD licenced readline alternative &lt;br /&gt;
https://forums.freebsd.org/threads/bsd-licenced-readline-alternative.68310/&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The secret weapon of Bash power users (opensource.net) &lt;br /&gt;
https://news.ycombinator.com/item?id=39799767&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The secret weapon of Bash power users - OpenSource.net &lt;br /&gt;
https://opensource.net/the-secret-weapon-of-bash-power-users/&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://vt100.net/docs/tp83/glossary.html&quot;&gt;Escape sequence - Terminal and Printers Handbook Glossary&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Escape sequence
A special sequence of ASCII characters beginning with the escape character (ESC) used to send special text-formatting or editing commands to terminals. See also: [ASCII](https://vt100.net/docs/tp83/glossary.html#a09)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Line_discipline&quot;&gt;Line discipline (LDISC) aka Terminal I/O&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;A line discipline (LDISC) is a layer in the terminal subsystem in some Unix-like systems. 

The terminal subsystem consists of three layers: 
    * the upper layer to provide the character device interface, 
    * the lower hardware driver to communicate with the hardware or pseudo terminal, 
    * the middle line discipline to implement behavior common to terminal devices. 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some Unix-like systems use STREAMS to implement line disciplines:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/STREAMS&quot;&gt;STREAMS - the native &lt;strong&gt;framework&lt;/strong&gt; in Unix System V for implementing character device drivers, network protocols, and inter-process communication&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://invisible-island.net/xterm/ctlseqs/ctlseqs.html&quot;&gt;XTerm Control Sequences - aka ctlseqs - XTerm by Thomas Dickey (invisible-island.net)&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Definitions
-----------

Many controls use parameters, shown in italics.  If a control uses a
single parameter, only one parameter name is listed.  Some parameters
(along with separating ;  characters) may be optional.  Other characters
in the control are required.

C    A single (required) character.
Ps   A single (usually optional) numeric parameter, composed of one or
     more digits.
Pm   Any number of single numeric parameters, separated by ;  charac-
     ter(s).  Individual values for the parameters are listed with Ps .
Pt   A text parameter composed of printable characters.


Control Bytes, Characters, and Sequences
----------------------------------------

ECMA-48 (aka &quot;ISO 6429&quot;) documents C1 (8-bit) and C0 (7-bit) codes.
Those are respectively codes 128 to 159 and 0 to 31.  ECMA-48 avoids
referring to these codes as characters, because that term is associated
with graphic characters.  Instead, it uses &quot;bytes&quot; and &quot;codes&quot;, with
occasional lapses to &quot;characters&quot; where the meaning cannot be mistaken.

Controls (including the **escape code 27**) are processed once:

---- snip ----

C1 (8-Bit) Control Characters
-----------------------------

The xterm program recognizes both 8-bit and 7-bit control characters.

It generates 7-bit controls (by default) or 8-bit if S8C1T is enabled.

The following pairs of 7-bit and 8-bit control characters are equiva-
lent:

---- snip ----
ESC [
     Control Sequence Introducer (CSI  is 0x9b).
---- snip ----
ESC ]
     Operating System Command (OSC  is 0x9d).


---- snip ----


Non-VT100 Modes
---------------
Tektronix 4014 Mode
-------------------

Most of these sequences are standard Tektronix 4014 control sequences.
Graph mode supports the 12-bit addressing of the Tektronix 4014.  The
major features missing are the write-through and defocused modes.  This
document does not describe the commands used in the various Tektronix
plotting modes but does describe the commands to switch modes.

Some of the sequences are specific to xterm.  The Tektronix emulation
was added in X10R4 (1986).  The VT240, introduced two years earlier,
also supported Tektronix 4010/4014.  Unlike xterm, the VT240 documenta-
tion implies (there is an obvious error in section 6.9 &quot;Entering and
Exiting 4010/4014 Mode&quot;) that exiting back to ANSI mode is done by
resetting private mode 3 8  (DECTEK) rather than ESC ETX .  A real Tek-
tronix 4014 would not respond to either.

BEL       Bell (Ctrl-G).
BS        Backspace (Ctrl-H).
TAB       Horizontal Tab (Ctrl-I).
LF        Line Feed or New Line (Ctrl-J).
VT        Cursor up (Ctrl-K).
FF        Form Feed or New Page (Ctrl-L).
CR        Carriage Return (Ctrl-M).
ESC ETX   Switch to VT100 Mode (ESC  Ctrl-C).
ESC ENQ   Return Terminal Status (ESC  Ctrl-E).
ESC FF    PAGE (Clear Screen) (ESC  Ctrl-L).
ESC SO    Begin 4015 APL mode (ESC  Ctrl-N).  This is ignored by xterm.
ESC SI    End 4015 APL mode (ESC  Ctrl-O).  This is ignored by xterm.
ESC ETB   COPY (Save Tektronix Codes to file COPYyyyy-mm-dd.hh:mm:ss).
            ETB  (end transmission block) is the same as Ctrl-W.
ESC CAN   Bypass Condition (ESC  Ctrl-X).
ESC SUB   GIN mode (ESC  Ctrl-Z).
ESC FS    Special Point Plot Mode (ESC  Ctrl-\).
ESC 8     Select Large Character Set.
ESC 9     Select #2 Character Set.
ESC :     Select #3 Character Set.
ESC ;     Select Small Character Set.


OSC Ps ; Pt BEL
          Set Text Parameters of VT window.
            Ps = 0  ⇒  Change Icon Name and Window Title to Pt.
            Ps = 1  ⇒  Change Icon Name to Pt.
            Ps = 2  ⇒  Change Window Title to Pt.
            Ps = 4 6  ⇒  Change Log File to Pt.  This is normally 
                         disabled by a compile-time option.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;example-change-xterm-window-title&quot;&gt;Example: Change XTerm Window Title&lt;/h3&gt;

&lt;p&gt;Sequence is:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OSC Ps ; Pt BEL&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This works in &lt;strong&gt;FreeBSD 12&lt;/strong&gt;&lt;br /&gt;
(Shell: &lt;strong&gt;tcsh&lt;/strong&gt;; TERM: &lt;strong&gt;xterm-new&lt;/strong&gt;; TERMCAP set?: &lt;strong&gt;Yes&lt;/strong&gt;; Window Manager: &lt;strong&gt;Fvwm&lt;/strong&gt;)&lt;/p&gt;

&lt;p&gt;NOTE:&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Window and Icon Titles
    Some scripts use echo with options -e and -n to tell the shell to
    interpret the string “\e” as the escape character and to suppress a
    trailing newline on output.  Those are not portable, nor recommended.
    Instead, use printf (POSIX).

    For example, to set the window title to “Hello world!”, you could use
    one of these commands in a script:

        printf &apos;\033]2;Hello world!\033\\&apos;
        printf &apos;\033]2;Hello world!\007&apos;
        printf &apos;\033]2;%s\033\\&apos; &quot;Hello world!&quot;
        printf &apos;\033]2;%s\007&apos; &quot;Hello world!&quot;

    The printf command interprets the octal value “\033” for escape, and
    (since it was not given in the format) omits a trailing newline from
    the output.

    Some programs (such as screen(1)) set both window- and icon-titles at
    the same time, using a slightly different control sequence:

        printf &apos;\033]0;Hello world!\033\\&apos;
        printf &apos;\033]0;Hello world!\007&apos;
        printf &apos;\033]0;%s\033\\&apos; &quot;Hello world!&quot;
        printf &apos;\033]0;%s\007&apos; &quot;Hello world!&quot;

    The difference is the parameter “0” in each command.  Most window
    managers will honor either window title or icon title.  Some will make
    a distinction and allow you to set just the icon title.  You can tell
    xterm to ask for this with a different parameter in the control
    sequence:

        printf &apos;\033]1;Hello world!\033\\&apos;
        printf &apos;\033]1;Hello world!\007&apos;
        printf &apos;\033]1;%s\033\\&apos; &quot;Hello world!&quot;
        printf &apos;\033]1;%s\007&apos; &quot;Hello world!&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;OSC&lt;/strong&gt; (Operating System Command (OSC is 0x9d) is:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC ]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To be used by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt;, OSC is:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\033]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
ESC = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;033&lt;/code&gt; in ASCII (in &lt;em&gt;octal&lt;/em&gt; - because &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; requires it in octal)&lt;/p&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; uses a backslash (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\&lt;/code&gt;) for &lt;strong&gt;octal&lt;/strong&gt; number representation.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Ps&lt;/strong&gt; (control for chaning change the window title) is:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;After OSC and Ps controls, the next parameter is the &lt;strong&gt;separating semicolon character&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Pt&lt;/strong&gt; (a text parameter composed of printable characters) is:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;My Window Title
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;BEL&lt;/strong&gt; is:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\007
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
BEL = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;007&lt;/code&gt; in ASCII (in &lt;em&gt;octal&lt;/em&gt; - because &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; requires it in octal)&lt;/p&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; uses a backslash (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\&lt;/code&gt;) for &lt;strong&gt;octal&lt;/strong&gt; number representation.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &apos;\033]2;My Window Title\007&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/17815836/ansi-escape-sequences-how-to-enter-escape-character-from-keyboard&quot;&gt;ANSI escape sequences, how to enter escape character from keyboard? [closed]&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;“Although using vt escape sequences (as above) is easy and supported by most if not all commonly-used unix terminal emulators, die-hards will insist that you learn to use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput(1)&lt;/code&gt; command:”&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;printf &quot;Here is a %sbold red%s word\n&quot; &quot;$(tput bold)&quot;&quot;$(tput setf 4)&quot; &quot;$(tput sgr0)&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;“IMHO, figuring out the magic tput symbols (see man 5 terminfo on a debian/ubuntu system) is not as easy as looking up the xterm control sequences (google the last three words), but YMMV”.&lt;/p&gt;

&lt;p&gt;In my tests, it partially worked in a bhyve VM running Debian GNU/Linux 11 (bullseye) in bash shell: it displayed ‘bold’ in bold but not ‘red’ in red colour.&lt;/p&gt;

&lt;p&gt;The following works in &lt;strong&gt;FreeBSD 12&lt;/strong&gt; (Shell: &lt;strong&gt;tcsh&lt;/strong&gt;; TERM: &lt;strong&gt;xterm-new&lt;/strong&gt;; TERMCAP set?: &lt;strong&gt;Yes&lt;/strong&gt;; Window Manager: &lt;strong&gt;Fvwm&lt;/strong&gt;):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bold&lt;/code&gt; for the capability name (&lt;strong&gt;capname&lt;/strong&gt; - the short name used in the text of the terminal capability database): &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput bold&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput me&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &quot;Here is a \033[0;1mbold %sred %sword \n&quot; `tput bold` `tput AF 1` `tput me`
Here is a bold red word 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without zero in the escape sequence (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[;1m&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[0;1m&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &quot;Here is a \033[;1mbold %sred %sword \n&quot; `tput bold` `tput AF 1` `tput me`
Here is a bold red word 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%s&lt;/code&gt; format character for string format in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; utility (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%s\033[0;1m&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\033[0;1m&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &quot;Here is a %s\033[0;1mbold %sred %sword\n&quot; `tput bold` `tput me` `tput AF 1` `tput me`
Here is a bold red word
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;md&lt;/code&gt; for the capability name (&lt;strong&gt;TCap code&lt;/strong&gt;) in the text of the terminal capability database:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &quot;Here is %sa %s\033[0;1mbold %sred %sword\n&quot; `tput md ` `tput me` `tput AF 1` `tput me`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without zero in the escape sequence (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[;1m&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[0;1m&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;Here is %sa %s\033[;1mbold %sred %sword\n&quot; `tput md ` `tput me` `tput AF 1` `tput me`
Here is a bold red word
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%s&lt;/code&gt; format character for string format in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; utility (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Here is a&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Here is %sa&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &quot;Here is a %s\033[;1mbold %sred %sword\n&quot; `tput md ` `tput AF 1` `tput me`
Here is a bold red word
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF 0&lt;/code&gt;: black, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF 1&lt;/code&gt;: red, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF 2&lt;/code&gt;: bright green, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF 3&lt;/code&gt;: yellow, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF 4&lt;/code&gt;: blue, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF 5&lt;/code&gt;: magenta, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF 6&lt;/code&gt;: cyan, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput AF 7&lt;/code&gt;: white&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terminfo(5)&lt;/code&gt; terminal capability database on FreeBSD 12:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----

Predefined Capabilities
     The following is a complete table of the capabilities included in a
     terminfo description block and available to terminfo-using code.
     In each line of the table,
  
     The variable is the name by which the programmer (at the terminfo
     level) accesses the capability.

     The capname is the short name used in the text of the database, and is
     used by a person updating the database.  Whenever possible, capnames
     are chosen to be the same as or similar to the ANSI X3.64-1979 standard
     (now superseded by ECMA-48, which uses identical or very similar
     names).  Semantics are also intended to match those of the
     specification.

     The termcap code is the old termcap capability name (some capabilities
     are new, and have names which termcap did not originate).
  
     Capability names have no hard length limit, but an informal limit of 5
     characters has been adopted to keep them short and to allow the tabs in
     the source file Caps to line up nicely.

---- snip ----

These are the string capabilities:

   Variable                   Cap-      TCap   Description
    String                    name      Code

---- snip ----

   set_a_foreground           setaf     AF     Set foreground
                                               color to #1, using
                                               ANSI escape

---- snip ----

   exit_attribute_mode        sgr0      me     turn off all
                                               attributes

---- snip ----

     Most color terminals are either “Tektronix-like” or “HP-like”:
  
     *   Tektronix-like terminals have a predefined set of N colors (where N
         is usually 8), and can set character-cell foreground and background
         characters independently, mixing them into N * N color-pairs.
  
     *   On HP-like terminals, the user must set each color pair up
         separately (foreground and background are not independently
         settable).  Up to M color-pairs may be set up from 2*M different
         colors.  ANSI-compatible terminals are Tektronix-like.
  
     Some basic color capabilities are independent of the color method.  The
     numeric capabilities colors and pairs specify the maximum numbers of
     colors and color-pairs that can be displayed simultaneously.  The op
     (original pair) string resets foreground and background colors to their
     default values for the terminal.  The oc string resets all colors or
     color-pairs to their default values for the terminal.  Some terminals
     (including many PC terminal emulators) erase screen areas with the
     current background color rather than the power-up default background;
     these should have the boolean capability bce.

     While the curses library works with color pairs (reflecting the
     inability of some devices to set foreground and background colors
     independently), there are separate capabilities for setting these
     features:
  
     *   To change the current foreground or background color on a
         Tektronix-type terminal, use setaf (set ANSI foreground) and setab
         (set ANSI background) or setf (set foreground) and setb (set
         background).  These take one parameter, the color number.

         The SVr4 documentation describes only setaf/setab; the XPG4 draft
         says that &quot;If the terminal supports ANSI escape sequences to set
         background and foreground, they should be coded as setaf and setab,
         respectively.

     *   If the terminal supports other escape sequences to set background
         and foreground, they should be coded as setf and setb,
         respectively.  The vidputs and the refresh(3X) functions use the
         setaf and setab capabilities if they are defined.
  
     The setaf/setab and setf/setb capabilities take a single numeric
     argument each.  Argument values 0-7 of setaf/setab are portably defined
     as follows (the middle column is the symbolic #define available in the
     header for the curses or ncurses libraries).  The terminal hardware is
     free to map these as it likes, but the RGB values indicate normal
     locations in color space.
  
                  Color       #define       Value       RGB
                  black     COLOR_BLACK       0     0, 0, 0
                  red       COLOR_RED         1     max,0,0
                  green     COLOR_GREEN       2     0,max,0
                  yellow    COLOR_YELLOW      3     max,max,0
                  blue      COLOR_BLUE        4     0,0,max
                  magenta   COLOR_MAGENTA     5     max,0,max
                  cyan      COLOR_CYAN        6     0,max,max
                  white     COLOR_WHITE       7     max,max,max


---- snip ----

Highlighting, Underlining, and Visible Bells
     If your terminal has one or more kinds of display attributes, these can
     be represented in a number of different ways.  You should choose one
     display form as standout mode, representing a good, high contrast,
     easy-on-the-eyes, format for highlighting error messages and other
     attention getters.  (If you have a choice, reverse video plus half-
     bright is good, or reverse video alone.)  The sequences to enter and
     exit standout mode are given as smso and rmso, respectively.  If the
     code to change into or out of standout mode leaves one or even two
     blank spaces on the screen, as the TVI 912 and Teleray 1061 do, then
     xmc should be given to tell how many spaces are left.
  
     Codes to begin underlining and end underlining can be given as smul and
     rmul respectively.  If the terminal has a code to underline the current
     character and move the cursor one space to the right, such as the
     Microterm Mime, this can be given as uc.

     Other capabilities to enter various highlighting modes include blink
     (blinking) bold (bold or extra bright) dim (dim or half-bright) invis
     (blanking or invisible text) prot (protected) rev (reverse video) sgr0
     (turn off all attribute modes) smacs (enter alternate character set
     mode) and rmacs (exit alternate character set mode).  Turning on any of
     these modes singly may or may not turn off other modes.
  
     If there is a sequence to set arbitrary combinations of modes, this
     should be given as sgr (set attributes), taking 9 parameters.  Each
     parameter is either 0 or nonzero, as the corresponding attribute is on
     or off.  The 9 parameters are, in order: standout, underline, reverse,
     blink, dim, bold, blank, protect, alternate character set.  Not all
     modes need be supported by sgr, only those for which corresponding
     separate attribute commands exist.
  
     For example, the DEC vt220 supports most of the modes:
  
             tparm parameter      attribute        escape sequence
  
             none                 none             \E[0m
             p1                   standout         \E[0;1;7m
             p2                   underline        \E[0;4m
             p3                   reverse          \E[0;7m
             p4                   blink            \E[0;5m
             p5                   dim              not available
             p6                   bold             \E[0;1m
             p7                   invis            \E[0;8m
             p8                   protect          not used
             p9                   altcharset       ^O (off) ^N (on)

     We begin each escape sequence by turning off any existing modes, since
     there is no quick way to determine whether they are active.  Standout
     is set up to be the combination of reverse and bold.  The vt220
     terminal has a protect mode, though it is not commonly used in sgr
     because it protects characters on the screen from the host&apos;s erasures.
     The altcharset mode also is different in that it is either ^O or ^N,
     depending on whether it is off or on.  If all modes are turned on, the
     resulting sequence is \E[0;1;4;5;7;8m^N.

  
---- snip ----

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On this system, FreeBSD 12 (Shell: tcsh; TERM: xterm-new; TERMCAP set?: Yes; Window Manager: Fvwm), changing foreground colour works with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setaf&lt;/code&gt;, that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AF&lt;/code&gt;, so the &lt;strong&gt;xterm&lt;/strong&gt; on this system is a &lt;strong&gt;Tektronix-type terminal&lt;/strong&gt; (see above excerpt from the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terminfo(5)&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;From Perl Programmers Reference Guide:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man Term::ANSIColor
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://ecma-international.org/publications-and-standards/standards/ecma-48/&quot;&gt;Standard ECMA-48 - Control functions for coded character sets (5th edition) - June 1991 - Reprinted June 1998 – Ecma International&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;“This Ecma Standard defines control functions and their coded representations for use in a 7-bit code, an extended 7-bit code, an 8-bit code or an extended 8-bit code, if such a code is structured in accordance with Standard &lt;a href=&quot;https://ecma-international.org/publications-and-standards/standards/ecma-35/&quot;&gt;ECMA-35&lt;/a&gt;.”&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ecma-international.org/wp-content/uploads/ECMA-48_5th_edition_june_1991.pdf&quot;&gt;Standard ECMA-48 - Control functions for coded character sets (5th edition) - June 1991 - Reprinted June 1998 – Ecma International - PDF&lt;/a&gt; &lt;br /&gt;
ECMA-48, 1st edition, March 1976 (not available), No file available &lt;br /&gt;
ECMA-48, 2nd edition, August 1979, &lt;a href=&quot;https://ecma-international.org/wp-content/uploads/ECMA-48_2nd_edition_august_1979.pdf&quot;&gt;Download&lt;/a&gt; &lt;br /&gt;
ECMA-48, 3rd edition, March 1984, &lt;a href=&quot;https://ecma-international.org/wp-content/uploads/ECMA-48_3rd_edition_march_1984.pdf&quot;&gt;Download&lt;/a&gt; &lt;br /&gt;
ECMA-48, 4th edition, December 1986, &lt;a href=&quot;https://ecma-international.org/wp-content/uploads/ECMA-48_4th_edition_december_1986.pdf&quot;&gt;Download&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/termstandard/colors&quot;&gt;Color standards for terminal emulators - Termstandard/Colors Repository – Terminal Colors (Previously published and discussed at https://gist.github.com/XVilka/8346728)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://superuser.com/questions/1094599/how-do-i-change-the-behavior-of-clear-on-centos7-such-that-it-will-not-clear&quot;&gt;How do I change the behavior of &lt;strong&gt;clear&lt;/strong&gt; on CentOS7 such that it will NOT clear scrollback buffers on xterm?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;“The place to look is in the &lt;em&gt;extended&lt;/em&gt; capabilities, shown using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-x&lt;/code&gt; option of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;infocmp(1M)&lt;/code&gt;, e.g.:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ infocmp -1x | grep E3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;would show&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    E3=\E[3J,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I used the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-1&lt;/code&gt; option to format the output as a single column.”&lt;/p&gt;

&lt;p&gt;Further reading:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://invisible-island.net/ncurses/terminfo.src.html#toc-_Miscellaneous_extensions_&quot;&gt;Miscellaneous extensions&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;https://invisible-island.net/ncurses/

######## TERMINAL TYPE DESCRIPTIONS SOURCE FILE
#
# This version of terminfo.src is distributed with ncurses and is maintained
# by Thomas E. Dickey (TD).
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;http://compsci.hunter.cuny.edu/~sweiss/&quot;&gt;Course material for Introduction to System Programming (Chapter 4) by Stewart Weiss - Hunter College of CUNY&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;UNIX Lecture Notes - Chapter 4: Control of Disk and Terminal I/O - Prof. Stewart Weiss
&lt;a href=&quot;http://compsci.hunter.cuny.edu/~sweiss/course_materials/unix_lecture_notes/chapter_04.pdf&quot;&gt;http://compsci.hunter.cuny.edu/~sweiss/course_materials/unix_lecture_notes/chapter_04.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Concepts Covered: &lt;br /&gt;
&lt;em&gt;File structure table, open file table, file status flags, auto-appending, device files, terminal devices, device drivers, line discipline, termios structure, terminal settings, canonical mode, non-canonical modes, IOCTLs, fcntl, ttyname, isatty, ctermid, getlogin, gethostname, tcgetattr, tcsetattr, tcflush, tcdrain, ioctl.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;“The &lt;strong&gt;control terminal&lt;/strong&gt; for a process is the terminal device from which keyboard-related signals may be generated.
For example, if the user presses a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-C&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-D&lt;/code&gt; on terminal &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/2&lt;/code&gt;, all processes that have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/2&lt;/code&gt;  as their control terminal will receive this signal.”&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/513447/using-printf-with-escape-sequences&quot;&gt;Using printf with escape sequences? - StackExchange&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;“Do you know that printf does not support hex backslash escapes? 
Your code is not portable as it relies on non-POSIX features.”&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/402479/where-is-the-character-escape-sequence-033-061m-documented-to-mean-bold&quot;&gt;Where is the character escape sequence &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\033[\061m&lt;/code&gt; documented to mean bold?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;MY NOTES:&lt;/p&gt;

&lt;p&gt;Convert octal to decimal:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %d\\n 061
49
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Convert octal to hexadecimal:
$ printf %x\\n 061
31
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/5800/what-protocol-standard-is-used-by-terminals/5802&quot;&gt;What protocol/standard is used by terminals?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ANSI Terminals&lt;/p&gt;

&lt;p&gt;“&lt;strong&gt;xterm&lt;/strong&gt;: A kind of amalgam of ANSI and the VT-whatever standards. Whenever you’re using a GUI terminal emulator like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm&lt;/code&gt; or one of its derivatives, you’re usually also using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm&lt;/code&gt; terminal protocol, typically the more modern &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm-color&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm-color256&lt;/code&gt; variants.&lt;/p&gt;

&lt;p&gt;. . .&lt;/p&gt;

&lt;p&gt;A typical terminal emulator program is something of a mongrel, and doesn’t emulate any single terminal model exactly. It might support 96% of all DEC VT escape sequences up through the VT320, yet also support extensions like ANSI color (a VT525 feature) and an arbitrary number of rows and columns. The 4% of codes it doesn’t understand may not be missed if your programs don’t need those features, even though you’ve told &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;curses&lt;/code&gt; (or whatever) that you want programs using it to use the VT320 protocol. Such a program might advertise itself as VT320 compatible, then, even though, strictly speaking, it is not.”&lt;/p&gt;

&lt;p&gt;“AT&amp;amp;T promulgated &lt;a href=&quot;https://en.wikipedia.org/wiki/Terminfo&quot;&gt;terminfo as a replacement for BSD’s termcap database&lt;/a&gt;, and it was largely successful in replacing it, but there are still programs out there that still use the old termcap database. It is one of the many BSD vs. AT&amp;amp;T differences you can still find on modern systems.&lt;/p&gt;

&lt;p&gt;My macOS box doesn’t have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/termcap&lt;/code&gt;, but it does have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/share/terminfo&lt;/code&gt;, whereas a standard installation of &lt;strong&gt;FreeBSD&lt;/strong&gt; is the opposite way around, even though these two OSes are often quite similar at the command line level.&lt;/p&gt;

&lt;p&gt;Properly-written Unix programs don’t emit these escape sequences directly. Instead, they use one of the libraries mentioned above, telling it to “move the cursor to position (1,1)” or whatever, and the &lt;em&gt;library&lt;/em&gt; emits the necessary terminal control codes based on your TERM environment variable setting. This allows the program to work properly no matter what terminal type you run it on.&lt;/p&gt;

&lt;p&gt;Old text terminals had a lot of strange features that didn’t get a lot of use by programs, so many popular terminal emulator programs simply don’t implement these features. Common omissions are support for sixel graphics and double-width/double-height text modes.&lt;/p&gt;

&lt;p&gt;The maintainer of xterm wrote a program called vttest for testing VT terminal emulators such as xterm. You can run it against other terminal emulators to find out which features they do not support.
“&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/5412761/using-colors-with-printf&quot;&gt;Using colors with printf&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &apos;\033[1;34m%-6s\033[m&apos; &quot;This is blue text&quot;
This is blue text$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &apos;\033[1;33m%-6s\033[m&apos; &quot;This is yellow text&quot;
This is yellow text$ 
 
$ printf &apos;\033[1;31m%-6s\033[m&apos; &quot;This is red text&quot;
This is red text$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Pseudoterminal&quot;&gt;Pseudo terminal (Pseudoterminal) - Wikipedia&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;“&lt;strong&gt;Variants&lt;/strong&gt; &lt;br /&gt;
In the BSD PTY system, the slave device file, which generally has a name of the form &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/tty[p-za-e][0-9a-f]&lt;/code&gt;, supports all &lt;em&gt;system calls&lt;/em&gt; applicable to &lt;em&gt;text terminal devices&lt;/em&gt;.  Thus it supports &lt;em&gt;login sessions&lt;/em&gt;.  &lt;em&gt;The master device file&lt;/em&gt;, which generally has a name of the form &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pty[p-za-e][0-9a-f]&lt;/code&gt;, is the endpoint for communication with the terminal emulator.  With this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[p-za-e]&lt;/code&gt; naming scheme, there can be at most 256 tty pairs.  Also, finding the first free pty master can be racy unless a locking scheme is adopted.  For that reason, recent BSD operating systems, such as FreeBSD, implement Unix98 PTYs.&lt;/p&gt;

&lt;p&gt;BSD PTYs have been rendered obsolete by &lt;a href=&quot;https://en.wikipedia.org/wiki/Single_UNIX_Specification&quot;&gt;Unix98 - Single UNIX Specification&lt;/a&gt; ptys whose naming system does not limit the number of pseudo-terminals and access to which occurs without danger of race conditions. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/ptmx&lt;/code&gt; is the ‘pseudo-terminal master multiplexer’.  Opening it returns a file descriptor of a master node and causes an associated slave node &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/N&lt;/code&gt; to be created.”&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;man printf(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;       Character escape sequences are in backslash notation as defined in the
       ANSI X3.159-1989 (“ANSI C89”), with extensions.  The characters and their
       meanings are as follows:
  
             \a      Write a &amp;lt;bell&amp;gt; character.
             \b      Write a &amp;lt;backspace&amp;gt; character.
             \c      Ignore remaining characters in this string.
             \f      Write a &amp;lt;form-feed&amp;gt; character.
             \n      Write a &amp;lt;new-line&amp;gt; character.
             \r      Write a &amp;lt;carriage return&amp;gt; character.
             \t      Write a &amp;lt;tab&amp;gt; character.
             \v      Write a &amp;lt;vertical tab&amp;gt; character.
             \´      Write a &amp;lt;single quote&amp;gt; character.
             \\      Write a backslash character.
             \num    Write a byte whose value is the 1-, 2-, or 3-digit octal
                     number num.  Multibyte characters can be constructed using
                     multiple \num sequences.
  
       Each format specification is introduced by the percent character (``%&apos;&apos;).
       The remainder of the format specification includes, in the following
       order:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %o\\n 65
101
 
$ printf &apos;\101&apos;
A$ 

$ printf &apos;\101 \102 \103 \n&apos;
A B C 


$ printf &apos;\033[9mTest\n\033[\060m&apos; | od -c
0000000  033   [   9   m   T   e   s   t  \n 033   [   0   m            
0000015

$ printf &apos;\033[9mCrossed-out characters.\n\033[\060m&apos;

$ printf &apos;\033[1mBold. VT100\n\033[\060m&apos;
 
$ printf &apos;\033[2mFaint\n\033[\060m&apos;
    
$ printf &apos;\033[3mItalicized\n\033[\060m&apos;

$ printf &apos;\033[4mUnderlined. VT100\n\033[\060m&apos;
 
$ printf &apos;\033[5mBlink. VT100\n\033[\060m&apos;

$ printf &apos;\033[7mInverse\n\033[\060m&apos;

$ printf &apos;\033[8mInvisible (hidden)\n\033[\060m&apos;
                  
$ printf &apos;\033[9mCrossed-out characters.\n\033[\060m&apos;
 
$ printf &apos;\033[21mDoubly-underlined.\n\033[\060m&apos;


$ printf &apos;\033[31mRed foreground.\n\033[\060m&apos;
Red foreground.
 
$ printf &apos;\033[32mGreen foreground.\n\033[\060m&apos;
Green foreground.
 
$ printf &apos;\033[33mYellow foreground.\n\033[\060m&apos;
Yellow foreground.
 
$ printf &apos;\033[34mBlue foreground.\n\033[\060m&apos;
Blue foreground.
 
$ printf &apos;\033[35mMagenta foreground.\n\033[\060m&apos;
Magenta foreground.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://www.linux.org/threads/ansi-codes-and-colorized-terminals.11706/&quot;&gt;ANSI Codes and Colorized Terminals&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ANSI codes are embedded byte commands that are read by command-lines to output the text with special formatting or perform some task on the terminal output. The ANSI codes (or escape sequences) may appear as character codes rather than formatting codes. Terminals and terminal-emulators (such as Xterm) support many ANSI codes as well as some vendor-specific codes. Learning about ANSI may help terminal users to understand how it all works and allow developers to make better programs.&lt;/p&gt;

&lt;p&gt;Control Characters (C0 and C1 Control Codes) are not the same as ANSI codes. Control characters are the commonly used CTRL+button combinations used in a terminal such as CTRL+C, CTRL+Z, CTRL+D, etc. In terminals, control characters may appear as “^C” (for “CTRL+C”) in the terminal output. For instance, in a terminal, press CTRL+C and then users will see “^C” in the terminal. The CTRL button provides a way to input the ESC character.&lt;/p&gt;

&lt;p&gt;NOTE: The “ESC character” is not the same as the “ESC key”.&lt;/p&gt;

&lt;p&gt;ANSI codes begin with the ESC character which appears as a carat (^) in terminals. The ESC character is then followed by ASCII characters which specifically tell the terminal what to do or how to display text. The ASCII character after the ESC character may be in the ASCII range “@” to “_” (64-95 ASCII decimal). However, more possibilities are available when using the two-character escape such as the carat and bracket (^[) which is known as the Control Sequence Introducer (CSI). CSI codes use “@” to “~” (64-126 ASCII decimal) after the escape. In ASCII hexadecimal, the ESC character is 0x1B or 33 in octal.&lt;/p&gt;

&lt;p&gt;NOTE: The carat character is not the ESC character. Terminals use the carat symbol to display or represent the ESC character.&lt;/p&gt;

&lt;p&gt;In a terminal, to type the CSI, type “\e[”. The “\e” acts as the ESC character and the “[” is the rest of the CSI. After typing the CSI, type the ASCII sequence needed to generate the desired output. For instance, in Xterm, typing “echo -e \e[S” will scroll the screen/output up one line. To scroll up more lines, place a number before the “S” which will act as a parameter - “echo -e \e[5S”.&lt;/p&gt;

&lt;p&gt;MY NOTE:
However in FreeBSD 12.x (tcsh shell, TERM = xterm-new, TERMCAP set?: Yes):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps $$
  PID TT  STAT    TIME COMMAND
95398  5  Ss   0:01.19 -tcsh (tcsh)

$ printf %s\\n &quot;$SHELL&quot;
/bin/tcsh

$ printf %s\\n &quot;$TERM&quot;
xterm-new
 
$ echo -e \\e[S
-e \e[S

$ set | grep echo
echo_style      bsd
 
$ set echo_style = both

$ set | grep echo
echo_style      both
 
$ echo -e \\e[S
-e 

$ echo \\e[S
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And, similarly:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ echo \\e[H\e[2J

$ printf &apos;\033[H\033[2J&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From 
&lt;a href=&quot;https://en.wikipedia.org/wiki/STREAMS&quot;&gt;STREAMS - Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In computer networking, &lt;strong&gt;STREAMS&lt;/strong&gt; is the native framework in &lt;em&gt;Unix System V&lt;/em&gt; for implementing &lt;em&gt;character device&lt;/em&gt; drivers, network protocols, and &lt;em&gt;inter-process communication&lt;/em&gt;.
In this framework, a stream is a chain of &lt;em&gt;coroutines&lt;/em&gt; that &lt;em&gt;pass messages&lt;/em&gt; between a program and a device driver (or between a pair of programs). STREAMS originated in &lt;em&gt;Version 8 Research Unix&lt;/em&gt;, as Streams (not capitalized).&lt;/p&gt;

  &lt;p&gt;STREAMS’s design is a modular architecture for implementing full-duplex &lt;em&gt;I/O&lt;/em&gt; between kernel and device drivers.
Its most frequent uses have been in developing terminal I/O (&lt;em&gt;line discipline&lt;/em&gt;) and networking subsystems.
In System V Release 4, the entire terminal interface was reimplemented using STREAMS.
An important concept in STREAMS is the ability to push drivers - custom code modules which can modify the functionality of a network interface or other device - together to form a stack.
Several of these drivers can be chained together in order.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;The actual Streams modules live in &lt;em&gt;kernel space&lt;/em&gt; on Unix, and are installed (pushed) and removed (popped) by the ioctl system call.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;To perform input/output on a stream, one either uses the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;write&lt;/code&gt; &lt;em&gt;system calls&lt;/em&gt; as with regular &lt;em&gt;file descriptors&lt;/em&gt;, or a set of STREAMS-specific functions to send control messages.&lt;/p&gt;

  &lt;p&gt;Ritchie admitted to regretting having to implement Streams in the kernel, rather than as processes, but felt compelled to do for reasons of efficiency.
A later &lt;em&gt;Plan 9&lt;/em&gt; implementation did implement modules as user-level processes.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;h3 id=&quot;implementations&quot;&gt;Implementations&lt;/h3&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;FreeBSD has basic support for STREAMS-related system calls, as required by SVR4 binary compatibility layer.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://vt100.net/docs/tp83/appendixa.html&quot;&gt;vt100.net - Terminals and Printers Handbook 1983-84 – Glossary – Appendix A – ASCII Codes&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;“Both seven- and eight-bit ASCII codes are referenced here, as well as special graphics sets.”&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;7-Bit ASCII Code

---- snip ----

Control Characters 
---- snip ----
Char  Octal  Binary
ESC     033  0011011
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Control Characters

+--------+-----------+-------+-------------------------------------+
| Name   | Character | Octal | Function                            |
|        | Mnemonic  | Code  |                                     |
| ---- snip ----     |       |                                     |
+--------------------+-------+-------------------------------------+
| Escape | ESC       | 033   | Processed as a sequence introducer. |
| ---- snip ----     |       |                                     |
+--------+-----------+-------+-------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://vt100.net/docs/tp83/appendixg.html&quot;&gt;vt100.net - Letterprinter 100 Programming Reference Summary - Terminals and Printers Handbook 1983-84 – Appendix G:&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Programmer Information
======================

Standard Character Set
----------------------

C0 Control Characters 
---------------------

+--------+----------+-------+-------------------------------------+
| Name   | Mnemonic | Octal | Function                            |
|        |          | Code  |                                     |
| ---- snip ----    |       |                                     |
+-------------------+-------+-------------------------------------+
| Escape | ESC      | 033   | Introduces an escape sequence.      |
|        |          |       | When executed in graphics mode      |
|        |          |       | causes the terminal to exit and     |
|        |          |       | start processing the sequence.      |
| ---- snip ----    |       |                                     |
+--------+----------+-------+-------------------------------------+

Graphics    Mode C0   Control Characters
----------------------------------------

+------------+----------+-------+---------------------------------------------+
| Name       | Mnemonic | Octal | Function                                    |
|            |          | Code  |                                             |
+------------+----------+-------+---------------------------------------------+
| Cancel     | CAN      | 030   |Immediately causes an exit from graphics mode|
+------------+----------+-------+---------------------------------------------+
| Substitute | SUB      | 032   |SUB is processed as a one column space       |
+------------+----------+-------+---------------------------------------------+
| Escape     | ESC      | 033   |Causes the terminal to exit graphics mode and|
|            |          |       |start processing the sequence                |
+------------+----------+-------+---------------------------------------------+

---- snip ----

Escape and Control Sequences
-----------------------------

Note: V2 microcode supports the use of 8-bit characters to replace certain 7-bit sequences.

8-Bit Character [*] Equivalents for 7-Bit Escape Sequences 
----------------------------------------------------------


+-----------------+---------------+-----------------------------+
| 7-Bit           | 8-Bit         | Function                    |
| Sequence        | Character [*] |                             |
|                 |               |                             | 
|  Octal          |       Octal   |                             |
+-----------------+---------------+-----------------------------+
|                 |               |                             |
| ---- snip ----  |               |                             |
|                 |               |                             |
| ESC [  033 133  =  CSI  233     | Control sequence introducer |
|                 |               |                             | 
| ---- snip ----  |               |                             |
+-----------------+---------------+-----------------------------+

[*] V.2. only
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From&lt;br /&gt;
&lt;em&gt;Using csh &amp;amp; tcsh&lt;/em&gt; &lt;br /&gt;
By: Paul DuBois&lt;br /&gt;
Publisher: O’Reilly Media, Inc.&lt;br /&gt;
Publication Date: &lt;strong&gt;July 1, 1995&lt;/strong&gt;&lt;br /&gt;
Print ISBN-13: 978-1-56592-132-0&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Preface&lt;/p&gt;

  &lt;p&gt;A &lt;strong&gt;shell&lt;/strong&gt; is a &lt;strong&gt;command interpreter&lt;/strong&gt;.
You type commands into a shell, and the shell passes them to the computer for execution.
UNIX systems usually provide several shell choices.
This handbook focuses on two of the shells: C shell (&lt;em&gt;csh&lt;/em&gt;) and an enhanced C shell (&lt;em&gt;tcsh&lt;/em&gt;).&lt;/p&gt;

  &lt;p&gt;C shell (&lt;em&gt;csh&lt;/em&gt;), a popular command interpreter that has its origins in Berkeley UNIX, is particularly suited for interactive use.
It offers many features, including an ability to recall and modify previous commands, a facility for creating command shortcuts, shorthand notation for pathnames to home directories, and job control.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;tcsh&lt;/em&gt;, an enhanced version of &lt;em&gt;csh&lt;/em&gt;, is almost entirely upward compatible with csh, so whatever you know about the C shell you can apply immediately to &lt;em&gt;tcsh&lt;/em&gt;.
But &lt;em&gt;tcsh&lt;/em&gt; goes beyond &lt;em&gt;csh&lt;/em&gt;, adding capabilities like a general purpose command line editor, spelling correction, and programmable command, file, and user name completion.&lt;/p&gt;

  &lt;p&gt;Shells other than &lt;em&gt;csh&lt;/em&gt; and &lt;em&gt;tcsh&lt;/em&gt; may be available on your system.
The two most significant examples are the Bourne shell (&lt;em&gt;sh&lt;/em&gt;) and the Korn shell (&lt;em&gt;ksh&lt;/em&gt;).
The Bourne shell is the oldest of the currently popular shells and is the most widely available.
The Korn shell was developed at AT&amp;amp;T and is most prevalent on System V-based UNIX systems.
Both shells are fully documented elsewhere, so we won’t deal with them here.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;Another reason for emphasizing interactive use over scripting is that &lt;em&gt;csh&lt;/em&gt; and &lt;em&gt;tcsh&lt;/em&gt; &lt;strong&gt;not good shells for writing scripts&lt;/strong&gt; (Appendix C, Other Sources of Information, references a document that describes why).
&lt;em&gt;sh&lt;/em&gt; or &lt;em&gt;perl&lt;/em&gt; are better for writing scripts, so there is little reason to discuss doing so with &lt;em&gt;csh&lt;/em&gt; or &lt;em&gt;tcsh&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Using csh &amp;amp; tcsh&lt;/em&gt; - Chapter 5. Setting Up Your Terminal&lt;/p&gt;

  &lt;p&gt;Identifying Your Terminal Settings&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;stty&lt;/em&gt; displays your current terminal settings.
Its options vary from system to system, but at least one of the following command lines should produce output identifying several important terminal control functions and the characters you type to perform them:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% stty -a
% stty all
% stty everything
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;In the output, look for something like this:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;erase kill werase rprnt flush lnext susp intr quit stop  eof
^?    ^U   ^W     ^R    ^O    ^V    ^Z   ^C   ^\   ^S/^Q ^D
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;Or like this:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;intr = ^c; quit = ^\; erase = ^?; kill = ^u; eof = ^d; start = ^q;
stop = ^s; susp = ^z; rprnt = ^r; flush = ^o; werase = ^w; lnext = ^v;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;The words &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;erase&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kill&lt;/code&gt;, etc., indicate &lt;strong&gt;terminal control functions&lt;/strong&gt;.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^c&lt;/code&gt; sequences indicate the characters that perform the functions.
For example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^u&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^U&lt;/code&gt; represent &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CTRL-U&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^?&lt;/code&gt; represents the DEL character.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;Footnote [6]: By &lt;strong&gt;terminal&lt;/strong&gt;, I mean a &lt;strong&gt;keyboard-display combination&lt;/strong&gt;.
The display could be the screen of a real terminal, an &lt;em&gt;xterm&lt;/em&gt; window running under X, or a screen managed by a terminal emulation program, running on a microcomputer.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From&lt;br /&gt;
&lt;em&gt;Using csh &amp;amp; tcsh&lt;/em&gt; &lt;br /&gt;
By: Paul DuBois&lt;br /&gt;
Publisher: O’Reilly Media, Inc.&lt;br /&gt;
Publication Date: &lt;strong&gt;July 1, 1995&lt;/strong&gt;&lt;br /&gt;
Print ISBN-13: 978-1-56592-132-0&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Using csh &amp;amp; tcsh&lt;/em&gt; - Chapter 5. What the Settings Mean&lt;/p&gt;

  &lt;p&gt;There are many special keys on your terminal; the most important are those that per form the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;erase&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kill&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;werase&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rprnt&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lnext&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stop&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;start&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;intr&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;susp&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eof&lt;/code&gt; functions.&lt;/p&gt;

  &lt;p&gt;Line Editing Settings&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;erase&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kill&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;werase&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rprnt&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lnext&lt;/code&gt; characters let you do simple &lt;em&gt;editing of the current command line&lt;/em&gt;.
(Some systems do not support &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;werase&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rprnt&lt;/code&gt;.)
If you use &lt;em&gt;tcsh&lt;/em&gt;, you also have access to a &lt;em&gt;built-in general purpose editor&lt;/em&gt;, described in Chapter 7, The tcsh Command-Line Editor.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lnext&lt;/code&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lnext&lt;/code&gt; (literal-next) character lets you type characters into the command line that would otherwise be interpreted immediately.
For instance, in &lt;em&gt;tcsh&lt;/em&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TAB&lt;/code&gt; triggers filename completion.
To type a literal &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TAB&lt;/code&gt; into a command, type the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lnext&lt;/code&gt; character first.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lnext&lt;/code&gt; character is usually &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CTRL-V&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From&lt;br /&gt;
&lt;em&gt;Using csh &amp;amp; tcsh&lt;/em&gt; &lt;br /&gt;
By: Paul DuBois&lt;br /&gt;
Publisher: O’Reilly Media, Inc.&lt;br /&gt;
Publication Date: &lt;strong&gt;July 1, 1995&lt;/strong&gt;&lt;br /&gt;
Print ISBN-13: 978-1-56592-132-0&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Using csh &amp;amp; tcsh&lt;/em&gt; - Chapter 11. Quoting and Special Characters&lt;/p&gt;

  &lt;p&gt;This chapter describes how to quote special characters when you need to type them in a command line, as happens when a filename contains a space, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt;, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;Special Characters&lt;/p&gt;

  &lt;p&gt;The shell normally assigns special meanings to several characters (see Table 11-1).
As you gain experience with the shell and learn these meanings, the fact that these characters are not interpreted literally tends to become a fact you take for granted.
For example, after you know that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; signifies background execution and begin to use it accordingly, the convention becomes second-nature – part of your repertoire of shell-using skills.&lt;/p&gt;

  &lt;p&gt;However, this set of skills is incomplete unless you also know how to use special characters literally, because sometimes you need to turn off their special meanings.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;The Shell’s Quote Characters&lt;/p&gt;

  &lt;p&gt;Four characters are used for quoting.
They turn off (or “escape”) special character meanings:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;A backslash (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\&lt;/code&gt;) turns off the special meaning of the following character.&lt;/li&gt;
    &lt;li&gt;Single quotes (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;&lt;/code&gt;…&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;&lt;/code&gt;) turn off the special meaning of the characters between the quotes, except that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;!event&lt;/code&gt; still indicates history substitution.&lt;/li&gt;
    &lt;li&gt;Double quotes (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;&lt;/code&gt;…&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;&lt;/code&gt;) turn off the special meaning of the characters between the quotes, except that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;!event&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$var&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;`cmd`&lt;/code&gt; still indicate history, variable, and command substitution.
(You can think of double quotes as being “weaker” than single quotes because they turn off fewer special characters.)&lt;/li&gt;
    &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lnext&lt;/code&gt; (“literal next”) character turns off the special meaning of the following character.
(The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lnext&lt;/code&gt; character is usually &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CTRL-V&lt;/code&gt;.
See &lt;em&gt;Chapter 5, Setting Up Your Terminal&lt;/em&gt;, for more information.)
[NOTE] This character can be used with special characters that are otherwise interpreted as soon as they are typed. For example, in &lt;em&gt;tcsh&lt;/em&gt; a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TAB&lt;/code&gt; triggers filename completion; therefore, you cannot type a literal TAB unless you precede it with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CTRL-V&lt;/code&gt;.&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Using csh &amp;amp; tcsh&lt;/em&gt; - Chapter 11. Quoting and Special Characters&lt;/p&gt;

  &lt;p&gt;Quoting Oddities&lt;/p&gt;

  &lt;p&gt;The quoting rules have a few exceptions.
You probably won’t run into these often, but it’s good to be aware of them:&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From&lt;br /&gt;
&lt;em&gt;Unix in a Nutshell, 4th Edition&lt;/em&gt;&lt;br /&gt;
By: Arnold Robbins&lt;br /&gt;
Publisher: O’Reilly Media, Inc.&lt;br /&gt;
Publication Date: &lt;strong&gt;October 26, 2005&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Chapter 2. Unix Commands&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;2.2. Alphabetical Summary of Common Commands &amp;gt; stty&lt;/p&gt;

  &lt;p&gt;This list describes the commands that are common to two or more of Solaris, GNU/Linux, and Mac OS X.
It also includes many programs available from the Internet that may not come “out of the box” on all the systems.&lt;/p&gt;

  &lt;p&gt;On Solaris, many of the Free Software and Open Source programs described here may be found in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/sfw/bin&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/opt/sfw/bin&lt;/code&gt;.
Interestingly, the Intel version of Solaris has more programs in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/opt/sfw/bin&lt;/code&gt; than does the SPARC version.
As mentioned earlier, on Solaris, we recommend placing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/xpg6/bin&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/xpg4/bin&lt;/code&gt; in your PATH before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/bin&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;Name&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;Synopsis&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty [options] [modes]&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;Set terminal I/O options for the current device. 
Without options, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty&lt;/code&gt; reports the terminal settings, where a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&lt;/code&gt; indicates the &lt;strong&gt;Control&lt;/strong&gt; key, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&apos;&lt;/code&gt; indicates a &lt;strong&gt;null value&lt;/strong&gt;.
Most modes can be switched using an optional preceding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-&lt;/code&gt; (shown in brackets). 
The corresponding description is also shown in brackets.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tcsh(1)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sequence-lead-in (arrow prefix, meta prefix, ^X)
        Indicates that the following characters are part of a multi-key
        sequence.  Binding a command to a multi-key sequence really
        creates two bindings: the first character to sequence-lead-in
        and the whole sequence to the command.  All sequences beginning
        with a character bound to sequence-lead-in are effectively
        bound to undefined-key unless bound to another command.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tcsh(1)&lt;/code&gt; on FreeBSD:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Control characters in key can be &lt;strong&gt;literal&lt;/strong&gt; (they can be typed by preceding them with the editor command &lt;strong&gt;quoted-insert&lt;/strong&gt;, normally bound to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^V&lt;/code&gt;) or written &lt;strong&gt;caret-character style&lt;/strong&gt;, e.g., &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^A&lt;/code&gt;.
Delete is written &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^?&lt;/code&gt; (caret-question mark).&lt;br /&gt;
&lt;em&gt;key&lt;/em&gt; and &lt;em&gt;command&lt;/em&gt; can contain backslashed escape sequences (in the style of
System V echo(1)) as follows:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  \a      Bell
  \b      Backspace
  \e      Escape
  \f      Form feed
  \n      Newline
  \r      Carriage return
  \t      Horizontal tab
  \v      Vertical tab
  \nnn    The ASCII character corresponding to the octal
          number nnn

  `\&apos; nullifies the special meaning of the following character,
  if it has any, notably `\&apos; and `^&apos;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
REFERENCE
       The next sections of this manual describe all of the available Builtin
       commands, Special aliases and Special shell variables.

   Builtin commands

---- snip ----
       bindkey [-l|-d|-e|-v|-u] (+)
       bindkey [-a] [-b] [-k] [-r] [--] key (+)
       bindkey [-a] [-b] [-k] [-c|-s] [--] key command (+)
               Without options, the first form lists all bound keys and the
               editor command to which each is bound, the second form lists
               the editor command to which key is bound and the third form
               binds the editor command command to key.  Options include:
---- snip ----
             -b  key is interpreted as a control character written
                   ^character (e.g., `^A&apos;) or C-character (e.g., `C-A&apos;), a
                   meta character written M-character (e.g., `M-A&apos;), a
                   function key written F-string (e.g., `F-string&apos;), or an
                   extended prefix key written X-character (e.g., `X-A&apos;).

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tcsh(1)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Control characters can be written either in C-style-escaped notation, or in stty-like ^-notation.&lt;/p&gt;

  &lt;p&gt;The C-style notation adds &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; for &lt;strong&gt;Escape&lt;/strong&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt; for a &lt;strong&gt;normal space character&lt;/strong&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?&lt;/code&gt; for &lt;strong&gt;Delete&lt;/strong&gt;.
In addition, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; escape character can be used to override the default interpretation of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;=&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From 
&lt;a href=&quot;https://en.wikipedia.org/wiki/POSIX_terminal_interface&quot;&gt;POSIX terminal interface - Wikipedia&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;

  &lt;p&gt;History &amp;gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/POSIX_terminal_interface#BSD:_the_advent_of_job_control&quot;&gt;BSD: the advent of job control&lt;/a&gt;&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;See also:&lt;br /&gt;
[Job control (Unix) - POSIX terminal interface - Wikipedia((https://en.wikipedia.org/wiki/POSIX_terminal_interface#Job_control)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;With the BSD Unices came &lt;em&gt;job control&lt;/em&gt;, and a &lt;em&gt;new terminal driver&lt;/em&gt; with extended capabilities.
These extensions comprised additional (again programmatically modifiable) special characters:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;The “suspend” and “delayed suspend” characters (by default &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Z&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Y&lt;/code&gt; – ASCII &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SUB&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EM&lt;/code&gt;) caused the generation of a new &lt;em&gt;SIGTSTP&lt;/em&gt; signal to processes in the terminal’s controlling process group.&lt;/li&gt;
    &lt;li&gt;The “word erase”, “literal next”, and “reprint” characters (by default &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;W&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; – ASCII &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ETB&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SYN&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DC2&lt;/code&gt;) performed additional line editing functions.
“word erase” erased the last word at the end of the line editing buffer. “literal next” allowed any special character to be entered into the line editing buffer (a function available, somewhat inconveniently, in Seventh Edition Unix via the backslash character).
“reprint” caused the line discipline to reprint the current contents of the line editing buffer on a new line (useful for when another, background, process had generated output that had intermingled with line editing).&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;The programmatic interface for querying and modifying all of these extra modes and control characters was still the ioctl() system call, which its creators (Leffler et al. 1989, p. 262) described as a “rather cluttered interface”.
All of the original Seventh Edition Unix functionality was retained, and the new functionality was added via additional &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ioctl()&lt;/code&gt; operation codes, resulting in a programmatic interface that had clearly grown, and that presented some duplication of functionality.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sensitiveresearch.com/Archive/CharCodeHist/index.html&quot;&gt;An annotated history of some character codes - or - ASCII: American Standard Code for Information Infiltration - by Tom Jennings&lt;/a&gt;&lt;br /&gt;
(Retrieved on Feb 18, 2024) &lt;br /&gt;
Most recently revised 12 April 2023 (typos and mention stunt box), previously revised 05 February 2020, previously revised 20 April 2016 &lt;br /&gt;
Revision history: &lt;br /&gt;
&lt;a href=&quot;https://www.sensitiveresearch.com/Archive/CharCodeHist/index.html#REVHIST&quot;&gt;https://www.sensitiveresearch.com/Archive/CharCodeHist/index.html#REVHIST&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sensitiveresearch.com/Archive/CharCodeHist/index.html#ASCII-1963&quot;&gt;ASCII-1963&lt;/a&gt;&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://web.archive.org/web/20131104114603/http://www.wps.com/projects/codes/X3.4-1963/index.html&quot;&gt;American Standard Code for Information Interchange (ASCII) - WPS (World Power Systems):Projects:History of character codes: ASA standard X3.4-1963 (scanned and archived copy)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(Original: &lt;em&gt;http://www.wps.com/projects/codes/X3.4-1963/index.html&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://web.archive.org/web/20131104195533/http://www.wps.com/projects/codes/X3.4-1963/page5.JPG&quot;&gt;ASCII - ASA standard X3.4-1963 – Page 5. Information Interchange: 1. Scope, 2. Standard Code, 3. Positional Order and Notation, 4. Legend&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(Original: &lt;em&gt;http://www.wps.com/projects/codes/X3.4-1963/page5.JPG&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/ascii-standard-code-table.jpg&quot; alt=&quot;ASCII Standard Code Table&quot; title=&quot;ASCII Standard Code Table&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/ASCII&quot;&gt;ASCII - Wikipedia&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Overview&lt;/p&gt;

  &lt;p&gt;ASCII was developed in part from &lt;em&gt;telegraph code&lt;/em&gt;.
Its first commercial use was in the &lt;em&gt;Teletype Model 33&lt;/em&gt; and the Teletype Model 35 as a seven-bit teleprinter code promoted by Bell data services.
Work on the ASCII standard began in &lt;em&gt;May 1961&lt;/em&gt;, with the first meeting of the American Standards Association’s (&lt;em&gt;ASA&lt;/em&gt;) (now the &lt;em&gt;American National Standards Institute&lt;/em&gt; or &lt;em&gt;ANSI&lt;/em&gt;) X3.2 subcommittee.
The &lt;em&gt;first edition&lt;/em&gt; of the standard was published in &lt;strong&gt;1963&lt;/strong&gt;, underwent a major revision during &lt;em&gt;1967&lt;/em&gt;, and experienced its most recent update during &lt;em&gt;1986&lt;/em&gt;.
Compared to earlier telegraph codes, the proposed Bell code and ASCII were both ordered for more convenient sorting (i.e., alphabetization) of lists and added features for devices other than teleprinters.&lt;/p&gt;

  &lt;p&gt;The use of ASCII format for &lt;strong&gt;Network Interchange&lt;/strong&gt; was described in 1969.
That document was &lt;em&gt;formally elevated&lt;/em&gt; to an &lt;em&gt;Internet Standard&lt;/em&gt; in &lt;strong&gt;2015&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;Originally based on the (modern) English alphabet, ASCII encodes 128 specified &lt;em&gt;characters&lt;/em&gt; into &lt;em&gt;seven-bit integers&lt;/em&gt; as shown by the ASCII chart in this article:  &lt;br /&gt;
&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc4949&quot;&gt;RFC 4949 - Internet Security Glossary, Version 2 - Dr. Robert W. Shirey (August 2007)&lt;/a&gt; &lt;br /&gt;
&lt;strong&gt;Ninety-five&lt;/strong&gt; of the encoded characters are &lt;strong&gt;printable&lt;/strong&gt;: these include the digits 0 to 9, lowercase letters a to z, uppercase letters A to Z, and punctuation symbols.
In addition, the original ASCII specification included &lt;strong&gt;33 non-printing control codes&lt;/strong&gt; which originated with &lt;em&gt;Teletype models&lt;/em&gt;; most of these are now obsolete, (see note below ‘From &lt;em&gt;Digital Electronics: Principles, Devices and Applications&lt;/em&gt;’) although a few are still commonly used, such as the &lt;em&gt;carriage return&lt;/em&gt;, &lt;em&gt;line feed&lt;/em&gt;, and &lt;em&gt;tab&lt;/em&gt; codes.&lt;/p&gt;

  &lt;p&gt;For example, lowercase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i&lt;/code&gt; would be represented in the ASCII encoding by &lt;em&gt;binary&lt;/em&gt; 1101001 = &lt;em&gt;hexadecimal&lt;/em&gt; 69 (i is the ninth letter) = &lt;em&gt;decimal&lt;/em&gt; 105.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;em&gt;Digital Electronics: Principles, Devices and Applications&lt;/em&gt; &lt;br /&gt;
By: Anil K. Maini &lt;br /&gt;
Published By: Wiley (John Wiley &amp;amp; Sons, Inc.) &lt;br /&gt;
Publication Date: September 2007&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Chapter 2. Binary Codes&lt;/p&gt;

  &lt;p&gt;2.4.1 ASCII code&lt;/p&gt;

  &lt;p&gt;The ASCII (American Standard Code for Information Interchange), pronounced ‘ask-ee’, is strictly a seven-bit code based on the English alphabet.
ASCII codes are used to represent alphanumeric data in computers, communications equipment and other related devices.
The code was first published as a &lt;em&gt;standard&lt;/em&gt; in &lt;strong&gt;1967&lt;/strong&gt;.
It was subsequently updated and published as &lt;em&gt;ANSI X3.4-1968&lt;/em&gt;, then as &lt;em&gt;ANSI X3.4-1977&lt;/em&gt; and finally as &lt;em&gt;ANSI X3.4-1986&lt;/em&gt;.
Since it is a seven-bit code, it can at the most represent 128 characters.
It currently defines 95 printable characters including 26 upper-case letters (A to Z), 26 lower-case letters (a to z), 10 numerals (0 to 9) and 33 special characters including mathematical symbols, punctuation marks and space character.
In addition, it defines codes for 33 nonprinting, &lt;strong&gt;mostly obsolete control characters&lt;/strong&gt; that affect how text is processed.
With the exception of ‘carriage return’ and/or ‘line feed’, all other characters have been rendered obsolete by modern mark-up languages and communication protocols, the shift from text-based devices to graphical devices and the elimination of teleprinters, punch cards and paper tapes.
An &lt;em&gt;eight-bit&lt;/em&gt; version of the ASCII code, known as &lt;em&gt;US ASCII-8&lt;/em&gt; or &lt;em&gt;ASCII-8&lt;/em&gt;, has also been developed.
The eight-bit version can represent a maximum of 256 characters.&lt;/p&gt;

  &lt;p&gt;Table 2.6 lists the ASCII codes for all 128 characters.
When the ASCII code was introduced, many computers dealt with eight-bit groups (or bytes) as the smallest unit of information.
The eighth bit was commonly used as a parity bit for error detection on communication lines and other device-specific functions.
Machines that did not use the parity bit typically set the eighth bit to ‘0’.&lt;/p&gt;

  &lt;p&gt;Table 2.6 ASCII code&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/asci-code-table-001.jpg&quot; alt=&quot;ASCII Standard Code Table - From Digital Electronics: Principles, Devices and Applications - Part 1 of 4&quot; title=&quot;ASCII Standard Code Table - From Digital Electronics: Principles, Devices and Applications - Part 1 of 4&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/asci-code-table-002.jpg&quot; alt=&quot;ASCII Standard Code Table - From Digital Electronics: Principles, Devices and Applications - Part 2 of 4&quot; title=&quot;ASCII Standard Code Table - From Digital Electronics: Principles, Devices and Applications - Part 2 of 4&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/asci-code-table-003.jpg&quot; alt=&quot;ASCII Standard Code Table - From Digital Electronics: Principles, Devices and Applications - Part 3 of 4&quot; title=&quot;ASCII Standard Code Table - From Digital Electronics: Principles, Devices and Applications - Part 3 of 4&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/asci-code-table-004.jpg&quot; alt=&quot;ASCII Standard Code Table - From Digital Electronics: Principles, Devices and Applications - Part 4 of 4&quot; title=&quot;ASCII Standard Code Table - From Digital Electronics: Principles, Devices and Applications - Part 4 of 4&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Looking at the structural features of the code as reflected in Table 2.6, we can see that the digits 0 to 9 are represented with their binary values prefixed with 0011.
That is, numerals 0 to 9 are represented by binary sequences from 0011 0000 to 0011 1001 respectively.
Also, lower-case and upper-case letters differ in bit pattern by a single bit.
While upper-case letters ‘A’ to ‘O’ are represented by 0100 0001 to 0100 1111, lower-case letters ‘a’ to ‘o’ are represented by 0110 0001 to 0110 1111.
Similarly, while upper-case letters ‘P’ to ‘Z’ are represented by 0101 0000 to 0101 1010, lower-case letters ‘p’ to ‘z’ are represented by 0111 0000 to 0111 1010.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;On FreeBSD, you can see the ASCII chart (ASCII table, aka ASCII character sets) by referring to the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ascii(7)&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man ascii

ASCII(7)           FreeBSD Miscellaneous Information Manual           ASCII(7)

NAME
     ascii – octal, hexadecimal, decimal and binary ASCII character sets

DESCRIPTION
     The octal set:

     000 NUL  001 SOH  002 STX  003 ETX  004 EOT  005 ENQ  006 ACK  007 BEL
     010 BS   011 HT   012 LF   013 VT   014 FF   015 CR   016 SO   017 SI
     020 DLE  021 DC1  022 DC2  023 DC3  024 DC4  025 NAK  026 SYN  027 ETB
     030 CAN  031 EM   032 SUB  033 ESC  034 FS   035 GS   036 RS   037 US
     040 SP   041  !   042  &quot;   043  #   044  $   045  %   046  &amp;amp;   047  &apos;
     050  (   051  )   052  *   053  +   054  ,   055  -   056  .   057  /
     060  0   061  1   062  2   063  3   064  4   065  5   066  6   067  7
     070  8   071  9   072  :   073  ;   074  &amp;lt;   075  =   076  &amp;gt;   077  ?
     100  @   101  A   102  B   103  C   104  D   105  E   106  F   107  G
     110  H   111  I   112  J   113  K   114  L   115  M   116  N   117  O
     120  P   121  Q   122  R   123  S   124  T   125  U   126  V   127  W
     130  X   131  Y   132  Z   133  [   134  \   135  ]   136  ^   137  _
     140  `   141  a   142  b   143  c   144  d   145  e   146  f   147  g
     150  h   151  i   152  j   153  k   154  l   155  m   156  n   157  o
     160  p   161  q   162  r   163  s   164  t   165  u   166  v   167  w

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;termios(4)&lt;/code&gt; on FreeBSD 13:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
The following special characters are extensions defined by this system
and are not a part of IEEE Std 1003.1 (“POSIX.1”) termios.

---- snip ----

  LNEXT   Special character on input and is recognized if the IEXTEN flag
          is set.  Receipt of this character causes the next character to
          be taken literally.

---- snip ----

Local Modes
  Values of the c_lflag field describe the control of various functions,
  and are composed of the following masks.

        ECHOKE      /* visual erase for line kill */
        ECHOE       /* visually erase chars */
        ECHO        /* enable echoing */
        ECHONL      /* echo NL even if ECHO is off */
        ECHOPRT     /* visual erase mode for hardcopy */
        ECHOCTL     /* echo control chars as ^(Char) */

---- snip ----

  If ECHOCTL is set, the system echoes control characters in a visible
  fashion using a **caret** followed by the **control character**.

---- snip ----

Special Control Characters
  The special control characters values are defined by the array c_cc.
  This table lists the array index, the corresponding special character,
  and the system default value.  For an accurate list of the system
  defaults, consult the header file &amp;lt;sys/ttydefaults.h&amp;gt;.

        Index Name    Special Character    Default Value
        VEOF          EOF                  ^D
        VEOL          EOL                  _POSIX_VDISABLE
        VEOL2         EOL2                 _POSIX_VDISABLE
        VERASE        ERASE                ^? ‘\177’
        VWERASE       WERASE               ^W
        VKILL         KILL                 ^U
        VREPRINT      REPRINT              ^R
        VINTR         INTR                 ^C
        VQUIT         QUIT                 ^\\ ‘\34’
        VSUSP         SUSP                 ^Z
        VDSUSP        DSUSP                ^Y
        VSTART        START                ^Q
        VSTOP         STOP                 ^S
        VLNEXT        LNEXT                ^V
        VDISCARD      DISCARD              ^O
        VMIN          ---                  1
        VTIME         ---                  0
        VSTATUS       STATUS               ^T

---- snip ----

  The initial values of the flags and control characters after open() is
  set according to the values in the header &amp;lt;sys/ttydefaults.h&amp;gt;.

SEE ALSO
     stty(1), tcgetsid(3), tcgetwinsize(3), tcsendbreak(3), tcsetattr(3),
     tcsetsid(3), tty(4), stack(9)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l /usr/include/sys/ttydefaults.h
     112 /usr/include/sys/ttydefaults.h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/include/sys/ttydefaults.h
/*-
 * SPDX-License-Identifier: BSD-3-Clause
 *
---- snip ----
 *
 *      @(#)ttydefaults.h       8.4 (Berkeley) 1/21/94
 */

/*
 * System wide defaults for terminal state.
 */
#ifndef _SYS_TTYDEFAULTS_H_
#define _SYS_TTYDEFAULTS_H_

/*
 * Defaults on &quot;first&quot; open.
 */
#define TTYDEF_IFLAG    (BRKINT | ICRNL | IMAXBEL | IXON | IXANY)
#define TTYDEF_OFLAG    (OPOST | ONLCR)
#define TTYDEF_LFLAG_NOECHO (ICANON | ISIG | IEXTEN)
#define TTYDEF_LFLAG_ECHO (TTYDEF_LFLAG_NOECHO \
        | ECHO | ECHOE | ECHOKE | ECHOCTL)
#define TTYDEF_LFLAG TTYDEF_LFLAG_ECHO
#define TTYDEF_CFLAG    (CREAD | CS8 | HUPCL)
#define TTYDEF_SPEED    (B9600)

/*
 * Control Character Defaults
 */
/*
 * XXX: A lot of code uses lowercase characters, but control-character
 * conversion is actually only valid when applied to uppercase
 * characters. We just treat lowercase characters as if they were
 * inserted as uppercase.
 */
#define CTRL(x) ((x) &amp;gt;= &apos;a&apos; &amp;amp;&amp;amp; (x) &amp;lt;= &apos;z&apos; ? \
        ((x) - &apos;a&apos; + 1) : (((x) - &apos;A&apos; + 1) &amp;amp; 0x7f))
#define CEOF            CTRL(&apos;D&apos;)
#define CEOL            0xff            /* XXX avoid _POSIX_VDISABLE */
#define CERASE          CTRL(&apos;?&apos;)
#define CERASE2         CTRL(&apos;H&apos;)
#define CINTR           CTRL(&apos;C&apos;)
#define CSTATUS         CTRL(&apos;T&apos;)
#define CKILL           CTRL(&apos;U&apos;)
#define CMIN            1
#define CQUIT           CTRL(&apos;\\&apos;)
#define CSUSP           CTRL(&apos;Z&apos;)
#define CTIME           0
#define CDSUSP          CTRL(&apos;Y&apos;)
#define CSTART          CTRL(&apos;Q&apos;)
#define CSTOP           CTRL(&apos;S&apos;)
#define CLNEXT          CTRL(&apos;V&apos;)
#define CDISCARD        CTRL(&apos;O&apos;)
#define CWERASE         CTRL(&apos;W&apos;)
#define CREPRINT        CTRL(&apos;R&apos;)
#define CEOT            CEOF
/* compat */
#define CBRK            CEOL
#define CRPRNT          CREPRINT
#define CFLUSH          CDISCARD

/* PROTECTED INCLUSION ENDS HERE */
#endif /* !_SYS_TTYDEFAULTS_H_ */

/*
 * #define TTYDEFCHARS to include an array of default control characters.
 */
#ifdef TTYDEFCHARS

#include &amp;lt;sys/cdefs.h&amp;gt;
#include &amp;lt;sys/_termios.h&amp;gt;

static const cc_t ttydefchars[] = {
        CEOF, CEOL, CEOL, CERASE, CWERASE, CKILL, CREPRINT, CERASE2, CINTR,
        CQUIT, CSUSP, CDSUSP, CSTART, CSTOP, CLNEXT, CDISCARD, CMIN, CTIME,
        CSTATUS, _POSIX_VDISABLE
};
_Static_assert(sizeof(ttydefchars) / sizeof(cc_t) == NCCS,
    &quot;Size of ttydefchars does not match NCCS&quot;);

#undef TTYDEFCHARS
#endif /* TTYDEFCHARS */
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep CTRL /usr/include/sys/ttydefaults.h | grep V
#define CLNEXT          CTRL(&apos;V&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;http://www.catb.org/esr/faqs/things-every-hacker-once-knew/&quot;&gt;Things Every Hacker Once Knew - Eric S. Raymond (esr)&lt;/a&gt;:  &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;36-bit machines and the persistence of octal&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;There’s a power-of-two size hierarchy in memory units that we now think of as normal - 8 bit bytes, 16 or 32 or 64-bit words.
But this did not become effectively universal until after 1983.
There was an earlier tradition of designing computer architectures with 36-bit words.
There was a time when 36-bit machines loomed large in hacker folklore and some of the basics about them were ubiquitous common knowledge, though cultural memory of this era began to fade in the early 1990s.
Two of the best-known 36-bitters were the DEC PDP-10 and the Symbolics 3600 Lisp machine.
The cancellation of the PDP-10 in ‘83 proved to be the death knell for this class of machine, though the 3600 fought a rear-guard action for a decade afterwards.&lt;/p&gt;

  &lt;p&gt;Hexadecimal is a natural way to represent raw memory contents on machines with the power-of-two size hierarchy.
But octal (base-8) representations of machine words were common on 36-bit machines, related to the fact that a 36-bit word naturally divides into 12 3-bit fields naturally represented as octal.
In fact, back then we generally assumed you could tell which of the 32- or 36-bit phyla a machine belonged in by whether you could see digits greater than 7 in a memory dump.&lt;/p&gt;

  &lt;p&gt;It used also to be generally known that 36-bit architectures explained some unfortunate features of the C language.
The original Unix machine, the PDP-7, featured 18-bit words corresponding to half-words on larger 36-bit computers.
These were more naturally represented as six octal (3-bit) digits.&lt;/p&gt;

  &lt;p&gt;The immediate ancestor of C was an interpreted language written on the PDP-7 and named B.
In it, a numeric literal beginning with 0 was interpreted as octal.&lt;/p&gt;

  &lt;p&gt;The PDP-7’s successor, and the first workhorse Unix machine was the PDP-11 (first shipped in 1970).
It had 16-bit words - but, due to some unusual peculiarities of the instruction set, octal made more sense for its machine code as well.
C, first implemented on the PDP-11, thus inherited the B octal syntax.
And extended it: when an in-string backslash has a following digit, that was expected to lead an octal literal.&lt;/p&gt;

  &lt;p&gt;The Interdata 32, VAX, and other later Unix platforms didn’t have those peculiarities; their opcodes expressed more naturally in hex.
But C was never adjusted to prefer hex, and the surprising interpretation of leading 0 wasn’t removed.&lt;/p&gt;

  &lt;p&gt;Because many later languages (Java, Python, etc) copied C’s low-level lexical rules for compatibility reasons, the relatively useless and sometimes dangerous octal syntax besets computing platforms for which three-bit opcode fields are wildly inappropriate, and may never be entirely eradicated [3].&lt;/p&gt;

  &lt;p&gt;The PDP-11 was so successful that architectures strongly influenced by it (notably, including Intel [4] and ARM microprocessors) eventually took over the world, killing off 36-bit machines.&lt;/p&gt;

  &lt;p&gt;The x86 instruction set actually kept the property that though descriptions of its opcodes commonly use hex, large parts of the instructiion set are best understood as three-bit fields and thus best expressed in octal.
This is perhaps clearest in the encoding of the mov instruction.&lt;/p&gt;

  &lt;p&gt;[3]. Python 3, Perl 6, and Rust have at least gotten rid of the dangerous leading-0-for-octal syntax, but Go kept it.   &lt;br /&gt;
[4]. Early Intel microprocessors weren’t much like the PDP-11, but the 80286 and later converged with it in important ways.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;ASCII&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;ASCII, the American Standard Code for Information Interchange, evolved in the early 1960s out of a family of character codes used on &lt;em&gt;teletypes&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;ASCII, unlike a lot of other early character encodings, is likely to live forever - because by design the low 127 code points of Unicode are ASCII.
If you know what UTF-8 is (and you should) every ASCII file is correct UTF-8 as well.&lt;/p&gt;

  &lt;p&gt;The following table describes ASCII-1967, the version in use today.
This is the 16x4 format given in most references.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Dec Hex    Dec Hex    Dec Hex  Dec Hex  Dec Hex  Dec Hex   Dec Hex   Dec Hex
  0 00 NUL  16 10 DLE  32 20    48 30 0  64 40 @  80 50 P   96 60 `  112 70 p
  1 01 SOH  17 11 DC1  33 21 !  49 31 1  65 41 A  81 51 Q   97 61 a  113 71 q
  2 02 STX  18 12 DC2  34 22 &quot;  50 32 2  66 42 B  82 52 R   98 62 b  114 72 r
  3 03 ETX  19 13 DC3  35 23 #  51 33 3  67 43 C  83 53 S   99 63 c  115 73 s
  4 04 EOT  20 14 DC4  36 24 $  52 34 4  68 44 D  84 54 T  100 64 d  116 74 t
  5 05 ENQ  21 15 NAK  37 25 %  53 35 5  69 45 E  85 55 U  101 65 e  117 75 u
  6 06 ACK  22 16 SYN  38 26 &amp;amp;  54 36 6  70 46 F  86 56 V  102 66 f  118 76 v
  7 07 BEL  23 17 ETB  39 27 &apos;  55 37 7  71 47 G  87 57 W  103 67 g  119 77 w
  8 08 BS   24 18 CAN  40 28 (  56 38 8  72 48 H  88 58 X  104 68 h  120 78 x
  9 09 HT   25 19 EM   41 29 )  57 39 9  73 49 I  89 59 Y  105 69 i  121 79 y
 10 0A LF   26 1A SUB  42 2A *  58 3A :  74 4A J  90 5A Z  106 6A j  122 7A z
 11 0B VT   27 1B ESC  43 2B +  59 3B ;  75 4B K  91 5B [  107 6B k  123 7B {
 12 0C FF   28 1C FS   44 2C ,  60 3C &amp;lt;  76 4C L  92 5C \  108 6C l  124 7C |
 13 0D CR   29 1D GS   45 2D -  61 3D =  77 4D M  93 5D ]  109 6D m  125 7D }
 14 0E SO   30 1E RS   46 2E .  62 3E &amp;gt;  78 4E N  94 5E ^  110 6E n  126 7E ~
 15 0F SI   31 1F US   47 2F /  63 3F ?  79 4F O  95 5F _  111 6F o  127 7F DEL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;However, this format - less used because the shape is inconvenient - probably does more to explain the encoding:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   0000000 NUL    0100000      1000000 @    1100000 `
   0000001 SOH    0100001 !    1000001 A    1100001 a
   0000010 STX    0100010 &quot;    1000010 B    1100010 b
   0000011 ETX    0100011 #    1000011 C    1100011 c
   0000100 EOT    0100100 $    1000100 D    1100100 d
   0000101 ENQ    0100101 %    1000101 E    1100101 e
   0000110 ACK    0100110 &amp;amp;    1000110 F    1100110 f
   0000111 BEL    0100111 &apos;    1000111 G    1100111 g
   0001000 BS     0101000 (    1001000 H    1101000 h
   0001001 HT     0101001 )    1001001 I    1101001 i
   0001010 LF     0101010 *    1001010 J    1101010 j
   0001011 VT     0101011 +    1001011 K    1101011 k
   0001100 FF     0101100 ,    1001100 L    1101100 l
   0001101 CR     0101101 -    1001101 M    1101101 m
   0001110 SO     0101110 .    1001110 N    1101110 n
   0001111 SI     0101111 /    1001111 O    1101111 o
   0010000 DLE    0110000 0    1010000 P    1110000 p
   0010001 DC1    0110001 1    1010001 Q    1110001 q
   0010010 DC2    0110010 2    1010010 R    1110010 r
   0010011 DC3    0110011 3    1010011 S    1110011 s
   0010100 DC4    0110100 4    1010100 T    1110100 t
   0010101 NAK    0110101 5    1010101 U    1110101 u
   0010110 SYN    0110110 6    1010110 V    1110110 v
   0010111 ETB    0110111 7    1010111 W    1110111 w
   0011000 CAN    0111000 8    1011000 X    1111000 x
   0011001 EM     0111001 9    1011001 Y    1111001 y
   0011010 SUB    0111010 :    1011010 Z    1111010 z
   0011011 ESC    0111011 ;    1011011 [    1111011 {
   0011100 FS     0111100 &amp;lt;    1011100 \    1111100 |
   0011101 GS     0111101 =    1011101 ]    1111101 }
   0011110 RS     0111110 &amp;gt;    1011110 ^    1111110 ~
   0011111 US     0111111 ?    1011111 _    1111111 DEL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;Using the second table, it’s easier to understand a couple of things:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;
      &lt;p&gt;The Control modifier on your keyboard basically clears the top three bits of whatever character you type, leaving the bottom five and mapping it to the 0..31 range.
So, for example, Ctrl-SPACE, Ctrl-@, and Ctrl-` all mean the same thing: NUL.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;Very old keyboards used to do Shift just by toggling the 32 or 16 bit, depending on the key; this is why the relationship between small and capital letters in ASCII is so regular, and the relationship between numbers and symbols, and some pairs of symbols, is sort of regular if you squint at it.
The ASR-33, which was an all-uppercase terminal, even let you generate some punctuation characters it didn’t have keys for by shifting the 16 bit; thus, for example, Shift-K (0x4B) became a [ (0x5B)&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;It used to be common knowledge that the &lt;em&gt;original 1963 ASCII&lt;/em&gt; had been slightly different.
It lacked tilde and vertical bar; 5E was an up-arrow rather than a caret, and 5F was a left arrow rather than underscore.
Some early adopters (notably DEC) held to the 1963 version.&lt;/p&gt;

  &lt;p&gt;If you learned your chops after 1990 or so, the mysterious part of this is likely the control characters, code points 0-31.
You probably know that C uses NUL as a string terminator.
Others, notably LF = Line Feed and HT = Horizontal Tab, show up in plain text.
But what about the rest?&lt;/p&gt;

  &lt;p&gt;Many of these are remnants from teletype protocols that have either been dead for a very long time or, if still live, are completely unknown in computing circles.
A few had conventional meanings that were half-forgotten even before Internet times.
A &lt;strong&gt;very&lt;/strong&gt; few are still used in binary data protocols today.&lt;/p&gt;

  &lt;p&gt;Here’s a tour of the meanings these had in older computing, or retain today. If you feel an urge to send me more, remember that the emphasis here is on what was common knowledge back in the day.
If I don’t know it now, we probably didn’t generally know it then.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;SYN (Synchronous Idle) = Ctrl-V&lt;/strong&gt;&lt;/p&gt;

  &lt;blockquote&gt;
    &lt;p&gt;Never to my knowledge used specially after teletypes, except in synchronous serial protocols never used on micros or minis.
Be careful not to confuse this with the SYN (synchronization) packet used in TCP/IP’s SYN SYN-ACK initialization sequence.
In an &lt;em&gt;unrelated usage&lt;/em&gt;, many Unix &lt;em&gt;tty&lt;/em&gt; drivers use this (as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-V&lt;/code&gt;) for the &lt;em&gt;literal-next&lt;/em&gt; character (aka &lt;em&gt;lnext&lt;/em&gt; character) that lets you quote following control characters such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-C&lt;/code&gt;.&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;Change history&lt;/p&gt;

  &lt;p&gt;1.0: 2017-01-26
    Initial version.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;1.22: 2023-04-19&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://news.ycombinator.com/item?id=13498365&quot;&gt;Things Every Hacker Once Knew (catb.org) - Hacker News dicussion&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;soneil on Jan 27, 2017 [-]&lt;/p&gt;

  &lt;p&gt;I always thought it was a shame the &lt;em&gt;ASCII table&lt;/em&gt; is rarely shown in &lt;em&gt;columns&lt;/em&gt; (or &lt;em&gt;rows&lt;/em&gt;) &lt;strong&gt;of 32&lt;/strong&gt;, as it makes a lot of this quite obvious. e.g., &lt;a href=&quot;http://pastebin.com/cdaga5i1&quot;&gt;http://pastebin.com/cdaga5i1&lt;/a&gt;&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;      00      01      10      11  
00000 NUL     Spc     @       `  
00001 SOH !   A       a 
00010 STX     &quot;       B       b 
00011 ETX     #       C       c 
00100 EOT     $       D       d 
00101 ENQ     %       E       e 
00110 ACK     &amp;amp;       F       f 
00111 BEL     &apos;       G       g 
01000 BS      (       H       h 
01001 TAB     )       I       i 
01010 LF      *       J       j 
01011 VT      +       K       k 
01100 FF      ,       L       l 
01101 CR      -       M       m 
01110 SO      .       N       n 
01111 SI      /       O       o 
10000 DLE     0       P       p 
10001 DC1     1       Q       q 
10010 DC2     2       R       r 
10011 DC3     3       S       s 
10100 DC4     4       T       t 
10101 NAK     5       U       u 
10110 SYN     6       V       v 
10111 ETB     7       W       w 
11000 CAN     8       X       x 
11001 EM      9       Y       y 
11010 SUB     :       Z       z 
11011 ESC     ;       [       { 
11100 FS      &amp;lt;       \       | 
11101 GS      =       ]       } 
11110 RS      &amp;gt;       ^       ~ 
11111 US      ?       _       DEL 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;It becomes immediately obvious why, e.g., &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; becomes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;escape&lt;/code&gt;.
Or that the alphabet is just 40h + the ordinal position of the letter (or 60h for lower-case).
Or that we shift between upper &amp;amp; lower-case with a single bit.&lt;/p&gt;

  &lt;p&gt;esr’s (Eric S. Raymond) rendering of the table - forcing it to fit hexadecimal as eight groups of 4 bits, rather than four groups of 5 bits, makes the relationship between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^I&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tab&lt;/code&gt;, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;escape&lt;/code&gt;, nearly invisible.&lt;/p&gt;

  &lt;p&gt;It’s like making the periodic table 16 elements wide because we’re partial to hex, and then wondering why no-one can spot the relationships anymore.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=13499895&quot;&gt;bogomipz - I am not following, can you explain why ^[ becomes escape&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;“It becomes immediately obvious why, eg, ^[ becomes escape.
Or that the alphabet is just 40h + the ordinal position of the letter (or 60h for lower-case).
Or that we shift between upper &amp;amp; lower-case with a single bit.”&lt;/p&gt;

  &lt;p&gt;Q: I am not following, can you explain why &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; becomes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;escape&lt;/code&gt;.
Or that the alphabet is just 40h + the ordinal position?
Can you elaborate?
I feel like I am missing the elegance you are pointing out.&lt;/p&gt;

  &lt;p&gt;A: If you look at each byte as being 2 bits of ‘group’ and 5 bits of ‘character’;&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   00 11011 is Escape
   10 11011 is [
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;So when we do &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;escape&lt;/code&gt; (e.g., in old ANSI ‘escape sequences’, or in more recent discussions about the vim escape key on the ‘touchbar’ macbooks) - you’re asking for the character &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;11011&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt;) out of the control (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;00&lt;/code&gt;) set.&lt;/p&gt;

  &lt;p&gt;Any time you see &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\n&lt;/code&gt; represented as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^M&lt;/code&gt;, it’s the same thing - &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;01101&lt;/code&gt; (M) in the control (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;00&lt;/code&gt;) set is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Carriage Return&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;Excerpt from the above table&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;      00      01      10      11  
---- snip ---
01101 CR      -       M       m 
---- snip ---
11011 ESC     ;       [       { 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
  &lt;p&gt;Likewise, when you realise that the relationship between upper-case and lower-case is just the same character from sets 10 &amp;amp; 11, it becomes obvious that you can, e.g., translate upper case to lower case by just doing a bitwise or against &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;64&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0100000&lt;/code&gt;).&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;MY NOTE:&lt;/p&gt;

&lt;p&gt;Convert binary &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;11011&lt;/code&gt;  to decimal:&lt;/p&gt;
&lt;blockquote&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+------------------------------+-----+-----+-----+-----+-----+
| Number in binary             | 1   | 1   |  0  |  1  |  1  |
+------------------------------+-----+-----+-----+-----+-----+
| Positional values            |     |     |     |     |     |
| (2 to the power of)          | 2^4 | 2^3 | 2^2 | 2^1 | 2^0 | 
+------------------------------+-----+-----+-----+-----+-----+
| Product - From the row above | 16  |  8  |  4  |  2  |  1  |
+------------------------------+-----+-----+-----+-----+-----+
| ON or OFF                    |     |     |     |     |     |
|                              |     |     |     |     |     |
| (Look in the first column )  | ON  | ON  | OFF | ON  | ON  |
|  - From the first column:    |     |     |     |     |     |
|      1 = ON                  |     |     |     |     |     |
|      0 = OFF                 |     |     |     |     |     |
+------------------------------+-----+-----+-----+-----+-----+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;16 + 8 + 0 + 2 + 1&lt;/code&gt; = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;27&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;So, binary &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;11011&lt;/code&gt;  in decimal is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;27&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Convert decimal &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;27&lt;/code&gt; to octal:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%03o\n&quot; 27
033
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explanation:  &lt;br /&gt;
“&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%03&lt;/code&gt;” - Column length for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf(1)&lt;/code&gt; is three digits, with zero-padding rather than blank-padding&lt;/p&gt;

&lt;blockquote&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ESC     033  00 11011
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://lobste.rs/s/qph9hd/things_every_hacker_once_knew&quot;&gt;Things Every Hacker Once Knew - Lobsters (lobste.rs) discussion&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A TTY-related fact that wasn’t mentioned in the article:&lt;/p&gt;

  &lt;p&gt;To control text-formatting on an ANSI-compatible terminal (or emulator), you can send it terminal control sequences like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\e[1m&lt;/code&gt; to enable bold or whatever.
Paper-based terminals didn’t have control-sequences like that, but people still figured out ways to do formatting.
For example, if you printed a letter, then sent backspace (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-H&lt;/code&gt;, octet &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x08&lt;/code&gt;) and printed the same letter again, it would be printed with twice as much ink, making it look “bold”.
If you printed a letter, then sent backspace and an underscore, it would look underlined.&lt;/p&gt;

  &lt;p&gt;The original Unix typesetting software took full advantage of this trick.
If you told it to output a document (say, a manpage) to your terminal (as opposed to the expensive typesetting machine in the corner), it would use the BS trick to approximate the intended formatting.&lt;/p&gt;

  &lt;p&gt;This worked great, up until the invention of video display terminals, where the backspace trick just &lt;em&gt;replaced&lt;/em&gt; the original text, instead of adding to it.
So people wrote software to translate the backspace-trick into ANSI control codes, software like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;less(1)&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;If you run:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;printf &apos;H\x08He\x08el\x08ll\x08lo\x08o w\x08_o\x08_r\x08_l\x08_d\x08_\n&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;… in a modern terminal emulator, you’ll probably get output like (see MY NOTE below):&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Hello _____
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;… because that’s how glass TTYs work.
However, if you pipe it through &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;less(1)&lt;/code&gt;:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;printf &apos;H\x08He\x08el\x08ll\x08lo\x08o w\x08_o\x08_r\x08_l\x08_d\x08_\n&apos; | less
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;… it will convert the backspace trick into formatting your terminal can understand.
Unfortunately, I can’t figure out how to represent it in Markdown, so you’ll have to try it for yourself.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;MY NOTE: &lt;br /&gt;
In my test, it worked in &lt;em&gt;bash&lt;/em&gt; but didn’t work in &lt;em&gt;csh&lt;/em&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20231213162000/https://en.wikipedia.org/wiki/Synchronous_Idle&quot;&gt;Synchronous Idle - Wikipedia - archive.org snapshot from Dec 13, 2023&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Synchronous Idle (SYN) is the ASCII control character 22 (0x16), represented as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^V&lt;/code&gt; in &lt;em&gt;caret notation&lt;/em&gt;.
In &lt;em&gt;EBCDIC&lt;/em&gt; the corresponding character is 50 (0x32).
Synchronous Idle is used in &lt;em&gt;some synchronous serial communication systems&lt;/em&gt; such as &lt;em&gt;Teletype&lt;/em&gt; machines or IBM’s &lt;em&gt;Binary Synchronous (Bisync)&lt;/em&gt; protocol to provide a signal from which synchronous correction may be achieved between data terminal equipment.&lt;/p&gt;

  &lt;p&gt;Because there is no START, STOP, or PARITY bits present in synchronous serial communication, it is necessary to establish character framing through recognition of consecutive SYN characters - typically three - at which point character sync can be assumed to begin with the first bit of the SYN characters and every seven bits thereafter.&lt;/p&gt;

  &lt;p&gt;The SYN character has the bit pattern 00010110 (EBCDIC 00110010), which has the property that it is distinct from any &lt;em&gt;bit-wise rotation&lt;/em&gt; of itself.
This helps bit-alignment of sequences of synchronous idles.&lt;/p&gt;

  &lt;p&gt;Unicode has a character U+2416 ␖ SYMBOL FOR SYNCHRONOUS IDLE for visual representation.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.asciihex.com/character/control/22/0x16/syn-synchronous-idle&quot;&gt;ASCII character #22. Char SYN - Synchronous Idle&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;About SYN:&lt;/strong&gt;&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Integer ASCII code:  22
Binary code:  0001 0110
Octal code:  26
Hexadecimal code:  16
Group:  control
Seq:  ^V
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;Unicode symbol: ␖, int code: 9238 (html &amp;amp;#9238) hex code: 2416 (html &amp;amp;#x2416)&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Information&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;It’s not hard to guess, that Synchronous Idle is used in synchronous transmission systems in order to make a signal.
From this signal a synchronous correction may be accomplished between data terminal equipment, especially in cases when no other character is being transmitted.&lt;/p&gt;

  &lt;p&gt;Synchronous Idle (SYN) is the ASCII control character 22 (0x16).
In &lt;em&gt;caret notation&lt;/em&gt; SYN is designated as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^V&lt;/code&gt;.
The appropriate character in EBCDIC is 50 (0x32).
The Synchronous Idle is perfectly suitable for use in some synchronous serial communication systems, for example &lt;em&gt;Teletype&lt;/em&gt; machines or the &lt;em&gt;Binary Synchronous (Bisync) protocol&lt;/em&gt;.
The use of Synchronous Idle here makes a signal.
From it one can accomplish a synchronous correction between data terminal equipment, especially when no additional character is being transmitted.&lt;/p&gt;

  &lt;p&gt;The SYN character possesses the following bit pattern: 00010110 (EBCDIC 00110010).
It has one interesting feature: it is different from any &lt;em&gt;bit-wise rotation of itself&lt;/em&gt;.
This helps bit-alignment of synchronous idles sequences.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lesskey(1)&lt;/code&gt; on FreeBSD 13:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LESSKEY(1)                  General Commands Manual                 LESSKEY(1)
  
NAME
       lesskey - customize key bindings for less
  
SYNOPSIS (deprecated)
       lesskey [-o output] [--] [input]
       lesskey [--output=output] [--] [input]
       lesskey -V
       lesskey --version

---- snip ----

DESCRIPTION
       A lesskey file specifies a set of key bindings and environment
       variables to be used by subsequent invocations of less.
  
FILE FORMAT
       The input file consists of one or more sections.  Each section starts
       with a line that identifies the type of section.
       Possible sections are:
  
         #command
                Customizes command key bindings.

---- snip ----

COMMAND SECTION
       The command section begins with the line
  
       #command
  
       If the command section is the first section in the file, this line may
       be omitted.  The command section consists of lines of the form:
  
            string &amp;lt;whitespace&amp;gt; action [extra-string] &amp;lt;newline&amp;gt;

---- snip ----

       The characters in the string may appear literally, or be prefixed by
       a caret to indicate a control key.  A backslash followed by one to
       three octal digits may be used to specify a character by its octal
       value.  A backslash followed by certain characters specifies input
       characters as follows:

           \b   BACKSPACE   (0x08)
           \e   ESCAPE      (0x1B)
           \n   NEWLINE     (0x0A)
           \r   RETURN      (0x0D)
           \t   TAB         (0x09)

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.in-ulm.de/~mascheck/various/ascii-tty/&quot;&gt;Unprintable ASCII characters and TTYs&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;What happens when typing special “control sequences” like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;ctrl-h&amp;gt;&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;ctrl-d&amp;gt;&lt;/code&gt; etc.?&lt;/p&gt;

  &lt;p&gt;For convenience, “^X” means &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-X&lt;/code&gt; in the following (ignoring the fact that you usually might use the lower case x).&lt;/p&gt;

  &lt;p&gt;About a possible origin of the “^”-notation (aka caret notation), see also an article in a.f.c, &lt;a href=&quot;http://groups.google.com/groups?as_umsgid=62097@bbn.BBN.COM&quot;&gt;62097@bbn.BBN.COM&lt;/a&gt;&lt;br /&gt;
(&lt;a href=&quot;https://www.in-ulm.de/~mascheck/various/ascii-tty/origin.html&quot;&gt;local copy&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;About a possible origin of the “^”-notation (aka caret notation), local copy:
&lt;a href=&quot;https://www.in-ulm.de/~mascheck/various/ascii-tty/origin.html&quot;&gt;Re: Control characters - alt.folklore.computers - Jan 15, 1991&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;About a possible origin of the “^”-notation (aka caret notation), see also an article in a.f.c, &lt;a href=&quot;https://groups.google.com/forum/#!msg/alt.folklore.computers/jnEqB1-DroQ/W7LEWqK7Vp8J&quot;&gt;62097@bbn.BBN.COM – Control characters&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.in-ulm.de/~mascheck/various/ascii-tty/origin.html&quot;&gt;Subject: Re: Control characters&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://superuser.com/questions/763879/why-are-special-characters-such-as-carriage-return-represented-as-m&quot;&gt;Why are special characters such as “carriage return” represented as “^M”?&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;I believe that what OP was actually asking about is called Caret Notation.&lt;/p&gt;

  &lt;p&gt;Caret notation is a notation for unprintable control characters in ASCII encoding.
The notation consists of a caret (^) followed by a capital letter; this digraph stands for the ASCII code that has the numerical value equivalent to the letter’s numerical value.
For example the EOT character with a value of 4 is represented as ^D because D is the 4th letter in the alphabet.
The NUL character with a value of 0 is represented as ^@ (@ is the ASCII character before A).
The DEL character with the value 127 is usually represented as ^?, because the ASCII ‘?’ is before ‘@’ and -1 is the same as 127 if masked to 7 bits.
An alternative formulation of the translation is that the printed character is found by inverting the 7th bit of the ASCII code&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;less(1)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;COMMANDS
         In the following descriptions, ^X means control-X.  ESC stands for the
         ESCAPE key; for example ESC-v means the two character sequence
         &quot;ESCAPE&quot;, then &quot;v&quot;.

---- snip ----

  LINE EDITING
         When entering command line at the bottom of the screen (for example, a
         filename for the :e command, or the pattern for a search command),
         certain keys can be used to manipulate the command line.  Most commands
         have an alternate form in [ brackets ] which can be used if a key does
         not exist on a particular keyboard.  (Note that the forms beginning
         with ESC do not work in some MS-DOS and Windows systems because ESC is
         the line erase character.)  Any of these special keys may be entered
         literally by preceding it with the &quot;literal&quot; character, either ^V or
         ^A.  A backslash itself may also be entered literally by entering two
         backslashes.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;curs_getch(3X)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;         Note that some keys may be the same as commonly used control keys,
         e.g., KEY_ENTER versus control/M, KEY_BACKSPACE versus control/H.  Some
         curses implementations may differ according to whether they treat these
         control keys specially (and ignore the terminfo), or use the terminfo
         definitions.  Ncurses uses the terminfo definition.  If it says that
         KEY_ENTER is control/M, getch will return KEY_ENTER when you press
         control/M.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=stty&amp;amp;sektion=1&amp;amp;apropos=0&amp;amp;manpath=solaris&quot;&gt;FreeBSD.org - FreeBSD Manual Pages - 1. General Commands - Operating System: SunOS 5.10 – stty(1) - set the options for a terminal&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The stty utility sets certain terminal I/O options for the device that
is the current standard input. Without arguments, stty reports the set-
tings of certain options.

In this report, if a character is preceded by a caret (^), then the
value of that option is the corresponding control character (for exam-
ple,  ^h is &amp;lt;CTRL-h&amp;gt;.  In this case, recall that &amp;lt;CTRL-h&amp;gt; is the same as
the &amp;lt;BACKSPACE&amp;gt; key).  The sequence ^@ means that an option has a null
value.

---- snip ----

Control Assignments
    control-character  c     Set control-character to c, where:

                             control-character

                                 is ctab, discard, dsusp, eof, eol, eol2,
                                 erase, intr, kill,  lnext,  quit, reprint,
                                 start, stop, susp, swtch, or werase  (ctab
                                 is used with -stappl, see termio(7I)).
                                 For information on swtch, see NOTES.

    c

    If c is a single character, the control
    character is set to that character.

    In the POSIX locale, if c is preceded by a
    caret (^) indicating an escape from the
    shell and is one of those listed in the ^c
    column of the following table, then its
    value used (in the  Value  column) is the
    corresponding control character (for exam-
    ple, ``^d&apos;&apos;  is a &amp;lt;CTRL-d&amp;gt;). ``^?&apos;&apos; is in-
    terpreted as &amp;lt;DEL&amp;gt;  and  ``^-&apos;&apos;  is inter-
    preted as undefined.

    +------------------+-------------------+------------------+
    |  ^c      Value   |  ^c      Value    |  ^c      Value   |
    | a, A     &amp;lt;SOH&amp;gt;   | l, L     &amp;lt;FF&amp;gt;     | w, W     &amp;lt;ETB&amp;gt;   |
    | b, B     &amp;lt;STX&amp;gt;   | m, M     &amp;lt;CR&amp;gt;     | x, X     &amp;lt;CAN&amp;gt;   |
    | c, C     &amp;lt;ETX&amp;gt;   | n, N     &amp;lt;SO&amp;gt;     | y, Y     &amp;lt;EM&amp;gt;    |
    | d, D     &amp;lt;EOT&amp;gt;   | o, O     &amp;lt;SI&amp;gt;     | z, Z     &amp;lt;SUB&amp;gt;   |
    | e, E     &amp;lt;ENQ&amp;gt;   | p, P     &amp;lt;DLE&amp;gt;    | [        &amp;lt;ESC&amp;gt;   |
    | f, F     &amp;lt;ACK&amp;gt;   | q, Q     &amp;lt;DC1&amp;gt;    | \        &amp;lt;FS&amp;gt;    |
    | g, G     &amp;lt;BEL&amp;gt;   | r, R     &amp;lt;DC2&amp;gt;    | ]        &amp;lt;GS&amp;gt;    |
    | h, H     &amp;lt;BS&amp;gt;    | s, S     &amp;lt;DC3&amp;gt;    | ^        &amp;lt;RS&amp;gt;    |
    | i, I     &amp;lt;HT&amp;gt;    | t, T     &amp;lt;DC4&amp;gt;    | _        &amp;lt;US&amp;gt;    |
    | j, J     &amp;lt;LF&amp;gt;    | u, U     &amp;lt;NAK&amp;gt;    | ?        &amp;lt;DEL&amp;gt;   |
    | k, K     &amp;lt;VT&amp;gt;    | v, V     &amp;lt;SYN&amp;gt;    |                  |
    +------------------+-------------------+------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=termio&amp;amp;sektion=7I&amp;amp;manpath=SunOS+5.10&quot;&gt;FreeBSD.org - FreeBSD Manual Pages - Operating System: SunOS 5.10 – termio(7I) - general terminal interface&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
Special Characters
    Certain characters have special functions on input.  These functions and
    their default character values are summarized as follows:

---- snip ----

       LNEXT         (Control-v  or ASCII SYN) causes the special meaning of
                     the next character to be ignored.  This works for all
                     the special characters mentioned above.  It allows char-
                     acters to be input that would otherwise be interpreted
                     by the system (for example KILL, QUIT).  The character
                     values for INTR, QUIT, ERASE, WERASE, KILL, REPRINT,
                     EOF, EOL, EOL2, SWTCH, SUSP, DSUSP, STOP, START, DIS-
                     CARD, and LNEXT may be changed to suit individual
                     tastes.  If the value of a special control character is
                     _POSIX_VDISABLE (0), the function of that special con-
                     trol character is disabled.  The ERASE, KILL, and EOF
                     characters may be escaped by a preceding backslash  (\)
                     character, in which case no special function is done.
                     Any of the special characters may be preceded by the
                     LNEXT  character, in which case no special function is
                     done.

---- snip ----

Terminal Parameters
    The parameters that control the behavior of devices and modules provid-
    ing the termios interface are specified by the termios structure de-
    fined by  termios.h.  Several  ioctl(2)  system calls that fetch or
    change these parameters use this structure that contains the following
    members:

           tcflag_t c_iflag;  /* input modes */
           tcflag_t  c_oflag; /* output modes */
           tcflag_t  c_cflag; /* control modes */
           tcflag_t  c_lflag; /* local modes */
           cc_t  c_cc[NCCS];  /* control chars */

    The special control characters are defined by the array c_cc.  The sym-
    bolic name NCCS is the size of the Control-character array and is also
    defined by  &amp;lt;termios.h&amp;gt;.  The relative positions, subscript names, and
    typical default values for each function are as follows:

    +--------------------+--------------------+-----------------------+
    | Relative Position  | Subscript Name     | Typical Default Value |
    +--------------------+--------------------+-----------------------+
    | 0                  | VINTR              | ETX                   |
    +--------------------+--------------------+-----------------------+
    | 1                  | VQUIT              | FS                    |
    +--------------------+--------------------+-----------------------+
    | 2                  | VERASE             | DEL                   |
    +--------------------+--------------------+-----------------------+
    | 3                  | VKILL              | NAK                   |
    +--------------------+--------------------+-----------------------+
    | 4                  | VEOF               | EOT                   |
    +--------------------+--------------------+-----------------------+
    | 5                  | VEOL               | NUL                   |
    +--------------------+--------------------+-----------------------+
    | 6                  | VEOL2              | NUL                   |
    +--------------------+--------------------+-----------------------+
    | 7                  | VWSTCH             | NUL                   |
    +--------------------+--------------------+-----------------------+
    | 8                  | VSTART             | NUL                   |
    +--------------------+--------------------+-----------------------+
    | 9                  | VSTOP              | DC3                   |
    +--------------------+--------------------+-----------------------+
    | 10                 | VSUSP              | SUB                   |
    +--------------------+--------------------+-----------------------+
    | 11                 | VDSUSP             | EM                    |
    +--------------------+--------------------+-----------------------+
    | 12                 | VREPRINT           | DC2                   |
    +--------------------+--------------------+-----------------------+
    | 13                 | VDISCARD           | SI                    |
    +--------------------+--------------------+-----------------------+
    | 14                 | VWERASE            | ETB                   |
    +--------------------+--------------------+-----------------------+
    | 15                 | VLNEXT             | SYN                   |
    +--------------------+--------------------+-----------------------+
    | 16-19              | Reserved           |                       |
    +--------------------+--------------------+-----------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://docs.freebsd.org/44doc/usd/04.csh/paper-1.html&quot;&gt;Terminal usage of the shell - The basic notion of commands – 4.4BSD Documents - FreeBSD Documents Archive - UNIX User’s Supplementary Documents (USD) .4 Berkeley Software Distribution (BSD) - June, 1993 – An Introduction to the C shell - William Joy (revised for 4.3BSD by Mark Seiden) - Computer Science Division, Department of Electrical Engineering and Computer Science - University of California, Berkeley&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Here and throughout this document, the notation “^x” is to be read “control-x” and represents the striking of the x key while the control key is held down.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.unix.com/man-page/minix/4/tty/&quot;&gt;tty(4) [minix man page] - Linux and UNIX Man Pages - The UNIX and Linux Forums&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----

Local Modes
    The c_lflag field contains the following single bit flags that
    control various functions:

    ECHO   Enable echoing of input characters.  Most input characters are
           echoed as they are.  Control characters are echoed as ^X where X is
           the letter used to say that the control character is CTRL-X.
           The CR, NL and TAB characters are echoed with their normal effect
           unless they are escaped by  LNEXT.
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.aivosto.com/articles/control-characters.html&quot;&gt;Control characters in ASCII and Unicode&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Tens of odd control characters appear in ASCII charts.
The same characters have found their way to Unicode as well.
CR, LF, ESC, CAN… what are all these codes for?
Should I care about them?
This is an in-depth look into control characters in ASCII and its descendants, including Unicode, ANSI and ISO standards.&lt;/p&gt;

  &lt;p&gt;When ASCII first appeared in the 1960s, control characters were an essential part of the new character set.
Since then, many new character sets and standards have been published.
Computing is not the same either.
What happened to the control characters?
Are they still used and if yes, for what?&lt;/p&gt;

  &lt;p&gt;This article looks back at the history of character sets while keeping an eye on modern use.
The information is based on a number of standards released by ANSI, ISO, ECMA and The Unicode Consortium, as well as industry practice.
In many cases, the standards define one use for a character, but common practice is different.
Some characters are used contrary to the standards.
In addition, certain characters were originally defined in an ambiguous or loose way, which has resulted in confusion in their use.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Character list&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;ASCII control characters (C0)&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The ASCII control characters work in 7-bit and 8-bit environments, as well as in Unicode.
These controls originate from a set of related standards: ASCII, ISO 646 and ECMA-6, and also ISO 6429 and ECMA-48.
All of these characters are available in Unicode, too.
The actual C0 set consists of characters NUL through US (0–31).
Two additional characters, SP and DEL, are a part of ASCII and the related standards as well.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;(*) The 2-character mnemonics for the ASCII set are from ANSI X3.32, ISO 2047 and ECMA-17. So are also the graphic symbols. The symbols are outdated and rarely used. A couple of the symbols also have alternative forms.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Dec  Hex  Char       Description                                 Octal  Pos  *)
---- snip ---- 
22   $16  SYN (^V)   Synchronous Idle                            026    1/6  SY
                     TC9 Transmission control character 9  

                     Used as &quot;time-fill&quot; in synchronous transmission.
                     Sent during an idle condition to retain a signal when
                     there are no other characters to send. 

                     Note: SYN has been used by synchronous modems, which
                     have to send data constantly. — Beginning each
                     transmission with at least two SYN characters is a way
                     to achieve synchronization.  The receiving station will
                     possibly ignore SYN, since it doesn&apos;t belong to the actual
                     data content.
---- snip ---- 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vi(1)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
  VI TEXT INPUT COMMANDS
---- snip ----
       ⟨literal next⟩
               Escape the next character from any special meaning.  
               The ⟨literal next⟩ character is usually ⟨control-V⟩.
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;readline(3)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NOTATION
       An Emacs-style notation is used to denote keystrokes.  Control keys are
       denoted by C-key, e.g., C-n means Control-N.  Similarly, meta keys are
       denoted by M-key, so M-x means Meta-X.  (On keyboards without a meta
       key, M-x means ESC x, i.e., press the Escape key then the x key.  This
       makes ESC the meta prefix.  The combination M-C-x means ESC-Control-x,
       or press the Escape key then hold the Control key while pressing the x
       key.)


     VI Mode bindings
  
               VI Insert Mode functions
  
               &quot;C-D&quot;  vi-eof-maybe
               &quot;C-H&quot;  backward-delete-char
               &quot;C-I&quot;  complete
               &quot;C-J&quot;  accept-line
               &quot;C-M&quot;  accept-line
               &quot;C-R&quot;  reverse-search-history
               &quot;C-S&quot;  forward-search-history
               &quot;C-T&quot;  transpose-chars
               &quot;C-U&quot;  unix-line-discard
               &quot;C-V&quot;  quoted-insert

               ---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://catonmat.net/ftp/bash-vi-editing-mode-cheat-sheet.pdf&quot;&gt;Readline VI Editing Mode Cheat Sheet - Default Keyboard Shortcuts for Bash&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
    Miscellaneous Commands
    ----------------------
Shortcut:     CTRL-v     
Description:  Insert a character literally (quoted insert)
---- snip ----

    Examples and Tips
    -----------------
* Use CTRL-v to insert character literally, for example, CTRL-v CTRL-r would
  insert CTRL-r in the command line.
* See man bash, man readline, and builtin bind command for modifying the
  default behavior.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://catonmat.net/ftp/readline-emacs-editing-mode-cheat-sheet.pdf&quot;&gt;Readline Emacs Editing Mode Cheat Sheet - Default Keyboard Shortcuts for Bash&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
    Commands for Changing Text
    --------------------------
---- snip ----
Shortcut:       C-q or C-v    
Function Name:  quoted-insert 
Description:    Quoted insert
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://midnight-commander.org/wiki/doc/faq&quot;&gt;Midnight Commander - Fequently Asked Questions (FAQ)&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;2 Keyboard&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;2.1 What does documentation mean with the C-?, M-? and F? keys?&lt;/p&gt;

  &lt;p&gt;GNU Midnight Commander documentation uses emacs style names for keyboard keys.&lt;/p&gt;

  &lt;p&gt;C stands for the &lt;em&gt;Ctrl&lt;/em&gt; key.
For example, C-f means that you should hold down the Ctrl key and press the f key.&lt;/p&gt;

  &lt;p&gt;M stands for the &lt;em&gt;Meta&lt;/em&gt; key.
Your terminal might call it Alt or Compose instead of Meta.
For example, M-f means that you should hold down the Meta/Alt/Compose key and press the f key.
If your terminal doesn’t have Meta, Alt or Compose or they don’t work you can use Esc.
For M-f press the Esc key and then press the f key.&lt;/p&gt;

  &lt;p&gt;Sometimes Ctrl and Alt are used instead of C and M for simplicity.
Keep in mind that Alt can actually be Meta on some keyboards.&lt;/p&gt;

  &lt;p&gt;F? stands for a function key.
If your terminal doesn’t have function keys or they don’t work you can use Esc.
For example, for F3 press the Esc key and then press the 3 key.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;On FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man -k editline
editline, el_deletestr, el_end, el_get, el_getc, el_gets, el_init, el_init_fd, el_insertstr, el_line, el_parse, el_push, el_reset, el_resize, el_set, el_source, el_wdeletestr, el_wget, el_wgetc, el_wgets, el_winsertstr, el_wline, el_wparse, el_wpush, el_wset, history_end, history_init, history_w, history_wend, history_winit, tok_end, tok_init, tok_line, tok_reset, tok_str, tok_wend, tok_winit, tok_wline, tok_wreset, tok_wstr, el_history, el_cursor, history(3) - line editor, history and tokenization functions
editrc(5) - configuration file for editline library
editline(7) - line editing user interface
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man 3 editline
$ man 7 editline
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;More information: in the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;editline(7)&lt;/code&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;On FreeBSD: &lt;br /&gt;
NOTE for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-a&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-w&lt;/code&gt; options for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;man(1)&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-a&lt;/code&gt;  Display all manual pages instead of just the first found for each
          page argument.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-w&lt;/code&gt;  Display the location of the manual page instead of the contents
            of the manual page.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man -a -w terminfo
/usr/share/man/man5/terminfo.5.gz
/usr/local/man/man5/terminfo.5.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /usr/share/man/man5/terminfo.5.gz 
-r--r--r--  1 root  wheel    34K Jun 21  2018 /usr/share/man/man5/terminfo.5.gz
 
$ ls -lh /usr/local/man/man5/terminfo.5.gz
-rw-r--r--  1 root  wheel    35K Aug 22  2019 /usr/local/man/man5/terminfo.5.gz
 
$ diff /usr/share/man/man5/terminfo.5.gz /usr/local/man/man5/terminfo.5.gz 
Binary files /usr/share/man/man5/terminfo.5.gz and /usr/local/man/man5/terminfo.5.gz differ
 
$ man /usr/local/man/man5/terminfo.5.gz:
         A number of escape sequences are provided in the string valued
         capabilities for easy encoding of characters there:
  
         *   Both \E and \e map to an ESCAPE character,
         *   ^x maps to a control-x for any appropriate x, and
         *   the sequences
                 \n, \l, \r, \t, \b, \f, and \s
             produce
             newline, line-feed, return, tab, backspace, form-feed, and space,
             respectively.


         X/Open Curses does not say what &quot;appropriate x&quot; might be.  In practice,
         that is a printable ASCII graphic character.  The special case &quot;^?&quot; is
         interpreted as DEL (127).  In all other cases, the character value is
         AND&apos;d with 0x1f, mapping to ASCII control codes in the range 0 through
         31.
  
         Other escapes include
         *   \^ for ^,
         *   \\ for \,
         *   \, for comma,
         *   \: for :,
         *   and \0 for null.
  
             \0 will produce \200, which does not terminate a string but behaves
             as a null character on most terminals, providing CS7 is specified.
             See stty(1).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man /usr/share/man/man5/terminfo.5.gz:
       A number of escape sequences are provided in the string-valued
       capabilities for easy encoding of control characters there.  

       \E maps to
       an ESC character, ^X maps to a control-X for any appropriate X, and the
       sequences \n \r \t \b \f map to linefeed, return, tab, backspace, and
       formfeed, respectively.  Finally, characters may be given as three octal
       digits after a \, and the characters ^ and \ may be given as \^ and \\.
       If it is necessary to place a : in a capability it must be escaped as \:
       or be encoded as \072.  If it is necessary to place a NUL character in a
       string capability it must be encoded as \200.  (The routines that deal
       with termcap use C strings and strip the high bits of the output very
       late, so that a \200 comes out as a \000 would.)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man -w -a termcap
/usr/share/man/man3/termcap.3.gz
/usr/share/man/man5/termcap.5.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man /usr/share/man/man3/termcap.3.gz 

curs_termcap(3X)                                              curs_termcap(3X)

NAME
       PC, UP, BC, ospeed, tgetent, tgetflag, tgetnum, tgetstr, tgoto, tputs -
       direct curses interface to the terminfo capability database

---- snip -----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man /usr/share/man/man5/termcap.5.gz:

TERMCAP(5)                FreeBSD File Formats Manual               TERMCAP(5)

NAME
     termcap – terminal capability data base

SYNOPSIS
     termcap

---- snip ----

     A number of escape sequences are provided in the string-valued
     capabilities for easy encoding of control characters there.  \E maps to
     an ESC character, ^X maps to a control-X for any appropriate X, and the
     sequences \n \r \t \b \f map to linefeed, return, tab, backspace, and
     formfeed, respectively.  Finally, characters may be given as three octal
     digits after a \, and the characters ^ and \ may be given as \^ and \\.
     If it is necessary to place a : in a capability it must be escaped as \:
     or be encoded as \072.  If it is necessary to place a NUL character in a
     string capability it must be encoded as \200.  (The routines that deal
     with termcap use C strings and strip the high bits of the output very
     late, so that a \200 comes out as a \000 would.)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;man kbdmap(1)

BUGS
     The kbdmap and vidfont utilities work only on a **(virtual) console** 
     and not with X11.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;pre&gt;&lt;code class=&quot;language-`&quot;&gt;man kbdmap(5)  
     ctrlname      One of the standard names for the ASCII control characters:
                   nul, soh, stx, etx, eot, enq, ack, bel, bs, ht, lf, vt, ff,
                   cr, so, si, dle, dc1, dc2, dc3, dc4, nak, syn, etb, can,
                   em, sub, esc, fs, gs, rs, us, sp, del.
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://unix.stackexchange.com/questions/294908/read-special-keys-in-bash/294935#294935&quot;&gt;Read special keys in bash&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;What you are missing is that most terminal descriptions (linux is in the minority here, owing to the pervasive use of hard-coded strings in .inputrc) use application mode for special keys.
That makes cursor-keys as shown by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;infocmp&lt;/code&gt; differ from what your (uninitialized) terminal sends.
curses applications always initialize the terminal, and the terminal data base is used for that purpose.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dialog&lt;/code&gt; has its uses, but does not directly address this question.
On the other hand, it is cumbersome (technically doable, rarely done) to provide a bash-only solution.
Generally we use other languages to do this.&lt;/p&gt;

  &lt;p&gt;The problem with reading special keys is that they often are multiple bytes, including awkward characters such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;escape&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&lt;/code&gt;.
You can do this with bash, but then you have to solve the problem of portably determining what special key this was.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dialog&lt;/code&gt; both handles input of special keys and takes over (temporarily) your display.
If you really want a simple command-line program, that isn’t &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dialog&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;Here is a simple program in C which reads a special key and prints it in printable (and portable) form:&lt;/p&gt;

  &lt;p&gt;&amp;lt; … &amp;gt;&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;man getcap(3)
      String capability values may contain any character.  Non-printable ASCII
      codes, new lines, and colons may be conveniently represented by the use
      of escape sequences:
  
       ^X        (&apos;X&apos; &amp;amp; 037)          control-X
       \b, \B    (ASCII 010)          backspace
       \t, \T    (ASCII 011)          tab
       \n, \N    (ASCII 012)          line feed (newline)
       \f, \F    (ASCII 014)          form feed
       \r, \R    (ASCII 015)          carriage return
       \e, \E    (ASCII 027)          escape
       \c, \C    (:)                  colon
       \\        (\)                  back slash
       \^        (^)                  caret
       \nnn      (ASCII octal nnn)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;man terminfo(5)
         A number of escape sequences are provided in the string valued
         capabilities for easy encoding of characters there.  Both \E and \e map
         to an ESCAPE character, ^x maps to a control-x for any appropriate x,
         and the sequences \n \l \r \t \b \f \s give a newline, line-feed,
         return, tab, backspace, form-feed, and space.  


     Predefined Capabilities
         The following is a complete table of the capabilities included in a
         terminfo description block and available to terminfo-using code.  In
         each line of the table,
  
         The variable is the name by which the programmer (at the terminfo
         level) accesses the capability.
  
         The capname is the short name used in the text of the database, and is
         used by a person updating the database.  Whenever possible, capnames
         are chosen to be the same as or similar to the ANSI X3.64-1979 standard
         (now superseded by ECMA-48, which uses identical or very similar
         names).  Semantics are also intended to match those of the
         specification.
  
         The termcap code is the old termcap capability name (some capabilities
         are new, and have names which termcap did not originate).
  
         Capability names have no hard length limit, but an informal limit of 5
         characters has been adopted to keep them short and to allow the tabs in
         the source file Caps to line up nicely.
  
         Finally, the description field attempts to convey the semantics of the
         capability.  You may find some codes in the description field:
  
         (P)    indicates that padding may be specified
         #[1-9] in the description field indicates that the string is passed
                through tparm with parms as given (#i).
         (P*)   indicates that padding may vary in proportion to the number of
                lines affected
         (#i)   indicates the ith parameter.


         These are the boolean capabilities:
         ---- snip ----

         These are the numeric capabilities:
         ---- snip ----

         The following numeric capabilities are present in the SVr4.0 term
         structure, but are not yet documented in the man page.  They came in
         with SVr4&apos;s printer support.
         ---- snip ----

         These are the string capabilities:

                   Variable            Cap-     TCap   Description
                    String             name     Code
         ---- snip ----
           clear_all_tabs              tbc      ct     clear all tab stops (P)
         ---- snip ----
           clear_screen                clear    cl     clear screen and home
                                                       cursor (P*)
           clr_bol                     el1      cb     Clear to beginning of
                                                       line
           clr_eol                     el       ce     clear to end of line
                                                       (P)
           clr_eos                     ed       cd     clear to end of screen
                                                       (P*)
           column_address              hpa      ch     horizontal position
                                                       #1, absolute (P)
         ---- snip ----

           cursor_address              cup      cm     move to row #1 columns
                                                       #2
           cursor_down                 cud1     do     down one line
           cursor_home                 home     ho     home cursor (if no
                                                       cup)
         ---- snip ----
           enter_blink_mode            blink    mb     turn on blinking
           enter_bold_mode             bold     md     turn on bold (extra
                                                       bright) mode
           enter_ca_mode               smcup    ti     string to start
                                                       programs using cup
         ---- snip ----
           enter_shadow_mode           sshm     ZM     Enter shadow-print
                                                       mode
           enter_standout_mode         smso     so     begin standout mode
           enter_subscript_mode        ssubm    ZN     Enter subscript mode
           enter_superscript_mode      ssupm    ZO     Enter superscript mode
           enter_underline_mode        smul     us     begin underline mode
         ---- snip ----
           exit_attribute_mode         sgr0     me     turn off all
                                                       attributes
           exit_ca_mode                rmcup    te     strings to end
                                                       programs using cup
           exit_delete_mode            rmdc     ed     end delete mode
           exit_doublewide_mode        rwidm    ZQ     End double-wide mode
           exit_insert_mode            rmir     ei     exit insert mode
           exit_italics_mode           ritm     ZR     End italic mode
           exit_leftward_mode          rlm      ZS     End left-motion mode
           exit_micro_mode             rmicm    ZT     End micro-motion mode
           exit_shadow_mode            rshm     ZU     End shadow-print mode
           exit_standout_mode          rmso     se     exit standout mode
         ---- snip ----
           newline                     nel      nw     newline (behave like
                                                       cr followed by lf)
         ---- snip ----
           set_background              setb     Sb     Set background color #1
         ---- snip ----
           set_foreground              setf     Sf     Set foreground color #1
         ---- snip ----

         The following string capabilities are present in the SVr4.0 term
         structure, but were originally not documented in the man page.
  
  
                    Variable            Cap-       TCap   Description
                     String             name       Code

                    ---- snip ----
            set_a_background            setab      AB     Set background
                                                          color to #1, using
                                                          ANSI escape
            set_a_foreground            setaf      AF     Set foreground
                                                          color to #1, using
                                                          ANSI escape
                    ---- snip ----


          The XSI Curses standard added these hardcopy capabilities.  They were
          used in some post-4.1 versions of System V curses, e.g., Solaris 2.5
          and IRIX 6.x.  Except for YI, the ncurses termcap names for them are
          invented.  According to the XSI Curses standard, they have no termcap
          names.  If your compiled terminfo entries use these, they may not be
          binary-compatible with System V terminfo entries after SVr4.1; beware!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;man user_caps(5)
             using a list of extended key names, ask tigetstr(3X) for their
             values, and
  
             given the list of values, ask key_defined(3X) for the key-code
             which would be returned for those keys by wgetch(3X).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;man cat(1)
       -v      Display non-printing characters so they are visible.  Control
               characters print as ‘^X’ for control-X; the delete character
               (octal 0177) prints as ‘^?’.  Non-ASCII characters (with the high
               bit set) are printed as ‘M-’ (for meta) followed by the character
               for the low 7 bits.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Control-V&quot;&gt;Control-V – Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In computing, &lt;em&gt;Control-V&lt;/em&gt; is a key stroke with a variety of uses including generation of a &lt;em&gt;control character&lt;/em&gt; in &lt;em&gt;ASCII code&lt;/em&gt;, also known as the &lt;em&gt;synchronous idle (SYN)&lt;/em&gt; character.
The key stroke is generated by pressing the V key while holding down the Ctrl key on a computer keyboard.
For MacOS based systems, which lack a Ctrl key, the common replacement of the ⌘ Cmd key works.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Caret_notation&quot;&gt;Caret notation – Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Caret notation (also known as ^-notation) is a notation for control characters in ASCII.
The notation assigns &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^A&lt;/code&gt; to control-code &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt;, sequentially through the alphabet to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^Z&lt;/code&gt; assigned to control-code &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;26 (0x1A)&lt;/code&gt;.
For the control-codes outside of the range 1–26, the notation extends to the adjacent, non-alphabetic ASCII characters.&lt;/p&gt;

  &lt;p&gt;Often a control character can be typed on a keyboard by holding down the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; and typing the character shown after the &lt;em&gt;caret&lt;/em&gt;.
The notation is often used to describe keyboard shortcuts even though the control character is not actually used (as in “type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^X&lt;/code&gt; to cut the text”).&lt;/p&gt;

  &lt;p&gt;The meaning or interpretation of, or response to the individual control-codes is not prescribed by the caret notation.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The notation consists of a &lt;em&gt;caret (^)&lt;/em&gt; followed by a single character (usually a capital letter).
The character has the ASCII code equal to the control code with the bit representing 0x40 reversed.
A useful mnemonic, this has the effect of rendering the control codes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt; through &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;26&lt;/code&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^A&lt;/code&gt; through &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^Z&lt;/code&gt;
 Seven ASCII control characters map outside the upper-case alphabet: 0 (NUL) is ^@, 27 (ESC) is ^[, 28 is ^\, 29 is ^], 30 is ^^, 31 is ^_, and 127 (DEL) is ^?.&lt;/p&gt;

  &lt;p&gt;Examples are &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^M^J&lt;/code&gt; for the Windows CR, LF &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;newline pair&lt;/code&gt;, and describing the &lt;em&gt;ANSI escape sequence&lt;/em&gt; to &lt;em&gt;clear the screen&lt;/em&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[[3J&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;Only the use of characters in the range of 63–95 (“?@ABC…XYZ[]^_”) is specifically allowed in the notation, but use of lower-case alphabetic characters entered at the keyboard is nearly always allowed - they are treated as equivalent to upper-case letters.
When converting to a control character, except for ‘?’, masking with 0x1F will produce the same result and also turn lower-case into the same control character as upper-case.&lt;/p&gt;

  &lt;p&gt;There is no corresponding version of the caret notation for control-codes with more than 7 bits such as the &lt;em&gt;C1 control characters&lt;/em&gt; from 128-159 (0x80-0x9F). Some programs that produce caret notation show these as backslash and &lt;em&gt;octal&lt;/em&gt; (“\200” through “\237”).&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Escape_character&quot;&gt;Escape character - Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In computing and telecommunication, an escape character is a character which invokes an alternative interpretation on subsequent characters in a character sequence.
An escape character is a particular case of metacharacters.
Generally, the judgment of whether something is an escape character or not depends on the context.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Esc_key&quot;&gt;Esc key - Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;On computer keyboards, the Esc key (named Escape key in the international standard series ISO/IEC 9995) is a key used to generate the escape character (which can be represented as ASCII code 27 in decimal, Unicode U+001B, or Ctrl+[).
The escape character, when sent from the keyboard to a computer, often is interpreted by software as “stop”, and when sent from the computer to an external device (including many printers since the 1980s, computer terminals and Linux consoles, for example) marks the beginning of an escape sequence to specify operating modes or characteristics generally.&lt;/p&gt;

  &lt;p&gt;It is now generally placed at the top left corner of the keyboard, a convention dating at least to the original IBM PC keyboard, though the key itself originated decades earlier with teletypewriters.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/ASCII&quot;&gt;ASCII - Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ASCII (/ˈæskiː/ ASS-kee), abbreviated from American Standard Code for Information Interchange, is a &lt;em&gt;character encoding&lt;/em&gt; standard for &lt;em&gt;electronic communication&lt;/em&gt;.
ASCII codes represent text in computers, telecommunications equipment, and other devices. Most modern character-encoding schemes are based on ASCII, although they support many additional characters.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Character groups&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Control characters&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Escape&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Many more of the control codes have been given meanings quite different from their original ones.
The “escape” character (ESC, code 27), for example, was intended originally to allow sending other control characters as literals instead of invoking their meaning.
This is the same meaning of “escape” encountered in URL encodings, &lt;em&gt;C language&lt;/em&gt; strings, and other systems where certain characters have a reserved meaning.
Over time this meaning has been co-opted and has eventually been changed.&lt;/p&gt;

  &lt;p&gt;In modern use, an ESC sent to the terminal usually indicates the start of a command sequence usually in the form of a so-called “ANSI escape code” - or -, more properly, a &lt;strong&gt;“Control Sequence Introducer”&lt;/strong&gt; (&lt;strong&gt;CSI&lt;/strong&gt;) from &lt;em&gt;ECMA-48 (1972)&lt;/em&gt; and its successors, &lt;em&gt;beginning&lt;/em&gt; with &lt;strong&gt;ESC&lt;/strong&gt; &lt;em&gt;followed&lt;/em&gt; by a &lt;strong&gt;”[” (left-bracket)&lt;/strong&gt; character.
An ESC sent from the terminal is most often used as an out-of-band character used to terminate an operation, as in the &lt;em&gt;TECO&lt;/em&gt; and &lt;em&gt;vi text editors&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;In graphical user interface (GUI) and windowing systems, ESC generally causes an application to abort its current operation or to exit (terminate) altogether.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Notes&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;Note c.  &lt;strong&gt;Caret notation&lt;/strong&gt; (aka ^-notation) is often used to represent control characters on a terminal.
On most text terminals, holding down the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; key while typing the second character will type the &lt;em&gt;control character&lt;/em&gt;.
Sometimes the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shift&lt;/code&gt; key is not needed, for instance &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^@&lt;/code&gt; may be typable with just &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;2&lt;/code&gt; (notation: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+2&lt;/code&gt;) or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Space&lt;/code&gt; (notation: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+Space&lt;/code&gt;).&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/ANSI_escape_code&quot;&gt;ANSI escape code - Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ANSI escape sequences are a standard for in-band signaling to control the cursor location, color, and other options on video text terminals and terminal emulators.
Certain sequences of bytes, most starting with Esc and ‘[’, are embedded into the text, which the terminal looks for and interprets as commands, not as character codes.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Escape sequences&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Sequences have different lengths.
All sequences start with ESC (27 / hex 0x1B / oct 033), followed by a second byte in the range 0x40–0x5F (ASCII @A–Z[]^_).&lt;/p&gt;

  &lt;p&gt;The standard says that in 8-bit environments these two-byte sequences can be merged into single C1 control code in the 0x80–0x9F range.
However, on modern devices those codes are often used for other purposes, such as parts of UTF-8 or for CP-1252 characters, so only the 2-byte sequence is typically used.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From 
&lt;a href=&quot;https://web.archive.org/web/20210205090809/https://en.wikipedia.org/wiki/ANSI_escape_code&quot;&gt;ANSI escape code - Wikipedia - archived on Feb 5, 2021&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Escape sequences&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Escape sequences vary in length.
The general format for an ANSI-compliant escape sequence is defined by &lt;strong&gt;ANSI X3.41&lt;/strong&gt; (equivalent to ECMA-35 or ISO/IEC 2022).
The &lt;strong&gt;ESC&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;27&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x1B&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;033&lt;/code&gt;) is followed by zero or more intermediate “&lt;strong&gt;I&lt;/strong&gt;” bytes between hex 0x20 and 0x2F inclusive, followed by a final “F” byte between 0x30 and 0x7E inclusive.&lt;/p&gt;

  &lt;p&gt;Additionally, some control functions take additional parameter data following the ESC sequence itself, i.e. after the F byte of the ESC sequence.
Specifically, the ESC sequence for &lt;strong&gt;CSI&lt;/strong&gt; (&lt;em&gt;Control Sequence Introducer&lt;/em&gt;) (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x1B 0x5B&lt;/code&gt;, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC [&lt;/code&gt;) is itself followed by a sequence of parameter and intermediate bytes, followed by a final byte between 0x40 and 0x7E; the entire sequence including both the ESC sequence for &lt;em&gt;CSI&lt;/em&gt; and the subsequent parameter and identifier bytes is dubbed a &lt;em&gt;“control sequence”&lt;/em&gt; by &lt;em&gt;ECMA-48 (ANSI X3.64 / ISO 6429)&lt;/em&gt;.
Additionally, the ESC sequences for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DCS&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SOS&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OSC&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PM&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;APC&lt;/code&gt; are followed by a variable-length sequence of parameter data terminated by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ST&lt;/code&gt;; this is known as a &lt;em&gt;“control string”&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;ANSI X3.41 / ECMA-35 divides escape sequences into several broad categories:&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Type Fe&lt;/strong&gt;&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;Escape sequences with no &lt;strong&gt;I&lt;/strong&gt; bytes, and an &lt;strong&gt;F&lt;/strong&gt; byte between 0x40 and 0x5F inclusive.
Delegated to the applicable &lt;em&gt;C1 control code&lt;/em&gt; standard.
Accordingly, all escape sequences corresponding to C1 control codes from ANSI X3.64 / ECMA-48 follow this format.&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;&lt;strong&gt;Type Fs&lt;/strong&gt;&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;Escape sequences with no &lt;strong&gt;I&lt;/strong&gt; bytes, and an &lt;strong&gt;F&lt;/strong&gt; byte between 0x60 and 0x7E inclusive.
Used for control functions individually registered with the &lt;em&gt;ISO-IR&lt;/em&gt; registry and, consequently, available even in contexts where a different C1 control code set is used.
Specifically, they correspond to single control functions approved by &lt;em&gt;ISO/IEC JTC 1/SC 2&lt;/em&gt; and standardized by ISO or an ISO-recognised body.
Some of these are specified in ECMA-35 (ISO 2022 / ANSI X3.41), others in ECMA-48 (ISO 6429 / ANSI X3.64).
ECMA-48 refers to these as “independent control functions”.&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;&lt;strong&gt;Type Fp&lt;/strong&gt;&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;Escape sequences with no &lt;strong&gt;I&lt;/strong&gt; bytes, and an &lt;strong&gt;F&lt;/strong&gt; byte between 0x30 and 0x3F inclusive.
Set apart for private-use control functions.&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;&lt;strong&gt;Type nF&lt;/strong&gt;&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;Escape sequences with one or more &lt;strong&gt;I&lt;/strong&gt; bytes.
They are further subcategorised by the low four bits of the first &lt;strong&gt;I&lt;/strong&gt; byte, e.g. “type 2F” for sequences where the first &lt;strong&gt;I&lt;/strong&gt; byte is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x22&lt;/code&gt;, and by whether the &lt;strong&gt;F&lt;/strong&gt; byte is in the private use range from 0x30 and 0x3F inclusive (e.g. “type 2Fp”) or not (e.g. “type 2Ft”).
They are mostly used for ANSI/ISO code-switching mechanisms such as those used by &lt;em&gt;ISO-2022-JP&lt;/em&gt;, except for type &lt;em&gt;3F&lt;/em&gt; sequences (those where the first intermediate byte is 0x23), which are used for individual control functions. 
Type &lt;em&gt;3Ft&lt;/em&gt; sequences are reserved for additional ISO-IR registered individual control functions, while type &lt;em&gt;3Fp&lt;/em&gt; sequences are available for private-use control functions.&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;The standard says that, in 8-bit environments, the control functions corresponding to type &lt;em&gt;Fe&lt;/em&gt; escape sequences (those from the set of &lt;em&gt;C1 control codes&lt;/em&gt;) can be represented as single bytes in the 0x80–0x9F range.
However, on modern devices those codes are often used for other purposes, such as parts of &lt;em&gt;UTF-8&lt;/em&gt; or for &lt;em&gt;CP-1252&lt;/em&gt; characters, so only the 2-byte sequence is typically used.
(In the case of UTF-8 and other Unicode encodings, C1 can be encoded as their Unicode codepoints [e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\xC2\x8E&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+008E&lt;/code&gt;], but no space is saved this way.)&lt;/p&gt;

  &lt;p&gt;Other C0 codes besides ESC - commonly BEL, BS, CR, LF, FF, TAB, VT, SO, and SI - produce similar or identical effects to some control sequences when output.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;Some type Fe (C1 set element) ANSI escape sequences (not an exhaustive list)&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+-----------------+-------+------------+-------------------------------+
| Sequence | C1   | Short | Name       | Effect                        |
+----------+------+-------+------------+-------------------------------+
|                                                                      |
|                       ---- snip ----                                 |
|                                                                      |
| ESC [    | 0x9B | CSI   | Control    | Most of the useful sequences. |
|          |      |       | Sequence   |                               |
|          |      |       | Introducer |                               | 
+----------+------+-------+------------+-------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Control Sequence Introducer sequences - CSI sequences&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;For &lt;em&gt;Control Sequence Introducer&lt;/em&gt;, or &lt;em&gt;CSI&lt;/em&gt; commands, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC [&lt;/code&gt; is &lt;em&gt;followed by&lt;/em&gt; any number (including none) of &lt;strong&gt;“parameter bytes”&lt;/strong&gt; in the range 0x30–0x3F (ASCII &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0–9:;&amp;lt;=&amp;gt;?&lt;/code&gt;), then by any number of &lt;strong&gt;“intermediate bytes”&lt;/strong&gt; in the range 0x20–0x2F (ASCII &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;space&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;!&quot;#$%&amp;amp;&apos;()*+,-./&lt;/code&gt;), then finally by a single &lt;strong&gt;“final byte”&lt;/strong&gt; in the range 0x40–0x7E (ASCII &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@A–Z[\]^_`a–z{|}~&lt;/code&gt;).&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Escape_sequence&quot;&gt;Escape sequence - Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Control sequences&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;When directed this series of &lt;em&gt;characters&lt;/em&gt; is used to change the &lt;em&gt;state&lt;/em&gt; of &lt;em&gt;computers&lt;/em&gt; and their attached &lt;em&gt;peripheral&lt;/em&gt; devices, rather than to be displayed or printed as regular &lt;em&gt;data bytes&lt;/em&gt; would be, these are also known as &lt;strong&gt;control sequences&lt;/strong&gt;, reflecting their use in &lt;em&gt;device control&lt;/em&gt;, beginning with the &lt;strong&gt;Control Sequence Initiator&lt;/strong&gt; (or &lt;strong&gt;Control Sequence Introducer&lt;/strong&gt;) - originally the &lt;strong&gt;“escape character”&lt;/strong&gt; &lt;em&gt;ASCII code&lt;/em&gt; - character &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;27&lt;/code&gt; (decimal) - often written &lt;strong&gt;“Esc”&lt;/strong&gt; on &lt;em&gt;keycaps&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;With the introduction of &lt;em&gt;ANSI terminals&lt;/em&gt; most escape sequences began with the &lt;strong&gt;two&lt;/strong&gt; characters &lt;strong&gt;“ESC”&lt;/strong&gt; then &lt;strong&gt;”[“&lt;/strong&gt; or a specially-allocated &lt;strong&gt;CSI&lt;/strong&gt; character with a code &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;155&lt;/code&gt; (decimal).&lt;/p&gt;

  &lt;p&gt;Not all control sequences used an escape character; for example:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;modem control sequences used by &lt;em&gt;AT/Hayes-compatible modems&lt;/em&gt;,&lt;/li&gt;
    &lt;li&gt;&lt;em&gt;Data General&lt;/em&gt; terminal control sequences, but they often were still called escape sequences, and the very common use of “escaping” special characters in programming languages and command-line parameters today often use the “&lt;strong&gt;backslash&lt;/strong&gt;” character to begin the sequence.&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;Escape sequences in communications are commonly used when a computer and a peripheral have only a &lt;em&gt;single channel&lt;/em&gt; through which to send information back and forth (so escape sequences are an example of &lt;em&gt;in-band signaling&lt;/em&gt;).
They were common when most &lt;em&gt;dumb terminals&lt;/em&gt; used &lt;em&gt;ASCII&lt;/em&gt; with 7 data bits for communication, and sometimes would be used to switch to a different character set for “foreign” or graphics characters that would otherwise been restricted by the 128 codes available in 7 data bits.
Even relatively “dumb” terminals responded to some escape sequences, including the &lt;em&gt;original mechanical Teletype&lt;/em&gt; printers (on which “&lt;em&gt;glass Teletypes&lt;/em&gt;” or &lt;em&gt;VDUs&lt;/em&gt; were based) responded to characters 27 and 31 to alternate between letters and figures modes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ASCII video data terminals
The VT52 terminal used simple digraph commands like escape-A: in isolation, “A” simply meant the letter “A”, but as part of the escape sequence “escape-A”, it had a different meaning. The VT52 also supported parameters: it was not a straightforward control language encoded as substitution.&lt;/p&gt;

&lt;p&gt;The later VT100 terminal implemented the more sophisticated ANSI escape sequences standard (now ECMA-48) for functions such as controlling cursor movement, character set, and display enhancements. The Hewlett Packard HP 2640 series had perhaps the most elaborate escape sequences for block and character modes, programming keys and their soft labels, graphics vectors, and even saving data to tape or disk files.&lt;/p&gt;

&lt;p&gt;Use in Linux and Unix displays
The default text terminal, and text windows (such as using xterm) respond to ANSI escape sequences.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://gist.github.com/fnky/458719343aabd01cfb17a3a4f7296797&quot;&gt;ANSI Escape Sequences - Christian Petersen - GitHub Gist&lt;/a&gt;:
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;ANSI Escape Sequences&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Standard escape codes are prefixed with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Escape&lt;/code&gt;:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;Ctrl-Key: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;Octal: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\033&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;Unicode: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\u001b&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;Hexadecimal: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\x1B&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;Decimal: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;27&lt;/code&gt;&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;&lt;em&gt;Followed by&lt;/em&gt; the &lt;em&gt;command&lt;/em&gt;, sometimes delimited by opening square bracket (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt;), known as a &lt;strong&gt;Control Sequence Introducer&lt;/strong&gt; (&lt;strong&gt;CSI&lt;/strong&gt;), optionally followed by arguments and the command itself.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Arguments&lt;/em&gt; are &lt;em&gt;delimeted&lt;/em&gt; by &lt;em&gt;semi colon&lt;/em&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;;&lt;/code&gt;).&lt;/p&gt;

  &lt;p&gt;For example:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;\x1b[1;31m  # Set style to bold, red foreground.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;&lt;strong&gt;Sequences&lt;/strong&gt;&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;&lt;strong&gt;ESC&lt;/strong&gt; - sequence starting with &lt;strong&gt;ESC&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\x1B&lt;/code&gt;)&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;CSI&lt;/strong&gt; - Control Sequence Introducer: sequence starting with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC [&lt;/code&gt; or &lt;strong&gt;CSI&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\x9B&lt;/code&gt;)&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;DCS&lt;/strong&gt; - Device Control String: sequence starting with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC P&lt;/code&gt; or &lt;strong&gt;DCS&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\x90&lt;/code&gt;)&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;OSC&lt;/strong&gt; - Operating System Command: sequence starting with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC ]&lt;/code&gt; or &lt;strong&gt;OSC&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\x9D&lt;/code&gt;)&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;Any &lt;em&gt;whitespaces&lt;/em&gt; between sequences and arguments should be &lt;em&gt;ignored&lt;/em&gt;.
They are present for &lt;em&gt;improved readability&lt;/em&gt;.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20211210075615/https://en.wikipedia.org/wiki/C0_and_C1_control_codes&quot;&gt;C0 and C1 control codes - Wikipedia - archived on Dec 10, 2021&lt;/a&gt;:  &lt;br /&gt;
The first column is named &lt;strong&gt;Seq&lt;/strong&gt; (instead of Caret notation).&lt;/p&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20220111021139/https://en.wikipedia.org/wiki/C0_and_C1_control_codes&quot;&gt;C0 and C1 control codes - Wikipedia - archived on Jan 11, 2022&lt;/a&gt;:  &lt;br /&gt;
The first column is named &lt;strong&gt;Caret notation&lt;/strong&gt; (instead of &lt;strong&gt;Seq&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/C0_and_C1_control_codes#ESC&quot;&gt;C0 and C1 control codes - ESC (Escape) Character – Wikipedia&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;C0 and C1 control codes&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The &lt;strong&gt;C0 and C1 control code&lt;/strong&gt; or &lt;strong&gt;control character&lt;/strong&gt; sets define control codes for use in text by computer systems that use &lt;em&gt;ASCII&lt;/em&gt; and derivatives of ASCII.
The codes represent additional information about the text, such as the position of a cursor, an instruction to start a new line, or a message that the text has been received.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;C0&lt;/strong&gt; codes are the range &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;00 - 1F&lt;/code&gt; (hexadecimal) and the default &lt;strong&gt;C0&lt;/strong&gt; set was originally defined in &lt;em&gt;ISO 646&lt;/em&gt; (&lt;em&gt;ASCII&lt;/em&gt;).&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;C1&lt;/strong&gt; codes are the range &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;80 - 9F&lt;/code&gt; (hexadecimal) and the default &lt;strong&gt;C1&lt;/strong&gt; set was originally defined in &lt;em&gt;ECMA-48&lt;/em&gt; (harmonized later with &lt;em&gt;ISO 6429&lt;/em&gt;).
The &lt;em&gt;ISO/IEC 2022&lt;/em&gt; system of specifying control and graphic characters allows other C0 and C1 sets to be available for specialized applications, but they are rarely used.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;C0 controls&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;ASCII defined 32 control characters, plus a necessary extra character for the DEL character, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;7F&lt;/code&gt; (hexadecimal) or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;01111111&lt;/code&gt; (binary) (needed to punch out all the holes on a paper tape and erase it).&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;ASCII control codes, originally defined in ANSI X3.4.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+----------+-----+-----+----------------+--------+--------+-------------+---------------------------+
| Seq,     |     |     | Acronym        |        |        | C           | Description               |
| aka      | Dec | Hex | (Abbreviation) | Symbol | Name   | Programming |                           |
| Caret    |     |     |                |        |        | Language,   |                           |
| notation |     |     |                |        |        | aka         |                           |
|          |     |     |                |        |        | C escape    |                           |
+----------+-----+-----+----------------+--------+--------+-------------+---------------------------+
|                                                                                                   |
|                                     ---- snip ----                                                |
|                                                                                                   |
+----------+-----+-----+----------------+--------+--------+-------------+---------------------------+
| ^[       | 27  | 1B  | ESC            | ␛     | Escape | \e          | Alters the                |
|          |     |     |                |        |        | *[NOTE]     | the meaning of a          |
|          |     |     |                |        |        |             | limited number            |
|          |     |     |                |        |        |             | of following              |
|          |     |     |                |        |        |             | bytes.                    |
|          |     |     |                |        |        |             |                           |
|          |     |     |                |        |        |             | Nowadays this is          |
|          |     |     |                |        |        |             | almost always used        |
|          |     |     |                |        |        |             | to introduce an           |
|          |     |     |                |        |        |             | **ANSI escape sequence.** |
|                                                                                                   |
|                                                                                                   |
|                                     ---- snip ----                                                |
|                                                                                                   |
+----------+-----+-----+----------------+--------+--------+-------------+---------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;*[NOTE]
For the C Programming Language:
The &apos;\e&apos; escape sequence is not part of ISO C and many other language specifications.
However, it is understood by several compilers, including GCC (GNU Compiler Collection).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;C1 controls&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;In 1973, &lt;em&gt;ECMA-35&lt;/em&gt; and &lt;em&gt;ISO 2022&lt;/em&gt; attempted to define a method so an 8-bit “extended ASCII” code could be converted to a corresponding 7-bit code, and vice versa.
In a 7-bit environment, the Shift Out (SO) would change the meaning of the 96 bytes 0x20 through 0x7F (i.e. all but the C0 control codes), to be the characters that an 8-bit environment would print if it used the same code with the high bit set.
This meant that the range 0x80 through 0x9F could not be printed in a 7-bit environment, thus it was decided that no alternative character set could use them, and that these codes should be additional control codes, which become known as the &lt;strong&gt;C1 control codes&lt;/strong&gt;.
To allow a 7-bit environment to use these new controls, the sequences &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC @&lt;/code&gt; through &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC _&lt;/code&gt; were to be considered equivalent.
The later &lt;em&gt;ISO 8859&lt;/em&gt; standards abandoned support for 7-bit codes, but preserved this range of control characters.&lt;/p&gt;

  &lt;p&gt;The first C1 control code set to be registered for use with ISO 2022 was &lt;em&gt;DIN 31626&lt;/em&gt;, a specialised set for bibliographic use which was registered in 1979.&lt;/p&gt;

  &lt;p&gt;The more common general-use &lt;em&gt;ISO/IEC 6429&lt;/em&gt; set was registered in &lt;em&gt;1983&lt;/em&gt;, although the &lt;em&gt;ECMA-48&lt;/em&gt; specification upon which it was based had been first published in 1976 and &lt;em&gt;JIS X 0211&lt;/em&gt; (formerly JIS C 6323).
Symbolic names defined by &lt;em&gt;RFC 1345&lt;/em&gt; and early drafts of ISO 10646, but not in ISO/IEC 6429 (PAD, HOP and SGC) are also used.&lt;/p&gt;

  &lt;p&gt;Except for SS2 and SS3 in &lt;em&gt;EUC-JP&lt;/em&gt; text, and NEL in text transcoded from &lt;em&gt;EBCDIC&lt;/em&gt;, the 8-bit forms of these codes were almost never used.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CSI&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DCS&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OSC&lt;/code&gt; are used to control &lt;em&gt;text terminals&lt;/em&gt; and &lt;em&gt;terminal emulators&lt;/em&gt;, but almost always by using their 7-bit escape code representations.
Nowadays if these codes are encountered it is far more likely they are intended to be printing characters from that position of &lt;em&gt;Windows-1252&lt;/em&gt; or &lt;em&gt;Mac OS Roman&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;ISO/IEC 6429 and RFC 1345 C1 control codes&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+------+-----+-----+------+------------+-----------------------------------------------------------+
| ESC+ | Dec | Hex | Abbr | Name       | Description                                               |
+------+-----+-----+------+------------+-----------------------------------------------------------+
|                                                                                                  | 
|                                  ---- snip ----                                                  |
|                                                                                                  |
+------+-----+-----+------+------------+-----------------------------------------------------------+
| [    | 155 | 9B  | CSI  | Control    | Used to introduce control sequences that take parameters. |
|      |     |     |      | Sequence   | Used for **ANSI escape sequences**.                       |
|      |     |     |      | Introducer |                                                           |
+------+-----+-----+------+------------+-----------------------------------------------------------+
|                                                                                                  |
|                                  ---- snip ----                                                  |
|                                                                                                  |
+------+-----+-----+------+----------+--------+----------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wiktionary.org/wiki/Appendix:Control_characters&quot;&gt;Appendix:Control characters - Wiktionary (The free dictionary)&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Besides alphabetic characters and symbols, &lt;em&gt;Unicode&lt;/em&gt; also includes a variety of &lt;em&gt;control characters&lt;/em&gt; with &lt;em&gt;no graphical representation&lt;/em&gt;.
While some of these are actually used to modify certain characters, others are largely disused remnants from older computing systems.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;C0 (ASCII and derivatives)&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;C0 control codes are in the Unicode range &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+0000&lt;/code&gt; - &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+001F&lt;/code&gt;, and were inherited from the &lt;em&gt;ASCII standard&lt;/em&gt;.
Often, these cannot be input directly because they fulfill specific low-level functions in the operating system.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+-----+-----+-----+---------+--------+--------+----------------------------------------------------+
| Seq | Dec | Hex | Acronym | Name   | C      |  Description                                       |
+-----+-----+-----+---------+--------+--------+----------------------------------------------------+
|                                                                                                  |
|                                      ---- snip ----                                              |
|                                                                                                  |
+-----+-----+-----+---------+--------+--------+----------------------------------------------------+
| ^[  | 27  | 1B  | ESC     | Escape |        | The **Esc key** on the keyboard will               |
|     |     |     |         |        |        | cause this character to be sent on                 |
|     |     |     |         |        |        | most systems.  It can be used in                   |
|     |     |     |         |        |        | software user interfaces to exit from              |
|     |     |     |         |        |        | a screen, menu, or mode, or in                     |
|     |     |     |         |        |        | device-control protocols (e.g., printers           |
|     |     |     |         |        |        | and terminals) to signal that what                 |
|     |     |     |         |        |        | follows is a **special command sequence**          |
|     |     |     |         |        |        | rather than normal text.  In systems based         |
|     |     |     |         |        |        | on ISO/IEC 2022, even if another set of            |
|     |     |     |         |        |        | C0 control codes are used, this octet is           |
|     |     |     |         |        |        | required to always represent the escape character. |
+-----+-----+-----+---------+--------+--------+----------------------------------------------------+
|                                                                                                  |
|                                      ---- snip ----                                              |
|                                                                                                  |
+-----+-----+-----+---------+--------+--------+----------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Metacharacter&quot;&gt;Metacharacter - Wikipedia&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A &lt;strong&gt;metacharacter&lt;/strong&gt; is a character that has a special meaning to a computer program, such as a shell interpreter or a regular expression (regex) engine.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ssh(1)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----

The options are as follows:
  
---- snip ----

-e escape_char
        Sets the escape character for sessions with a pty (default: ‘~’).
        The escape character is only recognized at the beginning of a
        line.  The escape character followed by a dot (‘.’) closes the
        connection; followed by control-Z suspends the connection; and
        followed by itself sends the escape character once.  Setting the
        character to “none” disables any escapes and makes the session
        fully transparent.

---- snip ----

ESCAPE CHARACTERS

---- snip ----
~^Z     Background ssh.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;On FreeBSD, refer to the following man pages:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curs_termcap(3X)
curses(3X)
curs_terminfo(3X)
curs_threads(3X)
ncurses(3X)
terminfo(5)
term_variables(3X)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ locate curses.h | grep -w curses
/usr/include/curses.h
/usr/local/include/ncurses/curses.h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /usr/include/curses.h
-r--r--r--  1 root  wheel 98K Apr  8  2021 /usr/include/curses.h

$ ls -lh /usr/local/include/ncurses/curses.h
-rw-r--r--  1 root  wheel 98K Oct  7 07:45 /usr/local/include/ncurses/curses.h

$ diff /usr/include/curses.h /usr/local/include/ncurses/curses.h | wc -l
     216
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff /usr/include/curses.h /usr/local/include/ncurses/curses.h | head
2c2
&amp;lt;  * Copyright 2018-2019,2020 Thomas E. Dickey                                *
---
&amp;gt;  * Copyright 2018-2020,2021 Thomas E. Dickey                                *
36c36
&amp;lt; /* $Id: curses.h.in,v 1.266 2020/02/08 10:51:53 tom Exp $ */
---
&amp;gt; /* $Id: curses.h.in,v 1.277 2021/09/24 16:07:37 tom Exp $ */
40a41,68
&amp;gt; /*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l /usr/include/curses.h
    2113 /usr/include/curses.h
 
$ wc -l /usr/local/include/ncurses/curses.h
    2114 /usr/local/include/ncurses/curses.h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ freebsd-version
12.0-RELEASE-p10
 
$ uname -a
FreeBSD freebsd3.my.domain 12.0-RELEASE-p10 FreeBSD 12.0-RELEASE-p10 GENERIC  amd64
 
$ ps $$
  PID TT  STAT    TIME COMMAND
53440  5  Ss   0:00.62 -tcsh (tcsh)
 
$ printf %s\\n &quot;$SHELL&quot;
/bin/tcsh
 
$ printf %s\\n &quot;$TERM&quot;
xterm-new
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tset -s
Erase is backspace.
set noglob;
setenv TERM xterm-new;
setenv TERMCAP &apos;xterm-new:@7=\EOF:@8=\EOM:F1=\E[23~:F2=\E[24~:K2=\EOE:Km=\E[M:k1=\EOP:k2=\EOQ:k3=\EOR:k4=\EOS:k5=\E[15~:k6=\E[17~:k7=\E[18~:k8=\E[19~:k9=\E[20~:k;=\E[21~:kI=\E[2~:kN=\E[6~:kP=\E[5~:kd=\EOB:kh=\EOH:kl=\EOD:kr=\EOC:ku=\EOA:am:bs:km:mi:ms:ut:xn:AX:Co#8:co#80:kn#12:li#24:pa#64:AB=\E[4%dm:AF=\E[3%dm:AL=\E[%dL:DC=\E[%dP:DL=\E[%dM:DO=\E[%dB:LE=\E[%dD:RI=\E[%dC:UP=\E[%dA:ae=\E(B:al=\E[L:as=\E(0:bl=^G:cd=\E[J:ce=\E[K:cl=\E[H\E[2J:cm=\E[%i%d;%dH:cs=\E[%i%d;%dr:ct=\E[3g:dc=\E[P:dl=\E[M:ei=\E[4l:ho=\E[H:im=\E[4h:is=\E[\041p\E[?3;4l\E[4l\E&amp;gt;:kD=\E[3~:kb=^H:ke=\E[?1l\E&amp;gt;:ks=\E[?1h\E=:kB=\E[Z:le=^H:md=\E[1m:me=\E[m:ml=\El:mr=\E[7m:mu=\Em:nd=\E[C:op=\E[39;49m:rc=\E8:rs=\E[\041p\E[?3;4l\E[4l\E&amp;gt;:sc=\E7:se=\E[27m:sf=^J:so=\E[7m:sr=\EM:st=\EH:ue=\E[24m:up=\E[A:us=\E[4m:ve=\E[?12l\E[?25h:vi=\E[?25l:vs=\E[?12;25h:&apos;;
unset noglob;
 
$ stty
speed 38400 baud;
lflags: echoe echok echoke echoctl
iflags: -ixany -imaxbel -brkint
oflags: tab3
cflags: cs7 parenb
erase   
^H      
 
$ stty -a
speed 38400 baud; 34 rows; 144 columns;
lflags: icanon isig iexten echo echoe echok echoke -echonl echoctl
        -echoprt -altwerase -noflsh -tostop -flusho -pendin -nokerninfo
        -extproc
iflags: -istrip icrnl -inlcr -igncr ixon -ixoff -ixany -imaxbel -ignbrk
        -brkint -inpck -ignpar -parmrk
oflags: opost onlcr -ocrnl tab3 -onocr -onlret
cflags: cread cs7 parenb -parodd hupcl -clocal -cstopb -crtscts -dsrflow
        -dtrflow -mdmbuf
cchars: discard = ^O; dsusp = ^Y; eof = ^D; eol = &amp;lt;undef&amp;gt;;
        eol2 = &amp;lt;undef&amp;gt;; erase = ^H; erase2 = ^H; intr = ^C; kill = ^U;
        lnext = ^V; min = 1; quit = ^\; reprint = ^R; start = ^Q;
        status = ^T; stop = ^S; susp = ^Z; time = 0; werase = ^W;
 
$ stty -e
speed 38400 baud; 34 rows; 144 columns;
lflags: icanon isig iexten echo echoe echok echoke -echonl echoctl
        -echoprt -altwerase -noflsh -tostop -flusho -pendin -nokerninfo
        -extproc
iflags: -istrip icrnl -inlcr -igncr ixon -ixoff -ixany -imaxbel -ignbrk
        -brkint -inpck -ignpar -parmrk
oflags: opost onlcr -ocrnl tab3 -onocr -onlret
cflags: cread cs7 parenb -parodd hupcl -clocal -cstopb -crtscts -dsrflow
        -dtrflow -mdmbuf
discard dsusp   eof     eol     eol2    erase   erase2  intr    kill    
^O      ^Y      ^D      &amp;lt;undef&amp;gt; &amp;lt;undef&amp;gt; ^H      ^H      ^C      ^U      
lnext   min     quit    reprint start   status  stop    susp    time    
^V      1       ^\      ^R      ^Q      ^T      ^S      ^Z      0       
werase  
^W      
 
$ stty -g
gfmt1:cflag=5a00:iflag=300:lflag=5cf:oflag=7:discard=f:dsusp=19:eof=4:eol=ff:eol2=ff:erase=8:erase2=8:intr=3:kill=15:lnext=16:min=1:quit=1c:reprint=12:start=11:status=14:stop=13:susp=1a:time=0:werase=17:ispeed=38400:ospeed=38400
 
$ stty all
speed 38400 baud; 34 rows; 144 columns;
lflags: icanon isig iexten echo echoe echok echoke -echonl echoctl
        -echoprt -altwerase -noflsh -tostop -flusho -pendin -nokerninfo
        -extproc
iflags: -istrip icrnl -inlcr -igncr ixon -ixoff -ixany -imaxbel -ignbrk
        -brkint -inpck -ignpar -parmrk
oflags: opost onlcr -ocrnl tab3 -onocr -onlret
cflags: cread cs7 parenb -parodd hupcl -clocal -cstopb -crtscts -dsrflow
        -dtrflow -mdmbuf
discard dsusp   eof     eol     eol2    erase   erase2  intr    kill    
^O      ^Y      ^D      &amp;lt;undef&amp;gt; &amp;lt;undef&amp;gt; ^H      ^H      ^C      ^U      
lnext   min     quit    reprint start   status  stop    susp    time    
^V      1       ^\      ^R      ^Q      ^T      ^S      ^Z      0       
werase  
^W      
 
$ tty
/dev/pts/5
 
$ bindkey | wc -l
     155
 
$ bindkey | grep -i esc
 
$ bindkey | grep -i control
 
$ bindkey | grep -i ctrl
 
$ bindkey | grep &apos;\[&apos; | wc -l
      22
 
$ bindkey | grep &apos;\[&apos; 
&quot;^[&quot;           -&amp;gt;  vi-cmd-mode
&quot;^[&quot;           -&amp;gt;  sequence-lead-in
&quot;[&quot;            -&amp;gt;  sequence-lead-in
&quot;^[[A&quot;         -&amp;gt; history-search-backward
&quot;^[[B&quot;         -&amp;gt; history-search-forward
&quot;^[[C&quot;         -&amp;gt; forward-char
&quot;^[[D&quot;         -&amp;gt; backward-char
&quot;^[[H&quot;         -&amp;gt; beginning-of-line
&quot;^[[F&quot;         -&amp;gt; end-of-line
&quot;^[OA&quot;         -&amp;gt; history-search-backward
&quot;^[OB&quot;         -&amp;gt; history-search-forward
&quot;^[OC&quot;         -&amp;gt; forward-char
&quot;^[OD&quot;         -&amp;gt; backward-char
&quot;^[OH&quot;         -&amp;gt; beginning-of-line
&quot;^[OF&quot;         -&amp;gt; end-of-line
&quot;^[?&quot;          -&amp;gt; run-help
&quot;[A&quot;           -&amp;gt; history-search-backward
&quot;[B&quot;           -&amp;gt; history-search-forward
&quot;[C&quot;           -&amp;gt; forward-char
&quot;[D&quot;           -&amp;gt; backward-char
&quot;[H&quot;           -&amp;gt; beginning-of-line
&quot;[F&quot;           -&amp;gt; end-of-line
 
$ bindkey | grep &apos;\[&apos; | grep &apos;sequence-lead-in&apos;
&quot;^[&quot;           -&amp;gt;  sequence-lead-in
&quot;[&quot;            -&amp;gt;  sequence-lead-in
 
$ bindkey -l | wc -l
     246
 
$ bindkey -l 
backward-char
          Move back a character
backward-delete-char
          Delete the character behind cursor
backward-delete-word
          Cut from beginning of current word to cursor - saved in cut buffer
backward-kill-line
          Cut from beginning of line to cursor - save in cut buffer
backward-word
          Move to beginning of current word
beginning-of-line
          Move to beginning of line
capitalize-word
          Capitalize the characters from cursor to end of current word
change-case
          Vi change case of character under cursor and advance one character
change-till-end-of-line
          Vi change to end of line
clear-screen
          Clear screen leaving current line on top
complete-word
          Complete current word
complete-word-fwd
          Tab forward through files
complete-word-back
          Tab backward through files
complete-word-raw
          Complete current word ignoring programmable completions
copy-prev-word
          Copy current word to cursor
copy-region-as-kill
          Copy area between mark and cursor to cut buffer
dabbrev-expand
          Expand to preceding word for which this is a prefix
delete-char
          Delete character under cursor
delete-char-or-eof
          Delete character under cursor or signal end of file on an empty line
delete-char-or-list
          Delete character under cursor or list completions if at end of line
delete-char-or-list-or-eof
          Delete character under cursor, list completions or signal end of file
delete-word
          Cut from cursor to end of current word - save in cut buffer
digit
          Adds to argument if started or enters digit
digit-argument
          Digit that starts argument
down-history
          Move to next history line
downcase-word
          Lowercase the characters from cursor to end of current word
end-of-file
          Indicate end of file
end-of-line
          Move cursor to end of line
exchange-point-and-mark
          Exchange the cursor and mark
expand-glob
          Expand file name wildcards
expand-history
          Expand history escapes
expand-line
          Expand the history escapes in a line
expand-variables
          Expand variables
forward-char
          Move forward one character
forward-word
          Move forward to end of current word
gosmacs-transpose-chars
          Exchange the two characters before the cursor
history-search-backward
          Search in history backward for line beginning as current
history-search-forward
          Search in history forward for line beginning as current
insert-last-word
          Insert last item of previous command
i-search-fwd
          Incremental search forward
i-search-back
          Incremental search backward
keyboard-quit
          Clear line
kill-line
          Cut to end of line and save in cut buffer
kill-region
          Cut area between mark and cursor and save in cut buffer
kill-whole-line
          Cut the entire line and save in cut buffer
list-choices
          List choices for completion
list-choices-raw
          List choices for completion overriding programmable completion
list-glob
          List file name wildcard matches
list-or-eof
          List choices for completion or indicate end of file if empty line
load-average
          Display load average and current process status
magic-space
          Expand history escapes and insert a space
newline
          Execute command
newline-and-hold
          Execute command and keep current line
newline-and-down-history
          Execute command and move to next history line
normalize-path
          Expand pathnames, eliminating leading .&apos;s and ..&apos;s
normalize-command
          Expand commands to the resulting pathname or alias
overwrite-mode
          Switch from insert to overwrite mode or vice versa
prefix-meta
          Add 8th bit to next character typed
quoted-insert
          Add the next character typed to the line verbatim
redisplay
          Redisplay everything
run-fg-editor
          Restart stopped editor
run-help
          Look for help on current command
self-insert-command
          This character is added to the line
sequence-lead-in
          This character is the first in a character sequence
set-mark-command
          Set the mark at cursor
spell-word
          Correct the spelling of current word
spell-line
          Correct the spelling of entire line
stuff-char
          Send character to tty in cooked mode
toggle-literal-history
          Toggle between literal and lexical current history line
transpose-chars
          Exchange the character to the left of the cursor with the one under
transpose-gosling
          Exchange the two characters before the cursor
tty-dsusp
          Tty delayed suspend character
tty-flush-output
          Tty flush output character
tty-sigintr
          Tty interrupt character
tty-sigquit
          Tty quit character
tty-sigtsusp
          Tty suspend character
tty-start-output
          Tty allow output character
tty-stop-output
          Tty disallow output character
undefined-key
          Indicates unbound character
universal-argument
          Emacs universal argument (argument times 4)
up-history
          Move to previous history line
upcase-word
          Uppercase the characters from cursor to end of current word
vi-beginning-of-next-word
          Vi goto the beginning of next word
vi-add
          Vi enter insert mode after the cursor
vi-add-at-eol
          Vi enter insert mode at end of line
vi-chg-case
          Vi change case of character under cursor and advance one character
vi-chg-meta
          Vi change prefix command
vi-chg-to-eol
          Vi change to end of line
vi-cmd-mode
          Enter vi command mode (use alternative key bindings)
vi-cmd-mode-complete
          Vi command mode complete current word
vi-delprev
          Vi move to previous character (backspace)
vi-delmeta
          Vi delete prefix command
vi-endword
          Vi move to the end of the current space delimited word
vi-eword
          Vi move to the end of the current word
vi-char-back
          Vi move to the character specified backward
vi-char-fwd
          Vi move to the character specified forward
vi-charto-back
          Vi move up to the character specified backward
vi-charto-fwd
          Vi move up to the character specified forward
vi-insert
          Enter vi insert mode
vi-insert-at-bol
          Enter vi insert mode at beginning of line
vi-repeat-char-fwd
          Vi repeat current character search in the same search direction
vi-repeat-char-back
          Vi repeat current character search in the opposite search direction
vi-repeat-search-fwd
          Vi repeat current search in the same search direction
vi-repeat-search-back
          Vi repeat current search in the opposite search direction
vi-replace-char
          Vi replace character under the cursor with the next character typed
vi-replace-mode
          Vi replace mode
vi-search-back
          Vi search history backward
vi-search-fwd
          Vi search history forward
vi-substitute-char
          Vi replace character under the cursor and enter insert mode
vi-substitute-line
          Vi replace entire line
vi-word-back
          Vi move to the previous word
vi-word-fwd
          Vi move to the next word
vi-undo
          Vi undo last change
vi-zero
          Vi goto the beginning of line
which-command
          Perform which of current command
yank
          Paste cut buffer at cursor position
yank-pop
          Replace just-yanked text with yank from earlier kill
e_copy_to_clipboard
          (WIN32 only) Copy cut buffer to system clipboard
e_paste_from_clipboard
          (WIN32 only) Paste clipboard buffer at cursor position
e_dosify_next
          (WIN32 only) Convert each &apos;/&apos; in next word to &apos;\\&apos;
e_dosify_prev
          (WIN32 only) Convert each &apos;/&apos; in previous word to &apos;\\&apos;
e_page_up
          (WIN32 only) Page visible console window up
e_page_down
          (WIN32 only) Page visible console window down
 
$ bindkey -l | grep -A1 &apos;sequence-lead-in&apos;
sequence-lead-in
          This character is the first in a character sequence
 
$ bindkdy -a | wc -l
bindkdy: Command not found.
       0
 
$ bindkey -a | wc -l
     155
 
$ bindkey -a 
Standard key bindings
&quot;^@&quot;           -&amp;gt;  is undefined
&quot;^A&quot;           -&amp;gt;  beginning-of-line
&quot;^B&quot;           -&amp;gt;  backward-char
&quot;^C&quot;           -&amp;gt;  tty-sigintr
&quot;^D&quot;           -&amp;gt;  list-or-eof
&quot;^E&quot;           -&amp;gt;  end-of-line
&quot;^F&quot;           -&amp;gt;  forward-char
&quot;^G&quot;           -&amp;gt;  list-glob
&quot;^H&quot;           -&amp;gt;  backward-delete-char
&quot;^I&quot;           -&amp;gt;  complete-word
&quot;^J&quot;           -&amp;gt;  newline
&quot;^K&quot;           -&amp;gt;  kill-line
&quot;^L&quot;           -&amp;gt;  clear-screen
&quot;^M&quot;           -&amp;gt;  newline
&quot;^N&quot;           -&amp;gt;  down-history
&quot;^O&quot;           -&amp;gt;  tty-flush-output
&quot;^P&quot;           -&amp;gt;  up-history
&quot;^Q&quot;           -&amp;gt;  tty-start-output
&quot;^R&quot;           -&amp;gt;  redisplay
&quot;^S&quot;           -&amp;gt;  tty-stop-output
&quot;^T&quot;           -&amp;gt;  transpose-chars
&quot;^U&quot;           -&amp;gt;  backward-kill-line
&quot;^V&quot;           -&amp;gt;  quoted-insert
&quot;^W&quot;           -&amp;gt;  backward-delete-word
&quot;^X&quot;           -&amp;gt;  expand-line
&quot;^Y&quot;           -&amp;gt;  tty-dsusp
&quot;^Z&quot;           -&amp;gt;  tty-sigtsusp
&quot;^[&quot;           -&amp;gt;  vi-cmd-mode
&quot;^\&quot;           -&amp;gt;  tty-sigquit
&quot; &quot;  to &quot;~&quot;    -&amp;gt;  self-insert-command
&quot;^?&quot;           -&amp;gt;  backward-delete-char
&quot;B!&quot; to &quot;C?&quot;   -&amp;gt;  self-insert-command
Alternative key bindings
&quot;^@&quot;           -&amp;gt;  is undefined
&quot;^A&quot;           -&amp;gt;  beginning-of-line
&quot;^B&quot;           -&amp;gt;  is undefined
&quot;^C&quot;           -&amp;gt;  tty-sigintr
&quot;^D&quot;           -&amp;gt;  list-choices
&quot;^E&quot;           -&amp;gt;  end-of-line
&quot;^F&quot;           -&amp;gt;  is undefined
&quot;^G&quot;           -&amp;gt;  list-glob
&quot;^H&quot;           -&amp;gt;  backward-char
&quot;^I&quot;           -&amp;gt;  vi-cmd-mode-complete
&quot;^J&quot;           -&amp;gt;  newline
&quot;^K&quot;           -&amp;gt;  kill-line
&quot;^L&quot;           -&amp;gt;  clear-screen
&quot;^M&quot;           -&amp;gt;  newline
&quot;^N&quot;           -&amp;gt;  down-history
&quot;^O&quot;           -&amp;gt;  tty-flush-output
&quot;^P&quot;           -&amp;gt;  up-history
&quot;^Q&quot;           -&amp;gt;  tty-start-output
&quot;^R&quot;           -&amp;gt;  redisplay
&quot;^S&quot;           -&amp;gt;  tty-stop-output
&quot;^T&quot;           -&amp;gt;  is undefined
&quot;^U&quot;           -&amp;gt;  backward-kill-line
&quot;^V&quot;           -&amp;gt;  is undefined
&quot;^W&quot;           -&amp;gt;  backward-delete-word
&quot;^X&quot;           -&amp;gt;  expand-line
&quot;^[&quot;           -&amp;gt;  sequence-lead-in
&quot;^\&quot;           -&amp;gt;  tty-sigquit
&quot; &quot;            -&amp;gt;  forward-char
&quot;!&quot;            -&amp;gt;  expand-history
&quot;$&quot;            -&amp;gt;  end-of-line
&quot;*&quot;            -&amp;gt;  expand-glob
&quot;+&quot;            -&amp;gt;  down-history
&quot;,&quot;            -&amp;gt;  vi-repeat-char-back
&quot;-&quot;            -&amp;gt;  up-history
&quot;.&quot;            -&amp;gt;  is undefined
&quot;/&quot;            -&amp;gt;  vi-search-fwd
&quot;0&quot;            -&amp;gt;  vi-zero
&quot;1&quot;  to &quot;9&quot;    -&amp;gt;  digit-argument
&quot;:&quot;            -&amp;gt;  is undefined
&quot;;&quot;            -&amp;gt;  vi-repeat-char-fwd
&quot;?&quot;            -&amp;gt;  vi-search-back
&quot;@&quot;            -&amp;gt;  is undefined
&quot;A&quot;            -&amp;gt;  vi-add-at-eol
&quot;B&quot;            -&amp;gt;  vi-word-back
&quot;C&quot;            -&amp;gt;  change-till-end-of-line
&quot;D&quot;            -&amp;gt;  kill-line
&quot;E&quot;            -&amp;gt;  vi-endword
&quot;F&quot;            -&amp;gt;  vi-char-back
&quot;I&quot;            -&amp;gt;  vi-insert-at-bol
&quot;J&quot;            -&amp;gt;  history-search-forward
&quot;K&quot;            -&amp;gt;  history-search-backward
&quot;N&quot;            -&amp;gt;  vi-repeat-search-back
&quot;O&quot;            -&amp;gt;  sequence-lead-in
&quot;R&quot;            -&amp;gt;  vi-replace-mode
&quot;S&quot;            -&amp;gt;  vi-substitute-line
&quot;T&quot;            -&amp;gt;  vi-charto-back
&quot;U&quot;            -&amp;gt;  is undefined
&quot;V&quot;            -&amp;gt;  expand-variables
&quot;W&quot;            -&amp;gt;  vi-word-fwd
&quot;X&quot;            -&amp;gt;  backward-delete-char
&quot;[&quot;            -&amp;gt;  sequence-lead-in
&quot;\^&quot;           -&amp;gt;  beginning-of-line
&quot;a&quot;            -&amp;gt;  vi-add
&quot;b&quot;            -&amp;gt;  backward-word
&quot;c&quot;            -&amp;gt;  vi-chg-meta
&quot;d&quot;            -&amp;gt;  vi-delmeta
&quot;e&quot;            -&amp;gt;  vi-eword
&quot;f&quot;            -&amp;gt;  vi-char-fwd
&quot;g&quot;            -&amp;gt;  is undefined
&quot;h&quot;            -&amp;gt;  backward-char
&quot;i&quot;            -&amp;gt;  vi-insert
&quot;j&quot;            -&amp;gt;  down-history
&quot;k&quot;            -&amp;gt;  up-history
&quot;l&quot;            -&amp;gt;  forward-char
&quot;m&quot;            -&amp;gt;  is undefined
&quot;n&quot;            -&amp;gt;  vi-repeat-search-fwd
&quot;r&quot;            -&amp;gt;  vi-replace-char
&quot;s&quot;            -&amp;gt;  vi-substitute-char
&quot;t&quot;            -&amp;gt;  vi-charto-fwd
&quot;u&quot;            -&amp;gt;  vi-undo
&quot;v&quot;            -&amp;gt;  expand-variables
&quot;w&quot;            -&amp;gt;  vi-beginning-of-next-word
&quot;x&quot;            -&amp;gt;  delete-char-or-eof
&quot;~&quot;            -&amp;gt;  change-case
&quot;^?&quot;           -&amp;gt;  backward-delete-char
&quot;B?&quot;           -&amp;gt;  run-help
&quot;C&quot;           -&amp;gt;  sequence-lead-in
&quot;C&quot;           -&amp;gt;  sequence-lead-in
Multi-character bindings
&quot;^[[A&quot;         -&amp;gt; history-search-backward
&quot;^[[B&quot;         -&amp;gt; history-search-forward
&quot;^[[C&quot;         -&amp;gt; forward-char
&quot;^[[D&quot;         -&amp;gt; backward-char
&quot;^[[H&quot;         -&amp;gt; beginning-of-line
&quot;^[[F&quot;         -&amp;gt; end-of-line
&quot;^[OA&quot;         -&amp;gt; history-search-backward
&quot;^[OB&quot;         -&amp;gt; history-search-forward
&quot;^[OC&quot;         -&amp;gt; forward-char
&quot;^[OD&quot;         -&amp;gt; backward-char
&quot;^[OH&quot;         -&amp;gt; beginning-of-line
&quot;^[OF&quot;         -&amp;gt; end-of-line
&quot;^[?&quot;          -&amp;gt; run-help
&quot;[A&quot;           -&amp;gt; history-search-backward
&quot;[B&quot;           -&amp;gt; history-search-forward
&quot;[C&quot;           -&amp;gt; forward-char
&quot;[D&quot;           -&amp;gt; backward-char
&quot;[H&quot;           -&amp;gt; beginning-of-line
&quot;[F&quot;           -&amp;gt; end-of-line
&quot;OA&quot;           -&amp;gt; history-search-backward
&quot;OB&quot;           -&amp;gt; history-search-forward
&quot;OC&quot;           -&amp;gt; forward-char
&quot;OD&quot;           -&amp;gt; backward-char
&quot;OH&quot;           -&amp;gt; beginning-of-line
&quot;OF&quot;           -&amp;gt; end-of-line
Arrow key bindings
down           -&amp;gt; history-search-forward
up             -&amp;gt; history-search-backward
left           -&amp;gt; backward-char
right          -&amp;gt; forward-char
home           -&amp;gt; beginning-of-line
end            -&amp;gt; end-of-line
 
$ bindkey -a | grep -n &apos;sequence-lead-in&apos;
60:&quot;^[&quot;           -&amp;gt;  sequence-lead-in
87:&quot;O&quot;            -&amp;gt;  sequence-lead-in
95:&quot;[&quot;            -&amp;gt;  sequence-lead-in
121:&quot;Ï&quot;           -&amp;gt;  sequence-lead-in
122:&quot;Û&quot;           -&amp;gt;  sequence-lead-in
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &apos;%d\n&apos; &apos;&quot;^\&apos;
94
 
$ printf &apos;%d\n&apos; &apos;&quot;^[&apos;
94
$ 
$ printf &apos;%d\n&apos; &apos;\^[&apos;
printf: \^[: expected numeric value
0
 
$ printf &apos;%d\n&apos; 
0
 
$ printf &apos;%d\n&apos; 6
6
 
$ printf &apos;%d\n&apos; a
printf: a: expected numeric value
0
 
$ printf &apos;%d\n&apos; &apos;\a&apos;
printf: \a: expected numeric value
0
 
$ printf &apos;%d\n&apos; &apos;a&apos;
printf: a: expected numeric value
0
 
$ printf &apos;%s\n&apos; &quot;${red//$&apos;\e&apos;/\\E}&quot;
Missing &apos;}&apos;.
 
$ tput xterm-clear clear | od -c
0000000  033   [   H 033   [   2   J                                    
0000007
 
$ tput xterm-clear clear | od -x
0000000      5b1b    1b48    325b    004a                                
0000007
 
$ tput xterm-clear clear | od -d
0000000     23323    6984   12891      74                                
0000007
 
$ tput xterm-clear clear | od 
0000000    055433  015510  031133  000112                                
0000007
 
$ tput xterm-clear clear | od -b
0000000   033 133 110 033 133 062 112                                    
0000007
 
$ tput xterm-clear clear | od -c
0000000  033   [   H 033   [   2   J                                    
0000007
 
$ tput xterm-clear clear | od -a
0000000  esc   [   H esc   [   2   J                                    
0000007
 
$ tput xterm-clear clear | od -t a
0000000  esc   [   H esc   [   2   J                                    
0000007
 
$ tput xterm-clear clear | od -v
0000000    055433  015510  031133  000112                                
0000007
 
$ tput xterm-clear clear | od -a
0000000  esc   [   H esc   [   2   J                                    
0000007
 
$ tput xterm-clear clear | od -a -v
0000000  esc   [   H esc   [   2   J                                    
0000007
 
$ tput xterm-clear clear | od 
0000000    055433  015510  031133  000112                                
0000007
 
$ tput xterm-clear clear | hexdump -c
0000000 033   [   H 033   [   2   J                                    
0000007
 
$ tput xterm-clear clear | hexdump -b
0000000 033 133 110 033 133 062 112                                    
0000007
 
$ tput xterm-clear clear | hexdump -C
00000000  1b 5b 48 1b 5b 32 4a                              |.[H.[2J|
00000007
 
$ tput xterm-clear clear | hexdump -o
0000000  055433  015510  031133  000112                                
0000007
 
$ tput xterm-clear clear | hexdump -v
0000000 5b1b 1b48 325b 004a                    
0000007
 
$ tput xterm-clear clear | hexdump -v -C
00000000  1b 5b 48 1b 5b 32 4a                              |.[H.[2J|
00000007
 
$ tput xterm-clear clear | hexdump -v -o
0000000  055433  015510  031133  000112                                
0000007
 
$ tput xterm-clear clear | hexdump -v -b
0000000 033 133 110 033 133 062 112                                    
0000007
 
$ tput xterm-clear clear | hexdump -v -x
0000000    5b1b    1b48    325b    004a                                
0000007
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tset -S
Erase is backspace.
xterm-new xterm-new:@7=\EOF:@8=\EOM:F1=\E[23~:F2=\E[24~:K2=\EOE:Km=\E[M:k1=\EOP:k2=\EOQ:k3=\EOR:k4=\EOS:k5=\E[15~:k6=\E[17~:k7=\E[18~:k8=\E[19~:k9=\E[20~:k;=\E[21~:kI=\E[2~:kN=\E[6~:kP=\E[5~:kd=\EOB:kh=\EOH:kl=\EOD:kr=\EOC:ku=\EOA:am:bs:km:mi:ms:ut:xn:AX:Co#8:co#80:kn#12:li#24:pa#64:AB=\E[4%dm:AF=\E[3%dm:AL=\E[%dL:DC=\E[%dP:DL=\E[%dM:DO=\E[%dB:LE=\E[%dD:RI=\E[%dC:UP=\E[%dA:ae=\E(B:al=\E[L:as=\E(0:bl=^G:cd=\E[J:ce=\E[K:cl=\E[H\E[2J:cm=\E[%i%d;%dH:cs=\E[%i%d;%dr:ct=\E[3g:dc=\E[P:dl=\E[M:ei=\E[4l:ho=\E[H:im=\E[4h:is=\E[\041p\E[?3;4l\E[4l\E&amp;gt;:kD=\E[3~:kb=^H:ke=\E[?1l\E&amp;gt;:ks=\E[?1h\E=:kB=\E[Z:le=^H:md=\E[1m:me=\E[m:ml=\El:mr=\E[7m:mu=\Em:nd=\E[C:op=\E[39;49m:rc=\E8:rs=\E[\041p\E[?3;4l\E[4l\E&amp;gt;:sc=\E7:se=\E[27m:sf=^J:so=\E[7m:sr=\EM:st=\EH:ue=\E[24m:up=\E[A:us=\E[4m:ve=\E[?12l\E[?25h:vi=\E[?25l:vs=\E[?12;25h:$ 
 
$ tset -s
Erase is backspace.
set noglob;
setenv TERM xterm-new;
setenv TERMCAP &apos;xterm-new:@7=\EOF:@8=\EOM:F1=\E[23~:F2=\E[24~:K2=\EOE:Km=\E[M:k1=\EOP:k2=\EOQ:k3=\EOR:k4=\EOS:k5=\E[15~:k6=\E[17~:k7=\E[18~:k8=\E[19~:k9=\E[20~:k;=\E[21~:kI=\E[2~:kN=\E[6~:kP=\E[5~:kd=\EOB:kh=\EOH:kl=\EOD:kr=\EOC:ku=\EOA:am:bs:km:mi:ms:ut:xn:AX:Co#8:co#80:kn#12:li#24:pa#64:AB=\E[4%dm:AF=\E[3%dm:AL=\E[%dL:DC=\E[%dP:DL=\E[%dM:DO=\E[%dB:LE=\E[%dD:RI=\E[%dC:UP=\E[%dA:ae=\E(B:al=\E[L:as=\E(0:bl=^G:cd=\E[J:ce=\E[K:cl=\E[H\E[2J:cm=\E[%i%d;%dH:cs=\E[%i%d;%dr:ct=\E[3g:dc=\E[P:dl=\E[M:ei=\E[4l:ho=\E[H:im=\E[4h:is=\E[\041p\E[?3;4l\E[4l\E&amp;gt;:kD=\E[3~:kb=^H:ke=\E[?1l\E&amp;gt;:ks=\E[?1h\E=:kB=\E[Z:le=^H:md=\E[1m:me=\E[m:ml=\El:mr=\E[7m:mu=\Em:nd=\E[C:op=\E[39;49m:rc=\E8:rs=\E[\041p\E[?3;4l\E[4l\E&amp;gt;:sc=\E7:se=\E[27m:sf=^J:so=\E[7m:sr=\EM:st=\EH:ue=\E[24m:up=\E[A:us=\E[4m:ve=\E[?12l\E[?25h:vi=\E[?25l:vs=\E[?12;25h:&apos;;
unset noglob;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ infocmp 
#     Reconstructed via infocmp from file: /usr/local/share/misc/terminfo.db
xterm-new|modern xterm terminal emulator,
      am, bce, km, mc5i, mir, msgr, npc, xenl,
      colors#8, cols#80, it#8, lines#24, pairs#64,
      acsc=``aaffggiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz{ { | | } }~~,
      bel=^G, blink=\E[5m, bold=\E[1m, cbt=\E[Z, civis=\E[?25l,
      clear=\E[H\E[2J, cnorm=\E[?12l\E[?25h, cr=\r,
      csr=\E[%i%p1%d;%p2%dr, cub=\E[%p1%dD, cub1=^H,
      cud=\E[%p1%dB, cud1=\n, cuf=\E[%p1%dC, cuf1=\E[C,
      cup=\E[%i%p1%d;%p2%dH, cuu=\E[%p1%dA, cuu1=\E[A,
      cvvis=\E[?12;25h, dch=\E[%p1%dP, dch1=\E[P, dim=\E[2m,
      dl=\E[%p1%dM, dl1=\E[M, ech=\E[%p1%dX, ed=\E[J, el=\E[K,
      el1=\E[1K, flash=\E[?5h$&amp;lt;100/&amp;gt;\E[?5l, home=\E[H,
      hpa=\E[%i%p1%dG, ht=^I, hts=\EH, ich=\E[%p1%d@,
      il=\E[%p1%dL, il1=\E[L, ind=\n, indn=\E[%p1%dS,
      invis=\E[8m, is2=\E[!p\E[?3;4l\E[4l\E&amp;gt;, kDC=\E[3;2~,
      kEND=\E[1;2F, kHOM=\E[1;2H, kIC=\E[2;2~, kLFT=\E[1;2D,
      kNXT=\E[6;2~, kPRV=\E[5;2~, kRIT=\E[1;2C, ka1=\EOw,
      ka3=\EOy, kb2=\EOu, kbs=^H, kc1=\EOq, kc3=\EOs, kcbt=\E[Z,
      kcub1=\EOD, kcud1=\EOB, kcuf1=\EOC, kcuu1=\EOA,
      kdch1=\E[3~, kend=\EOF, kent=\EOM, kf1=\EOP, kf10=\E[21~,
      kf11=\E[23~, kf12=\E[24~, kf13=\E[1;2P, kf14=\E[1;2Q,
      kf15=\E[1;2R, kf16=\E[1;2S, kf17=\E[15;2~, kf18=\E[17;2~,
      kf19=\E[18;2~, kf2=\EOQ, kf20=\E[19;2~, kf21=\E[20;2~,
      kf22=\E[21;2~, kf23=\E[23;2~, kf24=\E[24;2~,
      kf25=\E[1;5P, kf26=\E[1;5Q, kf27=\E[1;5R, kf28=\E[1;5S,
      kf29=\E[15;5~, kf3=\EOR, kf30=\E[17;5~, kf31=\E[18;5~,
      kf32=\E[19;5~, kf33=\E[20;5~, kf34=\E[21;5~,
      kf35=\E[23;5~, kf36=\E[24;5~, kf37=\E[1;6P, kf38=\E[1;6Q,
      kf39=\E[1;6R, kf4=\EOS, kf40=\E[1;6S, kf41=\E[15;6~,
      kf42=\E[17;6~, kf43=\E[18;6~, kf44=\E[19;6~,
      kf45=\E[20;6~, kf46=\E[21;6~, kf47=\E[23;6~,
      kf48=\E[24;6~, kf49=\E[1;3P, kf5=\E[15~, kf50=\E[1;3Q,
      kf51=\E[1;3R, kf52=\E[1;3S, kf53=\E[15;3~, kf54=\E[17;3~,
      kf55=\E[18;3~, kf56=\E[19;3~, kf57=\E[20;3~,
      kf58=\E[21;3~, kf59=\E[23;3~, kf6=\E[17~, kf60=\E[24;3~,
      kf61=\E[1;4P, kf62=\E[1;4Q, kf63=\E[1;4R, kf7=\E[18~,
      kf8=\E[19~, kf9=\E[20~, khome=\EOH, kich1=\E[2~,
      kind=\E[1;2B, kmous=\E[&amp;lt;, knp=\E[6~, kpp=\E[5~,
      kri=\E[1;2A, mc0=\E[i, mc4=\E[4i, mc5=\E[5i, meml=\El,
      memu=\Em, mgc=\E[?69l, op=\E[39;49m, rc=\E8,
      rep=%p1%c\E[%p2%{1}%-%db, rev=\E[7m, ri=\EM,
      rin=\E[%p1%dT, ritm=\E[23m, rmacs=\E(B, rmam=\E[?7l,
      rmcup=\E[?1049l\E[23;0;0t, rmir=\E[4l, rmkx=\E[?1l\E&amp;gt;,
      rmm=\E[?1034l, rmso=\E[27m, rmul=\E[24m, rs1=\Ec,
      rs2=\E[!p\E[?3;4l\E[4l\E&amp;gt;, sc=\E7, setab=\E[4%p1%dm,
      setaf=\E[3%p1%dm,
      setb=\E[4%?%p1%{1}%=%t4%e%p1%{3}%=%t6%e%p1%{4}%=%t1%e%p1%{6}%=%t3%e%p1%d%;m,
      setf=\E[3%?%p1%{1}%=%t4%e%p1%{3}%=%t6%e%p1%{4}%=%t1%e%p1%{6}%=%t3%e%p1%d%;m,
      sgr=%?%p9%t\E(0%e\E(B%;\E[0%?%p6%t;1%;%?%p5%t;2%;%?%p2%t;4%;%?%p1%p3%|%t;7%;%?%p4%t;5%;%?%p7%t;8%;m,
      sgr0=\E(B\E[m, sitm=\E[3m, smacs=\E(0, smam=\E[?7h,
      smcup=\E[?1049h\E[22;0;0t,
      smglr=\E[?69h\E[%i%p1%d;%p2%ds, smir=\E[4h,
      smkx=\E[?1h\E=, smm=\E[?1034h, smso=\E[7m, smul=\E[4m,
      tbc=\E[3g, u6=\E[%i%d;%dR, u7=\E[6n,
      u8=\E[?%[;0123456789]c, u9=\E[c, vpa=\E[%i%p1%dd,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ infocmp -K
#     Reconstructed via infocmp from file: /usr/local/share/misc/terminfo.db
# (untranslatable capabilities removed to fit entry within 1023 bytes)
xterm-new|modern xterm terminal emulator:\
      :am:bs:km:mi:ms:xn:\
      :co#80:it#8:li#24:\
      :AL=\E[%dL:DC=\E[%dP:DL=\E[%dM:DO=\E[%dB:IC=\E[%d@:\
      :K1=\EOw:K2=\EOu:K3=\EOy:K4=\EOq:K5=\EOs:LE=\E[%dD:\
      :RI=\E[%dC:SF=\E[%dS:SR=\E[%dT:UP=\E[%dA:ae=\E(B:al=\E[L:\
      :as=\E(0:bl=^G:bt=\E[Z:cd=\E[J:ce=\E[K:cl=\E[H\E[2J:\
      :cm=\E[%i%d;%dH:cr=\r:cs=\E[%i%d;%dr:ct=\E[3g:dc=\E[P:\
      :dl=\E[M:do=\n:ec=\E[%dX:ei=\E[4l:ho=\E[H:im=\E[4h:\
      :is=\E[!p\E[?3;4l\E[4l\E&amp;gt;:k1=\EOP:k2=\EOQ:k3=\EOR:\
      :k4=\EOS:k5=\E[15~:k6=\E[17~:k7=\E[18~:k8=\E[19~:\
      :k9=\E[20~:kD=\E[3~:kI=\E[2~:kN=\E[6~:kP=\E[5~:kb=^H:\
      :kd=\EOB:ke=\E[?1l\E&amp;gt;:kh=\EOH:kl=\EOD:kr=\EOC:\
      :ks=\E[?1h\E=:ku=\EOA:le=^H:mb=\E[5m:md=\E[1m:me=\E[0m:\
      :mh=\E[2m:mm=\E[?1034h:mo=\E[?1034l:mr=\E[7m:nd=\E[C:\
      :rc=\E8:sc=\E7:se=\E[27m:sf=\n:so=\E[7m:sr=\EM:st=\EH:ta=^I:\
      :te=\E[?1049l\E[23;0;0t:ti=\E[?1049h\E[22;0;0t:\
      :ue=\E[24m:up=\E[A:us=\E[4m:vb=\E[?5h\E[?5l:\
      :ve=\E[?12l\E[?25h:vi=\E[?25l:vs=\E[?12;25h:
 
$ stty -e
speed 38400 baud; 34 rows; 144 columns;
lflags: icanon isig iexten echo echoe echok echoke -echonl echoctl
        -echoprt -altwerase -noflsh -tostop -flusho -pendin -nokerninfo
        -extproc
iflags: -istrip icrnl -inlcr -igncr ixon -ixoff -ixany -imaxbel -ignbrk
        -brkint -inpck -ignpar -parmrk
oflags: opost onlcr -ocrnl tab3 -onocr -onlret
cflags: cread cs7 parenb -parodd hupcl -clocal -cstopb -crtscts -dsrflow
        -dtrflow -mdmbuf
discard dsusp   eof     eol     eol2    erase   erase2  intr    kill    
^O      ^Y      ^D      &amp;lt;undef&amp;gt; &amp;lt;undef&amp;gt; ^H      ^H      ^C      ^U      
lnext   min     quit    reprint start   status  stop    susp    time    
^V      1       ^\      ^R      ^Q      ^T      ^S      ^Z      0       
werase  
^W      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm(1)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----

Special Keys
    Xterm, like any VT100-compatible terminal emulator, has two modes for
    the special keys (cursor-keys, numeric keypad, and certain function-
    keys):

    *   normal mode, which makes the special keys transmit “useful”
        sequences such as the control sequence for cursor-up when pressing
        the up-arrow, and
  
    *   application mode, which uses a different control sequence that
        cannot be mistaken for the “useful” sequences.

    The main difference between the two modes is that normal mode sequences
    start with CSI (escape [) and application mode sequences start with SS3
    (escape O).
  
    The terminal is initialized into one of these two modes (usually the
    normal mode), based on the terminal description (termcap or terminfo).
    The terminal description also has capabilities (strings) defined for
    the keypad mode used in curses applications.
  
    There is a problem in using the terminal description for applications
    that are not intended to be full-screen curses applications: the
    definitions of special keys are only correct for this keypad mode.  For
    example, some shells (unlike ksh(1), which appears to be hard-coded,
    not even using termcap) allow their users to customize key-bindings,
    assigning shell actions to special keys.

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From
&lt;a href=&quot;https://theory.uwinnipeg.ca/XFree86/htdocs/4.7.0/ctlseqs.html&quot;&gt;Xterm Control Sequences - Edward Moy, University of California, Berkeley - Revised by Stephen Gildea X Consortium (1994), Thomas Dickey XFree86 Project (1996-2005)&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;C1 (8-Bit) Control Characters&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The &lt;em&gt;xterm&lt;/em&gt; program recognizes both 8-bit and 7-bit control characters.
It generates 7-bit controls (by default) or 8-bit if S8C1T is enabled.
The following pairs of 7-bit and 8-bit control characters are equivalent:&lt;/p&gt;

  &lt;p&gt;. . .&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC [&lt;/code&gt;   Control Sequence Introducer ( CSI is 0x9b)   &lt;br /&gt;
. . .&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;The whole list from that page is:&lt;/p&gt;
&lt;blockquote&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC D&lt;/code&gt; Index (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IND&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x84&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC E&lt;/code&gt; Next Line (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NEL&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x85&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC H&lt;/code&gt; Tab Set (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HTS&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x88&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC M&lt;/code&gt; Reverse Index (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RI&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x8d&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC N&lt;/code&gt; Single Shift Select of G2 Character Set (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SS2&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x8e&lt;/code&gt;): affects next character only&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC O&lt;/code&gt; Single Shift Select of G3 Character Set (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SS3&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x8f&lt;/code&gt;): affects next character only&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC P&lt;/code&gt; Device Control String (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DCS&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x90&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC V&lt;/code&gt; Start of Guarded Area (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SPA&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x96&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC W&lt;/code&gt; End of Guarded Area (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EPA&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x97&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC X&lt;/code&gt; Start of String (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SOS&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x98&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC Z&lt;/code&gt; Return Terminal ID (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DECID&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x9a&lt;/code&gt;). &lt;em&gt;Obsolete&lt;/em&gt; form of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CSI c&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DA&lt;/code&gt;).&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC [&lt;/code&gt; Control Sequence Introducer (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CSI&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x9b&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC \&lt;/code&gt; String Terminator (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ST&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x9c&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC ]&lt;/code&gt; Operating System Command (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OSC&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x9d&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC ^&lt;/code&gt; Privacy Message (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PM&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x9e&lt;/code&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC _&lt;/code&gt; Application Program Command (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;APC&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x9f&lt;/code&gt;)&lt;/p&gt;

  &lt;p&gt;These control characters are used in the vtXXX emulation.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20150923190005/https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Debugging_with_gdb/command-line-editing.html&quot;&gt;Red Hat Enterprise Linux 4: Debugging with gdb - Red Hat Customer Portal - Chapter 29. Command Line Editing - 29.1. Introduction to Line Editing - archive.org - snapshot from Sep 23, 2015&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Chapter 29. Command Line Editing&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;This chapter describes the basic features of the gnu command line editing interface.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;29.1. Introduction to Line Editing&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The following paragraphs describe the notation used to represent keystrokes.&lt;/p&gt;

  &lt;p&gt;The text &lt;strong&gt;C-k&lt;/strong&gt; is read as ‘Control-K’ and describes the character produced when the [k] key is pressed while the Control key is depressed.&lt;/p&gt;

  &lt;p&gt;The text &lt;strong&gt;M-k&lt;/strong&gt; is read as ‘Meta-K’ and describes the character produced when the Meta key (if you have one) is depressed, and the [k] key is pressed.
The Meta key is labeled [ALT] on many keyboards.
On keyboards with two keys labeled [ALT] (usually to either side of the space bar), the [ALT] on the left side is generally set to work as a Meta key.
The [ALT] key on the right may also be configured to work as a Meta key or may be configured as some other modifier, such as a Compose key for typing accented characters.&lt;/p&gt;

  &lt;p&gt;If you do not have a Meta or [ALT] key, or another key working as a Meta key, the identical keystroke can be generated by typing [ESC] &lt;em&gt;first&lt;/em&gt;, and then typing [k].
Either process is known as &lt;em&gt;metafying&lt;/em&gt; the [k] key.&lt;/p&gt;

  &lt;p&gt;The text &lt;strong&gt;M-C-k&lt;/strong&gt; is read as ‘Meta-Control-k’ and describes the character produced by &lt;em&gt;metafying&lt;/em&gt; &lt;strong&gt;C-k&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;In addition, several keys have their own names.
Specifically, [DEL], [ESC], [LFD], [SPC], [RET], and [TAB] all stand for themselves when seen in this text, or in an init file (refer to &lt;a href=&quot;https://web.archive.org/web/20150923192132/https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Debugging_with_gdb/readline-init-file.html&quot;&gt;Section 29.3 Readline Init File&lt;/a&gt;).
If your keyboard lacks a [LFD] key, typing [C-j] will produce the desired character.
The [RET] key may be labeled [Return] or [Enter] on some keyboards.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20150923192132/https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Debugging_with_gdb/readline-init-file.html&quot;&gt;Red Hat Enterprise Linux 4: Debugging with gdb - Red Hat Customer Portal - Chapter 29. Command Line Editing - Readline Init File - archive.org - snapshot from Sep 23, 2015&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;29.3. Readline Init File&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Although the Readline library comes with a set of &lt;strong&gt;Emacs-like keybindings&lt;/strong&gt; installed by &lt;strong&gt;default&lt;/strong&gt;, it is possible to use a different set of keybindings.
Any user can customize programs that use Readline by putting commands in an &lt;em&gt;inputrc&lt;/em&gt; file, conventionally in his home directory.
The name of this file is taken from the value of the environment variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;INPUTRC&lt;/code&gt;.
If that variable is unset, the default is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.inputrc&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;When a program which uses the Readline library starts up, the init file is read, and the key bindings are set.&lt;/p&gt;

  &lt;p&gt;In addition, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C-x C-r&lt;/code&gt; command re-reads this init file, thus incorporating any changes that you might have made to it.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;29.3.1. Readline Init File Syntax&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;There are only a few basic constructs allowed in the Readline init file.
Blank lines are ignored.
Lines beginning with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; are comments.
Lines beginning with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&lt;/code&gt; indicate conditional constructs (refer to Section 29.3.2 Conditional Init Constructs).
Other lines denote variable settings and key bindings.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Variable Settings&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;You can modify the run-time behavior of Readline by altering the values of variables in Readline using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set&lt;/code&gt; command within the init file.
The syntax is simple:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;set variable value
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
  &lt;p&gt;Here, for example, is how to change from the default Emacs-like key binding to use &lt;strong&gt;vi&lt;/strong&gt; line editing commands:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;set editing-mode vi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;Variable names and values, where appropriate, are recognized without regard to case.
A great deal of run-time behavior is changeable with the following variables.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;bell-style&lt;/em&gt;&lt;/p&gt;

  &lt;blockquote&gt;
    &lt;p&gt;Controls what happens when Readline wants to ring the terminal bell.
If set to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;none&lt;/code&gt;, Readline never rings the bell.
If set to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;visible&lt;/code&gt;, Readline uses a visible bell if one is available.
If set to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;audible&lt;/code&gt; (the default), Readline attempts to ring the terminal’s bell.   &lt;br /&gt;
. . .&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Key Bindings&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The syntax for controlling key bindings in the init file is simple.
First you need to find the name of the command that you want to change.
The following sections contain tables of the command name, the default keybinding, if any, and a short description of what the command does.&lt;/p&gt;

  &lt;p&gt;Once you know the name of the command, simply place on a line in the init file the name of the key you wish to bind the command to, a colon, and then the name of the command.
The name of the key can be expressed in different ways, depending on what you find most comfortable.&lt;/p&gt;

  &lt;p&gt;In addition to command names, readline allows keys to be bound to a string that is inserted when the key is pressed (a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;macro&lt;/code&gt;).&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keyname: function-name or macro&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keyname&lt;/code&gt; is the name of a key spelled out in English.
For example:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Control-u: universal-argument
Meta-Rubout: backward-kill-word
Control-o: &quot;&amp;gt; output&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;In the above example, &lt;strong&gt;C-u&lt;/strong&gt; is bound to the function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;universal-argument&lt;/code&gt;, &lt;strong&gt;M-DEL&lt;/strong&gt; is bound to the function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backward-kill-word&lt;/code&gt;, and &lt;strong&gt;C-o&lt;/strong&gt; is bound to run the macro expressed on the right hand side (that is, to insert the text &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt; output&lt;/code&gt; into the line).&lt;/p&gt;

  &lt;p&gt;A number of symbolic character names are recognized while processing this key binding syntax: DEL, ESC, ESCAPE, LFD, NEWLINE, RET, RETURN, RUBOUT, SPACE, SPC, and TAB.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;keyseq&quot;: function-name or macro&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keyseq&lt;/code&gt; differs from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;keyname&lt;/code&gt; above in that strings denoting an entire key sequence can be specified, by placing the key sequence in double quotes.
Some gnu &lt;em&gt;Emacs&lt;/em&gt; style key escapes can be used, as in the following example, but the special character names are not recognized.&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;\C-u&quot;: universal-argument
&quot;\C-x\C-r&quot;: re-read-init-file
&quot;\e[11~&quot;: &quot;Function Key 1&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;In the above example, &lt;strong&gt;C-u&lt;/strong&gt; is again bound to the function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;universal-argument&lt;/code&gt; (just as it was in the first example), &lt;strong&gt;C-x C-r&lt;/strong&gt; is bound to the function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;re-read-init-file&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[ESC] [[] [1] [1] [~]&lt;/code&gt; is bound to insert the text &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Function Key 1&lt;/code&gt;.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;The following gnu Emacs style escape sequences are available when specifying key sequences:&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\C-&lt;/code&gt;&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;control prefix&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\M-&lt;/code&gt;&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;meta prefix&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;—- snip —-&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20150923212859/https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Debugging_with_gdb/bindable-readline-commands.html&quot;&gt;Red Hat Enterprise Linux 4: Debugging with gdb - Red Hat Customer Portal - Chapter 29. Command Line Editing - 29.4. Bindable Readline Commands - archive.org - snapshot from Sep 23, 2015&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;29.4. Bindable Readline Commands&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;This section describes Readline commands that may be bound to key sequences.
Command names without an accompanying key sequence are unbound by default.&lt;/p&gt;

  &lt;p&gt;In the following descriptions, &lt;em&gt;point&lt;/em&gt; refers to the current cursor position, and &lt;em&gt;mark&lt;/em&gt; refers to a cursor position saved by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set-mark&lt;/code&gt; command.
The text between the point and mark is referred to as the &lt;em&gt;region&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;29.4.1. Commands For Moving&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;—- snip —-&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;29.4.2. Commands For Manipulating The History&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;—- snip —-&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;29.4.3. Commands For Changing Text&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;—- snip —-&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quoted-insert (C-q or C-v)&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;Add the next character typed to the line verbatim. 
This is how to insert key sequences like &lt;strong&gt;C-q&lt;/strong&gt;, for example.&lt;/p&gt;

  &lt;p&gt;—- snip —-&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20150923174508/https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Debugging_with_gdb/readline-vi-mode.html&quot;&gt;Readline vi Mode - Red Hat Enterprise Linux 4: Debugging with gdb - Red Hat Customer Portal - Chapter 29. Command Line Editing - 29.5. Readline vi Mode - archive.org - snapshot from Sep 23, 2015&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;29.5. Readline vi Mode&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;While the Readline library does not have a full set of &lt;strong&gt;vi&lt;/strong&gt; editing functions, it does contain enough to allow simple editing of the line.
The Readline &lt;strong&gt;vi&lt;/strong&gt; mode behaves as specified in the posix &lt;em&gt;1003.2 standard&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;In order to switch interactively between &lt;strong&gt;emacs&lt;/strong&gt; and &lt;strong&gt;vi&lt;/strong&gt; editing modes, use the command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M-C-j&lt;/code&gt; (bound to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;emacs-editing-mode&lt;/code&gt; when in &lt;strong&gt;vi&lt;/strong&gt; mode and to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vi-editing-mode&lt;/code&gt; in &lt;strong&gt;emacs&lt;/strong&gt; mode).
The Readline &lt;strong&gt;default&lt;/strong&gt; is &lt;strong&gt;emacs&lt;/strong&gt; mode.&lt;/p&gt;

  &lt;p&gt;When you enter a line in &lt;strong&gt;vi&lt;/strong&gt; mode, you are already placed in ‘insertion’ mode, as if you had typed an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i&lt;/code&gt;.
Pressing [ESC] switches you into ‘command’ mode, where you can edit the text of the line with the standard &lt;strong&gt;vi&lt;/strong&gt; movement keys, move to previous history lines with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt; and subsequent lines with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;j&lt;/code&gt;, and so forth.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/GNU_Readline&quot;&gt;GNU Readline - Wikipedia&lt;/a&gt;:&lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;GNU Readline is a &lt;em&gt;software library&lt;/em&gt; that provides &lt;em&gt;in-line-editing&lt;/em&gt; and &lt;em&gt;history&lt;/em&gt; capabilities for &lt;em&gt;interactive programs&lt;/em&gt; with a &lt;em&gt;command-line interface&lt;/em&gt;, such as &lt;em&gt;Bash&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;It allows users to move the &lt;em&gt;text cursor&lt;/em&gt;, search the &lt;em&gt;command history&lt;/em&gt;, control a &lt;em&gt;kill ring&lt;/em&gt; (a more flexible version of a copy/paste clipboard)
(&lt;a href=&quot;https://en.wikipedia.org/w/index.php?title=Kill_ring&amp;amp;redirect=no&quot;&gt;Kill ring - Wikipedia – Redirect page, which redirects to Cut, copy, and paste#Multiple clipboards&lt;/a&gt;)
(&lt;a href=&quot;https://en.wikipedia.org/wiki/Cut,_copy,_and_paste#Multiple_clipboards&quot;&gt;Cut, copy, and paste - Wikipedia&lt;/a&gt;)
and use &lt;em&gt;tab completion&lt;/em&gt; on a &lt;em&gt;text terminal&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;As a &lt;em&gt;cross-platform library&lt;/em&gt;, readline allows applications on various systems to exhibit identical line-editing behavior.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Editing modes&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Readline supports both &lt;em&gt;Emacs&lt;/em&gt; and &lt;em&gt;vi&lt;/em&gt; editing modes, which determine how keyboard input is interpreted as editor commands.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Emacs keyboard shortcuts&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Emacs editing mode &lt;em&gt;key bindings&lt;/em&gt; are taken from the text editor &lt;em&gt;Emacs&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;On some systems, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc&lt;/code&gt; must be used instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Alt&lt;/code&gt;, because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Alt&lt;/code&gt; shortcut conflicts with another shortcut.
For example, pressing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Alt&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f&lt;/code&gt; in &lt;em&gt;Xfce’s terminal emulator&lt;/em&gt; window does not move the cursor forward one word, but activates “File” in the menu of the terminal window, unless that is disabled in the emulator’s settings.&lt;/p&gt;

  &lt;p&gt;— snip —&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt;:&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;If the next input is also a control sequence, type it literally &lt;br /&gt;
(e. g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;h&lt;/code&gt; types “^H”, a literal backspace.)&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;— snip —&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Control_key&quot;&gt;Control key - Wikipedia&lt;/a&gt;:&lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Notation&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;There are several common notations for pressing the Control key in conjunction with another key.
Each notation below means &lt;em&gt;press&lt;/em&gt; and &lt;em&gt;hold&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; &lt;em&gt;while pressing&lt;/em&gt; the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;X&lt;/code&gt; key:&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^X&lt;/code&gt;         Traditional &lt;em&gt;caret notation&lt;/em&gt;&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C-x&lt;/code&gt;        &lt;em&gt;Emacs&lt;/em&gt; and &lt;em&gt;Vi&lt;/em&gt; (&lt;em&gt;Vim&lt;/em&gt;) notation&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CTRL-X&lt;/code&gt;     Old &lt;em&gt;Microsoft&lt;/em&gt; notation&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+X&lt;/code&gt;     Current Microsoft notation&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl/X&lt;/code&gt;     &lt;em&gt;OpenVMS&lt;/em&gt; notation&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;⌃X&lt;/code&gt;           &lt;em&gt;Classic Mac OS&lt;/em&gt; and &lt;em&gt;macOS&lt;/em&gt; notation, used in menus and &lt;em&gt;Sticky Keys&lt;/em&gt; (similar to caret notation, but using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+2303&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;⌃ UP ARROWHEAD&lt;/code&gt; instead of a &lt;em&gt;caret&lt;/em&gt;)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control–X&lt;/code&gt;  Classic Mac OS and macOS notation, used in prose&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CNTL/X&lt;/code&gt;     &lt;em&gt;Cisco IOS&lt;/em&gt; notation&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;|X&lt;/code&gt;           Bar notation&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Table of examples&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Different application programs, user interfaces, and operating systems use the various control key combinations for different purposes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;table class=&quot;table table-bordered&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Key combination&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Microsoft Windows/KDE/GNOME&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Unix (command line and programs using readline&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Emacs (if different from Unix command line)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;–snip–&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;–snip–&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;–snip–&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Paste&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Literal insert&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Page down&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Decrease font size&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Same as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Alt&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Same as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Alt&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;— snip —&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20210225163641/https://en.wikipedia.org/wiki/Control_character&quot;&gt;Control character (aka Non-printable character) - Wikipedia – archive.org - snapshot from Feb 25, 2021&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“Non-printable character” redirects here.
For characters in text applications, see Non-printing character in word processors.&lt;/p&gt;

  &lt;p&gt;Not to be confused with &lt;em&gt;Escape character&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;In computing and telecommunication, a &lt;strong&gt;control character&lt;/strong&gt; or &lt;strong&gt;non-printing character (NPC)&lt;/strong&gt; is a &lt;em&gt;code point&lt;/em&gt; (a number) in a &lt;em&gt;character set&lt;/em&gt; that &lt;strong&gt;does not represent a written symbol&lt;/strong&gt;.
They are used as &lt;em&gt;in-band signaling&lt;/em&gt; to cause effects other than the addition of a symbol to the text.
All other characters are mainly &lt;em&gt;graphic characters&lt;/em&gt;, also known as &lt;em&gt;printing characters&lt;/em&gt; (or &lt;em&gt;printable characters&lt;/em&gt;), except perhaps for “&lt;em&gt;space&lt;/em&gt;” character (see ASCII printable characters).&lt;/p&gt;

  &lt;p&gt;All entries in the &lt;em&gt;ASCII&lt;/em&gt; table &lt;strong&gt;below code 32&lt;/strong&gt; (technically the &lt;strong&gt;C0 control code set&lt;/strong&gt;) are &lt;em&gt;of this kind&lt;/em&gt;, including &lt;em&gt;CR&lt;/em&gt; and &lt;em&gt;LF&lt;/em&gt; used to separate lines of text.
The code &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DEL&lt;/code&gt;) is also a control character.
&lt;em&gt;Extended ASCII&lt;/em&gt; sets defined by &lt;em&gt;ISO 8859&lt;/em&gt; &lt;strong&gt;added&lt;/strong&gt; the codes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;128&lt;/code&gt; through &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;159&lt;/code&gt; as &lt;strong&gt;control characters&lt;/strong&gt;, this was primarily done so that if the high bit was stripped it would not change a printing character to a &lt;em&gt;C0 control code&lt;/em&gt;, but there have been some assignments here, in particular &lt;em&gt;NEL&lt;/em&gt; (see the NOTE below). &lt;br /&gt;
This second set is called the &lt;strong&gt;C1 set&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;NOTE for NEL: &lt;br /&gt;
&lt;strong&gt;Newline&lt;/strong&gt; (frequently called &lt;strong&gt;line ending&lt;/strong&gt;, &lt;strong&gt;end of line (EOL)&lt;/strong&gt;, &lt;strong&gt;line feed&lt;/strong&gt;, or &lt;strong&gt;line break&lt;/strong&gt;) is a &lt;em&gt;control character&lt;/em&gt; or sequence of control characters in a &lt;em&gt;character encoding&lt;/em&gt; specification (e.g. &lt;em&gt;ASCII&lt;/em&gt; or &lt;em&gt;EBCDIC&lt;/em&gt;) that is used to signify the end of a line of text and the start of a new one.
Some text editors set this special character when pressing the ↵ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Enter&lt;/code&gt; key.&lt;/p&gt;

  &lt;p&gt;When displaying (or printing) a text file, this control character causes the text editor to show the following characters in a new line.&lt;/p&gt;

  &lt;p&gt;These 65 control codes were carried over to &lt;em&gt;Unicode&lt;/em&gt;.
Unicode added more characters that could be considered controls, but it makes a &lt;em&gt;distinction&lt;/em&gt; between these “Formatting characters” (such as the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Zero-width non-joiner&lt;/code&gt;), and the 65 Control characters.&lt;/p&gt;

  &lt;p&gt;The &lt;em&gt;Extended Binary Coded Decimal Interchange Code (EBCDIC)&lt;/em&gt; character set contains 65 control codes, including all of the ASCII control codes as well as additional codes which are mostly used to control IBM peripherals.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://man7.org/linux/man-pages/man4/console_codes.4.html&quot;&gt;The man page for man console_codes(4) - The man-pages project - Online manual pages – Linux Programmer’s Manual&lt;/a&gt;:  &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;console_codes(4) - Linux manual page

console_codes(4)        Kernel Interfaces Manual        console_codes(4)

NAME
       console_codes - Linux console escape and control sequences

DESCRIPTION
       The Linux console implements a large subset of the VT102 and
       ECMA-48/ISO 6429/ANSI X3.64 terminal controls, plus certain
       private-mode sequences for changing the color palette, character-
       set mapping, and so on.  In the tabular descriptions below, the
       second column gives ECMA-48 or DEC mnemonics (the latter if
       prefixed with DEC) for the given function.  Sequences without a
       mnemonic are neither ECMA-48 nor VT102.

       After all the normal output processing has been done, and a
       stream of characters arrives at the console driver for actual
       printing, the first thing that happens is a translation from the
       code used for processing to the code used for printing.

       If the console is in **UTF-8 mode**, then the incoming bytes are
       first assembled into *16-bit Unicode codes*.  Otherwise, each byte
       is transformed according to the current mapping table (which
       translates it to a Unicode value).  See the *Character Sets*
       section below for discussion.

       In the normal case, the Unicode value is converted to a font
       index, and this is stored in video memory, so that the
       corresponding glyph (as found in video ROM) appears on the
       screen.  Note that the use of Unicode (and the design of the PC
       hardware) allows us to use 512 different glyphs simultaneously.

       If the current Unicode value is a **control character**, or we are
       currently processing an **escape sequence**, the value will treated
       **specially**.  Instead of being turned into a font index and rendered
       as a glyph, it may trigger cursor movement or other control functions.
       See the *Linux Console Controls* section below for discussion.

       It is generally not good practice to hard-wire terminal controls into
       programs.  Linux supports a *terminfo(5)* database of *terminal
       capabilities*.  Rather than emitting console escape sequences by hand,
       you will almost always want to use a terminfo-aware screen library or
       utility such as ncurses(3), tput(1), or reset(1).

Linux console controls
----------------------
    This section describes all the control characters and escape
    sequences that invoke special functions (i.e., anything other than
    writing a glyph at the current cursor location) on the Linux console.

    Control characters
    -------------------

    A character is a *control character* if (before transformation
    according to the mapping table) it has one of the following 14 codes:
    00 (NUL), 07 (BEL), 08 (BS), 09 (HT), 0a (LF), 0b (VT), 0c (FF), 0d (CR),
    0e(SO), 0f (SI), 18 (CAN), 1a (SUB), 1b (ESC), 7f (DEL).

    One can set a&quot; &quot;display control characters&quot; mode (see below), and
    allow 07, 09, 0b, 18, 1a, 7f to be displayed as glyphs.
    On the other hand, in *UTF-8* mode all codes 00 - 1f are regarded as
    *control characters*, regardless of any &quot;display control characters&quot; mode.

    If we have a control character, it is acted upon immediately and then
    discarded (even in the middle of an escape sequence) and the escape
    sequence continues with the next character. 
    (However, ESC starts a new escape sequence, possibly aborting a previous
    unfinished one, and CAN and SUB abort any escape sequence.)

    The recognized **control characters** are BEL, BS, HT, LF, VT, FF, CR,
                                              SO, SI, CAN, SUB, ESC, DEL, CSI.  
    They do what one would expect:

    BEL (0x07, ^G)
           beeps;

    BS (0x08, ^H)
           backspaces one column (but not past the beginning of
           the line);

    HT (0x09, ^I)
           goes to the next tab stop or to the end of the line if
           there is no earlier tab stop;

    LF (0x0A, ^J)
    VT (0x0B, ^K)
    FF (0x0C, ^L)
           all give a linefeed,
           and if LF/NL (new-line mode) is set
           also a carriage return;

    CR (0x0D, ^M)
           gives a carriage return;

    SO (0x0E, ^N)
           activates the G1 character set;

    SI (0x0F, ^O)
           activates the G0 character set;

    CAN (0x18, ^X)
    SUB (0x1A, ^Z)
            interrupt escape sequences (abort escape sequences);

******** &amp;lt;&amp;lt;== My highliting
    ESC (0x1B, ^[)
            starts an escape sequence;
******** &amp;lt;&amp;lt;== My highliting

    DEL (0x7F)
            is ignored;

******** &amp;lt;&amp;lt;== My highliting
    CSI (0x9B)
            is equivalent to ESC [.
******** &amp;lt;&amp;lt;== My highliting

---- snip ----


    ECMA-48 CSI sequences (Control Sequence Introducer sequences) 
                          (a.k.a. Control Sequence Initiator sequences)
    -------------------------------------------------------------------
       CSI (or ESC [) is followed by a sequence of parameters, at most
       NPAR (16), that are decimal numbers separated by semicolons.

       An empty or absent parameter is taken to be 0.

       The sequence of parameters may be preceded by a single question mark.

       However, after CSI [ (or ESC [ [) a single character is read and
       this entire sequence is ignored.  (The idea is to ignore an
       echoed function key.)

---- snip ----

Character sets
--------------
       The kernel knows about 4 translations of bytes into console-
       screen symbols.  The four tables are: a) Latin1 -&amp;gt; PC, b) VT100
       graphics -&amp;gt; PC, c) PC -&amp;gt; PC, d) user-defined.

       There are two character sets, called G0 and G1, and one of them
       is the current character set.  (Initially G0.)  Typing ^N causes
       G1 to become current, ^O causes G0 to become current.

       These variables G0 and G1 point at a translation table, and can
       be changed by the user.  Initially they point at tables a) and
       b), respectively.  The sequences ESC ( B and ESC ( 0 and ESC ( U
       and ESC ( K cause G0 to point at translation table a), b), c),
       and d), respectively.  The sequences ESC ) B and ESC ) 0 and ESC
       ) U and ESC ) K cause G1 to point at translation table a), b),
       c), and d), respectively.

       The sequence ESC c causes a terminal reset, which is what you
       want if the screen is all garbled.  The oft-advised &quot;echo ^V^O&quot;
       will make only G0 current, but there is no guarantee that G0
       points at table a).  In some distributions there is a program
       reset(1) that just does &quot;echo ^[c&quot;.  If your terminfo entry for
       the console is correct (and has an entry rs1=\Ec), then &quot;tput
       reset&quot; will also work.

       The user-defined mapping table can be set using mapscrn(8).  The
       result of the mapping is that if a symbol c is printed, the
       symbol s = map[c] is sent to the video memory.  The bitmap that
       corresponds to s is found in the character ROM, and can be
       changed using setfont(8).

---- snip ----

Comparisons with other terminals
--------------------------------
    Many different terminal types are described, like the Linux
    console, as being &quot;VT100-compatible&quot;.  Here we discuss
    differences between the Linux console and the two most important
    others, the DEC VT102 and xterm(1).

    Control-character handling
    -------------------------- 

    The VT102 also recognized the following control characters:

    NUL (0x00)
           was ignored;

    ENQ (0x05)
           triggered an answerback message;

    DC1 (0x11, ^Q, XON)
           resumed transmission;

    DC3 (0x13, ^S, XOFF)
           caused VT100 to ignore (and stop transmitting) all codes
           except XOFF and XON.

    VT100-like DC1/DC3 processing may be enabled by the terminal driver.

    The xterm(1) program (in VT100 mode) recognizes the control
    characters BEL, BS, HT, LF, VT, FF, CR, SO, SI, ESC.

---- snip ----

BUGS 
       In Linux 2.0.23, CSI is broken, and NUL is not ignored inside
       escape sequences.

       Some older kernel versions (after Linux 2.0) interpret 8-bit
       control sequences.  These &quot;C1 controls&quot; use codes between 128 and
       159 to replace ESC [, ESC ] and similar two-byte control sequence
       initiators (CSI).  There are fragments of that in modern kernels
       (either overlooked or broken by changes to support UTF-8), but
       the implementation is incomplete and should be regarded as
       unreliable.

       Linux &quot;private mode&quot; sequences do not follow the rules in ECMA-48
       for private mode control sequences.  In particular, those ending
       with ] do not use a standard terminating character.  The OSC (set
       palette) sequence is a greater problem, since xterm(1) may
       interpret this as a control sequence which requires a string
       terminator (ST).  Unlike the setterm(1) sequences which will be
       ignored (since they are invalid control sequences), the palette
       sequence will make xterm(1) appear to hang (though pressing the
       return-key will fix that).  To accommodate applications which
       have been hardcoded to use Linux control sequences, set the
       xterm(1) resource brokenLinuxOSC to true.

       An older version of this document implied that Linux recognizes
       the ECMA-48 control sequence for invisible text.  It is ignored.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/index.html&quot;&gt;Bash Reference Manual - GNU Operating System - Supported by the Free Software Foundation – www.gnu.org&lt;/a&gt;:  &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Chapter 8. Command Line Editing&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;8.1 Introduction to Line Editing&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Introduction-and-Notation.html#Introduction-and-Notation&quot;&gt;8.1 Introduction to Line Editing&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The following paragraphs describe the notation used to represent keystrokes.&lt;/p&gt;

  &lt;p&gt;The text &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C-k&lt;/code&gt; is read as ‘Control-K’ and describes the character produced when the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt; key is pressed &lt;em&gt;while&lt;/em&gt; the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control&lt;/code&gt; key is depressed.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;The text &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M-k&lt;/code&gt; is read as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meta-K&lt;/code&gt; and describes the character produced when the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meta&lt;/code&gt; key (if you have one) is depressed, and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt; key is pressed.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meta&lt;/code&gt; key is labeled &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ALT&lt;/code&gt; on many keyboards.
On keyboards with two keys labeled &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ALT&lt;/code&gt; (usually to either side of the space bar), the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ALT&lt;/code&gt; on the left side is generally set to work as a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meta&lt;/code&gt; key.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ALT&lt;/code&gt; key on the right may also be configured to work as a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meta&lt;/code&gt; key or may be configured as some other modifier, such as a Compose key for typing accented characters.&lt;/p&gt;

  &lt;p&gt;If you do not have a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meta&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ALT&lt;/code&gt; key, or another key working as a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meta&lt;/code&gt; key, the identical keystroke can be generated by typing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC&lt;/code&gt; &lt;em&gt;first&lt;/em&gt;, and then typing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt;.
Either process is known as &lt;em&gt;metafying&lt;/em&gt; the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt; key.&lt;/p&gt;

  &lt;p&gt;The text &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M-C-k&lt;/code&gt; is read as Meta-Control-k’ and describes the character produced by &lt;em&gt;metafying&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C-k&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;In addition, several keys have their own names.
Specifically, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DEL&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LFD&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SPC&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RET&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TAB&lt;/code&gt; all stand for themselves when seen in this text, or in an init file 
(see &lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Readline-Init-File.html#Readline-Init-File&quot;&gt;Readline Init File&lt;/a&gt;).
If your keyboard lacks a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LFD&lt;/code&gt; key, typing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C-j&lt;/code&gt; will produce the desired character.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RET&lt;/code&gt; key may be labeled &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Return&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Enter&lt;/code&gt; on some keyboards.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://unix.stackexchange.com/questions/89812/the-difference-between-e-and&quot;&gt;The difference between \e and ^[&lt;/a&gt;:  &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If you take a look at the &lt;a href=&quot;https://en.wikipedia.org/wiki/ASCII&quot;&gt;ANSI ASCII standard&lt;/a&gt;, the lower part of the character set (the first 32) are reserved “&lt;strong&gt;control characters&lt;/strong&gt;” (sometimes referred to as “&lt;strong&gt;escape sequences&lt;/strong&gt;”).
These are things like the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NUL&lt;/code&gt; character, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Line Feed&lt;/code&gt; (LF), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Carriage Return&lt;/code&gt; (CR), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Tab&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Bell&lt;/code&gt;, etc.
The vast &lt;em&gt;majority&lt;/em&gt; can be &lt;em&gt;emulated&lt;/em&gt; by pressing the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; key &lt;em&gt;in combination&lt;/em&gt; with another key.&lt;/p&gt;

  &lt;p&gt;The 27th (decimal) or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\033&lt;/code&gt; (octal) sequence, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x1b&lt;/code&gt; (hexadecimal) sequence is the &lt;strong&gt;Escape sequence&lt;/strong&gt;.
They are all representations of the same &lt;em&gt;control sequence&lt;/em&gt;.
Different shells, languages and tools refer to this sequence in different ways.
Its &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; sequence is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt;, hence sometimes being represented as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&lt;/code&gt; being a short hand for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;You can enter &lt;em&gt;control character sequences&lt;/em&gt; as a &lt;em&gt;raw&lt;/em&gt; sequences on your &lt;em&gt;command line&lt;/em&gt; by &lt;strong&gt;proceeding them&lt;/strong&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt;.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt; to most shells and programs &lt;em&gt;stops the interpretation of the following key sequence&lt;/em&gt; and instead &lt;em&gt;inserts&lt;/em&gt; in its &lt;strong&gt;raw form&lt;/strong&gt;.
If you do this with &lt;strong&gt;either&lt;/strong&gt; the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Escape&lt;/code&gt; key or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt; it will &lt;em&gt;display&lt;/em&gt; on most shells as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt;.
However, although this sequence will get interpreted, it will not cut and paste easily, and may get reduced to a non control character sequence when encountered by certain protocols or programs.&lt;/p&gt;

  &lt;p&gt;To get around this to make it easier to use, certain utilities represent the “raw” sequence either with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\033&lt;/code&gt; (by octal reference), \x1b (hex reference) &lt;strong&gt;or&lt;/strong&gt; by &lt;em&gt;special character reference&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\e&lt;/code&gt;.
This is much the same in the way that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\t&lt;/code&gt; is interpreted as a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Tab&lt;/code&gt; - which by the way can also be input via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i&lt;/code&gt;, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\n&lt;/code&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;newline&lt;/code&gt; or the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Enter&lt;/code&gt; key, which can also be input via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;m&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;So when Gilles says
(&lt;a href=&quot;https://unix.stackexchange.com/questions/89802/terminator-ctrl-tab-key-binding/89810#89810&quot;&gt;https://unix.stackexchange.com/questions/89802/terminator-ctrl-tab-key-binding/89810#89810&lt;/a&gt;):&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;27 = 033 = 0x1b = ^[ = \e
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;He is saying decimal ASCII 27, octal 33, hex 1b, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\e&lt;/code&gt; are all equal he means they all refer to the same thing (semantically).&lt;/p&gt;

  &lt;p&gt;When Demizey says 
(&lt;a href=&quot;https://unix.stackexchange.com/questions/67425/screenrc-find-out-the-keys-bound-by-bindkey#comment97272_67426&quot;&gt;https://unix.stackexchange.com/questions/67425/screenrc-find-out-the-keys-bound-by-bindkey#comment97272_67426)&lt;/a&gt;):&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; is just a representation of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESCAPE&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\e&lt;/code&gt; is interpreted as an actual &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESCAPE&lt;/code&gt; character&lt;/p&gt;

  &lt;p&gt;He means semantically, but if you press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt; this is exactly the same as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\e&lt;/code&gt;, the &lt;em&gt;raw&lt;/em&gt; inserted sequence will most likely be treated the same way, but &lt;strong&gt;this is not always guaranteed&lt;/strong&gt;, and so it recommended to use the programmatically &lt;strong&gt;more portable&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\e&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x1b&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\033&lt;/code&gt; &lt;em&gt;depending&lt;/em&gt; on the language/shell/utility being used.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://unix.stackexchange.com/questions/89802/terminator-ctrl-tab-key-binding/89810#89810&quot;&gt;Terminator Ctrl-Tab key binding&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Terminals &lt;strong&gt;send characters&lt;/strong&gt; to applications, &lt;strong&gt;not keys&lt;/strong&gt;.
Keys are encoded as characters or character sequences; most function keys send a sequence beginning with the escape character (character &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;27&lt;/code&gt; (decimal)  = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;033&lt;/code&gt; (octal) = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x1b&lt;/code&gt; (hexadecimal) = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\e&lt;/code&gt;).&lt;/p&gt;

  &lt;p&gt;There is no standard escape sequence corresponding to the key combination Ctrl+Tab, so most terminals send the character &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;9&lt;/code&gt; = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^I&lt;/code&gt; = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TAB&lt;/code&gt; = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\t&lt;/code&gt;, just like for a plain &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Tab&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://unix.stackexchange.com/questions/116243/what-does-a-bash-sequence-033999d-mean-and-where-is-it-explained&quot;&gt;What does a bash sequence ‘\033[999D’ mean and where is it explained?&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;As other people have pointed out, these control sequences are nothing to do with &lt;em&gt;bash&lt;/em&gt; itself but rather the terminal device/emulator the text appears on.
Once upon a time it was common for these sequences to be interpreted by a completely different piece of hardware.
Originally, each one would respond to completely different sets of codes.
To deal with this the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;termcap&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terminfo&lt;/code&gt; libraries where used to write code compatible with multiple terminals.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tput&lt;/code&gt; command is an &lt;strong&gt;interface&lt;/strong&gt; to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terminfo&lt;/code&gt; library (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;termcap&lt;/code&gt; support can also be compiled in) and is a &lt;em&gt;more robust&lt;/em&gt; way to create compatible sequences.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://utcc.utoronto.ca/~cks/space/blog/unix/HowUnixBackspaces&quot;&gt;How Unix erases things when you type a backspace while entering text&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Then we have the case when you quoted a control character while entering it, e.g. by typing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-V Ctrl-H&lt;/code&gt;; this causes the kernel to print the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-H&lt;/code&gt; instead of acting on it, and it prints it as the two character sequence &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^H&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;(FreeBSD also handles backspacing a space specially, because you don’t need to actually rub that out with a ‘\b \b’ sequence; you can just print a plain &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\b&lt;/code&gt;.
Other kernels don’t seem to bother with this optimization.
The FreeBSD code for this is in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sys/kern/tty_ttydisc.c&lt;/code&gt; in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ttydisc_rubchar&lt;/code&gt; function.)&lt;/p&gt;

  &lt;p&gt;PS:  If you want to see the kernel’s handling of backspace in action, you usually can’t test it at your shell prompt, because you’re almost certainly using a shell that supports command line editing and readline and so on.
Command line editing requires taking over input processing from the kernel, and so such shells are handling everything themselves.
My usual way to see what the kernel is doing is to run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat &amp;gt;/dev/null&lt;/code&gt; and then type away.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Comments on this page:&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;By BryRob at 2017-02-05 04:23:39:&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;Hello Chris,&lt;/p&gt;

    &lt;p&gt;Sorry for being an ignoramus, but could you please tell me what happens when you do the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat &amp;gt; /dev/null&lt;/code&gt;?
I tried it on the terminal, and as far I’ve understood, it inputs to some file.
I’m pretty new to Linux and Unix in general. Thanks!&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;By carsten at 2017-02-05 18:51:34:&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;Not sure this is correct - at the very least it’s probably more complicated. You describe the special case of backspacing when the cursor is at the end of the line. Backspace also works in the middle of the line and it doesn’t just overwrite the deleted character with a space - in this case is shifts the rest of the line to the left (at least in insert mode which seems to be default in most cases).&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;By cks at 2017-02-05 19:50:49:&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;carsten: Backspacing in the middle of the line isn’t handled by the kernel.
Readline style line editing is handled in user space by the program involved, and it’s a lot more complicated than kernel backspacing (and probably a lot more variable between various libraries for it).
The kernel only gets involved if the program does not take over line processing from it.&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;blockquote&gt;
    &lt;p&gt;BryRob: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat&lt;/code&gt; with no arguments reads from standard input and writes to standard output, so running just &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat &amp;gt;/dev/null&lt;/code&gt; causes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat&lt;/code&gt; to read from your terminal (the default standard input) and write to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/null&lt;/code&gt; (where we have directed standard output), effectively throwing away what we type to cat.
Without that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;/dev/null&lt;/code&gt; bit, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat&lt;/code&gt; would still read from the terminal but then it would echo what you’d just typed back to you, which is distracting if you just want to see the kernel’s line input handling in action.&lt;/p&gt;

    &lt;p&gt;(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat&lt;/code&gt; is one of many programs that doesn’t do any special readline processing when it’s reading from a terminal.
You could get the same effect from lots of others, although many of them need various arguments to make them happy here.)&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;By bob at 2017-02-06 12:48:54:&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;So from &lt;em&gt;bash&lt;/em&gt; if I type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+h&lt;/code&gt; it acts the same as if I press the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backspace&lt;/code&gt; key.&lt;/p&gt;

    &lt;p&gt;From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat &amp;gt; /dev/null&lt;/code&gt; if I press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+h&lt;/code&gt; it prints a &lt;strong&gt;^H&lt;/strong&gt; to the screen, just like if I typed &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+v Ctrl+H&lt;/code&gt; from &lt;em&gt;bash&lt;/em&gt;.
If I press the actual &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backspace&lt;/code&gt; key, it deletes deletes both characters (^H).&lt;/p&gt;

    &lt;p&gt;I guess I thought the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backspace&lt;/code&gt; key and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+H&lt;/code&gt; weren’t distinguishable.
And I’m not really seeing what the kernel is doing; I suppose I need a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gdb&lt;/code&gt; setup with breakpoints for that?&lt;/p&gt;
  &lt;/blockquote&gt;

  &lt;p&gt;By cks at 2017-02-06 13:17:55:&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;If you run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty -a&lt;/code&gt;, you’ll probably find that the kernel’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;erase&lt;/code&gt; character is set to something other than &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-H&lt;/code&gt;.
&lt;em&gt;Bash&lt;/em&gt; (well, &lt;em&gt;readline&lt;/em&gt;) does you the favour of interpreting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-H&lt;/code&gt; the same as your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;erase&lt;/code&gt; character, which is probably &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DEL&lt;/code&gt; (and that’s probably what your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backspace&lt;/code&gt; key is generating in your environment).&lt;/p&gt;

    &lt;p&gt;How the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backspace&lt;/code&gt; key on your keyboard gets mapped to some key as cat and &lt;em&gt;Bash&lt;/em&gt; see it can be very complicated, because there are a number of programs involved.
In X (aka X11 or Xorg or X Window System), the X server itself can be told to remap what key is generated, and then some terminal emulators can remap this key again.
For example, gnome-terminal has a ‘Compatibility’ tab with settings for what gets generated for the backspace and delete keys; by default I believe it’s set so that backspace generates &lt;em&gt;ASCII&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DEL&lt;/code&gt;.&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Keyboard_shortcut&quot;&gt;Keyboard shortcut - Wikipedia&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Notation&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The &lt;em&gt;simplest&lt;/em&gt; keyboard shortcuts consist of only one key.
For these, one generally just writes out the name of the key, as in the message “Press F1 for Help”.
The name of the key is sometimes &lt;strong&gt;surrounded in brackets&lt;/strong&gt; or &lt;em&gt;similar characters&lt;/em&gt;.
For example: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[F1]&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;F1&amp;gt;&lt;/code&gt;.
The key name may also be set off using special formatting (bold, italic, all caps, etc.)&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Many&lt;/em&gt; shortcuts require &lt;em&gt;two or more keys to be pressed together&lt;/em&gt;.
For these, the usual notation is to &lt;em&gt;list&lt;/em&gt; the keys names &lt;em&gt;separated&lt;/em&gt; by &lt;strong&gt;plus&lt;/strong&gt; signs or &lt;strong&gt;hyphens&lt;/strong&gt;.
For example: “Ctrl+C”, “Ctrl-C”, or “&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C&lt;/code&gt;”.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; key is sometimes indicated by a &lt;strong&gt;caret&lt;/strong&gt; character (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&lt;/code&gt;).
Thus &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C&lt;/code&gt; is sometimes written as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^C&lt;/code&gt;.
At times, usually on &lt;em&gt;Unix&lt;/em&gt; platforms, the case of the second character is significant - if the character would normally require pressing the &lt;em&gt;Shift key&lt;/em&gt; to type, then the &lt;em&gt;Shift&lt;/em&gt; key is part of the shortcut e.g. ‘&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^C&lt;/code&gt;’ vs. ‘&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^c&lt;/code&gt;’ or ‘&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^%&lt;/code&gt;’ vs. ‘&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^5&lt;/code&gt;’.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^%&lt;/code&gt; may also be written “&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;⇧ Shift&lt;/code&gt;+&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;5&lt;/code&gt;”.&lt;/p&gt;

  &lt;p&gt;Some keyboard shortcuts, including all shortcuts involving the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc&lt;/code&gt; key, require keys (or sets of keys) to be pressed &lt;em&gt;individually&lt;/em&gt;, &lt;em&gt;in sequence&lt;/em&gt;.
These shortcuts are sometimes written with the individual keys (or sets) &lt;em&gt;separated&lt;/em&gt; by &lt;em&gt;commas&lt;/em&gt; or &lt;em&gt;semicolons&lt;/em&gt;.
The &lt;em&gt;Emacs&lt;/em&gt; text editor uses many such shortcuts, using a designated set of “prefix keys” such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+C&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+X&lt;/code&gt;.
Default Emacs keybindings include &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+X Ctrl+S&lt;/code&gt; to save a file or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+X Ctrl+B&lt;/code&gt; to view a list of open buffers.
Emacs uses the letter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C&lt;/code&gt; to denote the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; key, the letter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt; to denote the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shift&lt;/code&gt; key, and the letter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M&lt;/code&gt; to denote the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Meta&lt;/code&gt; key (commonly mapped to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Alt&lt;/code&gt; key on modern keyboards.)
Thus, in Emacs parlance, the above shortcuts would be written &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C-x C-s&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C-x C-b&lt;/code&gt;.
A common backronym (a backronym is an acronym formed from an already existing word by expanding its letters into the words of a phrase) for Emacs is “Escape Meta Alt Ctrl Shift” (EMACS), poking fun at its use of many modifiers and extended shortcut sequences.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Notes and references&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;In the English language a “shortcut” may unintentionally suggest an incomplete or sloppy way of completing something.
Consequently, some computer applications designed to be controlled mainly by the keyboard, such as Emacs, use the alternative term “key binding”.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://invisible-island.net/ncurses/ncurses.faq.html#modified_keys&quot;&gt;How can I use shift- or control-modifiers? – Ncurses - Frequently Asked Questions&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;How can I use shift- or control-modifiers?&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The standard response is “curses doesn’t do that”.&lt;/p&gt;

  &lt;p&gt;— snip —&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;How can I see what my keyboard sends?&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;All of the trouble-shooting for keyboard problems relies on you being able to see what the keys send.
You can do this in more than one way:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;Some implementations of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat&lt;/code&gt; program have a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-v&lt;/code&gt; option which tells it to show &lt;em&gt;non-printing&lt;/em&gt; characters in visible form.
      &lt;blockquote&gt;
        &lt;p&gt;These include all BSD and Linux-based systems, as well as &lt;a href=&quot;https://www-01.ibm.com/support/knowledgecenter/ssw_aix_71/com.ibm.aix.cmds1/cat.htm&quot;&gt;AIX&lt;/a&gt;, &lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=cat&amp;amp;apropos=0&amp;amp;sektion=1&amp;amp;manpath=HP-UX+11.11&amp;amp;arch=default&amp;amp;format=html&quot;&gt;HPUX&lt;/a&gt; and &lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=cat&amp;amp;apropos=0&amp;amp;sektion=1&amp;amp;manpath=SunOS+5.10&amp;amp;arch=default&amp;amp;format=html&quot;&gt;Solaris&lt;/a&gt;.&lt;/p&gt;

        &lt;p&gt;While all of the extent Unix systems appear to have this feature, &lt;a href=&quot;http://pubs.opengroup.org/onlinepubs/9699919799/utilities/cat.html&quot;&gt;POSIX&lt;/a&gt; does not document it.&lt;/p&gt;

        &lt;p&gt;You would use it by typing&lt;/p&gt;

        &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat -v&lt;/code&gt;&lt;/p&gt;

        &lt;p&gt;It has a few limitations:&lt;/p&gt;
        &lt;ul&gt;
          &lt;li&gt;it does not stop special characters such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;control-C&lt;/code&gt;,&lt;/li&gt;
          &lt;li&gt;the output format cannot be inverted to obtain the original inputs.&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/blockquote&gt;
    &lt;/li&gt;
    &lt;li&gt;You can suppress the terminal driver’s interpretation of the &lt;em&gt;first&lt;/em&gt; byte in a given key by first pressing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;control-V&lt;/code&gt; (the &lt;strong&gt;lnext&lt;/strong&gt; or &lt;em&gt;literal-next character&lt;/em&gt;).
      &lt;blockquote&gt;

        &lt;p&gt;In practice, this is “good enough” since most of the terminals you might want to use will only have a leading escape character in the special key strings.&lt;/p&gt;
      &lt;/blockquote&gt;
    &lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;That makes it possible to see what your keyboard sends.
There is a corresponding problem seeing what programs actually send to your terminal.&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;A few platforms have &lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=vis&amp;amp;apropos=0&amp;amp;sektion=1&amp;amp;manpath=FreeBSD+11-current&amp;amp;arch=default&amp;amp;format=html&quot;&gt;vis&lt;/a&gt;, which first appeared in &lt;em&gt;4.4BSD&lt;/em&gt;.
There is a corresponding &lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=unvis&amp;amp;apropos=0&amp;amp;sektion=1&amp;amp;manpath=FreeBSD+11-current&amp;amp;arch=default&amp;amp;format=html&quot;&gt;unvis&lt;/a&gt; which can put the string back together (unlike &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cat -v&lt;/code&gt;).
You would use this by using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;script&lt;/code&gt; to capture all of the bytes sent to your terminal, e.g., in a file named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;typescript&lt;/code&gt;.&lt;/li&gt;
    &lt;li&gt;But &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vis&lt;/code&gt; is not available everywhere (e.g., AIX and Solaris do not provide it, nor are you likely to find it with a Linux-based system).&lt;/li&gt;
  &lt;/ul&gt;

  &lt;blockquote&gt;
    &lt;p&gt;At the &lt;a href=&quot;https://invisible-island.net/misc_tools/CHANGES.html#t19951215&quot;&gt;end of 1995&lt;/a&gt;, I wrote a similar program named &lt;a href=&quot;https://invisible-island.net/misc_tools/index.html#item:unmap&quot;&gt;unmap&lt;/a&gt; based on a description of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vis&lt;/code&gt;, and likewise &lt;a href=&quot;https://invisible-island.net/misc_tools/index.html#item:map&quot;&gt;map&lt;/a&gt; (like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unvis&lt;/code&gt;) for completeness.&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://superuser.com/questions/421463/why-does-ctrl-v-not-paste-in-bash-linux-shell/421468&quot;&gt;Why does Ctrl + V not paste in Bash (Linux shell)?&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C&lt;/code&gt; almost everywhere in Unix was the &lt;a href=&quot;http://en.wikipedia.org/wiki/Control-C#In_command-line_environments&quot;&gt;“interrupt” key&lt;/a&gt;, used to cancel the current program or operation.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt;  key often meant “verbatim insert” - that is, insert the following character literally without performing any associated action.
For example, a normal &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc&lt;/code&gt; switches to command mode in the &lt;em&gt;vi&lt;/em&gt; editor, but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc&lt;/code&gt; will insert the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC&lt;/code&gt; character into the document.&lt;/p&gt;

  &lt;p&gt;…&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://superuser.com/questions/421463/why-does-ctrl-v-not-paste-in-bash-linux-shell/421468#comment484056_421568&quot;&gt;Comment by user Kaz&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;Because the keys are essentially randomly ordered with respect to the ASCII standard, the program ROM includes several look-up tables that assist in the generation of the ASCII codes. …
Holding down the CONTROL key when another key is pressed causes another table look-up. 
[VT100 series Technical Manual, 4.4.9.3, Digital]. – Kaz May 10 ‘12 at 2:40&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://en.wikipedia.org/wiki/Control_character#How_control_characters_map_to_keyboards&quot;&gt;Control character - Wikipedia – How control characters map to keyboards&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;How control characters map to keyboards&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;ASCII-based keyboards have a key labelled “&lt;strong&gt;Control&lt;/strong&gt;”, “&lt;strong&gt;Ctrl&lt;/strong&gt;”, or (rarely) “&lt;strong&gt;Cntl&lt;/strong&gt;” which is used much like a &lt;em&gt;shift&lt;/em&gt; key, being pressed in combination with another letter or symbol key.
In one implementation, the control key generates the code &lt;em&gt;64 places below the code for the (generally) uppercase letter it is pressed in combination with&lt;/em&gt; (i.e., subtract &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;64&lt;/code&gt; from ASCII code value in decimal of the (generally) uppercase letter).
The other implementation is to take the ASCII code produced by the key and &lt;em&gt;bitwise AND&lt;/em&gt; it with 31 (1F in hexadecimal), forcing bits 5 to 7 to zero.
For example, pressing “&lt;strong&gt;control&lt;/strong&gt;” and the letter “g” or “G” (code 107 in octal or 71 in base 10, which is 01000111 in binary, produces the code 7 (Bell, 7 in base 10, or 00000111 in binary).
The NULL character (code 0) is represented by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-@&lt;/code&gt;, “&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt;” being the code immediately before “A” in the ASCII character set.
For convenience, a lot of terminals accept &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-Space&lt;/code&gt; as an &lt;em&gt;alias&lt;/em&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-@&lt;/code&gt;.
In either case, this produces one of the 32 ASCII control codes between 0 and 31. 
Neither approach works to produce the DEL character because of its special location in the table and its value (code 127 (in decimal)), but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-?&lt;/code&gt; is often used for this character, as subtracting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;64&lt;/code&gt; from a ‘&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?&lt;/code&gt;’ gives &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-1&lt;/code&gt;, which if masked to 7 bits is 127. 
&lt;a href=&quot;https://web.archive.org/web/20091028135111/http://geocities.com/dtmcbride/tech/charsets/ascii.html&quot;&gt;ASCII Characters. Archived from the original on October 28, 2009. Retrieved 2010-10-08&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;When the control key is held down, letter keys produce the same control characters regardless of the state of the &lt;em&gt;shift&lt;/em&gt; or &lt;em&gt;caps lock&lt;/em&gt; keys.
In other words, it does not matter whether the key would have produced an upper-case or a lower-case letter.
The interpretation of the control key with the space, graphics character, and digit keys (ASCII codes 32 to 63) vary between systems.
Some will produce the same character code as if the control key were not held down.
Other systems translate these keys into control characters when the control key is held down.
The interpretation of the control key with non-ASCII (“foreign”) keys also varies between systems.&lt;/p&gt;

  &lt;p&gt;Control characters are often rendered into a printable form known as &lt;em&gt;caret notation&lt;/em&gt; by printing a caret (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&lt;/code&gt;) and then the ASCII character that has a value of the control character plus 64.
Control characters generated using letter keys are thus displayed with the upper-case form of the letter.
For example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^G&lt;/code&gt; represents code &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;7&lt;/code&gt;, which is generated by pressing the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;G&lt;/code&gt; key when the control key is held down.&lt;/p&gt;

  &lt;p&gt;Keyboards also typically have a few single keys which produce control character codes.
For example, the key labelled “Backspace” typically produces code 8, “Tab” code 9, “Enter” or “Return” code 13 (though some keyboards might produce code 10 for “Enter”).&lt;/p&gt;

  &lt;p&gt;Many keyboards include keys that do not correspond to any ASCII printable or control character, for example cursor control arrows and word processing functions.
The associated keypresses are communicated to computer programs by one of four methods: appropriating otherwise unused control characters; using some encoding other than ASCII; using multi-character control sequences; or using an additional mechanism outside of generating characters.
“Dumb” &lt;em&gt;computer terminals&lt;/em&gt; typically use control sequences.
Keyboards attached to stand-alone personal computers made in the 1980s typically use one (or both) of the first two methods.
Modern computer keyboards generate &lt;em&gt;scancodes&lt;/em&gt; that identify the specific physical keys that are pressed; computer software then determines how to handle the keys that are pressed, including any of the four methods described above.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://web.archive.org/web/20230127144947/https://wiki.bash-hackers.org/scripting/terminalcodes&quot;&gt;Terminal codes (ANSI/VT100) introduction - archive.org snapshot from Jan 27, 2023&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Terminal codes (ANSI/VT100) introduction&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Terminal (control) codes are used to issue specific commands to your terminal.
This can be related to switching colors or positioning the cursor, i.e. anything that can’t be done by the application itself.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;General useful ASCII codes&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The &lt;strong&gt;Ctrl-Key&lt;/strong&gt; representation is simply associating the &lt;em&gt;non-printable&lt;/em&gt; characters from &lt;em&gt;ASCII&lt;/em&gt; code 1 with the printable (letter) characters from ASCII code 65 (“A”).
ASCII code 1 would be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^A&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-A&lt;/code&gt;), while ASCII code &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;7&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BEL&lt;/code&gt;) would be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^G&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-G&lt;/code&gt;).
This is a common representation (and input method) and historically comes from one of the &lt;strong&gt;VT&lt;/strong&gt; series of terminals.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From&lt;br /&gt;
The Linux Programming Interface &lt;br /&gt;
By Michael Kerrisk &lt;br /&gt;
Published By: No Starch Press  &lt;br /&gt;
Publication Date: October 2010&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Chapter 62. Terminals&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Historically, users accessed a UNIX system using a terminal connected via a serial line (an RS-232 connection).
Terminals were cathode ray tubes (CRTs) capable of displaying characters and, in some cases, primitive graphics.
Typically, CRTs provided a monochrome display of 24 lines by 80 columns.
By today’s standards, these CRTs were small and expensive.
In even earlier times, terminals were sometimes hard-copy teletype devices.
Serial lines were also used to connect other devices, such as printers and modems, to a computer or to connect one computer to another.&lt;/p&gt;

  &lt;p&gt;On early UNIX systems, the terminal lines connected to the system were represented by character devices with names of the form &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/ttyn&lt;/code&gt;.
(On Linux, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/ttyn&lt;/code&gt; devices are the virtual consoles on the system.)
It is common to see the abbreviation &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tty&lt;/code&gt; (derived from &lt;em&gt;teletype&lt;/em&gt;) as a shorthand for &lt;em&gt;terminal&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;62.4 Terminal Special Characters&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;The operation of each of the special characters is subject to the setting of various flags in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;termios&lt;/code&gt; bit-mask fields (described in Section 62.5), as shown in the penultimate column of the table.&lt;/p&gt;

  &lt;p&gt;The final column indicates which of these characters are specified by SUSv3.
Regardless of the SUSv3 specification, most of these characters are supported on all UNIX implementations.&lt;/p&gt;

  &lt;p&gt;Table 62-1: Terminal special characters&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+-----------+----------------+--------------+-----------------+-------------------------+-------+
| Character | c_cc subscript | Description  | Default setting | Relevant bit-mask flags | SUSv3 |
| ---- snip ----             |              |                 |                         |       | 
| LNEXT     | VLNEXT         | Literal next | ^V              | ICANON, IEXTEN          |       |
| ---- snip ----             |              |                 |                         |       | 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;The following paragraphs provide more detailed explanations of the terminal special characters.
Note that if the terminal driver performs its special input interpretation on one of these characters, then - with the exception of CR, EOL, EOL2, and NL—the character is discarded (i.e., it is not passed to any reading process).&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;LNEXT&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;LNEXT is the &lt;em&gt;literal next&lt;/em&gt; character.
In some circumstances, we may wish to treat one of the terminal special characters as though it were a normal character for input to a reading process.
Typing the literal next character (usually &lt;strong&gt;Control-V&lt;/strong&gt;) causes the next character to be treated literally, voiding any special interpretation of the character that the terminal driver would normally perform.
Thus, we could enter the &lt;em&gt;2-character sequence&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control-V Control-C&lt;/code&gt; to supply a real &lt;em&gt;Control-C&lt;/em&gt; character (ASCII 3) as input to the reading process.
The LNEXT character itself is not passed to the reading process.
This character is interpreted only in canonical mode with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IEXTEN&lt;/code&gt; (&lt;em&gt;extended input processing&lt;/em&gt;) flag set (which is the default).&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;62.5 Terminal Flags&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Table 62-2 lists the settings controlled by each of the four flag fields of the termios structure.
The constants listed in this table correspond to single bits, except those specifying the term &lt;em&gt;mask&lt;/em&gt;, which are values spanning several bits; these may contain one of a range of values, shown in parentheses.
The column labeled SUSv3 indicates whether the flag is specified in SUSv3.
The &lt;em&gt;Default&lt;/em&gt; column shows the default settings for a virtual console login.&lt;/p&gt;

  &lt;p&gt;Many shells that provide command-line editing facilities perform their own manipulations of the flags listed in Table 62-2.
This means that if we try using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty(1)&lt;/code&gt; to experiment with these settings, then the changes may not be effective when entering shell commands.
To circumvent this behavior, we must disable command-line editing in the shell.
For example, command-line editing can be disabled by specifying the command-line option &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--noediting&lt;/code&gt; when invoking &lt;em&gt;bash&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;The following paragraphs provide more details about some of the &lt;em&gt;termios&lt;/em&gt; flags.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;ECHO&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Setting the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ECHO&lt;/code&gt; flag enables echoing of input characters.
Disabling echoing is useful when reading passwords.
Echoing is also disabled within the command mode of &lt;em&gt;vi&lt;/em&gt;, where keyboard characters are interpreted as editing commands rather than text input.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ECHO&lt;/code&gt; flag is effective in both canonical and noncanonical modes.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;ECHOCTL&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ECHO&lt;/code&gt; is set, then enabling the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ECHOCTL&lt;/code&gt; flag causes control characters other than tab, newline, START, and STOP to be echoed in the form &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^A&lt;/code&gt; (for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control-A&lt;/code&gt;), and so on.
If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ECHOCTL&lt;/code&gt; is disabled, control characters are not echoed.&lt;/p&gt;

  &lt;p&gt;The &lt;em&gt;control characters&lt;/em&gt; are those with ASCII codes &lt;em&gt;less than 32&lt;/em&gt;, plus the DEL character (127 decimal).
A control character, &lt;strong&gt;x&lt;/strong&gt;, is echoed using a caret (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&lt;/code&gt;) followed by the character resulting from the expression (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x ^ 64&lt;/code&gt;).
For all characters except &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DEL&lt;/code&gt;, the effect of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;XOR&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&lt;/code&gt;) operator in this expression is to add 64 to the value of the character.
Thus, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control-A&lt;/code&gt; (ASCII &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt;) is echoed as &lt;em&gt;caret&lt;/em&gt; plus &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; (ASCII 65).
For &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DEL&lt;/code&gt;, the expression has the effect of subtracting 64 from 127, yielding the value 63, the ASCII code for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?&lt;/code&gt;, so that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DEL&lt;/code&gt; is echoed as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^?&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;ECHOE&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;In canonical mode, setting the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ECHOE&lt;/code&gt; flag causes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ERASE&lt;/code&gt; to be performed &lt;em&gt;visually&lt;/em&gt;, by outputting the sequence backspace-space-backspace to the terminal.
If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ECHOE&lt;/code&gt; is disabled, then the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ERASE&lt;/code&gt; character is instead echoed (e.g., as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^?&lt;/code&gt;), but still performs its function of deleting a character.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;From the manpage for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty(1)&lt;/code&gt; on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  STTY(1)                 FreeBSD General Commands Manual                STTY(1)
  
  NAME
       stty – set the options for a terminal device interface
  
  SYNOPSIS
       stty [-a | -e | -g] [-f file] [arguments]
  
  DESCRIPTION
       The stty utility sets or reports on terminal characteristics for the
       device that is its standard input.  If no options or arguments are
       specified, it reports the settings of a subset of characteristics as well
       as additional ones if they differ from their default values.  Otherwise
       it modifies the terminal state according to the specified arguments.
       Some combinations of arguments are mutually exclusive on some terminal
       types.

---- snip ----

     Local Modes:
       Local mode flags (lflags) affect various and sundry characteristics of
       terminal processing.  Historically the term &quot;local&quot; pertained to new job
       control features implemented by Jim Kulp on a Pdp 11/70 at IIASA.  Later
       the driver ran on the first VAX at Evans Hall, UC Berkeley, where the job
       control details were greatly modified but the structure definitions and
       names remained essentially unchanged.  The second interpretation of the
       &apos;l&apos; in lflag is ``line discipline flag&apos;&apos; which corresponds to the c_lflag
       of the termios structure.
  
---- snip ----

       icanon (-icanon)
                   Enable (disable) canonical input (ERASE and KILL processing).
  
       iexten (-iexten)
                   Enable (disable) any implementation defined special control
                   characters not currently controlled by icanon, isig, or ixon.

---- snip ----
  
     Control Characters:
       control-character string
                   Set control-character to string.  If string is a single
                   character, the control character is set to that character.
                   If string is the two character sequence &quot;^-&quot; or the string
                   &quot;undef&quot; the control character is disabled (i.e., set to
                   {_POSIX_VDISABLE}.)
  
                   Recognized control-characters:
  
                         control-
                         character    Subscript    Description
                         _________    _________    _______________
                         eof          VEOF         EOF character
                         eol          VEOL         EOL character
                         eol2         VEOL2        EOL2 character
                         erase        VERASE       ERASE character
                         erase2       VERASE2      ERASE2 character
                         werase       VWERASE      WERASE character
                         intr         VINTR        INTR character
                         kill         VKILL        KILL character
                         quit         VQUIT        QUIT character
                         susp         VSUSP        SUSP character
                         start        VSTART       START character
                         stop         VSTOP        STOP character
                         dsusp        VDSUSP       DSUSP character
                         lnext        VLNEXT       LNEXT character
                         reprint      VREPRINT     REPRINT character
                         status       VSTATUS      STATUS character

---- snip ----

     Compatibility Modes:
       These modes remain for compatibility with the previous version of the
       stty command.

---- snip ----

       cbreak      If set, enables brkint, ixon, imaxbel, opost, isig, iexten,
                   and -icanon.  If unset, same as sane.

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From
&lt;a href=&quot;https://unix.stackexchange.com/questions/76566/where-do-i-find-a-list-of-terminal-key-codes-to-remap-shortcuts-in-bash&quot;&gt;Where do I find a list of terminal key codes to remap shortcuts in bash?&lt;/a&gt;:  &lt;br /&gt;
(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Those are sequences of characters sent by your terminal when you press a given key.
Nothing to do with bash or readline per se, but you’ll want to know what sequence of characters a given key or key combination sends if you want to configure readline to do something upon a given key press.&lt;/p&gt;

  &lt;p&gt;When you press the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; key, generally terminals send the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x61&lt;/code&gt;) character.
If you press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-I&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Tab&lt;/code&gt;, then generally send the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^I&lt;/code&gt; character also known as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TAB&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\t&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x9&lt;/code&gt;).
Most of the function and navigation keys generally send a sequence of characters that starts with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;control-[&lt;/code&gt;), also known as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\e&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x1b&lt;/code&gt; (hexadecimal), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;033&lt;/code&gt; (octal)), but the exact sequence varies from terminal to terminal.&lt;/p&gt;

  &lt;p&gt;The best way to find out what a key or key combination sends for your terminal, is run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sed -n l&lt;/code&gt; and to type it followed by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Enter&lt;/code&gt; on the keyboard.
Then you’ll see something like:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n l
^[[1;5A
\033[1;5A$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;The first line is caused by the local terminal &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo&lt;/code&gt; done by the terminal device (it may not be reliable as terminal device settings would affect it).&lt;/p&gt;

  &lt;p&gt;The second line is output by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sed&lt;/code&gt;.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&lt;/code&gt; is not to be included, it’s only to show you where the end of the line is.&lt;/p&gt;

  &lt;p&gt;Above that means that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-Up&lt;/code&gt; (which I’ve pressed) send the 6 characters &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ESC&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;;&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;5&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x1b&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x5b&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x31&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x3b&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x35&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x41&lt;/code&gt;)&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terminfo&lt;/code&gt; database records a number of sequences for a number of common keys for a number of terminals (based on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$TERM&lt;/code&gt; value).&lt;/p&gt;

  &lt;p&gt;For instance:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;TERM=rxvt tput kdch1 | sed -n l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;Would tell you what escape sequence is send by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rxvt&lt;/code&gt; (terminal emulator) upon pressing the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Delete&lt;/code&gt; key.&lt;/p&gt;

  &lt;p&gt;You can look up what key corresponds to a given sequence with your current terminal with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;infocmp&lt;/code&gt; (here assuming &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ncurses&lt;/code&gt; infocmp):&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ infocmp -L1 | grep -F &apos;=\E[Z&apos;
    back_tab=\E[Z,
   key_btab=\E[Z,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;Key combinations like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl-Up&lt;/code&gt; don’t have corresponding entries in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;terminfo&lt;/code&gt; database, so to find out what they send, either read the source or documentation for the corresponding terminal or try it out with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sed -n l&lt;/code&gt; method described above.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;I also find doing something like:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;hexdump -v -e &apos;/1 &quot; 0x%02x &quot;&apos; -e &apos;/1 &quot;%03o &quot;&apos; -e &apos;/1 &quot;%_u\n&quot;&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;instead of sed -n l is nice.
It adds a lf (line feed) when used on keyboard input though (i.e. not pipe from tput).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ uname -v
FreeBSD 12.0-RELEASE-p10 GENERIC 
 
$ ps $$
  PID TT  STAT    TIME COMMAND
64763  6  Ss   0:01.11 -tcsh (tcsh)
 
$ printf %s\\n &quot;$SHELL&quot;
/bin/tcsh
 
$ printf %s\\n &quot;$TERM&quot;
xterm-new
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The console (that is, non-X Window System) device is /dev/ttyv0:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sysctl -d kern.console
kern.console: Console device control

$ sysctl kern.console
kern.console: ttyv0,/ttyv0,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ freebsd-version
12.0-RELEASE-p10
 
$ uname -a
FreeBSD freebsd3.my.domain 12.0-RELEASE-p10 FreeBSD 12.0-RELEASE-p10 GENERIC  amd64
 
$ ps $$
  PID TT  STAT    TIME COMMAND
68481  0  Ss   0:01.15 -tcsh (tcsh)
 
$ printf %s\\n &quot;$SHELL&quot;
/bin/tcsh
 
$ printf %s\\n &quot;$TERM&quot;
xterm-new
 
$ printf %s\\n &quot;$TERMCAP&quot;
xterm-new|modern xterm:@7=\EOF:@8=\EOM:F1=\E[23~:F2=\E[24~:K2=\EOE:Km=\E[M:k1=\EOP:k2=\EOQ:k3=\EOR:k4=\EOS:k5=\E[15~:k6=\E[17~:k7=\E[18~:k8=\E[19~:k9=\E[20~:k;=\E[21~:kI=\E[2~:kN=\E[6~:kP=\E[5~:kd=\EOB:kh=\EOH:kl=\EOD:kr=\EOC:ku=\EOA:am:bs:km:mi:ms:ut:xn:AX:Co#8:co#142:kn#12:li#38:pa#64:AB=\E[4%dm:AF=\E[3%dm:AL=\E[%dL:DC=\E[%dP:DL=\E[%dM:DO=\E[%dB:LE=\E[%dD:RI=\E[%dC:UP=\E[%dA:ae=\E(B:al=\E[L:as=\E(0:bl=^G:cd=\E[J:ce=\E[K:cl=\E[H\E[2J:cm=\E[%i%d;%dH:cs=\E[%i%d;%dr:ct=\E[3g:dc=\E[P:dl=\E[M:ei=\E[4l:ho=\E[H:im=\E[4h:is=\E[!p\E[?3;4l\E[4l\E&amp;gt;:kD=\E[3~:ke=\E[?1l\E&amp;gt;:ks=\E[?1h\E=:kB=\E[Z:le=^H:md=\E[1m:me=\E[m:ml=\El:mr=\E[7m:mu=\Em:nd=\E[C:op=\E[39;49m:rc=\E8:rs=\E[!p\E[?3;4l\E[4l\E&amp;gt;:sc=\E7:se=\E[27m:sf=^J:so=\E[7m:sr=\EM:st=\EH:ue=\E[24m:up=\E[A:us=\E[4m:ve=\E[?12l\E[?25h:vi=\E[?25l:vs=\E[?12;25h:kb=\010:
 
$ stty -a
speed 38400 baud; 34 rows; 144 columns;
lflags: icanon isig iexten echo echoe echok echoke -echonl echoctl
        -echoprt -altwerase -noflsh -tostop -flusho -pendin -nokerninfo
        -extproc
iflags: -istrip icrnl -inlcr -igncr ixon -ixoff -ixany -imaxbel -ignbrk
        -brkint -inpck -ignpar -parmrk
oflags: opost onlcr -ocrnl tab3 -onocr -onlret
cflags: cread cs7 parenb -parodd hupcl -clocal -cstopb -crtscts -dsrflow
        -dtrflow -mdmbuf
cchars: discard = ^O; dsusp = ^Y; eof = ^D; eol = &amp;lt;undef&amp;gt;;
        eol2 = &amp;lt;undef&amp;gt;; erase = ^H; erase2 = ^H; intr = ^C; kill = ^U;
        lnext = ^V; min = 1; quit = ^\; reprint = ^R; start = ^Q;
        status = ^T; stop = ^S; susp = ^Z; time = 0; werase = ^W;

$ locate ttydefaults
/usr/include/sys/ttydefaults.h
/usr/local/lib/perl5/site_perl/mach/5.30/sys/ttydefaults.ph
/usr/src/sys/sys/ttydefaults.h
 
$ ls -lh /usr/include/sys/ttydefaults.h 
-r--r--r--  1 root  wheel   4.0K Jan  4  2019 /usr/include/sys/ttydefaults.h
 
$ ls -lh /usr/src/sys/sys/ttydefaults.h 
-rw-r--r--  1 root  wheel   4.0K Feb  9  2019 /usr/src/sys/sys/ttydefaults.h
 
$ diff /usr/src/sys/sys/ttydefaults.h /usr/include/sys/ttydefaults.h 
 
$ file /usr/include/sys/ttydefaults.h
/usr/include/sys/ttydefaults.h: C source, ASCII text
 
$ wc -l /usr/include/sys/ttydefaults.h
     113 /usr/include/sys/ttydefaults.h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/include/sys/ttydefaults.h
/*-
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Copyright (c) 1982, 1986, 1993
 *      The Regents of the University of California.  All rights reserved.
 * (c) UNIX System Laboratories, Inc.
 * All or some portions of this file are derived from material licensed
 * to the University of California by American Telephone and Telegraph
 * Co. or Unix System Laboratories, Inc. and are reproduced herein with
 * the permission of UNIX System Laboratories, Inc.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the University nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS&apos;&apos; AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 *      @(#)ttydefaults.h       8.4 (Berkeley) 1/21/94
 * $FreeBSD: releng/12.0/sys/sys/ttydefaults.h 326023 2017-11-20 19:43:44Z pfg $
 */

/*
 * System wide defaults for terminal state.
 */
#ifndef _SYS_TTYDEFAULTS_H_
#define _SYS_TTYDEFAULTS_H_

/*
 * Defaults on &quot;first&quot; open.
 */
#define TTYDEF_IFLAG    (BRKINT | ICRNL | IMAXBEL | IXON | IXANY)
#define TTYDEF_OFLAG    (OPOST | ONLCR)
#define TTYDEF_LFLAG_NOECHO (ICANON | ISIG | IEXTEN)
#define TTYDEF_LFLAG_ECHO (TTYDEF_LFLAG_NOECHO \
        | ECHO | ECHOE | ECHOKE | ECHOCTL)
#define TTYDEF_LFLAG TTYDEF_LFLAG_ECHO
#define TTYDEF_CFLAG    (CREAD | CS8 | HUPCL)
#define TTYDEF_SPEED    (B9600)

/*
 * Control Character Defaults
 */
/*
 * XXX: A lot of code uses lowercase characters, but control-character
 * conversion is actually only valid when applied to uppercase
 * characters. We just treat lowercase characters as if they were
 * inserted as uppercase.
 */
#define CTRL(x) ((x) &amp;gt;= &apos;a&apos; &amp;amp;&amp;amp; (x) &amp;lt;= &apos;z&apos; ? \
        ((x) - &apos;a&apos; + 1) : (((x) - &apos;A&apos; + 1) &amp;amp; 0x7f))
#define CEOF            CTRL(&apos;D&apos;)
#define CEOL            0xff            /* XXX avoid _POSIX_VDISABLE */
#define CERASE          CTRL(&apos;?&apos;)
#define CERASE2         CTRL(&apos;H&apos;)
#define CINTR           CTRL(&apos;C&apos;)
#define CSTATUS         CTRL(&apos;T&apos;)
#define CKILL           CTRL(&apos;U&apos;)
#define CMIN            1
#define CQUIT           CTRL(&apos;\\&apos;)
#define CSUSP           CTRL(&apos;Z&apos;)
#define CTIME           0
#define CDSUSP          CTRL(&apos;Y&apos;)
#define CSTART          CTRL(&apos;Q&apos;)
#define CSTOP           CTRL(&apos;S&apos;)
#define CLNEXT          CTRL(&apos;V&apos;)
#define CDISCARD        CTRL(&apos;O&apos;)
#define CWERASE         CTRL(&apos;W&apos;)
#define CREPRINT        CTRL(&apos;R&apos;)
#define CEOT            CEOF
/* compat */
#define CBRK            CEOL
#define CRPRNT          CREPRINT
#define CFLUSH          CDISCARD

/* PROTECTED INCLUSION ENDS HERE */
#endif /* !_SYS_TTYDEFAULTS_H_ */

/*
 * #define TTYDEFCHARS to include an array of default control characters.
 */
#ifdef TTYDEFCHARS

#include &amp;lt;sys/cdefs.h&amp;gt;
#include &amp;lt;sys/_termios.h&amp;gt;

static const cc_t ttydefchars[] = {
        CEOF, CEOL, CEOL, CERASE, CWERASE, CKILL, CREPRINT, CERASE2, CINTR,
        CQUIT, CSUSP, CDSUSP, CSTART, CSTOP, CLNEXT, CDISCARD, CMIN, CTIME,
        CSTATUS, _POSIX_VDISABLE
};
_Static_assert(sizeof(ttydefchars) / sizeof(cc_t) == NCCS,
    &quot;Size of ttydefchars does not match NCCS&quot;);

#undef TTYDEFCHARS
#endif /* TTYDEFCHARS */
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;my-collection&quot;&gt;My Collection&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ hexdump -v -e &apos;/1 &quot; 0x%02x &quot;&apos; -e &apos;/1 &quot;%03o &quot;&apos; -e &apos;/1 &quot;%_u\n&quot;&apos; 
(It adds a lf when used on keyboard input though (i.e. not pipe from tput).) 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg info --regex showkey
showkey-1.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tset -
xterm-new

$ infocmp -I -1 | grep -w ed
        ed=\E[J,
 
$  man terminfo

   The ed (string) capability in terminfo --&amp;gt; cd in termcap

$ infocmp -C -1 | grep -w cd
infocmp: xterm-new entry is 1123 bytes long
        :cd=\E[J:\

$ tput cd | od -c
0000000  033   [   J                                                    
0000003

$ tput clear
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;keywords&quot;&gt;Keywords&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;kill rings (buffers)
interrupt key
verbatim insert
key ID (KID)
C0 and C1 control codes
https://en.wikipedia.org/wiki/Keyboard_shortcut
control characters
caret notation
line discipline (LDISC) aka terminal I/O 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Feb 18, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/nmichlo/5196879a6637ca42d5d0af22ee6848bf&quot;&gt;xterm_control_sequences.py - XTerm Control Sequences from invisible-island.net as pythonic code, aka XTerm Control Sequences based on https://invisible-island.net/xterm/ctlseqs/ctlseqs.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ========================================================================= #
# XTerm Control Sequences from invisible-island.net as pythonic code.
# Basic control sequences are string variables.
#   - eg: ESC = &apos;\033&apos;
#         CSI = ESC + &apos;[&apos;
# Control sequences that have args can be called to return a string.
#   - eg: sgr = CSI + Ps + &apos;m&apos;
#         sgr(0) == &apos;\033[0m&apos; == sgr.RESET
# ========================================================================= #
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=13498365&quot;&gt;Things Every Hacker Once Knew (catb.org) - Hacker News dicussion&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://lobste.rs/s/qph9hd/things_every_hacker_once_knew&quot;&gt;Things Every Hacker Once Knew - Lobsters (lobste.rs) discussion&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://pastebin.com/cdaga5i1&quot;&gt;&lt;em&gt;ASCII table&lt;/em&gt; is rarely shown in &lt;em&gt;columns&lt;/em&gt; (or &lt;em&gt;rows&lt;/em&gt;) &lt;strong&gt;of 32&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/89812/the-difference-between-e-and&quot;&gt;The difference between \e and ^[&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://superuser.com/questions/269464/understanding-control-characters-in-inputrc&quot;&gt;bash - Understanding control characters in .inputrc - Super User&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://superuser.com/questions/421463/why-does-ctrl-v-not-paste-in-bash-linux-shell/421468&quot;&gt;Why does Ctrl + V not paste in Bash (Linux shell)? - Super User&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/89802/terminator-ctrl-tab-key-binding/89810#89810&quot;&gt;Terminator Ctrl-Tab key binding&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/255707/what-are-the-keyboard-shortcuts-for-the-command-line&quot;&gt;terminal - What are the keyboard shortcuts for the command-line? - Unix &amp;amp; Linux Stack Exchange&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/562074/can-i-rebind-ctrl-c-to-do-the-same-as-esc-in-readline&quot;&gt;bash - Can I rebind Ctrl-C to do the same as ESC in readline? - Unix &amp;amp; Linux Stack Exchange&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/termstandard/colors&quot;&gt;Terminal Colors - Termstandard/Colors Repository&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;Previously published and discussed at &lt;a href=&quot;https://gist.github.com/XVilka/8346728&quot;&gt;https://gist.github.com/XVilka/8346728&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/255707/what-are-the-keyboard-shortcuts-for-the-command-line&quot;&gt;What are the keyboard shortcuts for the command-line?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docstore.mik.ua/orelly/unix/upt/ch05_08.htm&quot;&gt;UNIX Power Tools, Third Edition - Chapter 5.8 Terminal Escape Sequences&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docstore.mik.ua/orelly/unix3/upt/ch30_14.htm&quot;&gt;UNIX Power Tools, Third Edition - Chapter 30.14. Shell Command-Line Editing&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.oreilly.com/library/view/learning-unix-for/0596004702/ch04s02.html&quot;&gt;Customizing Your Shell Environment - Learning Unix for Mac OS X, Second Edition by Brian Jepson, Dave Taylor&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/76566/where-do-i-find-a-list-of-terminal-key-codes-to-remap-shortcuts-in-bash&quot;&gt;Where do I find a list of terminal key codes to remap shortcuts in bash? - Unix &amp;amp; Linux Stack Exchange&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/294908/read-special-keys-in-bash/294935#294935&quot;&gt;Read special keys in bash&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/239808/how-to-display-control-characters-c-d-differently-in-the-shell&quot;&gt;How to display control characters differently in the shell&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;NOTE:  &lt;br /&gt;
Control characters:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^C, ^D, ^[&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20231226110016/http://code.google.com/archive/p/mintty/wikis/Keycodes.wiki&quot;&gt;mintty - Keyboard Layout - Keycodes.wiki – Google Code Archive - archive.org snapshot from Dec 26, 2023&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.3.0/com.ibm.zos.v2r3.cbclx01/escape.htm&quot;&gt;Escape sequences (Escape character syntax) - IBM Documentation - z/OS&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://tools.ietf.org/html/rfc1345&quot;&gt;RFC1345 - Character Mnemonics &amp;amp; Character Sets by Keld Simonsen - June 1992 – IETF (Internet Engineering Task Force)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;em&gt;Linux and Unix Shell Programming&lt;/em&gt;  &lt;br /&gt;
By: David Tansley &lt;br /&gt;
Publisher: Addison-Wesley Professional/Pearson Business  &lt;br /&gt;
Publication Date: December 27, 1999 &lt;br /&gt;
Print ISBN-10: 0-201-67472-6 &lt;br /&gt;
Print ISBN-13: 978-0-201-67472-9&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;!-- Footnotes --&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;By Tom Jennings: “Source X3.4-1963, AMERICAN STANDARD CODE FOR INFORMATION INTERCHANGE, American Standards Association (ASA), 17 June 1963. Available here as page images of a copy of the document obtained from ANSI. Unlike the very enlightened ECMA, ANSI charges for copies of their standards; I paid US$30.00 for eleven (11) poorly xeroxed sheets of paper containing the X3.4-1963 standard.” &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Sun, 18 Feb 2024 17:34:23 -0800</pubDate>
        <link>http://localhost:4000/ansi/ascii/cli/terminal/shell/plaintext/text/console/it/computing/history/sysadmin/rs232serial/2024/02/18/escape_ansi_in_csh_or_tcsh_shell.html</link>
        <guid isPermaLink="true">http://localhost:4000/ansi/ascii/cli/terminal/shell/plaintext/text/console/it/computing/history/sysadmin/rs232serial/2024/02/18/escape_ansi_in_csh_or_tcsh_shell.html</guid>
        
        
        <category>ansi</category>
        
        <category>ascii</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>console</category>
        
        <category>it</category>
        
        <category>computing</category>
        
        <category>history</category>
        
        <category>sysadmin</category>
        
        <category>rs232serial</category>
        
      </item>
    
      <item>
        <title>How to Create and Use Notes in Gitea with MDwiki</title>
        <description>&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Assumption&lt;/strong&gt;:
Using &lt;a href=&quot;https://gitea.com/&quot;&gt;&lt;strong&gt;Gitea&lt;/strong&gt;&lt;/a&gt; as your &lt;em&gt;Git server&lt;/em&gt;.
It’s installed on and hosted by https://example.com:3000/.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Log in to Gitea.&lt;/p&gt;

&lt;p&gt;Create a new repository; for example, name it &lt;strong&gt;duskosnotes&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;install-git-on-the-client-machine&quot;&gt;Install Git on the Client Machine&lt;/h2&gt;

&lt;p&gt;For example, on FreeBSD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install git 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;cloning-and-updating-pushing-the-repository&quot;&gt;Cloning and Updating (Pushing) the Repository&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git clone https://example.com:3000/dusko/duskosnotes.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -Alh duskosnotes/
total 9
drwxr-xr-x  7 dusko  dusko    10B Feb  3 18:15 .git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd duskosnotes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;# Book of Documentation&quot; &amp;gt; index.md
$ printf %s\\n &amp;gt;&amp;gt; index.md
$ printf %s\\n &quot;## Infrastructure&quot; &amp;gt;&amp;gt; index.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pwd
/usr/home/dusko/duskosnotes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git status
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git config --list
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git add .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git status
. . . 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git commit -a
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git status
. . . 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git push
Username for &apos;https://example.com:3000&apos;: 
Password for &apos;https://dusko@example.com:3000&apos;: 
Enumerating objects: . . . 
Counting objects: 100%  . . . 
Delta compression using up to 8 threads
Compressing objects:  . . . 
Writing objects: 100% . . . 
Total . . . 
remote: . Processing ... references
remote: Processed ... references in total
To https://example.com:3000/dusko/duskosnotes.git
   b660686..77b4b38  main -&amp;gt; main
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git status
On branch main
Your branch is up to date with &apos;origin/main&apos;.
 
nothing to commit, working tree clean
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;installing-mdwiki-and-serving-notes-locally-with-python-http-server&quot;&gt;Installing MDwiki and Serving Notes Locally with Python HTTP Server&lt;/h2&gt;

&lt;p&gt;About MDwiki - from &lt;a href=&quot;http://dynalon.github.io/mdwiki/&quot;&gt;MDwiki’s own site&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;“MDwiki is a CMS/Wiki &lt;em&gt;completely built in HTML5/Javascript and runs 100% on the client&lt;/em&gt;.  No special software installation or server side processing is required.  Just upload the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mdwiki.html&lt;/code&gt; shipped with MDwiki into the same directory as your markdown files and you are good to go!&lt;/p&gt;

&lt;p&gt;Note: The website you are currently viewing is realized with MDwiki and hosted on &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub pages&lt;/a&gt;. &lt;a href=&quot;http://mdwiki.info/&quot;&gt;http://mdwiki.info&lt;/a&gt; redirects here.”&lt;/p&gt;

&lt;p&gt;While still in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/home/dusko/duskosnotes&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://dynalon.github.io/mdwiki/mdwiki-latest-debug.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mv mdwiki-latest-debug.html index.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh
total 205
-rw-r--r--  1 dusko  dusko   405K Oct 25  2018 index.html
-rw-r--r--  1 dusko  dusko    44B Feb  3 18:15 index.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -v python3
/usr/local/bin/python3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;run-a-local-web-server&quot;&gt;Run a Local Web Server&lt;/h2&gt;

&lt;p&gt;Navigate to the directory with your notes.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd ~/duskosnotes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start the Python HTTP Server.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ python3 -m http.server 8000 &amp;amp;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ Serving HTTP on :: port 8000 (http://[::]:8000/) ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press ENTER to get back to the terminal.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ jobs -l
[1]  + 18228 Running                   python3 -m http.server 8000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxw | grep -v grep | grep 18228
dusko  18228  0.0  0.0  33196 21440 4 S  09:47  0:00.06 python3 -m http.server 8000 (python3.9)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ netstat -an | grep &apos;\.8000&apos;
tcp46     0     0 *.8000             *.*                LISTEN     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With your Web browser, open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://localhost:8000&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/mdwiki-python-http.jpg&quot; alt=&quot;Displaying notes from gitea with python http server&quot; title=&quot;Displaying notes from gitea with python http server&quot; /&gt;&lt;/p&gt;

&lt;p&gt;When you are ready to stop the Python HTTP server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxw | grep -v grep | grep 18228
dusko  18228  0.0  0.0  33196 21440 4 S  09:47  0:00.06 python3 -m http.server 8000 (python3.9)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ kill 18228  
[1]    Terminated                python3 -m http.server 8000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;adding-a-navigation&quot;&gt;Adding a Navigation&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://raw.githubusercontent.com/Dynalon/mdwiki-seed/gh-pages/navigation.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vi navigation.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat navigation.md
# My Notes

[Home](index.md)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another example of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;navigation.md&lt;/code&gt;: From mdwiki-seed project&lt;br /&gt;
&lt;a href=&quot;https://github.com/exalted/mdwiki-seed/blob/gh-pages/ll_CC/navigation.md&quot;&gt;https://github.com/exalted/mdwiki-seed/blob/gh-pages/ll_CC/navigation.md&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;configuration&quot;&gt;Configuration&lt;/h2&gt;

&lt;p&gt;Configuration options are kept in a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config.json&lt;/code&gt; file.
For a list of availabe options in &lt;em&gt;config.json&lt;/em&gt;, refer to MDwiki Documentation - Customizing, under Configuration heading:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dynalon.github.io/mdwiki/#!customizing.md#Configuration&quot;&gt;http://dynalon.github.io/mdwiki/#!customizing.md#Configuration&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://raw.githubusercontent.com/Dynalon/mdwiki-seed/gh-pages/config.json
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat config.json 
{
    &quot;useSideNav&quot;: &quot;true&quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;create-404-error-page&quot;&gt;Create 404 Error Page&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vi 404.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat 404.md
# Page not found
 
Try going to [homepage](index.md)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;run-a-local-web-server-1&quot;&gt;Run a Local Web Server&lt;/h2&gt;

&lt;p&gt;Start the Python HTTP Server from within the directory where your notes are located.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd ~/duskosnotes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ python3 -m http.server 8000 &amp;amp;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With your Web browser, open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://localhost:8000&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;When you are ready to stop the Python HTTP server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps auxw | grep -v grep | grep python
dusko  18228  0.0  0.0  33196  21440  4  S  09:47  0:00.10 python3 -m http.server 8000 (python3.9)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ kill 18228
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;adding-a-new-page&quot;&gt;Adding a New Page&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cd&lt;/code&gt; into the directory, e.g.: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ cd ~/duskosnotes&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Create a new markdown (.md) file, e.g.: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ vi newpage.md&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Update the &lt;em&gt;index.md&lt;/em&gt; with the line referencing the new page; e.g.: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[newpage](./newpage.md)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;If your Web browser doesn’t show it, you might need to referesh the page or force complete page refresh.
In Firefox:
    &lt;ul&gt;
      &lt;li&gt;Press “Ctrl + F5” or press “Ctrl + Shift + R” (FreeBSD, Linux, Windows)&lt;/li&gt;
      &lt;li&gt;Press “Command + Shift + R” (Mac)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;gitea-doesnt-have-builtin-pages-service-as-of-feb-3-2024&quot;&gt;Gitea Doesn’t Have Builtin Pages Service (as of Feb 3, 2024)&lt;/h2&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/go-gitea/gitea/issues/23516&quot;&gt;github style pages #23516 - Gitea Issues&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.gitea.com/next/installation/comparison#general-features&quot;&gt;Gitea compared to other Git hosting options - General features&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;See ‘GitHub / GitLab pages’ row.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://codeberg.org/Codeberg/pages-server&quot;&gt;Codeberg/pages-server&lt;/a&gt;&lt;br /&gt;
The Codeberg Pages Server - with custom domain support, per-repo pages using the “pages” branch, caching and much more! Easy to selfhost too! &lt;a href=&quot;https://codeberg.page&quot;&gt;https://codeberg.page&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Feb 3, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://dynalon.github.io/mdwiki/#!index.md&quot;&gt;MDwiki - Markdown based wiki done 100% on the client via javascript&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;Note: The MDwiki website is built with MDwiki and hosted on &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub pages&lt;/a&gt;. &lt;a href=&quot;http://mdwiki.info/&quot;&gt;http://mdwiki.info&lt;/a&gt; redirects here.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/Dynalon/mdwiki&quot;&gt;MDwiki - Source code on GitHub – CMS/Wiki system using Javascript for 100% client side single page application using Markdown&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://dynalon.github.io/mdwiki/#!quickstart.md&quot;&gt;MDwiki - Quick Start&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://dynalon.github.io/mdwiki/#!././gimmicks.md&quot;&gt;MDwiki - Gimmicks&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/Dynalon/mdwiki/releases&quot;&gt;MDwiki Download - Precompiled Releases&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://dev.to/adam_b/a-personal-git-repo-as-a-knowledge-base-wiki-j51&quot;&gt;A Personal Git Repo as a Knowledge Base Wiki&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mouyase.github.io/MDWiki/#!tutorials/github.md&quot;&gt;Hosting MDwiki on GitHub - MDwiki Tutorial&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://dynalon.github.io/mdwiki/#!index.md&quot;&gt;MDwiki - a CMS/Wiki completely built in HTML5/Javascript and runs 100% on the client&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/Dynalon/mdwiki-seed&quot;&gt;mdwiki-seed – Basic template file layout to start with MDwiki - see http://mdwiki.info&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;MDwiki Seed &lt;br /&gt;
“A basic file layout template that you can fork to build your own websites or wikis with MDwiki. &lt;br /&gt;
See &lt;a href=&quot;http://mdwiki.info/&quot;&gt;http://mdwiki.info/&lt;/a&gt; for details and documentation.”&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/exalted/mdwiki-seed&quot;&gt;mdwiki-seed – Alternative to https://github.com/Dynalon/mdwiki-seed&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://opensource.com/article/18/8/markdown-html-publishing&quot;&gt;Publishing Markdown to HTML with MDwiki - Create basic websites from Markdown files with this useful open source tool&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://dynalon.github.io/mdwiki/#!examples.md&quot;&gt;MDwiki example websites&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://dynalon.github.io/mdwiki/#!customizing.md&quot;&gt;MDwiki - Customizing&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://gist.github.com/0xdevalias/a8c3c2fd7bf2f50ff666&quot;&gt;MDwiki (and how to get started)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://blog.devalias.net/post/92579952637/mdwiki-and-how-to-get-started&quot;&gt;MDwiki (and how to get started)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/go-gitea/gitea/issues/23516&quot;&gt;github style pages #23516 - Gitea Issues&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.gitea.com/next/installation/comparison#general-features&quot;&gt;Gitea compared to other Git hosting options - General features&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;See ‘GitHub / GitLab pages’ row.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://gitea.com/&quot;&gt;Gitea - Free forge based on git written in Go&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://codeberg.org/Codeberg/pages-server&quot;&gt;Codeberg/pages-server&lt;/a&gt;&lt;br /&gt;
The Codeberg Pages Server - with custom domain support, per-repo pages using the “pages” branch, caching and much more! Easy to selfhost too! &lt;a href=&quot;https://codeberg.page&quot;&gt;https://codeberg.page&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bootswatch.com/&quot;&gt;Bootswatch - Free themes for Bootstrap&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://puppypaste.com/&quot;&gt;PuppyPaste - Paste your content without losing formatting and get back Markdown or Source HTML – Great for bug trackers, wikis, and gists&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://git.sr.ht/~kb/open-notes&quot;&gt;Digital jottings and notes to self - Open notes and associated publishing tools - ~kb/open-notes&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://noaboutsnote-hatenablog-com.translate.goog/entry/owncloud_mdwiki?_x_tr_sl=ja&amp;amp;_x_tr_tl=en&amp;amp;_x_tr_hl=en&amp;amp;_x_tr_pto=sc&quot;&gt;Private Wiki created with ownCloud + MDWiki – Translated&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://getkirby.com/&quot;&gt;Kirby - the CMS that adapts to you&lt;/a&gt;
“Just files and folders - Kirby stores your content in simple text files. Folders are pages. Add images, documents and videos and you are ready to go. It’s that simple.”&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://rsb.io/posts/gollum-personal-wiki/&quot;&gt;Gollum as a Secure Personal Knowledge Base&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://michaelheap.com/github-wiki-is-an-antipattern/&quot;&gt;The GitHub wiki is an anti-pattern&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;mdwiki-structure&quot;&gt;MDwiki Structure&lt;/h2&gt;

&lt;p&gt;From &lt;a href=&quot;https://github.com/exalted/mdwiki-seed?tab=readme-ov-file#structure&quot;&gt;mdwiki-seed: README - Structure&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;All file references here are relative to their respective language folder.&lt;/em&gt;&lt;/p&gt;

&lt;table class=&quot;table table-bordered&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Name&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Type&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;index.md&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;File&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Starting point (a.k.a. “home page”) for your wiki. &lt;strong&gt;Note this is not the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;index.html&lt;/code&gt;, but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;index.md&lt;/code&gt;&lt;/strong&gt;!&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;navigation.md&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;File&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Various settings of your wiki (e.g., name of your wiki, items in the navigation bar at the top, etc.)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config.json&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;File&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;If you don’t know what this is for, don’t touch it.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pages&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Folder&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Ideally, inside this folder, you create one &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*.md&lt;/code&gt; file for every page inside your wiki (e.g., &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foo.md&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;much-longer-names-are-also-okay.md&lt;/code&gt;, etc.) You can also create as many subfolders as you need, just remember to link them accordingly.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uploads&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Folder&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;An example folder structure where you could put other files. &lt;strong&gt;Although it is best to host your files somewhere else, like Dropbox, or a CDN, etc.&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;creating-a-new-repository-on-the-command-line&quot;&gt;Creating a new repository on the command line&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ touch README.md
$ git init
$ git checkout -b main
$ git add README.md
$ git commit -m &quot;first commit&quot;
$ git remote add origin git@example.com:dusko/duskosnotes.git
$ git push -u origin main
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;pushing-an-existing-repository-from-the-command-line&quot;&gt;Pushing an existing repository from the command line&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git remote add origin git@example.com:dusko/duskosnotes.git
$ git push -u origin main
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 03 Feb 2024 17:14:12 -0800</pubDate>
        <link>http://localhost:4000/howto/git/versioncontrol/sysadmin/cli/notebook/diary/journal/plaintext/text/terminal/shell/knowledge/projectmanagement/unix/graph/diagram/visualization/wiki/technicalwriting/documentation/writing/tex/latex/pdf/markdown/web/webbrowser/webdevelopment/software/coding/programming/opensource/reference/2024/02/03/git-notes.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/git/versioncontrol/sysadmin/cli/notebook/diary/journal/plaintext/text/terminal/shell/knowledge/projectmanagement/unix/graph/diagram/visualization/wiki/technicalwriting/documentation/writing/tex/latex/pdf/markdown/web/webbrowser/webdevelopment/software/coding/programming/opensource/reference/2024/02/03/git-notes.html</guid>
        
        
        <category>howto</category>
        
        <category>git</category>
        
        <category>versioncontrol</category>
        
        <category>sysadmin</category>
        
        <category>cli</category>
        
        <category>notebook</category>
        
        <category>diary</category>
        
        <category>journal</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>knowledge</category>
        
        <category>projectmanagement</category>
        
        <category>unix</category>
        
        <category>graph</category>
        
        <category>diagram</category>
        
        <category>visualization</category>
        
        <category>wiki</category>
        
        <category>technicalwriting</category>
        
        <category>documentation</category>
        
        <category>writing</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>pdf</category>
        
        <category>markdown</category>
        
        <category>web</category>
        
        <category>webbrowser</category>
        
        <category>webdevelopment</category>
        
        <category>software</category>
        
        <category>coding</category>
        
        <category>programming</category>
        
        <category>opensource</category>
        
        <category>reference</category>
        
      </item>
    
      <item>
        <title>Install RHEL 9 (Red Hat Enterprise Linux 9) VM on KVM in Text Mode Over Serial Console [DRAFT]</title>
        <description>&lt;p&gt;[TODO:] Add creation of volume as QCOW2 image from an XML template&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh dusko@example.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh pool-list --all
 Name                 State      Autostart
-------------------------------------------
 default              active     yes
 dirpool              inactive   yes
 dwu                  active     yes
 images               active     yes
 iscsiadd02           active     yes
 isos                 inactive   yes
 PoolNappIt1          active     yes
 tmp                  active     yes

$ sudo virsh vol-list --pool iscsiadd02
 Name                 Path
------------------------------------------------------------------------------
 epidote.qcow2        /iscsiadd02/epidote.qcow2
 images               /iscsiadd02/images
 ofc2.qcow2           /iscsiadd02/ofc2.qcow2
 stores.qcow2         /iscsiadd02/stores.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-info epidote.qcow2 --pool iscsiadd02
Name:           epidote.qcow2
Type:           file
Capacity:       360.00 GiB
Allocation:     200.00 KiB

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /iscsiadd02/epidote.qcow2
-rw-r--r--. 1 root root 198K Jan  8 16:08 /iscsiadd02/epidote.qcow2

$ file /iscsiadd02/epidote.qcow2
/iscsiadd02/epidote.qcow2: QEMU QCOW Image (v2), 386547056640 bytes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img info /iscsiadd02/epidote.qcow2
image: /iscsiadd02/epidote.qcow2
file format: qcow2
virtual size: 360G (386547056640 bytes)
disk size: 200K
cluster_size: 65536
Format specific information:
    compat: 0.10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-dumpxml epidote.qcow2 --pool iscsiadd02
&amp;lt;volume type=&apos;file&apos;&amp;gt;
  &amp;lt;name&amp;gt;epidote.qcow2&amp;lt;/name&amp;gt;
  &amp;lt;key&amp;gt;/iscsiadd02/epidote.qcow2&amp;lt;/key&amp;gt;
  &amp;lt;source&amp;gt;
  &amp;lt;/source&amp;gt;
  &amp;lt;capacity unit=&apos;bytes&apos;&amp;gt;386547056640&amp;lt;/capacity&amp;gt;
  &amp;lt;allocation unit=&apos;bytes&apos;&amp;gt;204800&amp;lt;/allocation&amp;gt;
  &amp;lt;physical unit=&apos;bytes&apos;&amp;gt;202752&amp;lt;/physical&amp;gt;
  &amp;lt;target&amp;gt;
    &amp;lt;path&amp;gt;/iscsiadd02/epidote.qcow2&amp;lt;/path&amp;gt;
    &amp;lt;format type=&apos;qcow2&apos;/&amp;gt;
    &amp;lt;permissions&amp;gt;
      &amp;lt;mode&amp;gt;0644&amp;lt;/mode&amp;gt;
      &amp;lt;owner&amp;gt;0&amp;lt;/owner&amp;gt;
      &amp;lt;group&amp;gt;0&amp;lt;/group&amp;gt;
      &amp;lt;label&amp;gt;system_u:object_r:default_t:s0&amp;lt;/label&amp;gt;
    &amp;lt;/permissions&amp;gt;
    &amp;lt;timestamps&amp;gt;
      &amp;lt;atime&amp;gt;1705292977.548377238&amp;lt;/atime&amp;gt;
      &amp;lt;mtime&amp;gt;1704758917.021316115&amp;lt;/mtime&amp;gt;
      &amp;lt;ctime&amp;gt;1705194419.415541519&amp;lt;/ctime&amp;gt;
    &amp;lt;/timestamps&amp;gt;
  &amp;lt;/target&amp;gt;
&amp;lt;/volume&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /iscsiadd02/epidote.qcow2
-rw-r--r--. 1 root root 198K Jan  8 16:08 /iscsiadd02/epidote.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -Alh /iscsiadd02/
total 2.3T
-rw-r--r--. 1 root root 198K Jan  8 16:08 epidote.qcow2
drwxr-xr-x. 1 root root   46 Jan 13 14:40 images
-rw-r--r--. 1 qemu qemu 2.2T Jan 15 17:39 ofc2.qcow2
-rw-r--r--. 1 qemu qemu 126G Jan 15 17:38 stores.qcow2

$ ls -Alh /iscsiadd02/images/
total 9.0G
-rw-r--r--. 1 qemu qemu 9.0G Jan 13 14:40 rhel-9.2-x86_64-dvd.iso

$ sudo chown qemu:qemu /iscsiadd02/epidote.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /iscsiadd02/epidote.qcow2
-rw-r--r--. 1 qemu qemu 198K Jan  8 16:08 /iscsiadd02/epidote.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-dumpxml epidote.qcow2 --pool iscsiadd02
&amp;lt;volume type=&apos;file&apos;&amp;gt;
  &amp;lt;name&amp;gt;epidote.qcow2&amp;lt;/name&amp;gt;
  &amp;lt;key&amp;gt;/iscsiadd02/epidote.qcow2&amp;lt;/key&amp;gt;
  &amp;lt;source&amp;gt;
  &amp;lt;/source&amp;gt;
  &amp;lt;capacity unit=&apos;bytes&apos;&amp;gt;386547056640&amp;lt;/capacity&amp;gt;
  &amp;lt;allocation unit=&apos;bytes&apos;&amp;gt;204800&amp;lt;/allocation&amp;gt;
  &amp;lt;physical unit=&apos;bytes&apos;&amp;gt;202752&amp;lt;/physical&amp;gt;
  &amp;lt;target&amp;gt;
    &amp;lt;path&amp;gt;/iscsiadd02/epidote.qcow2&amp;lt;/path&amp;gt;
    &amp;lt;format type=&apos;qcow2&apos;/&amp;gt;
    &amp;lt;permissions&amp;gt;
      &amp;lt;mode&amp;gt;0644&amp;lt;/mode&amp;gt;
      &amp;lt;owner&amp;gt;107&amp;lt;/owner&amp;gt;
      &amp;lt;group&amp;gt;107&amp;lt;/group&amp;gt;
      &amp;lt;label&amp;gt;system_u:object_r:default_t:s0&amp;lt;/label&amp;gt;
    &amp;lt;/permissions&amp;gt;
    &amp;lt;timestamps&amp;gt;
      &amp;lt;atime&amp;gt;1705292977.548377238&amp;lt;/atime&amp;gt;
      &amp;lt;mtime&amp;gt;1704758917.021316115&amp;lt;/mtime&amp;gt;
      &amp;lt;ctime&amp;gt;1705369306.611531762&amp;lt;/ctime&amp;gt;
    &amp;lt;/timestamps&amp;gt;
  &amp;lt;/target&amp;gt;
&amp;lt;/volume&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-dumpxml epidote.qcow2 --pool iscsiadd02 | grep mode
      &amp;lt;mode&amp;gt;0644&amp;lt;/mode&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo virsh vol-dumpxml epidote.qcow2 --pool iscsiadd02 | grep owner 
      &amp;lt;owner&amp;gt;107&amp;lt;/owner&amp;gt;

$ sudo virsh vol-dumpxml epidote.qcow2 --pool iscsiadd02 | grep group
      &amp;lt;group&amp;gt;107&amp;lt;/group&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep ^root /etc/passwd
root:x:0:0:root:/root:/bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep ^qemu /etc/passwd
qemu:x:107:107:qemu user:/:/sbin/nologin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start serial QEMU RHEL 9.2 guest VM installation.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 virt-install \
 --name epidote \
 --memory 8192 \
 --disk vol=iscsiadd02/epidote.qcow2 \
 --vcpus 4 \
 --os-variant rhel9.2 \
 --graphics none \
 --location /iscsiadd02/images/rhel-9.2-x86_64-dvd.iso \
 --extra-args &apos;console=ttyS0&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:
For pre-RHEL 9 guest VM, you could use an extra option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;--console pty,target_type=serial \
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and a different &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--extra-args&lt;/code&gt; parameter:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;--extra-args &apos;console=ttyS0,115200n8 serial&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As of time of this writing, when you install RHEL 9 guest VM with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virt-install(1)&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--console pty,target_type=serial&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--extra-args &apos;console=ttyS0,115200n8 serial&apos;&lt;/code&gt;, you will see this warning:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&apos;serial&apos; is deprecated and has been removed.
To change the console use &apos;console=&apos; instead.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continuing with VM guest installation:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
---- snip ----

Starting installer, one moment...

anaconda 34.25.2.10-1.el9_2 for Red Hat Enterprise Linux 9.2 started.

 * installation log files are stored in /tmp during the installation
 * shell is available on TTY2
 * if the graphical installation interface fails to start, try again with the
   inst.text bootoption to start text installation
 * when reporting a bug add logs from /tmp as separate text/plain attachments

================================================================================
================================================================================

Text mode provides a limited set of installation options. It does not offer
custom partitioning for full control over the disk layout. Would you like to use
VNC mode instead?

1) Start VNC
2) Use text mode

Please make a selection from the above [&apos;c&apos; to continue, &apos;q&apos; to quit, &apos;r&apos; to
refresh]:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[TODO]  2024&lt;em&gt;01_16_1630&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;rhel-subscription-manager--client-registration-via-red-hat-satellite-rhs&quot;&gt;RHEL subscription-manager – Client Registration via Red Hat Satellite (RHS)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ hostname
example.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;installing-katello-ca-consumer&quot;&gt;Installing katello-ca-consumer&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 yum \
 install --nogpgcheck \
 http://satellite6.example.com/pub/katello-ca-consumer-latest.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;registering-the-client&quot;&gt;Registering the Client&lt;/h3&gt;

&lt;p&gt;Once katello-ca-consumer is installed, proceed with the registration:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager register --org=YourOrgName --activationkey=&amp;lt;ACTIVATION_KEY_NAME&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum -y remove rhn-setup rhn-client-tools \
 yum-rhn-plugin rhnsd rhn-check rhnlib spacewalk-abrt spacewalk-oscap \
 osad &apos;rh-*-rhui-client&apos; &apos;candlepin-cert-consumer-*&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this case, the OS is RHEL 9.
Activation key name for RHEL 9 OS is:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RHEL9&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Example for registering a Red Hat Enterprise Linux 9 system:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 subscription-manager register \
 --org=YourOrgName \
 --activationkey=YourActivationKey

The system has been registered with ID: 0404e570-5090-4232-9568-9b99723e6efb
The system has been registered with ID: 0404e570-...........................
The registered system name is: example.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum -y remove rhn-setup rhn-client-tools \
 yum-rhn-plugin rhnsd rhn-check rhnlib spacewalk-abrt spacewalk-oscap \
 osad &apos;rh-*-rhui-client&apos; &apos;candlepin-cert-consumer-*&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;host-tools&quot;&gt;Host Tools&lt;/h3&gt;

&lt;p&gt;Ensure the &lt;strong&gt;katello-host-tools&lt;/strong&gt; package is installed from the &lt;strong&gt;Satellite Tools&lt;/strong&gt; repository on Satellite Server.
This package helps in reporting back to Satellite and informs of current patch levels and general state of your host.
Note, the repository is Satellite version dependent.
When Satellite is upgraded, the repository name will change to correspond with the new Satellite Server version.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager repos --enable satellite-tools-6.10-for-rhel-8-x86_64-rpms

$ sudo yum -y install katello-host-tools
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl stop goferd.service
$ sudo systemctl disable goferd.service
$ sudo yum remove katello-agent
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List the repo IDs of the currently subscribed repositories:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo subscription-manager repos --list-enabled | grep ID | awk -F&apos; &apos; &apos;{ print $3 }&apos;
rhel-9-for-x86_64-appstream-rpms
rhel-9-for-x86_64-baseos-rpms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all installed packages.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo yum list installed | wc -l
947
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From the man page for virsh(1):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NOTES
---- snip ----
       Several virsh commands take an optionally scaled integer; if no scale
       is provided, then the default is listed in the command (for historical
       reasons, some commands default to bytes, while other commands default
       to kibibytes).  The following case-insensitive suffixes can be used to
       select a specific scale:
         b, byte  byte      1
         KB       kilobyte  1,000
         k, KiB   kibibyte  1,024
         MB       megabyte  1,000,000
         M, MiB   mebibyte  1,048,576
         GB       gigabyte  1,000,000,000
         G, GiB   gibibyte  1,073,741,824
         TB       terabyte  1,000,000,000,000
         T, TiB   tebibyte  1,099,511,627,776
         PB       petabyte  1,000,000,000,000,000
         P, PiB   pebibyte  1,125,899,906,842,624
         EB       exabyte   1,000,000,000,000,000,000
         E, EiB   exbibyte  1,152,921,504,606,846,976
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
</description>
        <pubDate>Tue, 16 Jan 2024 16:09:52 -0800</pubDate>
        <link>http://localhost:4000/howto/2024/01/16/kvm-qemu-vm-rhel9.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/2024/01/16/kvm-qemu-vm-rhel9.html</guid>
        
        
        <category>howto</category>
        
      </item>
    
      <item>
        <title>How to Install ikiwiki on FreeBSD 13</title>
        <description>&lt;hr /&gt;

&lt;p&gt;OS: FreeBSD 13.2, Shell: csh&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install ikiwiki
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; ikiwiki | wc -l
     833
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; ikiwiki | grep bin
/usr/local/bin/ikiwiki
/usr/local/bin/ikiwiki-calendar
/usr/local/bin/ikiwiki-comment
/usr/local/bin/ikiwiki-makerepo
/usr/local/bin/ikiwiki-transition
/usr/local/bin/ikiwiki-update-wikilist
/usr/local/sbin/ikiwiki-mass-rebuild
 
% pkg query &apos;%Fp&apos; ikiwiki | grep man
/usr/local/man/man1/ikiwiki-calendar.1.gz
/usr/local/man/man1/ikiwiki-comment.1.gz
/usr/local/man/man1/ikiwiki-makerepo.1.gz
/usr/local/man/man1/ikiwiki-transition.1.gz
/usr/local/man/man1/ikiwiki-update-wikilist.1.gz
/usr/local/man/man1/ikiwiki.1.gz
/usr/local/man/man8/ikiwiki-mass-rebuild.8.gz
 
% pkg query &apos;%Fp&apos; ikiwiki | grep examples | wc -l
      27
 
% pkg query &apos;%Fp&apos; ikiwiki | grep basewiki | wc -l
     212
 
% pkg query &apos;%Fp&apos; ikiwiki | grep templates | wc -l
      63
 
% pkg query &apos;%Fp&apos; ikiwiki | grep themes | wc -l
       9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ikiwiki
usage: ikiwiki [options] source dest
       ikiwiki --setup my.setup [options]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man -k ikiwiki
apropos: nothing appropriate

% sudo makewhatis

% man -k ikiwiki
ikiwiki(1) - a wiki compiler
ikiwiki-calendar(1) - create calendar archive pages
ikiwiki-comment(1) - posts a comment
ikiwiki-makerepo(1) - check an ikiwiki srcdir into revision control
ikiwiki-transition(1) - transition ikiwiki pages to new syntaxes, etc
ikiwiki-update-wikilist(1) - add or remove user from /usr/local/etc/ikiwiki/wikilist
ikiwiki-mass-rebuild(8) - rebuild all ikiwiki wikis on a system
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls /usr/local/etc/ikiwiki/
auto-blog.setup         auto.setup              wikilist
auto-blog.setup.sample  auto.setup.sample       wikilist.sample
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 /usr/local/etc/ikiwiki/auto.setup.sample \
 /usr/local/etc/ikiwiki/auto.setup
 
% wc -l /usr/local/etc/ikiwiki/auto.setup.sample
      44 /usr/local/etc/ikiwiki/auto.setup.sample
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/ikiwiki/auto.setup.sample
#!/usr/local/bin/perl
# Ikiwiki setup automator.
#
# This setup file causes ikiwiki to create a wiki, check it into revision
# control, generate a setup file for the new wiki, and set everything up.
#
# Just run: ikiwiki --setup /usr/local/etc/ikiwiki/auto.setup
#
# By default, it asks a few questions, and confines itself to the user&apos;s home
# directory. You can edit it to change what it asks questions about, or to
# modify the values to use site-specific settings.

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh ~/.ikiwiki
ls: /home/dusko/.ikiwiki: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -r -n -i allow_symlinks_before_srcdir /usr/local/etc/ikiwiki/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To avoid error “symlink found in srcdir path (/home)” error, 
set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;allow_symlinks_before_srcdir&lt;/code&gt; to allow this.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i /usr/local/etc/ikiwiki/auto.setup ~/auto.setup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vi ~/auto.setup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 /usr/local/etc/ikiwiki/auto.setup ~/auto.setup
--- /usr/local/etc/ikiwiki/auto.setup   2023-09-12 23:33:38.000000000 -0700
+++ /home/dusko/auto.setup      2023-09-24 00:20:16.367697000 -0700
@@ -43,0 +44 @@
+        allow_symlinks_before_srcdir =&amp;gt; 1,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ikiwiki --verbose --setup ~/auto.setup

What will the wiki be named? myikiwiki
Cannot create second readline interface, falling back to dumb.
What revision control system to use? git
Cannot create second readline interface, falling back to dumb.
Which user (wiki account, openid, or email) will be admin? dusko


Setting up myikiwiki ...
Importing /home/dusko/myikiwiki into git
---- snip ----

Initialized empty shared Git repository in /usr/home/dusko/myikiwiki.git/
---- snip ----

Directory /home/dusko/myikiwiki is now a clone of git repository /home/dusko/myikiwiki.git

refreshing wiki..
---- snip ----


Creating wiki admin dusko ...
Choose a password:
Confirm password:


generating wrappers..
rebuilding wiki..
---- snip ----

done
ikiwiki-update-wikilist: cannot write to /usr/local/etc/ikiwiki/wikilist
** Failed to add you to the system wikilist file.
** (Probably ikiwiki-update-wikilist is not SUID root.)
** Your wiki will not be automatically updated when ikiwiki is upgraded.


Successfully set up myikiwiki:
        url:         http://fbsd1.home/~dusko/myikiwiki
        srcdir:      ~/myikiwiki
        destdir:     ~/public_html/myikiwiki
        repository:  ~/myikiwiki.git
To modify settings, edit ~/myikiwiki.setup and then run:
        ikiwiki --setup ~/myikiwiki.setup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh myikiwiki.setup
-rw-r--r--  1 dusko  dusko    14K Sep 23 10:21 myikiwiki.setup

% wc -l myikiwiki.setup
     428 myikiwiki.setup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep allow_symlinks_before_srcdir myikiwiki.setup
allow_symlinks_before_srcdir: 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld ~/public_html
drwxr-xr-x  3 dusko  dusko  3 Sep 23 10:21 /home/dusko/public_html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -F ~/public_html/
myikiwiki/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -fF ~/public_html/myikiwiki/
./              wikiicons/      local.css       shortcuts/      recentchanges/
../             templates/      smileys/        ikiwiki/        ikiwiki.cgi*
sandbox/        favicon.ico     index.html      style.css
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg search apache | wc -l
      78
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg search apache | grep -i web | grep -i server
apache24-2.4.57_1              Version 2.4.x of Apache web server
p5-Config-ApacheFormat-1.2_2   Parse a configuration file in the same syntax as the Apache web server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install apache24
---- snip ----

Message from apache24-2.4.57_1:

--
To run apache www server from startup, add apache24_enable=&quot;yes&quot;
in your /etc/rc.conf. Extra options can be found in startup script.
 
Your hostname must be resolvable using at least 1 mechanism in
/etc/nsswitch.conf typically DNS or /etc/hosts or apache might
have issues starting depending on the modules you are using.


- apache24 default build changed from static MPM to modular MPM
- more modules are now enabled per default in the port
- icons and error pages moved from WWWDIR to DATADIR

   If build with modular MPM and no MPM is activated in
   httpd.conf, then mpm_prefork will be activated as default
   MPM in etc/apache24/modules.d to keep compatibility with
   existing php/perl/python modules!

Please compare the existing httpd.conf with httpd.conf.sample
and merge missing modules/instructions into httpd.conf!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% hostname
fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep hostname /etc/rc.conf
hostname=&quot;fbsd1.home.arpa&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | wc -l
    1649
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep -w bin
/usr/local/bin/ab
/usr/local/bin/htdbm
/usr/local/bin/htdigest
/usr/local/bin/htpasswd
/usr/local/bin/httxt2dbm
/usr/local/bin/logresolve
/usr/local/www/apache24/cgi-bin/printenv
/usr/local/www/apache24/cgi-bin/test-cgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep -w sbin 
/usr/local/sbin/apachectl
/usr/local/sbin/apxs
/usr/local/sbin/check_forensic
/usr/local/sbin/checkgid
/usr/local/sbin/dbmmanage
/usr/local/sbin/envvars
/usr/local/sbin/fcgistarter
/usr/local/sbin/htcacheclean
/usr/local/sbin/httpd
/usr/local/sbin/rotatelogs
/usr/local/sbin/split-logfile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep -w conf 
/usr/local/etc/apache24/Includes/no-accf.conf
/usr/local/etc/apache24/extra/httpd-autoindex.conf.sample
/usr/local/etc/apache24/extra/httpd-dav.conf.sample
/usr/local/etc/apache24/extra/httpd-default.conf.sample
/usr/local/etc/apache24/extra/httpd-info.conf.sample
/usr/local/etc/apache24/extra/httpd-languages.conf.sample
/usr/local/etc/apache24/extra/httpd-manual.conf.sample
/usr/local/etc/apache24/extra/httpd-mpm.conf.sample
/usr/local/etc/apache24/extra/httpd-multilang-errordoc.conf.sample
/usr/local/etc/apache24/extra/httpd-ssl.conf.sample
/usr/local/etc/apache24/extra/httpd-userdir.conf.sample
/usr/local/etc/apache24/extra/httpd-vhosts.conf.sample
/usr/local/etc/apache24/extra/proxy-html.conf.sample
/usr/local/etc/apache24/httpd.conf.sample
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep libexec | wc -l
     113
 
% pkg query &apos;%Fp&apos; apache24 | grep &apos;\.so&apos; | wc -l
     112
 
% pkg query &apos;%Fp&apos; apache24 | grep libexec | grep -v &apos;\.so&apos;
/usr/local/libexec/apache24/httpd.exp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep libexec 
/usr/local/libexec/apache24/httpd.exp
/usr/local/libexec/apache24/mod_access_compat.so
/usr/local/libexec/apache24/mod_actions.so
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep libexec | grep cgi | wc -l
       5
 
% pkg query &apos;%Fp&apos; apache24 | grep libexec | grep cgi
/usr/local/libexec/apache24/mod_authnz_fcgi.so
/usr/local/libexec/apache24/mod_cgi.so
/usr/local/libexec/apache24/mod_cgid.so
/usr/local/libexec/apache24/mod_proxy_fcgi.so
/usr/local/libexec/apache24/mod_proxy_scgi.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep -w man | wc -l
      16
 
% pkg query &apos;%Fp&apos; apache24 | grep -w man | grep -v &apos;\-man&apos; | wc -l
      13
 
% pkg query &apos;%Fp&apos; apache24 | grep -w man | grep -v &apos;\-man&apos; 
/usr/local/man/man1/ab.1.gz
/usr/local/man/man1/apxs.1.gz
/usr/local/man/man1/dbmmanage.1.gz
/usr/local/man/man1/htdbm.1.gz
/usr/local/man/man1/htdigest.1.gz
/usr/local/man/man1/htpasswd.1.gz
/usr/local/man/man1/httxt2dbm.1.gz
/usr/local/man/man1/logresolve.1.gz
/usr/local/man/man8/apachectl.8.gz
/usr/local/man/man8/fcgistarter.8.gz
/usr/local/man/man8/htcacheclean.8.gz
/usr/local/man/man8/httpd.8.gz
/usr/local/man/man8/rotatelogs.8.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep -w doc | wc -l
    1147
 
% pkg query &apos;%Fp&apos; apache24 | grep -w doc | head -4
/usr/local/share/doc/apache24/BUILDING
/usr/local/share/doc/apache24/LICENSE
/usr/local/share/doc/apache24/NOTICE
/usr/local/share/doc/apache24/bind.html

% pkg query &apos;%Fp&apos; apache24 | grep -w doc | tail -4
/usr/local/share/doc/apache24/vhosts/name-based.html.ko.euc-kr
/usr/local/share/doc/apache24/vhosts/name-based.html.tr.utf8
/usr/local/www/apache24/icons/small/doc.gif
/usr/local/www/apache24/icons/small/doc.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query &apos;%Fp&apos; apache24 | grep -w www | wc -l
     264

% pkg query &apos;%Fp&apos; apache24 | grep -w www 
/usr/local/www/apache24/cgi-bin/printenv
/usr/local/www/apache24/cgi-bin/test-cgi
/usr/local/www/apache24/error/HTTP_BAD_GATEWAY.html.var
/usr/local/www/apache24/error/HTTP_BAD_REQUEST.html.var
---- snip ----
/usr/local/www/apache24/error/README
/usr/local/www/apache24/error/contact.html.var
/usr/local/www/apache24/error/include/bottom.html
/usr/local/www/apache24/error/include/spacer.html
/usr/local/www/apache24/error/include/top.html
/usr/local/www/apache24/icons/README
/usr/local/www/apache24/icons/README.html
/usr/local/www/apache24/icons/a.gif

% pkg query &apos;%Fp&apos; apache24 | grep -w www | tail -4
/usr/local/www/apache24/icons/world1.png
/usr/local/www/apache24/icons/world2.gif
/usr/local/www/apache24/icons/world2.png
/usr/local/www/apache24/icons/xml.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% service apache24 status
Cannot &apos;status&apos; apache24. Set apache24_enable to YES in /etc/rc.conf or use &apos;one
status&apos; instead of &apos;status&apos;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% service apache24 onestatus
apache24 is not running.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo service apache24 onestart
Performing sanity check on apache24 configuration:
AH00557: httpd: apr_sockaddr_info_get() failed for fbsd1.home.arpa
AH00558: httpd: Could not reliably determine the server&apos;s fully qualified domain
 name, using 127.0.0.1. Set the &apos;ServerName&apos; directive globally to suppress this
 message
Syntax OK
Starting apache24.
AH00557: httpd: apr_sockaddr_info_get() failed for fbsd1.home.arpa
AH00558: httpd: Could not reliably determine the server&apos;s fully qualified domain
 name, using 127.0.0.1. Set the &apos;ServerName&apos; directive globally to suppress this
 message
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo service apache24 onestop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% service apache24 onestatus
apache24 is not running.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -fF /usr/local/etc/apache24/
./                      httpd.conf              magic.sample
../                     httpd.conf.ORIG         mime.types
magic                   extra/                  httpd.conf.sample
modules.d/              mime.types.sample
Includes/               envvars.d/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 /usr/local/etc/apache24/httpd.conf.sample \
 /usr/local/etc/apache24/httpd.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i \
 /usr/local/etc/apache24/httpd.conf \
 /usr/local/etc/apache24/httpd.conf.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/apache24/httpd.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /usr/local/etc/apache24/httpd.conf.ORIG \
 /usr/local/etc/apache24/httpd.conf
--- /usr/local/etc/apache24/httpd.conf.ORIG     2023-09-23 10:31:23.936523000 -0700
+++ /usr/local/etc/apache24/httpd.conf  2023-09-23 10:36:44.163782000 -0700
@@ -166 +166 @@
-       #LoadModule cgid_module libexec/apache24/mod_cgid.so
+       LoadModule cgid_module libexec/apache24/mod_cgid.so
@@ -169 +169 @@
-       #LoadModule cgi_module libexec/apache24/mod_cgi.so
+       LoadModule cgi_module libexec/apache24/mod_cgi.so
@@ -179 +179 @@
-#LoadModule userdir_module libexec/apache24/mod_userdir.so
+LoadModule userdir_module libexec/apache24/mod_userdir.so
@@ -226,0 +227 @@
+ServerName fbsd1.home.arpa:80
@@ -376 +377 @@
-    #Scriptsock cgisock
+    Scriptsock cgisock
@@ -431 +432 @@
-    #AddHandler cgi-script .cgi
+    AddHandler cgi-script .cgi .pl
@@ -503 +504 @@
-#Include etc/apache24/extra/httpd-userdir.conf
+Include etc/apache24/extra/httpd-userdir.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i \
 /usr/local/etc/apache24/extra/httpd-userdir.conf \
 /usr/local/etc/apache24/extra/httpd-userdir.conf.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/apache24/extra/httpd-userdir.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /usr/local/etc/apache24/extra/httpd-userdir.conf.ORIG \
 /usr/local/etc/apache24/extra/httpd-userdir.conf
--- /usr/local/etc/apache24/extra/httpd-userdir.conf.ORIG       2023-09-23 10:38:15.502167000 -0700
+++ /usr/local/etc/apache24/extra/httpd-userdir.conf    2023-09-23 10:40:41.981299000 -0700
@@ -23,0 +24,8 @@
+
+&amp;lt;Directory &quot;/home/dusko/public_html&quot;&amp;gt;
+    AllowOverride None
+    Options +ExecCGI
+    AddHandler cgi-script .cgi .pl
+    Require all granted
+&amp;lt;/Directory&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep Required /usr/local/etc/apache24/extra/httpd-userdir.conf
# Required module: mod_authz_core, mod_authz_host, mod_userdir
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Display a list of loaded static and shared modules.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% apachectl -M | wc -l
      28

Loaded Modules:
 core_module (static)
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% apachectl -M | grep authz_core
 authz_core_module (shared)
 
% apachectl -M | grep authz_host
 authz_host_module (shared)
 
% apachectl -M | grep userdir
 userdir_module (shared)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% apachectl -M | grep -i cgi
 cgi_module (shared)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% service apache24 onestatus
apache24 is not running.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo service apache24 onestart
Performing sanity check on apache24 configuration:
Syntax OK
Starting apache24.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% service apache24 onestatus
apache24 is running as pid 46570.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With your Web browser:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://localhost/~dusko/myikiwiki/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/myikiwiki.jpg&quot; alt=&quot;Displaying an ikiwiki instance home page running with apache web server on local machine&quot; title=&quot;Displaying an ikiwiki instance home page running with apache web server on local machine&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://ikiwiki.info/&quot;&gt;ikiwiki&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Ikiwiki is a wiki compiler.  It converts wiki pages into HTML pages
suitable for publishing on a website.  Ikiwiki stores pages and history
in a revision control system such as Subversion or Git.  There are many
other features, including support for blogging and podcasting, as well
as a large array of plugins.&lt;/p&gt;

  &lt;p&gt;Alternatively, think of ikiwiki as a particularly flexible static site
generator with some dynamic features.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
</description>
        <pubDate>Sat, 23 Sep 2023 03:04:23 -0700</pubDate>
        <link>http://localhost:4000/wiki/freebsd/howto/webbrowser/webdevelopment/web/tool/markdown/plaintext/text/tex/latex/pdf/graph/diagram/writing/technicalwriting/documentation/visualization/staticsitegenerator/2023/09/23/how-to-install-ikiwiki-on-freebsd13.html</link>
        <guid isPermaLink="true">http://localhost:4000/wiki/freebsd/howto/webbrowser/webdevelopment/web/tool/markdown/plaintext/text/tex/latex/pdf/graph/diagram/writing/technicalwriting/documentation/visualization/staticsitegenerator/2023/09/23/how-to-install-ikiwiki-on-freebsd13.html</guid>
        
        
        <category>wiki</category>
        
        <category>freebsd</category>
        
        <category>howto</category>
        
        <category>webbrowser</category>
        
        <category>webdevelopment</category>
        
        <category>web</category>
        
        <category>tool</category>
        
        <category>markdown</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>pdf</category>
        
        <category>graph</category>
        
        <category>diagram</category>
        
        <category>writing</category>
        
        <category>technicalwriting</category>
        
        <category>documentation</category>
        
        <category>visualization</category>
        
        <category>staticsitegenerator</category>
        
      </item>
    
      <item>
        <title>My GTD Workflow [WIP]</title>
        <description>&lt;p&gt;OS: FreeBSD 14.0 &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;vi&lt;/li&gt;
  &lt;li&gt;TeX, LaTeX, PDF&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;my website&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Graphviz&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Zim&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Paper notebook, pen, pencil&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;CRON&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;taskwarrior&lt;/li&gt;
  &lt;li&gt;remind
    &lt;ul&gt;
      &lt;li&gt;xmessage(1) - with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;remind -c&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;xmessage(1) - with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;remind /path/to/.reminders&lt;/code&gt;:w&lt;/li&gt;
      &lt;li&gt;mail(1) (mailx(1)) - weekly reminder (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;remind -c+1&lt;/code&gt;)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;recursive stickies  &lt;br /&gt;
Based on 
&lt;a href=&quot;https://mitxela.com/projects/recursive&quot;&gt;Recursive Notes (Recursive Post-It Notes or Recursive Stickies)&lt;/a&gt;  &lt;br /&gt;
Info: &lt;a href=&quot;https://mitxela.com/projects/recursive&quot;&gt;Part 1&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;The idea of using this recursive project-management tool as a means to finish the outstanding tasks on said tool has not escaped me.
There is something infinitely appealing about recursion.&lt;/p&gt;
    &lt;/blockquote&gt;

    &lt;p&gt;&lt;a href=&quot;https://mitxela.com/projects/recursive_2&quot;&gt;Part 2&lt;/a&gt;&lt;/p&gt;
    &lt;blockquote&gt;
      &lt;p&gt;I had, half-heartedly, been using the recursive notes program to manage various projects, but it wasn’t until I added the tree outline with search feature that this properly became viable.
There was a very clear change between forcing myself to use it for the novelty, and suddenly finding that the notes program was no longer in the way of my thinking.
Naturally, the thing I’ve been using it most for is to manage improvements to the recursive notes program.
But also, I’ve been using it to manage other projects and for the most part, it works!
One of the most notable things is that I often run into glitches or minor inconveniences, which usually leads me to either patch it right away, or at the very least, make a recursive note about it.&lt;/p&gt;
    &lt;/blockquote&gt;

    &lt;p&gt;Demo: &lt;a href=&quot;https://mitxela.com/other/recursive/recursive.htm&quot;&gt;https://mitxela.com/other/recursive/recursive.htm&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;today.pl&lt;/li&gt;
  &lt;li&gt;edit.sh - private notes&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;calendar&quot;&gt;&lt;strong&gt;CALENDAR&lt;/strong&gt;&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;From
&lt;a href=&quot;https://peppe.rs/posts/plain_text_journaling/&quot;&gt;Plain Text Journaling&lt;/a&gt;:
    &lt;blockquote&gt;
      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vi ~/journalfile.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;

      &lt;p&gt;Every month must start with a calendar of course, fill that in with:&lt;/p&gt;

      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;:read !cal
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat ~/journalfile.txt
   September 2023     
Su Mo Tu We Th Fr Sa  
                1  2  
 3  4  5  6  7  8  9  
10 11 12 13 14 15 16  
17 18 19 20 21 22 23  
24 25 26 27 28 29 30  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* todo
x done
- note
o event
&amp;gt; moved
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vi ~/journalfile.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Based on some &lt;a href=&quot;https://git.peppe.rs/cli/journal/plain/examples/&quot;&gt;examples&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat ~/journalfile.txt

   September 2023     
Su Mo Tu We Th Fr Sa  
                1  2  
 3  4  5  6  7  8  9  
10 11 12 13 14 15 16  
17 18 19 20 21 22 23  
24 25 26 27 28 29 30  

WEEK 1 -------------

o store visit
&amp;gt; make apple pie
x return cookbook


WEEK 2 -------------

&amp;gt; peel apples
x buy apples
x wash them


WEEK 3 -------------

- weather: sunny
&amp;gt; store visit 
&amp;gt; make apple pie
x return cookbook


WEEK 4 -------------

* shopping trip
* buy cookbook


WEEK 5 -------------

- weather: sunny
x make apple pie
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://terokarvinen.com/2021/calendar-txt/&quot;&gt;Calendar.txt (Calendar.txt syntax) - Keep your calendar in a plain text file&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Calendar.txt is versionable, supports all operating systems and easily syncs with Android mobile phone.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://johnhenrymuller.com/today&quot;&gt;Today - If you do this and only this, today will be a good day&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://neatnik.net/calendar/&quot;&gt;Calendar - A simple printable calendar with the full year on a single page&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;If you print this page, you’ll get a nifty calendar that displays all of the year’s dates on a single page.
It will automatically fit on a single sheet of paper of any size.
For best results, adjust your print settings to landscape orientation and disable the header and footer.&lt;/p&gt;

      &lt;p&gt;Take in the year all at once.
Fold it up and carry it with you. Jot down your notes on it.
Plan things out and observe the passage of time.&lt;/p&gt;

      &lt;p&gt;&lt;a href=&quot;https://github.com/neatnik/calendar&quot;&gt;Source on GitHub&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;https://github.com/jukil/plain-text-life&lt;/p&gt;

&lt;p&gt;https://github.com/jukil/plain-text-life/blob/master/today.txt&lt;/p&gt;

&lt;p&gt;https://journaltxt.github.io/&lt;/p&gt;

&lt;p&gt;https://standardnotes.com/&lt;/p&gt;

&lt;p&gt;https://markwhen.com/&lt;/p&gt;

&lt;p&gt;https://github.com/mark-when&lt;/p&gt;

&lt;p&gt;https://github.com/mark-when/calendar&lt;/p&gt;

&lt;p&gt;https://github.com/mundimark/awesome-txt&lt;/p&gt;

&lt;p&gt;https://scottnesbitt.net/&lt;/p&gt;

&lt;p&gt;https://opensourcemusings.com/&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;TESTING&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;timebox &lt;a href=&quot;https://github.com/susam/timebox&quot;&gt;https://github.com/susam/timebox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;life-management&quot;&gt;&lt;strong&gt;LIFE MANAGEMENT&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://stephenguise.com/this-easy-life-management-system-will-make-you-happier-freer-and-twice-as-productive/&quot;&gt;This Easy Life Management System Will Make You Happier, Freer, and Twice As Productive&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retreived on Sep 17, 2023)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.moehrbetter.com/uploads/8/9/0/3/890360/index_card_system.pdf&quot;&gt;Simple Project Management using Index Cards - Reference as a photo/infographics in a PDF&lt;/a&gt;
    &lt;blockquote&gt;
      &lt;p&gt;&lt;strong&gt;ONE CARD PER PROJECT&lt;/strong&gt; &lt;br /&gt;
I write the name of the project at the top in Sharpie, with key to-dos and reminders underneath.
Typically its just the Next Action.
I keep a stack of blank cards on my desk, and make a new card any time a new project shows up.
I’ve been grabbing a blank card instead of my usual post-it note (stickie).
It takes the same time, and now it’s a live card.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;I currently have 32 projects.&lt;/strong&gt; &lt;br /&gt;
I have instant access to any of them, it’s easy to group, prioritize, overview, add notes, and it takes up minimal space.
It’s a super light-weight and flexible system.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;ON DECK&lt;/strong&gt;  &lt;br /&gt;
The projects I will pick from first when the daily stuff is done, or when there is down time.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;DONE&lt;/strong&gt;  &lt;br /&gt;
Handy for billing, month-end reports, or just because some things that are “done” can come back.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;LATER&lt;/strong&gt; &lt;br /&gt;
Things I know I want to do soon but not urgent yet.
It just keeps them in the wings.
Easy to add an idea, or move up in priority.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;WAITING FOR&lt;/strong&gt;  &lt;br /&gt;
I put active project cards here when I’m waiting for someone else to do something before I can keep going.
I put the card sideways into a little slot I cut in a scrap of wood.
It’s out of the way, and easy to move to TODAY or ON DECK if I get what I was waiting for.
They are also a handy reminder to followup if needed.
Because they are sideways, I tend not to see them unless I look right at them.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;TODAY&lt;/strong&gt;  &lt;br /&gt;
I usually pick these cards the night before, and they can change any time.
There are easy to swap in or out or reprioritize.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;TRANSPORT&lt;/strong&gt;&lt;br /&gt;
If I needed to work at a different location, I would make five coloured separator cards, one for each status (Today, Waiting For, On Deck, Later, and Done).
Then I would gather them in one stack, and quickly spread them back out at my new location.&lt;/p&gt;

      &lt;p&gt;NOTE: I have lots of supporting paper documents in manilla folders, computer files in folders, emails, cloud storage, web apps, and tons of reference and archive materials. The cards do not replace all that.&lt;/p&gt;

      &lt;p&gt;&lt;strong&gt;I ONLY USE THESE CARDS TO EASILY MANAGE WHAT TO WORK ON NEXT.&lt;/strong&gt;&lt;/p&gt;

      &lt;p&gt;This was inspired by the paper “flight progress strips” used by the London Air Traffic Control Centre.
The paper strips provide essential speed, flexibility, organization, and visual feedback that is simply more difficult when using just their sophisticated computer systems.&lt;/p&gt;

      &lt;p&gt;Scott Moehring, www.moehrbetter.com&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.moehrbetter.com/gtd-advanced-workflow-diagram.html&quot;&gt;GTD Advanced Workflow Diagram&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.moehrbetter.com/uploads/8/9/0/3/890360/gtd_workflow_advanced.pdf&quot;&gt;GTD Advanced Workflow Diagram - PDF&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://nathanbarry.com/wp-content/uploads/The-Productivity-Manifesto.pdf&quot;&gt;The Productivity Manifesto&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://peppe.rs/posts/plain_text_journaling/&quot;&gt;Plain Text Journaling&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://plaintext-productivity.net/&quot;&gt;Plaintext Productivity&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=30745524&quot;&gt;Plaintext Productivity - Discussion on Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://plaintextproject.online/articles.html&quot;&gt;The Plain Text Project - All Articles - Articles Archive&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mitxela.com/projects/recursive&quot;&gt;Recursive Notes (Recursive Post-It Notes or Recursive Stickies) - 27 Mar 2021 - Progress: Demo&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mitxela.com/projects/recursive_2&quot;&gt;Recursive Notes (Recursive Post-It Notes or Recursive Stickies) Part 2 - 2 Apr 2023 - Progress: Demo&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/mitxela/recursive&quot;&gt;recursive – recursive post-it notes experiment - source code on GitHub&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/CoralineAda/lftm&quot;&gt;lftm – A low-friction task management system - Like a productivity app, without the app&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.stevefenton.co.uk/blog/2021/09/the-ultimate-productivity-suite/&quot;&gt;The Ultimate Productivity Suite&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.stevefenton.co.uk/downloads/the-productivity-worksheet.pdf&quot;&gt;The Ultimate Productivity Suite – Printable Single-Page Productivity Worksheet&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.stevefenton.co.uk/downloads/the-productivity-workbook-full.pdf&quot;&gt;The Ultimate Productivity Suite Book - The Productivity Workbook in PDF&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://fortelabs.com/blog/para/&quot;&gt;The PARA Method: The Simple System for Organizing Your Digital Life in Seconds&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stephenguise.com/this-easy-life-management-system-will-make-you-happier-freer-and-twice-as-productive/&quot;&gt;This Easy Life Management System Will Make You Happier, Freer, and Twice As Productive&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://0xff.nu/adhd-productivity-fundamentals&quot;&gt;ADHD Productivity Fundamentals&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://dubroy.com/blog/getting-things-done-in-small-increments/&quot;&gt;Getting things done (in small increments)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.oliverburkeman.com/onething&quot;&gt;List one task, do it, cross it out&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=36253882&quot;&gt;List one task, do it, cross it out - Discussion on Hacker News&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.lesswrong.com/posts/RWu8eZqbwgB9zaerh/third-time-a-better-way-to-work&quot;&gt;Third Time: a better way to work&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.lesswrong.com/posts/RWu8eZqbwgB9zaerh/third-time-a-better-way-to-work#comments&quot;&gt;Third Time: a better way to work - 74 comments&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://medium.com/@UrgentPigeon/the-flowtime-technique-7685101bd191&quot;&gt;The Flowtime Technique (Abandoning Pomodoros Part 2)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://medium.com/@UrgentPigeon/the-flowtime-technique-cheat-sheet-30168b2e31d9#.5kzhko7ab&quot;&gt;The Flowtime Technique Cheat Sheet&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.to-done.com/2005/08/how-to-be-productive-working-from-home/&quot;&gt;How To Be Productive Working From Home&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://greggigon.github.io/my-personal-kanban/&quot;&gt;My Personal Kanban&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.personalkanban.com/personal-kanban-101&quot;&gt;Personal Kanban 101&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/hauntedhost/kanban&quot;&gt;Kanban - a Trello clone in Rails and Backbone.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sun, 17 Sep 2023 04:32:16 -0700</pubDate>
        <link>http://localhost:4000/gtd/productivity/howto/reference/timemanagement/lifemanagement/selfmanagement/2023/09/17/my-gtd-workflow.html</link>
        <guid isPermaLink="true">http://localhost:4000/gtd/productivity/howto/reference/timemanagement/lifemanagement/selfmanagement/2023/09/17/my-gtd-workflow.html</guid>
        
        
        <category>gtd</category>
        
        <category>productivity</category>
        
        <category>howto</category>
        
        <category>reference</category>
        
        <category>timemanagement</category>
        
        <category>lifemanagement</category>
        
        <category>selfmanagement</category>
        
      </item>
    
      <item>
        <title>Outgoing SMTP AUTH Mail with dma(8) from a FreeBSD System</title>
        <description>&lt;p&gt;OSs: &lt;br /&gt;
FreeBSD 13.1-RELEASE-p2, Shell: csh&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Set up a FreeBSD system to send mail from the command line.&lt;/p&gt;

&lt;p&gt;Task:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Configure a CLI mail client to securely submit messages via SMTP over
TLS (Transport Layer Security) protocol.&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;SMTP use here is not MTA-to-MTA SMTP (Message Transfer Agent
[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;] to Message Transfer Agent SMTP), which is
normally on port 25.  It’s MUA-to-MSA (Mail User Agent
[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;] to Mail Submission Agent) &lt;em&gt;submission&lt;/em&gt; on
port 465. (The other secure submission method is STARTTLS on port 587;
connecting to the “cleartext” port and negotiating TLS using the STARTTLS
command). [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;p&gt;The RFC 6409 Memo &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc6409&quot;&gt;Message Submission for Mail - RFC6409 - IETF&lt;/a&gt; provides definitions of MTA (Message Transfer
Agent), MSA (Message Submission Agent), MUA (Message User Agent) and
SMTP (SMTP-MTA). [&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;]&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;In this example, my SMTP server (smart host) requires the following:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;SMTP authentication (SMTP AUTH), with mechanisms LOGIN or PLAIN&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Implicit TLS&lt;/strong&gt; (or Enforced TLS) submission on port &lt;strong&gt;465&lt;/strong&gt;.
The initial connection is started with a Transport Layer Security (TLS)
(default port 465); that is, the MTA listens on port 465 for message
submissions from MUAs.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc8314#section-3.3&quot;&gt;RFC8314 Memo - Cleartext Considered Obsolete: Use of Transport Layer Security (TLS) for Email Submission and Access - IETF&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;3.3.  Implicit TLS for SMTP Submission&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;When a TCP connection is established for the “submissions” service
(default port 465), a TLS handshake begins immediately.  Clients MUST
implement the certificate validation mechanism described in
[&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7817&quot;&gt;RFC7817&lt;/a&gt;].  Once the TLS
session is established, Message Submission protocol data
[&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc6409&quot;&gt;RFC6409&lt;/a&gt;] is exchanged as TLS
application data for the remainder of the TCP connection.
(Note: The “submissions” service name is defined in
&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc8314#section-7.3&quot;&gt;Section 7.3&lt;/a&gt; of this
document and follows the usual convention that the name of a service
layered on top of Implicit TLS consists of the name of the service as
used without TLS, with an “s” appended.)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In other words, in order to allow relaying mail, the remote SMTP server
(smart host) requires clients to be authenticated first.&lt;/p&gt;

&lt;p&gt;The IETF issued a one-time &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc8314#section-7.3&quot;&gt;amendment&lt;/a&gt; to reinstate port 465 for message submission over TLS protocol.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;dma-dragonfly-mail-agent&quot;&gt;dma (DragonFly Mail Agent)&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dma(8)&lt;/code&gt; is the DragonFly Mail Agent, and it is in base so you don’t
need to install anything.&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v dma; type dma; which dma; whereis dma
dma: not found
dma: Command not found.
dma: /usr/libexec/dma /usr/share/man/man8/dma.8.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file /usr/libexec/dma
/usr/libexec/dma: setgid ELF 64-bit LSB pie executable, x86-64, 
  version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1,
  for FreeBSD 13.1, FreeBSD-style, stripped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep sendmail_enable /etc/rc.conf
sendmail_enable=&quot;YES&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo sed -i.bak -e &apos;s/sendmail_enable=&quot;YES&quot;/sendmail_enable=&quot;NONE&quot;/&apos; /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep sendmail_enable /etc/rc.conf                                
sendmail_enable=&quot;NONE&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /etc/dma/dma.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo sed &apos;/^[[:space:]]*$/d&apos; /etc/dma/dma.conf | grep -v \^#
SMARTHOST your.isp.net
PORT 465
ALIASES /etc/aliases
SPOOLDIR /var/spool/dma
AUTHPATH /etc/dma/auth.conf
SECURETRANSFER
MASQUERADE domain.to.masquerade_as 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your.isp.net&lt;/code&gt; is the FQDN of the SMTP server (your ISP/smart host).&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dma(8)&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MASQUERADE&lt;/code&gt; variable does not contain a @ sign, the string is
interpreted as a host name.  For example, setting &lt;em&gt;MASQUERADE&lt;/em&gt; to
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;john@&lt;/code&gt; on host &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hamlet&lt;/code&gt; will send all mails as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;john@hamlet&lt;/code&gt;;
setting it to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;percolator&lt;/code&gt; will send all mails as
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;username@percolator&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo chown root:mail /etc/dma/dma.conf
% sudo chown root:mail /etc/dma/auth.conf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo chmod 0640 /etc/dma/dma.conf
% sudo chmod 0640 /etc/dma/auth.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo tee -a /etc/mail/mailer.conf &amp;lt;&amp;lt;EOF
sendmail        /usr/libexec/dma
send-mail       /usr/libexec/dma
mailq           /usr/libexec/dma
newaliases      /usr/libexec/dma
rmail           /usr/libexec/dma
EOF
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo tee -a /usr/local/etc/mail/mailer.conf &amp;lt;&amp;lt;EOF
sendmail        /usr/libexec/dma
send-mail       /usr/libexec/dma
mailq           /usr/libexec/dma
newaliases      /usr/libexec/dma
rmail           /usr/libexec/dma
EOF
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Send a test email message to a local account:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;Testing.&quot; | mail -v -s &quot;Test 1&quot; dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mail
Mail version 8.1 6/6/93.  Type ? for help.
&quot;/var/mail/dusko&quot;: 1 message 1 new
&amp;gt;N  1 dusko@domain.to.masquerade_as    Tue Nov 15 18:34  13/378   &quot;Test 1&quot;
&amp;amp; 
Message 1:
From dusko@domain.to.masquerade_as Tue Nov 15 18:34:49 2022
To: dusko
Subject: Test 3
Date: Tue, 15 Nov 2022 18:34:49 -0800
From: &amp;lt;dusko@domain.to.masquerade_as&amp;gt;

Testing.
&amp;amp; q
Saved 1 message in mbox
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Send a test email message to a non-local account:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;Testing.&quot; | mail -v -s &quot;Test 2&quot; dusko@example.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Return-Path: &amp;lt;dusko@domain.to.masquerade_as&amp;gt;
Received: from fbsd1.home.arpa (external.domain.name [123.45.67.89])
	(authenticated bits=0)
	by smarthost.domain.name (8.14.4/8.14.4) with ESMTP id 1ABCdQe2345678
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT)
	for &amp;lt;dusko@domain.to.masquerade_as&amp;gt;; Tue, 15 Nov 2022 18:35:26 -0800
Received: from dusko (uid 1001)
	(envelope-from dusko@domain.to.masquerade_as)
	id c7890
	by fbsd1.home.arpa (DragonFly Mail Agent v0.11+ on fbsd1.home.arpa);
	Tue, 15 Nov 2022 18:35:26 -0800
To: dusko@example.com
Subject: Test 2
Date: Tue, 15 Nov 2022 18:35:26 -0800
Message-Id: &amp;lt;12345a6b.c7890.123d45ef@fbsd1.home.arpa&amp;gt;
From: &amp;lt;dusko@domain.to.masquerade_as&amp;gt;

Testing.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Reference:&lt;/strong&gt;  &lt;br /&gt;
&lt;a href=&quot;https://jpmens.net/2020/03/05/simple-solution-for-outgoing-mail-from-a-freebsd-system/&quot;&gt;Simple solution for outgoing mail from a FreeBSD system&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] Also known as Mail Transfer Agent.&lt;/p&gt;

&lt;p&gt;[2] Also known as User Agent (UA).&lt;/p&gt;

&lt;p&gt;Examples of MUAs (Mail User Agents): Thunderbird, Mutt, Pine/alpine,
Outlook, nail/malix.&lt;/p&gt;

&lt;p&gt;[3] &lt;em&gt;Sendmail&lt;/em&gt; refers to these two modes as the MTA (mail transmission
    agent) and the MSP (mail submission program) – From the
    &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail/SECURITY&lt;/code&gt; document (on FreeBSD 13, located in:
    &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/sendmail/SECURITY&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Summary
-------

This is a brief summary how the two configuration files are used:

sendmail.cf  For the MTA (mail transmission agent)
        The MTA is started by root as daemon:

                 /PATH/TO/sendmail -L sm-mta -bd -q1h

        it accepts SMTP connections (on ports 25 and 587 by default);
        it runs the main queue (/var/spool/mqueue by default).

submit.cf       For the MSP (mail submission program)
        The MSP is used to submit e-mails, hence it is invoked
        by programs (and maybe users); it does not run as SMTP
        daemon; it uses /var/spool/clientmqueue by default; it
        can be started to run that queue periodically:

                /PATH/TO/sendmail -L sm-msp-queue -Ac -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[4] From 
&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc6409&quot;&gt;Message Submission for Mail - RFC6409 - IETF&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;1.  Introduction&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;SMTP [&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc6409#ref-SMTP-MTA&quot;&gt;SMTP-MTA&lt;/a&gt;
[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;]] was defined as a message &lt;em&gt;transfer&lt;/em&gt; protocol,
that is, a means to route (if needed) and deliver finished (complete)
messages.&lt;/p&gt;

  &lt;p&gt;Message Transfer Agents (MTAs) are not supposed to alter the message
text, except to add ‘Received’, ‘Return-Path’, and other header
fields as required by
[&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc6409#ref-SMTP-MTA&quot;&gt;SMTP-MTA&lt;/a&gt;
[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;]].&lt;/p&gt;

  &lt;p&gt;However, SMTP is now also widely used as a message &lt;em&gt;submission&lt;/em&gt; protocol,
that is, a means for Message User Agents (MUAs) to introduce new
messages into the MTA routing network.  The process that accepts message
submissions from MUAs is termed a “Message Submission Agent” (MSA).&lt;/p&gt;

  &lt;p&gt;In order to permit unconstrained communications, SMTP is not often
authenticated during message relay.&lt;/p&gt;

  &lt;p&gt;Authentication and authorization of initial submissions have become
increasingly important, driven by changes in security requirements
and rising expectations that submission servers take responsibility
for the message traffic they originate.&lt;/p&gt;

  &lt;p&gt;For example, due to the prevalence of machines that have worms,
viruses, or other malicious software that generate large amounts of
spam, many sites now prohibit outbound traffic on the standard SMTP
port (port 25), funneling all mail submissions through submission
servers.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;2.  Document Information&lt;/strong&gt; &lt;br /&gt;
&lt;strong&gt;2.1.  Definitions of Terms Used in This Memo&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Message Submission Agent (MSA)&lt;/p&gt;

  &lt;p&gt;A process that conforms to this specification.  An MSA acts as a
submission server to accept messages from MUAs, and it either
delivers them or acts as an SMTP client to relay them to an MTA.&lt;/p&gt;

  &lt;p&gt;Message Transfer Agent (MTA)&lt;/p&gt;

  &lt;p&gt;A process that conforms to [SMTP-MTA].  An MTA acts as an SMTP server
to accept messages from an MSA or another MTA, and it either delivers
them or acts as an SMTP client to relay them to another MTA.&lt;/p&gt;

  &lt;p&gt;Message User Agent (MUA)&lt;/p&gt;

  &lt;p&gt;A process that acts (often on behalf of a user and with a user
interface) to compose and submit new messages, and to process
delivered messages.&lt;/p&gt;

  &lt;p&gt;For delivered messages, the receiving MUA may obtain and process the
message according to local conventions or, in what is commonly
referred to as a split-MUA model, Post Office Protocol [POP3] or IMAP
[IMAP4] is used to access delivered messages, whereas the protocol
defined here (or SMTP) is used to submit messages.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[5] [SMTP-MTA] Klensin, J., “Simple Mail Transfer Protocol”,
    &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc5321&quot;&gt;RFC 5321&lt;/a&gt;, October 2008.&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Tue, 15 Nov 2022 08:31:24 -0800</pubDate>
        <link>http://localhost:4000/sendmail/smtp/mta/mailserver/cli/terminal/shell/freebsd/sysadmin/reference/2022/11/15/dma-freebsd-auth-smtps-starttls-email.html</link>
        <guid isPermaLink="true">http://localhost:4000/sendmail/smtp/mta/mailserver/cli/terminal/shell/freebsd/sysadmin/reference/2022/11/15/dma-freebsd-auth-smtps-starttls-email.html</guid>
        
        
        <category>sendmail</category>
        
        <category>smtp</category>
        
        <category>mta</category>
        
        <category>mailserver</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>freebsd</category>
        
        <category>sysadmin</category>
        
        <category>reference</category>
        
      </item>
    
      <item>
        <title>Sendmail SMTP AUTH Running As a Client [HOWTO]</title>
        <description>&lt;hr /&gt;

&lt;p&gt;Also known as: &lt;br /&gt;
Sendmail SMTP AUTH client with SSL-or-TLS over port 465
(submissions port) using Stunnel &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 1 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;word-cloud&quot;&gt;Word Cloud&lt;/h3&gt;

&lt;!-- Markdown extension for really small tiny text? --&gt;
&lt;!--   https://meta.stackexchange.com/questions/53800/markdown-extension-for-really-small-tiny-text --&gt;

&lt;p&gt;&lt;sub&gt;&lt;sup&gt;
SMART_HOST, smart host, port 465, Implicit TLS submission on port 465,
TLS (Transport Layer Security), SSL (Secure Sockets Layer),
OpenSSL library, Base64,
SMTP (Simple Mail Transfer Protocol),&lt;br /&gt;
SMTP AUTH, RFC2554 (ESMTP AUTH),
authentication, encryption, masquerading, relaying,
TCP, TCP/IP, networking, DNS, MX record, IANA (Internet Assigned Numbers
Authority),&lt;br /&gt;
SASL (Simple Authentication and Security Layer), Cyrus SASL
library, sendmail, mailserver, postmaster, unix, CLI (command-line interface),
terminal, shell, csh, sh, FreeBSD, MTA (Mail Transfer Agent),&lt;br /&gt;
MTA (Mail Transport Agent), MSP (Message Submission Program),
MSA (Mail Submission Agent), stunnel,  &lt;br /&gt;
SMTP/S [SMTPS (SMTP over SSL-or-TLS on port 465)], SMTPS client,
SMTPS (Simple Mail Transfer Protocol Secure)
&lt;/sup&gt;&lt;/sub&gt;
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 2 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;OS: &lt;br /&gt;
FreeBSD 13.1-RELEASE-p2 with &lt;em&gt;sendmail&lt;/em&gt; 8.17.1, Shell: &lt;em&gt;csh&lt;/em&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Setup requirements in this configuration:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Local &lt;em&gt;sendmail&lt;/em&gt; server receives mails from local users or internal
applications.&lt;/li&gt;
  &lt;li&gt;After receiving the mail from local users or internal applications,
this &lt;em&gt;sendmail&lt;/em&gt; server:
    &lt;ul&gt;
      &lt;li&gt;relays the mail to your ISP (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your.isp.net&lt;/code&gt;), if it’s addressed
to an external email address (sending a message to non local adresses);&lt;/li&gt;
      &lt;li&gt;relays the mail to local system, if it’s addressed to a local user.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The ISP’s server accepts message submission on port 465 (Implicit TLS-or-SSL,
aka Encrypted SMTP). &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 3 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 4 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;why-this-approach-instead-of-usual-with-smart_host-and-relay_mailer_args&quot;&gt;Why This Approach Instead of Usual with SMART_HOST and RELAY_MAILER_ARGS?&lt;/h3&gt;

&lt;p&gt;I tried this method and it worked but I couldn’t make it work for local mail:&lt;/p&gt;

&lt;p&gt;I configured &lt;em&gt;sendmail&lt;/em&gt; with SMTPS (SMTP over SSL)/Implicit TLS submission
port 465 by using &lt;em&gt;stunnel&lt;/em&gt; on my local machine (a local port; in my case,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127.0.0.1:1465&lt;/code&gt; to my smart host provider, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your.isp.net:465&lt;/code&gt;) with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SMART_HOST&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RELAY_MAILER_ARGS&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TCP $h 1465&lt;/code&gt; in &lt;em&gt;submit.mc&lt;/em&gt;
(&lt;em&gt;/etc/mail/freebsd.submit.mc&lt;/em&gt; on FreeBSD) configuration file for MSP
(Mail Submission Program, which is a command-line &lt;em&gt;sendmail&lt;/em&gt; that functions
as a Mail Submission Agent (MTA):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`SMART_HOST&apos;, `[127.0.0.1]&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`RELAY_MAILER_ARGS&apos;, `TCP $h 465&apos;)dnl 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;em&gt;stunnel.conf&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[smtps]
accept=127.0.0.1:1465
connect=your.isp.net:465
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A=&lt;/code&gt; delivery agent equate is usually declared like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A=TCP $h&lt;/code&gt;.
The value in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$h&lt;/code&gt; is the value returned by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; rule set 0’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$@&lt;/code&gt;
operator and is usually the name of the host to which &lt;em&gt;sendmail&lt;/em&gt; should connect. 
During delivery the &lt;em&gt;sendmail&lt;/em&gt; program expands this hostname into a possible
list of MX records. (Unless (V8.8 and later) the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F=0&lt;/code&gt; delivery agent flag
is set (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F=0 (zero)&lt;/code&gt;) or unless the hostname is surrounded by square brackets.)&lt;/p&gt;

  &lt;p&gt;The host (as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$h&lt;/code&gt;) is usually the only argument given to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TCP&lt;/code&gt; but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TCP&lt;/code&gt;
can accept two arguments, like this:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;A=TCP hostlist port
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;port&lt;/code&gt; is usually omitted and so defaults to 25.  However, a port number
can be included to force &lt;em&gt;sendmail&lt;/em&gt; to connect on a different port.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The &lt;em&gt;submit.mc&lt;/em&gt; (&lt;em&gt;/etc/mail/freebsd.submit.mc&lt;/em&gt;) also had:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LOCAL_RULE_0
R$* &amp;lt;@ $=w . $=m&amp;gt; $*    $#local $: $1      @my.local.domain

LOCAL_NET_CONFIG
R $* &amp;lt; @ $+ .$m. &amp;gt; $*   $#local $@ $2.$m $: $1 &amp;lt; @ $2.$m &amp;gt; $3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This configuration worked for nonlocal mail but it didn’t work for local
delivery because messages for local users were relayed via smart host.
I made it work for local mail in this setup with masquerading but it was
making a round trip: local mail was delivered but to the smart host, which
is not ideal (e.g. no need for cron mails to go outside.)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
When I configured my workstation’s  &lt;em&gt;sendmail&lt;/em&gt; as a client to a different
smart host with STARTTLS port 587 (that is, with a different smart host
server that listens to port 587 for STARTTLS), it worked fine for both
local and nonlocal mail.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;tldr-version&quot;&gt;TL;DR Version&lt;/h2&gt;

&lt;p&gt;For &lt;strong&gt;detailed&lt;/strong&gt; instructions (&lt;strong&gt;non tl;dr&lt;/strong&gt; version), refer to the
section further below &lt;a href=&quot;#how-to-setup-sendmail-to-act-as-a-client-with-smtp-auth&quot;&gt;How To Setup Sendmail to Act As a Client with SMTP AUTH&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The system-built &lt;em&gt;sendmail&lt;/em&gt;:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/libexec/sendmail/sendmail&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The package-installed &lt;em&gt;sendmail&lt;/em&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/sbin/sendmail&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mailwrapper(8)&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The &lt;em&gt;mailwrapper&lt;/em&gt; program is designed to replace &lt;em&gt;/usr/sbin/sendmail&lt;/em&gt; and to
invoke an appropriate MTA (Mail Transfer Agent) based on configuration
information placed in
&lt;em&gt;${LOCALBASE}/etc/mail/mailer.conf&lt;/em&gt; (LOCALBASE=&lt;em&gt;/usr/local&lt;/em&gt;)
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 5 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt; falling back on &lt;em&gt;/etc/mail/mailer.conf&lt;/em&gt;.
This permits the administrator to configure which MTA is to be invoked on
the system at run time.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/etc/mail/mailer.conf
sendmail        /usr/local/sbin/sendmail
send-mail       /usr/local/sbin/sendmail
mailq           /usr/local/sbin/sendmail
newaliases      /usr/local/sbin/sendmail
hoststat        /usr/local/sbin/sendmail
purgestat       /usr/local/sbin/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/mail/mailer.conf
sendmail        /usr/local/sbin/sendmail
send-mail       /usr/local/sbin/sendmail
mailq           /usr/local/sbin/sendmail
newaliases      /usr/local/sbin/sendmail
hoststat        /usr/local/sbin/sendmail
purgestat       /usr/local/sbin/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;install-sendmail-and-cyrus-sasl-packages&quot;&gt;Install Sendmail and Cyrus SASL Packages&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install cyrus-sasl cyrus-sasl-saslauthd`

$ printf %s\\n &quot;pwcheck_method: saslauthd&quot; | sudo tee /usr/local/lib/sasl2/Sendmail.conf

$ printf %s\\n &apos;saslauthd_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf

$ sudo pkg install sendmail

$ printf %s\\n &apos;SENDMAIL_CF_DIR=/usr/local/share/sendmail/cf&apos; | sudo tee -a /etc/make.conf

$ printf %s\\n &apos;sendmail_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;configure-sendmail-configuration-files---submitcf-and-sendmailcf&quot;&gt;Configure Sendmail Configuration Files - submit.cf and sendmail.cf&lt;/h3&gt;

&lt;p&gt;Modify  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/freebsd.submit.mc&lt;/code&gt;. &lt;br /&gt;
Changes:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`confLOG_LEVEL&apos;, `14&apos;)dnl

define(`SMART_HOST&apos;,`smartrelay:[127.0.0.1]&apos;)dnl
FEATURE(`authinfo&apos;,`hash /etc/mail/authinfo&apos;)dnl

dnl dnl MASQUERADE_AS(`domain.to.masquerade_as&apos;)dnl dnl
dnl dnl MASQUERADE_DOMAIN(&apos;fbsd1.home.arpa&apos;)dnl dnl
dnl # Uncomment the next line (with masquerade_envelope) if 
dnl # you want messages to be delivered to SMART_HOST. 
dnl dnl FEATURE(`masquerade_envelope&apos;)dnl
dnl dnl FEATURE(`masquerade_entire_domain&apos;)dnl dnl

dnl Disable SMTP AUTH on the loopback interface.
DAEMON_OPTIONS(`Name=NoMTA, Addr=127.0.0.1, M=EA&apos;)dnl

MAILER_DEFINITIONS
dnl 
dnl     LR0relayST (Local Rule 0 relay Single Token)
dnl For addresses with only a single token (e.g. a username):  dusko 
MLR0relayST,	P=[IPC], F=mDFMuXa8k, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
		T=DNS/RFC822/SMTP,
		A=TCP $h

dnl
dnl     LR0relayLH [Local Rule 0 relay Local (AND) Hostname]
dnl For addresses:  dusko@localhost, dusko@&amp;lt;hostname&amp;gt; (that is:  dusko@fbsd1.home.arpa)
MLR0relayLH,	P=[IPC], F=mDFMuXa8k, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
		T=DNS/RFC822/SMTP,
		A=TCP $h

dnl
dnl     smartrelay 
dnl For nonlocal (external) addresses; for example: dusko@some.external.domain
Msmartrelay,    P=[IPC], F=mDFMuXa8k, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
                T=DNS/RFC822/SMTP,
                A=TCP $h 1465

LOCAL_RULE_0
R$-	$#LR0relayST $@ $j $: $1 &amp;lt; @ $j. &amp;gt;
R$+ &amp;lt; @ $j. &amp;gt;	$#LR0relayLH $@ $j $: $1 &amp;lt; @ $j. &amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  In two lines below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCAL_RULE_0&lt;/code&gt;,&lt;br /&gt;
           there is a &lt;strong&gt;tab&lt;/strong&gt; character before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#LR0relayST&lt;/code&gt; and
           before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#LR0relayLH&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Modify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/freebsd.mc&lt;/code&gt;. &lt;br /&gt;
Changes:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`confEBINDIR&apos;, `/usr/local/libexec&apos;)dnl
define(`UUCP_MAILER_PATH&apos;, `/usr/local/bin/uux&apos;)dnl

FEATURE(`nouucp&apos;,`reject&apos;)dnl

TRUST_AUTH_MECH(`DIGEST-MD5 CRAM-MD5 EXTERNAL GSSAPI LOGIN PLAIN&apos;)dnl
define(`confAUTH_MECHANISMS&apos;,`DIGEST-MD5 CRAM-MD5 EXTERNAL GSSAPI LOGIN PLAIN&apos;)dnl
define(`confDONT_BLAME_SENDMAIL&apos;,`GroupReadableSASLDBFile&apos;)dnl

LOCAL_RULESETS
SLocal_trust_auth
R$*     $: $&amp;amp;{auth_authen}
Rsmmsp  $# OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  In the two lines below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SLocal_trust_auth&lt;/code&gt;, there is a &lt;strong&gt;tab&lt;/strong&gt;
           character before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$:&lt;/code&gt; and before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;create-the-authinfo-file-for-storing-auth-authentication-credentials&quot;&gt;Create the authinfo File for Storing AUTH Authentication Credentials&lt;/h3&gt;

&lt;p&gt;Create the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/authinfo&lt;/code&gt; file (for storing AUTH authentication
credentials in a file separate from the &lt;em&gt;access&lt;/em&gt; database).&lt;/p&gt;

&lt;p&gt;You need to store the client’s authentication credentials in that file
using the same &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthInfo:&lt;/code&gt; tag used in the &lt;em&gt;access&lt;/em&gt; database, and you need
to make sure that the &lt;em&gt;authinfo&lt;/em&gt; text file and database are not readable
by anyone except the &lt;strong&gt;smmsp&lt;/strong&gt; user.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /etc/mail/authinfo
$ sudo chown smmsp:smmsp /etc/mail/authinfo
$ sudo chmod 0640 /etc/mail/authinfo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /etc/mail/authinfo
AuthInfo:[127.0.0.1] &quot;U:smmsp&quot; &quot;I:dusko&quot; &quot;P:YourISPPassword&quot; &quot;M:LOGIN&quot;
AuthInfo:127.0.0.1 &quot;U:smmsp&quot; &quot;I:dusko&quot; &quot;P:YourISPPassword&quot; &quot;M:LOGIN&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;install-and-configure-stunnel&quot;&gt;Install and Configure stunnel&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install stunnel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/etc/stunnel/stunnel.conf
include = /usr/local/etc/stunnel/conf.d

[smarthost]
client = yes
accept = 127.0.0.1:1465 
connect = your.isp.net:465
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &apos;stunnel_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf

$ sudo service stunnel start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;h2 id=&quot;how-to-setup-sendmail-to-act-as-a-client-with-smtp-auth&quot;&gt;How To Setup Sendmail to Act As a Client with SMTP AUTH&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Sendmail&lt;/strong&gt; is the default MTA in FreeBSD base system (as of FreeBSD 13).&lt;/p&gt;

&lt;p&gt;FreeBSD 13 comes with &lt;em&gt;sendmail&lt;/em&gt;; that is, in FreeBSD 13, &lt;em&gt;sendmail&lt;/em&gt; is
in the base system (a.k.a. in the default setup of the base system).
That’s why it’s usually called the &lt;em&gt;system sendmail&lt;/em&gt; (or the &lt;em&gt;system-built
sendmail&lt;/em&gt;).&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
&lt;em&gt;dma(8)&lt;/em&gt; (DragonFly Mail Agent) will &lt;strong&gt;replace&lt;/strong&gt; &lt;em&gt;sendmail&lt;/em&gt; as the
&lt;strong&gt;default MTA&lt;/strong&gt; in &lt;strong&gt;FreeBSD 14&lt;/strong&gt; &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 6 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cgit.freebsd.org/src/commit/?id=4d184bd438&quot;&gt;RELNOTES: document the switch from sendmail to dma&lt;/a&gt;  (Author: Baptiste Daroussin &lt;bapt at=&quot;&quot; FreeBSD.org=&quot;&quot;&gt;  2022-11-07)&lt;/bapt&gt;&lt;/p&gt;

&lt;p&gt;Related &lt;strong&gt;&lt;a href=&quot;https://cgit.freebsd.org/src/diff/?id=4d184bd438&quot;&gt;diff&lt;/a&gt;&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;diff --git a/RELNOTES b/RELNOTES
index 00d97ea54820..29db15f412dd 100644
--- a/RELNOTES
+++ b/RELNOTES
@@ -10,6 +10,9 @@ newline.  Entries should be separated by a newline.
 
 Changes to this file should not be MFCed.
 
+a67b925ff3e5:
+	The default mail transport agent is now dma(8) replacing sendmail.
+
 22893e584032:
 	L3 filtering on if_bridge will do surprising things which aren&apos;t
 	fail-safe, so net.link.bridge.pfil_member and
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;mail: make The Dragonfly Mail Agent (dma) the default mta:&lt;/strong&gt; &lt;br /&gt;
&lt;a href=&quot;https://cgit.freebsd.org/src/commit/?id=a67b925ff3e58b072a60b633e442ee1d33e47f7f&quot;&gt;FreeBSD source tree - mail: make The DragonFly Mail Agent (dma) the default mta.&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;smtp-auth-support---sendmail-in-base-vs-sendmail-from-packages-ports-in-freebsd-13&quot;&gt;SMTP AUTH Support - Sendmail in Base vs. Sendmail from Packages (Ports) in FreeBSD 13&lt;/h2&gt;

&lt;p&gt;Support for the SMTP extension AUTH, as defined by RFC2554 (ESMTP AUTH), 
was first included in &lt;em&gt;sendmail&lt;/em&gt; beginning with V8.10.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Sendmail&lt;/em&gt; provides SMTP AUTH via &lt;a href=&quot;https://www.cyrusimap.org/sasl/&quot;&gt;Cyrus SASL (Simple Authentication and 
Security Layer) library&lt;/a&gt;. 
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 7 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;However, the system &lt;em&gt;sendmail&lt;/em&gt; in FreeBSD 13 base doesn’t support
SMTP AUTH; that is, it’s not compiled and configured with the Cyrus SASL
library.&lt;/p&gt;

&lt;p&gt;To add SMTP AUTH support to &lt;em&gt;sendmail&lt;/em&gt; in FreeBSD 13, you can either:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;re-compile the system &lt;em&gt;sendmail&lt;/em&gt; with SASL support enabled, or&lt;/li&gt;
  &lt;li&gt;install &lt;em&gt;sendmail&lt;/em&gt; as a package since the package provided &lt;em&gt;sendmail&lt;/em&gt;
comes with SASL enabled by default&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I chose to install &lt;em&gt;sendmail&lt;/em&gt; from packages (instructions are further
down below).&lt;/p&gt;

&lt;h3 id=&quot;managing-mta-mail-transfer-agent-in-freebsd-13-with-mailwrapper8&quot;&gt;Managing MTA (Mail Transfer Agent) in FreeBSD 13 with mailwrapper(8)&lt;/h3&gt;

&lt;p&gt;FreeBSD 13 uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mailwrapper(8)&lt;/code&gt; program for managing MTA (Mail Transfer Agent)
software and invoking appropriate MTA based on configuration file.&lt;/p&gt;

&lt;p&gt;From the man page for &lt;em&gt;mailwrapper&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The mailwrapper program is designed to replace /usr/sbin/sendmail and to
invoke an appropriate MTA based on configuration information placed in
${LOCALBASE}/etc/mail/mailer.conf falling back on /etc/mail/mailer.conf.

This permits the administrator to configure which MTA is to be invoked on
the system at run time.

[ . . . ]

FILES
Configuration for mailwrapper is kept in
${LOCALBASE}/etc/mail/mailer.conf or /etc/mail/mailer.conf.
/usr/sbin/sendmail is typically set up as a symbolic link to mailwrapper
which is not usually invoked on its own.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /usr/sbin/sendmail
lrwxr-xr-x  1 root  wheel    11B Oct 31  2019 /usr/sbin/sendmail -&amp;gt; mailwrapper
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ file /usr/sbin/sendmail
/usr/sbin/sendmail: symbolic link to mailwrapper
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ file /usr/sbin/mailwrapper 
/usr/sbin/mailwrapper: ELF 64-bit LSB pie executable, x86-64, 
  version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, 
  for FreeBSD 13.1, FreeBSD-style, stripped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -v sendmail; type sendmail; which sendmail; whereis sendmail
/usr/sbin/sendmail
sendmail is /usr/sbin/sendmail
/usr/sbin/sendmail
sendmail: /usr/sbin/sendmail /usr/share/man/man8/sendmail.8.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The location of the system &lt;em&gt;sendmail&lt;/em&gt; binary file shipped with FreeBSD 13
(provided in base) is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/libexec/sendmail/sendmail&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/etc/mail/mailer.conf
# $FreeBSD$
#
# Execute the &quot;real&quot; sendmail program, named /usr/libexec/sendmail/sendmail
# 
# If dma(8) is installed, an example mailer.conf that uses dma(8) instead can
# can be found in /usr/share/examples/dma.
#
sendmail        /usr/libexec/sendmail/sendmail
mailq           /usr/libexec/sendmail/sendmail
newaliases      /usr/libexec/sendmail/sendmail
hoststat        /usr/libexec/sendmail/sendmail
purgestat       /usr/libexec/sendmail/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/mail/mailer.conf
# $FreeBSD$
#
# Execute the &quot;real&quot; sendmail program, named /usr/libexec/sendmail/sendmail
#
# If dma(8) is installed, an example mailer.conf that uses dma(8) instead can
# can be found in /usr/share/examples/dma.
#
sendmail        /usr/libexec/sendmail/sendmail
mailq           /usr/libexec/sendmail/sendmail
newaliases      /usr/libexec/sendmail/sendmail
hoststat        /usr/libexec/sendmail/sendmail
purgestat       /usr/libexec/sendmail/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mailwrapper(8)&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The mailwrapper program is designed to replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/sbin/sendmail&lt;/code&gt; and
to invoke an appropriate MTA based on configuration information placed in
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${LOCALBASE}/etc/mail/mailer.conf&lt;/code&gt; (LOCALBASE=/usr/local)
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 5 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt; falling back on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/mailer.conf&lt;/code&gt;.
This permits the administrator to configure which MTA is to be invoked
on the system at run time.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;An example &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mailer.conf&lt;/code&gt; that uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dma(8)&lt;/code&gt; instead of &lt;em&gt;sendmail&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/share/examples/dma/mailer.conf 
# $FreeBSD$

sendmail  /usr/libexec/dma
mailq     /usr/libexec/dma
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;install-and-configure-cyrus-sasl&quot;&gt;Install and Configure Cyrus SASL&lt;/h3&gt;

&lt;p&gt;Before installing it, check &lt;em&gt;sendmail&lt;/em&gt; dependencies by using
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkq rquery&lt;/code&gt; command.  [For details: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;man pkg-rquery(8)&lt;/code&gt;
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg rquery&lt;/code&gt; - query information from remote repositories)]:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg rquery &apos;%dn&apos; sendmail
cyrus-sasl-saslauthd
cyrus-sasl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d0.1&lt;/code&gt; (a.k.a. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d0&lt;/code&gt;) debugging switch tells &lt;em&gt;sendmail&lt;/em&gt; to print 
information about its version.  The system-built &lt;em&gt;sendmail&lt;/em&gt; version
(on FreeBSD 13) is V8.16.1:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/sendmail/sendmail -d0 &amp;lt; /dev/null
Version 8.16.1
 Compiled with: DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PIPELINING SCANF STARTTLS TCPWRAPPERS TLS_EC TLS_VRFY_PER_CTX
                USERDB XDEBUG
 
============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = fbsd1
  (canonical domain name) $j = fbsd1.home.arpa
         (subdomain name) $m = home.arpa
              (node name) $k = fbsd1.home.arpa
========================================================
      
Recipient names must be specified
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;strong&gt;base&lt;/strong&gt; &lt;em&gt;sendmail&lt;/em&gt; in FreeBSD 13 is &lt;strong&gt;not&lt;/strong&gt; compiled with the
&lt;strong&gt;Cyrus SASL&lt;/strong&gt; library.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/sendmail/sendmail -d0 &amp;lt; /dev/null | grep SASL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d0 &amp;lt; /dev/null
Version 8.16.1
 Compiled with: DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PIPELINING SCANF STARTTLS TCPWRAPPERS TLS_EC TLS_VRFY_PER_CTX
                USERDB XDEBUG
 
============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = fbsd1
  (canonical domain name) $j = fbsd1.home.arpa
         (subdomain name) $m = home.arpa
              (node name) $k = fbsd1.home.arpa
========================================================

Recipient names must be specified
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the other hand, the &lt;em&gt;sendmail&lt;/em&gt; package (a.k.a. the packaged version
of &lt;em&gt;sendmail&lt;/em&gt;) comes with &lt;strong&gt;SASL&lt;/strong&gt; support (and it’s also a slightly newer
version, V8.17.1 - versus V8.16.1 in FreeBSD 13 base). (As of Nov 12, 2022.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search --regex ^sendmail
sendmail-8.17.1_5           Reliable, highly configurable mail transfer agent with utilities
sendmail-devel-8.17.1.20    Reliable, highly configurable mail transfer agent with utilities
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search --regex --full sendmail-8.17.1_5 | grep SASL
        SASL           : on
        SASLAUTHD      : on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Query the &lt;em&gt;sendmail&lt;/em&gt; package and its SASL options.
[The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--query-modifier&lt;/code&gt; option of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg search&lt;/code&gt; command displays
a list of the port options and their state (&lt;em&gt;on&lt;/em&gt; or &lt;em&gt;off&lt;/em&gt;) when the
package was built.]&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search --query-modifier options sendmail-8.17.1_5 | grep SASL
        SASL           : on
        SASLAUTHD      : on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Make sure your hostname is set correctly in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt;.
This is what &lt;em&gt;sendmail&lt;/em&gt; uses by default.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ hostname
fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep hostname /etc/rc.conf
hostname=&quot;fbsd1.home.arpa&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -v \# /etc/hosts
::1                     localhost localhost.my.domain
127.0.0.1               localhost localhost.my.domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;First, install &lt;em&gt;sendmail&lt;/em&gt;’s dependencies, which are two Cyrus SASL packages:
&lt;em&gt;cyrus-sasl&lt;/em&gt; (SASL itself) and &lt;em&gt;cyrus-sasl-saslauthd&lt;/em&gt; (SASL authentication
server for Cyrus SASL).  (Refer to the beginning of this section, with&lt;br /&gt;
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg rquery&lt;/code&gt; command listing &lt;em&gt;sendmail&lt;/em&gt;’s dependencies.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install cyrus-sasl cyrus-sasl-saslauthd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;cyrus-sasl&lt;/em&gt; port is compiled with a default &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pwcheck_method&lt;/code&gt; of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;auxprop&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;For directions on how to enable SMTP AUTH with the system &lt;em&gt;sendmail&lt;/em&gt;, 
refer to Sendmail.README (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/cyrus-sasl2/Sendmail.README)&lt;/code&gt;
included in &lt;em&gt;cyrus-sasl2&lt;/em&gt; documentation:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/share/doc/cyrus-sasl2/Sendmail.README
How to enable SMTP AUTH with FreeBSD default Sendmail

1) Add the following to  /etc/make.conf:

    # Add SMTP AUTH support to Sendmail
    SENDMAIL_CFLAGS+=   -I/usr/local/include -DSASL=2
    SENDMAIL_LDFLAGS+=  -L/usr/local/lib
    SENDMAIL_LDADD+=    -lsasl2

2) Rebuild FreeBSD (make buildworld, ...)

3) Make sure that the pwcheck_method is correct in Sendmail.conf.

   Sendmail.conf (${PREFIX}/lib/sasl2/Sendmail.conf) is created by
   the cyrus-sasl2 ports during installation.  It may have
   pwcheck_method set to saslauthd by default.  Change this to what is
   appropriate for your site.

4) Add the following to your sendmail.mc file:

   dnl The group needs to be mail in order to read the sasldb2 file
   define(`confRUN_AS_USER&apos;,`root:mail&apos;)dnl

   TRUST_AUTH_MECH(`DIGEST-MD5 CRAM-MD5&apos;)dnl
   define(`confAUTH_MECHANISMS&apos;,`DIGEST-MD5 CRAM-MD5&apos;)dnl

   define(`confDONT_BLAME_SENDMAIL&apos;,`GroupReadableSASLDBFile&apos;)dnl

5) Add the following before FEATURE(msp) in your submit.mc file:

   DAEMON_OPTIONS(`Name=NoMTA, Addr=127.0.0.1, M=EA&apos;)dnl

   This disables SMTP AUTH on the loopback interface. Otherwise you may get
   the following error in the log:

        error: safesasl(/usr/local/etc/sasldb2) failed: Group readable file

   when sending mail locally (seen when using pine locally on same server).

 ----

   Additional AUTH Mechanisms are LOGIN, PLAIN, GSSAPI, and KERBEROS_V4.
   These can be added to TRUST_AUTH_MECH and confAUTH_MECHANISMS as a space
   seperated list.  You may want to restrict LOGIN, and PLAIN authentication
   methods for use with STARTTLS, as the password is not encrypted when
   passed to sendmail.

   LOGIN is required for Outlook Express users.  &quot;My server requires
   authentication&quot; needs to be checked in the accounts properties to 
   use SASL Authentication.

   PLAIN is required for Netscape Communicator users.  By default Netscape
   Communicator will use SASL Authentication when sendmail is compiled with
   SASL and will cause your users to enter their passwords each time they
   retreive their mail (NS 4.7).

   The DONT_BLAME_SENDMAIL option GroupReadableSASLDBFile is needed when you
   are using cyrus-imapd and sendmail on the same server that requires access
   to the sasldb2 database.

   SASLv2 support of Sendmail is starting with 8.12.4.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since you’ll install the &lt;em&gt;sendmail&lt;/em&gt; package and will not use the
system &lt;em&gt;sendmail&lt;/em&gt; (a.k.a. FreeBSD default &lt;em&gt;sendmail&lt;/em&gt;), you can skip
step 1: adding SENDMAIL_CFLAGS, SENDMAIL_LDFLAGS, SENDMAIL_LDADD, and
step 2: Rebuild FreeBSD (make buildworld, …); however, I performed the
step 1 and edited &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/make.conf&lt;/code&gt; in case I decide to re-compile the
default &lt;em&gt;sendmail&lt;/em&gt; later.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &apos;SENDMAIL_CFLAGS+=-I/usr/local/include -DSASL=2&apos; | sudo tee -a /etc/make.conf
$ printf %s\\n &apos;SENDMAIL_LDFLAGS+=-L/usr/local/lib&apos; | sudo tee -a /etc/make.conf
$ printf %s\\n &apos;SENDMAIL_LDADD+=-lsasl2&apos; | sudo tee -a /etc/make.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/make.conf
SENDMAIL_CFLAGS+=-I/usr/local/include -DSASL=2
SENDMAIL_LDFLAGS+=-L/usr/local/lib
SENDMAIL_LDADD+=-lsasl2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You need to tell &lt;em&gt;sendmail&lt;/em&gt; what to do about secure authentication.&lt;/p&gt;

&lt;p&gt;Since SASL can be used by different applications, you can create
a customized configuration file in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/lib/sasl2/&lt;/code&gt; directory 
for every service that uses SASL.  The name of the file must be that of
the service with the &lt;em&gt;conf&lt;/em&gt; extension so in this case it’s a &lt;em&gt;Sendmail.conf&lt;/em&gt;
file.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
The &lt;em&gt;Sendmail.conf&lt;/em&gt; (&lt;em&gt;/usr/local/lib/sasl2/Sendmail.conf&lt;/em&gt;) file is created
by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cyrus-sasl2&lt;/code&gt; ports during installation.&lt;/p&gt;

&lt;p&gt;At a minimum, one line should appear in that file and that line should
indicate your preferred password verification method.  Here, you need to
make sure that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pwcheck_method&lt;/code&gt; command in that file is set to
&lt;em&gt;saslauthd&lt;/em&gt; daemon process (which is called from the Cyrus-SASL libraries,
and is a SASL authentication server for &lt;em&gt;cyrus-sasl2&lt;/em&gt;).
This means that &lt;em&gt;sendmail&lt;/em&gt; service will use SASL by connecting to the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saslauthd(8)&lt;/code&gt; deamon for all authentication (password verification).&lt;/p&gt;

&lt;p&gt;Communication between &lt;em&gt;sendmail&lt;/em&gt; and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saslauthd&lt;/code&gt; server takes place
over a UNIX-domain socket.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saslauthd&lt;/code&gt; usually establishes the UNIX
domain socket in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/run/saslauthd/&lt;/code&gt; and waits for authentication requests.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo ls -lh /var/run/saslauthd/
total 3
srwxrwxrwx  1 root  mail     0B Nov 12 18:10 mux
-rw-------  1 root  mail     0B Nov 12 18:10 mux.accept
-rw-------  1 root  mail     5B Nov 12 18:10 saslauthd.pid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The default communications socket for &lt;em&gt;saslauthd&lt;/em&gt; on FreeBSD 13 is
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/run/saslauthd/mux&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo file /var/run/saslauthd/mux
/var/run/saslauthd/mux: socket
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /var/run/saslauthd/saslauthd.pid
1358
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, &lt;em&gt;saslauthd&lt;/em&gt; (from Cyrus SASL) uses the PAM framework to authenticate
credentials:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps aux | grep -v grep | grep 1358
root    1358   0.0  0.0  18484  6120  -  Is 12Nov22    0:00.03 /usr/local/sbin/saslauthd -a pam
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saslauthd(8)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[ . . . ]

     Options
       Options named by lower-case letters configure the server itself.
       Upper-case options control the behavior of specific authentication
       mechanisms; their applicability to a particular authentication mechanism
       is described in the AUTHENTICATION MECHANISMS section.

       -a authmech
               Use authmech as the authentication mechanism. (See the
               AUTHENTICATION MECHANISMS section below.) This parameter is
               mandatory.

[ . . . ]

  AUTHENTICATION MECHANISMS
       saslauthd supports one or more &quot;authentication mechanisms&quot;, dependent
       upon the facilities provided by the underlying operating system.  The
       mechanism is selected by the -a flag from the following list of choices:

[ . . . ]

       pam        (Linux, Solaris)
  
                  Authenticate using Pluggable Authentication Modules (PAM).
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Refer to 
&lt;strong&gt;&lt;a href=&quot;#authenticating-with-auth&quot;&gt;Authenticating with AUTH&lt;/a&gt;&lt;/strong&gt; section below
for additional information about AUTH protocol and SASL.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;pwcheck_method: saslauthd&quot; | sudo tee /usr/local/lib/sasl2/Sendmail.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/lib/sasl2/Sendmail.conf
pwcheck_method: saslauthd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To run &lt;em&gt;saslauthd&lt;/em&gt; from startup, add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saslauthd_enable=&quot;YES&quot;&lt;/code&gt; in
your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &apos;saslauthd_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the &lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/mail/#SMTP-Auth&quot;&gt;FreeBSD Handbook - 30.9. SMTP Authentication&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;This daemon serves as a broker for &lt;em&gt;sendmail&lt;/em&gt; to authenticate against
the FreeBSD &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;passwd(5)&lt;/code&gt; database.  This saves the trouble of creating
a new set of usernames and passwords for each user that needs to use SMTP
authentication, and keeps the login and mail password the same.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;install-and-configure-sendmail-from-packages-ports&quot;&gt;Install and Configure Sendmail from Packages (Ports)&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[ . . . ]

===&amp;gt; Creating groups.
Using existing group &apos;smmsp&apos;.
===&amp;gt; Creating users
Using existing user &apos;smmsp&apos;.
===&amp;gt; Creating homedir(s)
[2/2] Extracting sendmail-8.17.1_5: 100%
=====

[ . . . ]

Message from sendmail-8.17.1_5:

--
On install:
you should add in /etc/make.conf:
SENDMAIL_CF_DIR=        /usr/local/share/sendmail/cf
 
To deliver all local mail to your mailhub, edit the last line of submit.mc:
FEATURE(`msp&apos;,&apos;[mailhub.do.main]`)dnl

To update your configuration look at /usr/local/share/sendmail/cf/README.
---------------------------------------------------
To use the binaries supplied by the port you should add the following lines
to your sendmail.mc file before any mailer or feature definition:

define(`confEBINDIR&apos;, `/usr/local/libexec&apos;)dnl
define(`UUCP_MAILER_PATH&apos;, `/usr/local/bin/uux&apos;)dnl

---------------------------------------------------
To activate sendmail as your default mailer, run:
$ cd /usr/local/etc/mail &amp;amp;&amp;amp; cp mailer.conf.sendmail mailer.conf

Your &apos;/usr/local/etc/mail/mailer.conf&apos; should look like this:
#
# Execute the &quot;real&quot; sendmail program, named /usr/libexec/sendmail/sendmail
#
sendmail        /usr/local/sbin/sendmail
send-mail       /usr/local/sbin/sendmail
mailq           /usr/local/sbin/sendmail
newaliases      /usr/local/sbin/sendmail
hoststat        /usr/local/sbin/sendmail
purgestat       /usr/local/sbin/sendmail

You may also need to update /etc/rc.conf.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &apos;SENDMAIL_CF_DIR=/usr/local/share/sendmail/cf&apos; | sudo tee -a /etc/make.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/make.conf
SENDMAIL_CFLAGS+=-I/usr/local/include -DSASL=2
SENDMAIL_LDFLAGS+=-L/usr/local/lib
SENDMAIL_LDADD+=-lsasl2
SENDMAIL_CF_DIR=/usr/local/share/sendmail/cf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The package-installed &lt;em&gt;sendmail&lt;/em&gt; includes SASL support:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/local/sbin/sendmail -bt -d0 &amp;lt; /dev/null | grep SASL
                PICKY_HELO_CHECK PIPELINING SASLv2 SCANF STARTTLS TCPWRAPPERS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/local/sbin/sendmail -bt -d0 &amp;lt; /dev/null 
Version 8.17.1
 Compiled with: DANE DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PICKY_HELO_CHECK PIPELINING SASLv2 SCANF STARTTLS TCPWRAPPERS
                TLS_EC TLS_VRFY_PER_CTX USERDB XDEBUG

============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = fbsd1
  (canonical domain name) $j = fbsd1.home.arpa
         (subdomain name) $m = home.arpa
              (node name) $k = fbsd1.home.arpa
========================================================

ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; $ 
$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To run &lt;em&gt;sendmail&lt;/em&gt; from startup, add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail_enable&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YES&lt;/code&gt; in
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &apos;sendmail_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ find /etc/rc* -iname &apos;*sendmail*&apos;
/etc/rc.d/sendmail
/etc/rc.sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.d/sendmail&lt;/code&gt; file is the actual &lt;em&gt;sendmail&lt;/em&gt; startup script.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.sendmail&lt;/code&gt; file is specific to &lt;em&gt;sendmail&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/rc.sendmail
[ . . . ]
# This script is used by /etc/rc at boot time to start sendmail.  It
# is meant to be sendmail specific and not a generic script for all
# MTAs.  It is only called by /etc/rc if the rc.conf mta_start_script is
# set to /etc/rc.sendmail.  This provides the opportunity for other MTAs
# to provide their own startup script.

# The script is also used by /etc/mail/Makefile to enable the
# start/stop/restart targets.

# The source for the script can be found in src/etc/sendmail/rc.sendmail.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To display which &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rc.conf(5)&lt;/code&gt; variables (&lt;strong&gt;rcvar&lt;/strong&gt;) are used to control
the startup of the &lt;em&gt;sendmail&lt;/em&gt; service, use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grep(1)&lt;/code&gt; utility to search
the &lt;em&gt;sendmail&lt;/em&gt; startup script (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.d/sendmail&lt;/code&gt;) for lines  with &lt;strong&gt;rcvar&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep &apos;rcvar=&apos; /etc/rc.d/sendmail
rcvar=&quot;sendmail_enable&quot;
        rcvar=&quot;sendmail_submit_enable&quot;
        rcvar=&quot;sendmail_outbound_enable&quot;
rcvar=&quot;sendmail_msp_queue_enable&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Yo don’t need to add the other three &lt;em&gt;rcvar&lt;/em&gt; variables
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail_submit_enable&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail_outbound_enable&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail_msp_queue_enable&lt;/code&gt;) to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt; because they are set 
to &lt;em&gt;YES&lt;/em&gt; by default:  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/defaults/rc.conf&lt;/code&gt; file contains
&lt;strong&gt;default&lt;/strong&gt; &lt;em&gt;rcvar&lt;/em&gt; variables for the default startup behaviour of
your system.  You need to put only your overrides into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo grep sendmail_enable /etc/defaults/rc.conf
sendmail_enable=&quot;NO&quot;    # Run the sendmail inbound daemon (YES/NO).
 
$ sudo grep sendmail_submit_enable /etc/defaults/rc.conf
sendmail_submit_enable=&quot;YES&quot;    # Start a localhost-only MTA for mail submission
 
$ sudo grep sendmail_outbound_enable /etc/defaults/rc.conf
sendmail_outbound_enable=&quot;YES&quot;  # Dequeue stuck mail (YES/NO).
 
$ sudo grep sendmail_msp_queue_enable /etc/defaults/rc.conf
sendmail_msp_queue_enable=&quot;YES&quot; # Dequeue stuck clientmqueue mail (YES/NO).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /usr/local/share/sendmail/
total 13
drwxr-xr-x  11 root  wheel    13B Nov 12 19:30 cf
-r--r--r--   1 root  wheel   5.9K Sep  5 15:35 helpfile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /usr/local/share/sendmail/cf/
total 186
drwxr-xr-x  2 root  wheel    49B Nov 12 19:30 cf
drwxr-xr-x  2 root  wheel     8B Nov 12 19:30 domain
drwxr-xr-x  2 root  wheel    68B Nov 12 19:30 feature
drwxr-xr-x  2 root  wheel     4B Nov 12 19:30 hack
drwxr-xr-x  2 root  wheel     6B Nov 12 19:30 m4
drwxr-xr-x  2 root  wheel    14B Nov 12 19:30 mailer
drwxr-xr-x  2 root  wheel    58B Nov 12 19:30 ostype
-rw-r--r--  1 root  wheel   188K Jun  9  2021 README
-rw-r--r--  1 root  wheel   7.9K Apr  5  2021 sendmail.schema
drwxr-xr-x  2 root  wheel     3B Nov 12 19:30 sh
drwxr-xr-x  2 root  wheel     6B Nov 12 19:30 siteconfig
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd /etc/mail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo su
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pwd
/etc/mail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# head -64 /etc/mail/Makefile
#
# $FreeBSD$
#
# This Makefile provides an easy way to generate the configuration
# file and database maps for the sendmail(8) daemon.
#
# The user-driven targets are:
#
# all     - Build cf, maps and aliases
# cf      - Build the .cf file from .mc file
# maps    - Build the feature maps
# aliases - Build the sendmail aliases
# install - Install the .cf file as /etc/mail/sendmail.cf
#
# For acting on both the MTA daemon and MSP queue running daemon:
# start        - Start both the sendmail MTA daemon and MSP queue running
#                daemon with the flags defined in /etc/defaults/rc.conf or
#                /etc/rc.conf
# stop         - Stop both the sendmail MTA daemon and MSP queue running
#                daemon
# restart      - Restart both the sendmail MTA daemon and MSP queue running
#                daemon
#
# For acting on just the MTA daemon:
# start-mta    - Start the sendmail MTA daemon with the flags defined in
#                /etc/defaults/rc.conf or /etc/rc.conf
# stop-mta     - Stop the sendmail MTA daemon
# restart-mta  - Restart the sendmail MTA daemon
#
# For acting on just the MSP queue running daemon:
# start-mspq   - Start the sendmail MSP queue running daemon with the
#                flags defined in /etc/defaults/rc.conf or /etc/rc.conf
# stop-mspq    - Stop the sendmail MSP queue running daemon
# restart-mspq - Restart the sendmail MSP queue running daemon
#
# Calling `make&apos; will generate the updated versions when either the
# aliases or one of the map files were changed.
#
# A `make install` is only necessary after modifying the .mc file. In
# this case one would normally also call `make restart&apos; to allow the
# running sendmail to pick up the changes as well.
#
# ------------------------------------------------------------------------
# This Makefile uses `&amp;lt;HOSTNAME&amp;gt;.mc&apos; as the default MTA .mc file.  This
# can be changed by defining SENDMAIL_MC in /etc/make.conf, e.g.:
#
#       SENDMAIL_MC=/etc/mail/myconfig.mc
#
# If &apos;&amp;lt;HOSTNAME&amp;gt;.mc&apos; does not exist, it is created using &apos;freebsd.mc&apos;
# as a template.
#
# It also uses &apos;&amp;lt;HOSTNAME&amp;gt;.submit.mc&apos; as the default mail submission .mc
# file.  This can be changed by defining SENDMAIL_SUBMIT_MC in
# /etc/make.conf, e.g.:
#
#       SENDMAIL_SUBMIT_MC=/etc/mail/mysubmit.mc
#
# If &apos;&amp;lt;HOSTNAME&amp;gt;.submit.mc&apos; does not exist, it is created using
# &apos;freebsd.submit.mc&apos; as a template.
# ------------------------------------------------------------------------
#
# The Makefile knows about the following maps:
# access, authinfo, bitdomain, domaintable, genericstable, mailertable,
# userdb, uucpdomain, virtusertable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /usr/local/etc/sasldb2.db 
-rw-r-----  1 cyrus  mail    16K Nov 12 18:56 /usr/local/etc/sasldb2.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
Even though the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/cyrus-sasl2/Sendmail.README&lt;/code&gt; says
that the group needs to be &lt;em&gt;mail&lt;/em&gt; in order to read the sasldb2 file,
my tests worked without adding the following line in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.mc&lt;/code&gt; file
(on FreeBSD: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/freebsd.mc&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/&amp;lt;hostname&amp;gt;.mc&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`confRUN_AS_USER&apos;,`root:mail&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;the-order-of-mc-lines&quot;&gt;The Order Of mc Lines&lt;/h3&gt;

&lt;p&gt;From &lt;strong&gt;sendmail&lt;/strong&gt;, 4th Edition (a.k.a. &lt;strong&gt;“Bat Book”&lt;/strong&gt;) &lt;br /&gt;
By Bryan Costales, Claus Assmann, George Jansen, Gregory Neil Shapiro&lt;br /&gt;
(Published by: O’Reilly Media, Inc., Publication Date: October 2007):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Some &lt;em&gt;mc&lt;/em&gt; lines must precede others.  This is necessary partly because
&lt;em&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;m4(1)&lt;/code&gt;&lt;/em&gt; is a one-pass program, and partly because the order of items in
the final &lt;em&gt;sendmail.cf&lt;/em&gt; file is also critical.  The recommended order is:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;VERSIONID( )
OSTYPE( )
DOMAIN( )
option definitions
FEATURE( )
macro definitions
MAILER( )
ruleset definitions
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The general rules about the order of macro definition declarations
in &lt;em&gt;mc&lt;/em&gt; files:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n 128,152p /usr/local/share/sendmail/cf/README

        MAILER(`local&apos;)
        MAILER(`smtp&apos;)

These describe the mailers used at the default CS site.  The local
mailer is always included automatically.  Beware: MAILER declarations
should only be followed by LOCAL_* sections.  The general rules are
that the order should be:

        VERSIONID
        OSTYPE
        DOMAIN
        FEATURE
        local macro definitions
        MAILER
        LOCAL_CONFIG
        LOCAL_RULE_*
        LOCAL_RULESETS

There are a few exceptions to this rule.  Local macro definitions which
influence a FEATURE() should be done before that feature.  For example,
a define(`PROCMAIL_MAILER_PATH&apos;, ...) should be done before
FEATURE(`local_procmail&apos;).

*******************************************************************
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also in:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n 128,152p /usr/share/sendmail/cf/README 
# sed -n 128,152p /usr/src/contrib/sendmail/cf/README
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cp -i /etc/mail/freebsd.mc /etc/mail/freebsd.mc.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;edit-sendmailmc-freebsdmc-on-freebsd-file&quot;&gt;Edit &lt;strong&gt;sendmail.mc&lt;/strong&gt; (&lt;strong&gt;freebsd.mc&lt;/strong&gt; on FreeBSD) File&lt;/h3&gt;

&lt;p&gt;Continuing with setup, modify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.mc&lt;/code&gt; file
(on FreeBSD this file is: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/freebsd.mc&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /etc/mail/freebsd.mc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Content of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;freebsd.mc&lt;/code&gt; file after editing it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -v ^dnl /etc/mail/freebsd.mc | grep -v \^#
divert(-1)


divert(0)
VERSIONID(`$FreeBSD$&apos;)
OSTYPE(freebsd6)
DOMAIN(generic)

define(`confLOG_LEVEL&apos;, `14&apos;)dnl

define(`confEBINDIR&apos;, `/usr/local/libexec&apos;)dnl
define(`UUCP_MAILER_PATH&apos;, `/usr/local/bin/uux&apos;)dnl

FEATURE(`nouucp&apos;,`reject&apos;)dnl

TRUST_AUTH_MECH(`DIGEST-MD5 CRAM-MD5 EXTERNAL GSSAPI LOGIN PLAIN&apos;)dnl
define(`confAUTH_MECHANISMS&apos;,`DIGEST-MD5 CRAM-MD5 EXTERNAL GSSAPI LOGIN PLAIN&apos;)dnl
define(`confDONT_BLAME_SENDMAIL&apos;,`GroupReadableSASLDBFile&apos;)dnl

FEATURE(access_db, `hash -o -T&amp;lt;TMPF&amp;gt; /etc/mail/access&apos;)
FEATURE(blocklist_recipients)
FEATURE(local_lmtp)

FEATURE(mailertable, `hash -o /etc/mail/mailertable&apos;)
FEATURE(virtusertable, `hash -o /etc/mail/virtusertable&apos;)

define(`CERT_DIR&apos;, `/etc/mail/certs&apos;)dnl
define(`confSERVER_CERT&apos;, `CERT_DIR/host.cert&apos;)dnl
define(`confSERVER_KEY&apos;, `CERT_DIR/host.key&apos;)dnl
define(`confCLIENT_CERT&apos;, `CERT_DIR/host.cert&apos;)dnl
define(`confCLIENT_KEY&apos;, `CERT_DIR/host.key&apos;)dnl
define(`confCACERT&apos;, `CERT_DIR/cacert.pem&apos;)dnl
define(`confCACERT_PATH&apos;, `CERT_DIR&apos;)dnl
define(`confDH_PARAMETERS&apos;, `CERT_DIR/dh.param&apos;)dnl

define(`confCW_FILE&apos;, `-o /etc/mail/local-host-names&apos;)

DAEMON_OPTIONS(`Name=IPv4, Family=inet&apos;)

define(`confBIND_OPTS&apos;, `WorkAroundBrokenAAAA&apos;)
define(`confNO_RCPT_ACTION&apos;, `add-to-undisclosed&apos;)
define(`confPRIVACY_FLAGS&apos;, `authwarnings,noexpn,novrfy&apos;)

MAILER(local)dnl
MAILER(smtp)dnl

LOCAL_RULESETS
SLocal_trust_auth
R$*     $: $&amp;amp;{auth_authen}
Rsmmsp  $# OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; 
The LHS (lefthand side) in the two lines below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SLocal_trust_auth&lt;/code&gt;
is separated from the RHS (righthand side) by one or more
&lt;strong&gt;tab&lt;/strong&gt; characters (space characters will not work).  In this case, for
the first line below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SLocal_trust_auth&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$*&lt;/code&gt; ends the left-hand side;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$:&lt;/code&gt; starts the right-hand side so the TAB character is before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$:&lt;/code&gt;;
that is: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R$*&lt;/code&gt;[TAB]&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$: $&amp;amp;{auth_authen}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Similarly, in the second line, there is a TAB after &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rsmmsp&lt;/code&gt;; that is:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rsmmsp&lt;/code&gt;[TAB]&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$# OK&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# touch /etc/mail/statistics
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /etc/mail/statistics
-rw-r--r--  1 root  wheel     0B Nov 12 18:56 /etc/mail/statistics
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdir /etc/mail/host_status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -ld /etc/mail/host_status
drwxr-xr-x  2 root  wheel  2 Nov 12 18:56 /etc/mail/host_status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cp -i /etc/mail/freebsd.submit.mc /etc/mail/freebsd.submit.mc.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;edit-submitmc-on-freebsd-freebsdsubmitmc-file&quot;&gt;Edit &lt;strong&gt;submit.mc&lt;/strong&gt; (on FreeBSD: &lt;strong&gt;freebsd.submit.mc&lt;/strong&gt;) File&lt;/h3&gt;

&lt;p&gt;Modify the &lt;em&gt;submit.mc&lt;/em&gt; file (on FreeBSD: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/freebsd.submit.mc&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /etc/mail/freebsd.submit.mc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wc -l /etc/mail/freebsd.submit.mc
      46 /etc/mail/freebsd.submit.mc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Content of the &lt;strong&gt;freebsd.submit.mc&lt;/strong&gt; file after editing it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/mail/freebsd.submit.mc
divert(-1)

#
#  This is the FreeBSD configuration for a set-group-ID sm-msp sendmail
#  that acts as a initial mail submission program.
#

divert(0)dnl

VERSIONID(`$FreeBSD$&apos;)
define(`confCF_VERSION&apos;, `Submit&apos;)dnl
define(`__OSTYPE__&apos;,`&apos;)dnl dirty hack to keep proto.m4 from complaining
define(`_USE_DECNET_SYNTAX_&apos;, `1&apos;)dnl support DECnet
define(`confTIME_ZONE&apos;, `USE_TZ&apos;)dnl
define(`confDONT_INIT_GROUPS&apos;, `True&apos;)dnl
define(`confBIND_OPTS&apos;, `WorkAroundBrokenAAAA&apos;)dnl

define(`confLOG_LEVEL&apos;, `14&apos;)dnl

define(`SMART_HOST&apos;,`smartrelay:[127.0.0.1]&apos;)dnl
FEATURE(`authinfo&apos;,`hash /etc/mail/authinfo&apos;)dnl

dnl dnl MASQUERADE_AS(`domain.to.masquerade_as&apos;)dnl dnl
dnl dnl MASQUERADE_DOMAIN(&apos;fbsd1.home.arpa&apos;)dnl dnl
dnl # Uncomment the next line (with masquerade_envelope) if 
dnl # you want messages to be delivered to SMART_HOST. 
dnl dnl FEATURE(`masquerade_envelope&apos;)dnl
dnl dnl FEATURE(`masquerade_entire_domain&apos;)dnl dnl

dnl Disable SMTP AUTH on the loopback interface.
DAEMON_OPTIONS(`Name=NoMTA, Addr=127.0.0.1, M=EA&apos;)dnl

FEATURE(`msp&apos;, `[127.0.0.1]&apos;)dnl

MAILER_DEFINITIONS
dnl 
dnl     LR0relayST (Local Rule 0 relay Single Token)
dnl For addresses with only a single token (e.g. a username):  dusko 
MLR0relayST,	P=[IPC], F=mDFMuXa8k, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
		T=DNS/RFC822/SMTP,
		A=TCP $h

dnl
dnl     LR0relayLH [Local Rule 0 relay Local (AND) Hostname]
dnl For addresses:  dusko@localhost, dusko@&amp;lt;hostname&amp;gt; (that is:  dusko@fbsd1.home.arpa)
MLR0relayLH,	P=[IPC], F=mDFMuXa8k, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
		T=DNS/RFC822/SMTP,
		A=TCP $h

dnl
dnl     smartrelay 
dnl For nonlocal (external) addresses; for example: dusko@some.external.domain
Msmartrelay,	P=[IPC], F=mDFMuXa8k, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
		T=DNS/RFC822/SMTP,
		A=TCP $h 1465

LOCAL_RULE_0
R$-	$#LR0relayST $@ $j $: $1 &amp;lt; @ $j. &amp;gt;
R$+ &amp;lt; @ $j. &amp;gt;	$#LR0relayLH $@ $j $: $1 &amp;lt; @ $j. &amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
The LHS (lefthand side) in two lines below &lt;em&gt;LOCAL_RULE_0&lt;/em&gt; is separated from
the RHS (righthand side) by a &lt;strong&gt;tab&lt;/strong&gt; character (space characters will not
work).  In this case, in the first line under &lt;em&gt;LOCAL_RULE_0&lt;/em&gt;, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-&lt;/code&gt; 
character (the minus sign) ends the LHS; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#&lt;/code&gt; starts the RHS; that is: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R$-&lt;/code&gt; [TAB] &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#LR0relayST $@ $j $: $1 &amp;lt; @ $j. &amp;gt;&lt;/code&gt;  &lt;br /&gt;
On the last line (second line under &lt;em&gt;LOCAL_RULE_0&lt;/em&gt;), the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt; character
(the greater-than sign) ends the LHS, while &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#&lt;/code&gt; starts the RHS; that is:  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R$+ &amp;lt; @ $j. &amp;gt;&lt;/code&gt; [TAB] &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#LR0relayLH $@ $j $: $1 &amp;lt; @ $j. &amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
In the MAILER_DEFINITIONS &lt;em&gt;mc&lt;/em&gt; configuration macro definitions, you don’t
have to use tabs between mailer names on the lefthand side (LHS) (in this
case, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LR0relayST&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LR0relayLH&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;smartrelay&lt;/code&gt;) and their definitions
(&lt;strong&gt;delivery agent equates&lt;/strong&gt; &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 10 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;) on the
righthand side (RHS).&lt;/p&gt;

&lt;h3 id=&quot;three-new-customized-delivery-agents-mailers---explanation&quot;&gt;Three New Customized Delivery Agents (Mailers) - Explanation&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`SMART_HOST&apos;,`smartrelay:[127.0.0.1]&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To enable forwarding of all &lt;strong&gt;nonlocal&lt;/strong&gt; mail to a &lt;strong&gt;smart&lt;/strong&gt; gateway host,
you need to define &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SMART_HOST&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Here, Internet mail (nonlocal mail) will be forwarded to the host
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[127.0.0.1]&lt;/code&gt; using the &lt;strong&gt;smartrelay&lt;/strong&gt; delivery agent [the delivery agent
name is separated from the domain name by a colon (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:&lt;/code&gt;)].
The square brackets (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;]&lt;/code&gt;) around &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127.0.0.1&lt;/code&gt; tell &lt;em&gt;sendmail&lt;/em&gt; that
it is dealing with an &lt;strong&gt;IP address&lt;/strong&gt;, rather than a hostname.  In other words, 
the &lt;strong&gt;square brackets&lt;/strong&gt; around &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127.0.0.1&lt;/code&gt; &lt;strong&gt;suppress&lt;/strong&gt; the lookup
of &lt;strong&gt;MX records&lt;/strong&gt;.  During canonicalization of a hostname, when the
IP address between the square brackets corresponds to a known host,
the address and the square brackets are replaced with that host’s canonical
name.  &lt;br /&gt;
In this case, canonical domain name for my localhost is &lt;em&gt;fbsd1.home.arpa&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d0 &amp;lt; /dev/null
[ . . . ]
  (canonical domain name) $j = fbsd1.home.arpa 
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a special case, the [default] delivery agent named &lt;em&gt;local&lt;/em&gt; causes
slightly different behaviour in that it allows the name of the target user
to be listed without a host part:  &lt;em&gt;localhost local:dusko&lt;/em&gt;; or
&lt;em&gt;fbsd1.home.arpa local:dusko&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;For configuration in this article, the smart host is configured to use host
&lt;em&gt;127.0.0.1&lt;/em&gt; (&lt;em&gt;localhost&lt;/em&gt;) via the newly defined custom delivery
agent (named &lt;em&gt;smartrelay&lt;/em&gt;).  I defined the &lt;em&gt;smartrelay&lt;/em&gt; delivery agent
in the configuration file for the submission form of &lt;em&gt;sendmail&lt;/em&gt;
(a.k.a. &lt;em&gt;msp sendmail&lt;/em&gt;), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.mc&lt;/code&gt;
(in FreeBSD, this file is: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/freebsd.submit.mc&lt;/code&gt;)
to use port &lt;em&gt;1465&lt;/em&gt; because I earlier chose that port number
in the &lt;em&gt;stunnel.conf&lt;/em&gt; configuration file to be a conduit for tunneling
SSL to port &lt;em&gt;465&lt;/em&gt; on the external smart host side. &lt;br /&gt;
An excerpt from &lt;em&gt;stunnel.conf&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;accept = 127.0.0.1:1465 
connect = your.isp.net:465
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;MSP&lt;/strong&gt; (mail submission program) is a command-line &lt;em&gt;sendmail&lt;/em&gt; that
functions as a mail submission agent (&lt;strong&gt;MSA&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;All mailer (a.k.a. deliver agent) definitions begin with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M&lt;/code&gt; operator.&lt;/p&gt;

&lt;p&gt;All recipient addresses must resolve to a mailer (delivery agent)
in &lt;strong&gt;rulest 0&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;In &lt;em&gt;sendmail&lt;/em&gt;, a delivery agent is selected by the RHS of a &lt;em&gt;parse&lt;/em&gt; rule
set 0 rule.&lt;/p&gt;

&lt;p&gt;In a setup in which the smart host is configured this way [to be
tunneled through the &lt;em&gt;localhost&lt;/em&gt; with the &lt;em&gt;stunnel&lt;/em&gt; to the actual
(external) smart host] I need to define two new, customized local delivery
agents for delivering local mail.  Otherwise, local mail would be 
forwarded by connecting to &lt;em&gt;[127.0.0.1]&lt;/em&gt; via the default MSP &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;relay&lt;/code&gt; delivery
agent, in which case authentication would fail because the client’s
authentication credentials (configured earlier and stored in the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/authinfo&lt;/code&gt; file) are for the smart host; that is, they are not
authentication credentials for your localhost.&lt;/p&gt;

&lt;p&gt;Also, I need to define an additional custom delivery agent
for the smart relay.  This delivery agent will use the port number
specified earlier for &lt;em&gt;stunnel&lt;/em&gt; on the localhost side (in this case, port
&lt;em&gt;1465&lt;/em&gt;) for tunneling mail to the smart relay side (which, in this case
requires authentication on port &lt;em&gt;465&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;The three new delivery agents - summarized:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;MLR0relayST&lt;/em&gt; &lt;br /&gt;
M = mailer definition &lt;br /&gt;
Mailer name: &lt;strong&gt;LR0relayST&lt;/strong&gt; &lt;br /&gt;
Will be used when the address is a single token (such as &lt;em&gt;dusko&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;&lt;em&gt;MLR0relayLH&lt;/em&gt; &lt;br /&gt;
M = mailer definition &lt;br /&gt;
Mailer name: &lt;strong&gt;LR0relayLH&lt;/strong&gt; &lt;br /&gt;
Will be used when the address is the local hostname &lt;br /&gt;
(&lt;em&gt;dusko@localhost&lt;/em&gt;, or in this case: &lt;em&gt;dusko@fbsd1.home.arpa&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Msmartrelay&lt;/em&gt; &lt;br /&gt;
M = mailer definition  &lt;br /&gt;
Mailer name: &lt;strong&gt;smartrelay&lt;/strong&gt; &lt;br /&gt;
Will be used when the address is a nonlocal (external) addresses&lt;br /&gt;
(for example: &lt;em&gt;dusko@some.external.domain&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;Three new/customized mailers (a.k.a. delivery agents) are defined under
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAILER_DEFINITIONS&lt;/code&gt;. &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAILER_DEFINITIONS&lt;/code&gt; &lt;em&gt;m4&lt;/em&gt; command is used for grouping delivery agent
definitions.&lt;/p&gt;

&lt;h3 id=&quot;local_rule_0-mc-macro---explanation&quot;&gt;LOCAL_RULE_0 mc Macro - Explanation&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;LOCAL_RULE_0&lt;/strong&gt; mc macro adds rules to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; rule set 0.&lt;/p&gt;

&lt;p&gt;I will use &lt;em&gt;LOCAL_RULE_0&lt;/em&gt; to declare two new rules in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; rule set 0.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The first rule detects a &lt;strong&gt;single token&lt;/strong&gt; in the address (such as &lt;em&gt;dusko&lt;/em&gt;)
and calls the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LR0relayST&lt;/code&gt; delivery agent.&lt;/li&gt;
  &lt;li&gt;The second rule detects a match with localhost
(such as &lt;em&gt;localhost&lt;/em&gt; or &lt;em&gt;local-hostname.some.domain&lt;/em&gt;)
and calls the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LR0relayLH&lt;/code&gt; delivery agent. &lt;strong&gt;Note:&lt;/strong&gt; This check is done
against the local hostname after it went through the process of 
canonicalization.
    &lt;ul&gt;
      &lt;li&gt;In the flow of rules through the parse rule set 0, 
canonicalization is done first.  In this case, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;canonify&lt;/code&gt; ruleset
returns &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;&lt;/code&gt; for both inputs 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dusko@localhost&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dusko@fbsd1.home.arpa&lt;/code&gt;. &lt;br /&gt;
My workstation’s hostname is &lt;em&gt;fbsd1.home.arpa&lt;/em&gt;.  Its canonical domain
name (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt;) is &lt;em&gt;fbsd1.home.arpa&lt;/em&gt;:&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d0 &amp;lt; /dev/null
[ . . . ]
  (canonical domain name) $j = fbsd1.home.arpa
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://sendmail.org/~ca/email/doc8.12/op-sh-5.html&quot;&gt;The Whole Scoop on the Configuration File - Claus Aßmann at sendmail.org&lt;/a&gt; (Retrieved on Nov 11, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;R and S – Rewriting Rules&lt;/p&gt;

  &lt;p&gt;The core of address parsing are the rewriting rules.  These are an ordered
production system.  &lt;em&gt;Sendmail&lt;/em&gt; scans through the set of rewriting rules
looking for a match on the left hand side (LHS) of the rule.  When a rule
matches, the address is replaced by the right hand side (RHS) of the rule.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;The syntax of the R command:&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;R&lt;/strong&gt; &lt;em&gt;lhs&lt;/em&gt; &lt;em&gt;rhs&lt;/em&gt; &lt;em&gt;comments&lt;/em&gt;&lt;/p&gt;

  &lt;p&gt;The fields must be separated by at least one &lt;strong&gt;tab character&lt;/strong&gt;;
there may be embedded spaces in the fields.  The &lt;em&gt;lhs&lt;/em&gt; is a pattern that
is applied to the input.  If it matches, the input is rewritten to the &lt;em&gt;rhs&lt;/em&gt;.
The comments are ignored.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;The left hand side&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;The left hand side of rewriting rules contains a pattern.  Normal words
are simply matched directly.  Metasyntax is introduced using
a &lt;strong&gt;dollar sign&lt;/strong&gt;.  The metasymbols are:&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;$*&lt;/strong&gt;	Match zero or more tokens&lt;br /&gt;
&lt;strong&gt;$+&lt;/strong&gt;	Match one or more tokens&lt;br /&gt;
&lt;strong&gt;$-&lt;/strong&gt;	Match exactly one token&lt;br /&gt;
&lt;strong&gt;$=&lt;/strong&gt;&lt;em&gt;x&lt;/em&gt;	Match any phrase in class &lt;em&gt;x&lt;/em&gt; &lt;br /&gt;
&lt;strong&gt;$~&lt;/strong&gt;&lt;em&gt;x&lt;/em&gt;	Match any word not in class &lt;em&gt;x&lt;/em&gt;&lt;/p&gt;

  &lt;p&gt;If any of these match, they are assigned to the symbol &lt;strong&gt;$&lt;/strong&gt; &lt;em&gt;n&lt;/em&gt; for
replacement on the right hand side, where &lt;em&gt;n&lt;/em&gt; is the index in the LHS.
For example, if the LHS:&lt;/p&gt;

  &lt;p&gt;$-:$+&lt;/p&gt;

  &lt;p&gt;is applied to the input:&lt;/p&gt;

  &lt;p&gt;UCBARPA:eric&lt;/p&gt;

  &lt;p&gt;the rule will match, and the values passed to the RHS will be:&lt;/p&gt;

  &lt;p&gt;$1 UCBARPA &lt;br /&gt;
$2 eric&lt;/p&gt;

  &lt;p&gt;Additionally, the LHS can include &lt;strong&gt;$@&lt;/strong&gt; to match &lt;strong&gt;zero&lt;/strong&gt; tokens.
This is not bound to a &lt;strong&gt;$&lt;/strong&gt; &lt;em&gt;n&lt;/em&gt; on the RHS, and is normally only used
when it stands alone in order to match the &lt;strong&gt;null input&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;The right hand side&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;When the left hand side of a rewriting rule matches, the input is deleted
and replaced by the right hand side.  Tokens are copied directly from the
RHS unless they begin with a dollar sign.  Metasymbols are:&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;$&lt;/strong&gt;&lt;em&gt;n&lt;/em&gt;	Substitute indefinite token n from LHS&lt;br /&gt;
&lt;strong&gt;$[&lt;/strong&gt;&lt;em&gt;name&lt;/em&gt;&lt;strong&gt;$]&lt;/strong&gt;	Canonicalize name &lt;br /&gt;
&lt;strong&gt;$(&lt;/strong&gt;&lt;em&gt;map key &lt;strong&gt;$@&lt;/strong&gt;&lt;/em&gt;arguments &lt;strong&gt;$:&lt;/strong&gt;&lt;em&gt;default&lt;/em&gt; &lt;strong&gt;$)&lt;/strong&gt; &lt;br /&gt;
Generalized keyed mapping function &lt;br /&gt;
&lt;strong&gt;$&amp;gt;&lt;/strong&gt;&lt;em&gt;n&lt;/em&gt;	“Call” ruleset &lt;em&gt;n&lt;/em&gt; &lt;br /&gt;
&lt;strong&gt;$#&lt;/strong&gt;&lt;em&gt;mailer&lt;/em&gt;	Resolve to &lt;em&gt;mailer&lt;/em&gt; &lt;br /&gt;
&lt;strong&gt;$@&lt;/strong&gt;&lt;em&gt;host&lt;/em&gt;	Specify &lt;em&gt;host&lt;/em&gt; &lt;br /&gt;
&lt;strong&gt;$:&lt;/strong&gt;&lt;em&gt;user&lt;/em&gt;	Specify &lt;em&gt;user&lt;/em&gt;&lt;/p&gt;

  &lt;p&gt;The &lt;strong&gt;$&lt;/strong&gt; &lt;em&gt;n&lt;/em&gt; syntax substitutes the corresponding value from a &lt;strong&gt;$+&lt;/strong&gt;,
&lt;strong&gt;$-&lt;/strong&gt;, &lt;strong&gt;$*&lt;/strong&gt;, &lt;strong&gt;$=&lt;/strong&gt;, or &lt;strong&gt;$~&lt;/strong&gt; match on the LHS.  It may be used
anywhere.&lt;/p&gt;

  &lt;p&gt;A host name enclosed between &lt;strong&gt;$[&lt;/strong&gt; and &lt;strong&gt;$]&lt;/strong&gt; is looked up in the host
database(s) and replaced by the canonical name.  For example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$[ftp$]&lt;/code&gt;
might become &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ftp.CS.Berkeley.EDU&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$[[128.32.130.2]$]&lt;/code&gt; would become
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vangogh.CS.Berkeley.EDU&lt;/code&gt;.  &lt;em&gt;Sendmail&lt;/em&gt; recognizes its numeric IP address
without calling the name server and replaces it with its canonical name.&lt;/p&gt;

  &lt;p&gt;The &lt;strong&gt;$( … $)&lt;/strong&gt; syntax is a more general form of lookup; it uses
a named map instead of an implicit map.  If no lookup is found, the
indicated &lt;em&gt;default&lt;/em&gt; is inserted; if no default is specified and no
lookup matches, the value is left unchanged.  The &lt;em&gt;arguments&lt;/em&gt; are passed
to the map for possible use.&lt;/p&gt;

  &lt;p&gt;The &lt;strong&gt;$&amp;gt;&lt;/strong&gt; &lt;em&gt;n&lt;/em&gt; syntax causes the remainder of the line to be substituted
as usual and then passed as the argument to ruleset &lt;em&gt;n&lt;/em&gt;.  The final value
of ruleset n then becomes the substitution for this rule.  The &lt;strong&gt;$&amp;gt;&lt;/strong&gt;
syntax expands everything after the ruleset name to the end of the
replacement string and then passes that as the initial input to the
ruleset.  Recursive calls are allowed. For example,&lt;/p&gt;

  &lt;p&gt;$&amp;gt;0 $&amp;gt;3 $1&lt;/p&gt;

  &lt;p&gt;expands $1, passes that to ruleset 3, and then passes the result of
ruleset 3 to ruleset 0.&lt;/p&gt;

  &lt;p&gt;The &lt;strong&gt;$#&lt;/strong&gt; syntax should &lt;strong&gt;only&lt;/strong&gt; be used in ruleset zero, a subroutine
of ruleset zero, or rulesets that return decisions (e.g., &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_rcpt&lt;/code&gt;).
It causes evaluation of the ruleset to terminate immediately, and signals
to &lt;em&gt;sendmail&lt;/em&gt; that the address has completely resolved.  The complete
syntax for ruleset 0 is:&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;$#&lt;/strong&gt;&lt;em&gt;mailer&lt;/em&gt; &lt;strong&gt;$@&lt;/strong&gt;&lt;em&gt;host&lt;/em&gt; &lt;strong&gt;$:&lt;/strong&gt;&lt;em&gt;user&lt;/em&gt;&lt;/p&gt;

  &lt;p&gt;This specifies the {mailer, host, user} 3-tuple necessary to direct
the mailer.  If the mailer is local the host part may be omitted.
The &lt;em&gt;mailer&lt;/em&gt; must be a single word but the &lt;em&gt;host&lt;/em&gt; and &lt;em&gt;user&lt;/em&gt; may be
multi-part.  If the &lt;em&gt;mailer&lt;/em&gt; is the built-in IPC mailer, the &lt;em&gt;host&lt;/em&gt; may
be a colon-separated list of hosts that are searched in order for the
first working address (exactly like MX records).  The &lt;em&gt;user&lt;/em&gt; is later
rewritten by the mailer-specific envelope rewriting set and assigned to
the &lt;strong&gt;$u&lt;/strong&gt; macro.  As a special case, if the mailer specified has the
&lt;strong&gt;F=@&lt;/strong&gt; flag specified and the first character of the &lt;strong&gt;$:&lt;/strong&gt; value is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt;,
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt; is stripped off, and a flag is set in the address descriptor that
causes sendmail to not do ruleset 5 processing.&lt;/p&gt;

  &lt;p&gt;Normally, a rule that matches is retried, that is, the rule loops until
it fails.  A RHS may also be preceded by a &lt;strong&gt;$@&lt;/strong&gt; or a &lt;strong&gt;$:&lt;/strong&gt; to change
this behaviour.  A &lt;strong&gt;$@&lt;/strong&gt; prefix causes the ruleset to return with the
remainder of the RHS as the value.  A &lt;strong&gt;$:&lt;/strong&gt; prefix causes the rule to
terminate immediately, but the ruleset to continue; this can be used to
avoid continued application of a rule.  The prefix is stripped before continuing.&lt;/p&gt;

  &lt;p&gt;The &lt;strong&gt;$@&lt;/strong&gt; and &lt;strong&gt;$:&lt;/strong&gt; prefixes may precede a &lt;strong&gt;$&amp;gt;&lt;/strong&gt; spec; for example:&lt;/p&gt;

  &lt;p&gt;R$+ $: $&amp;gt;7 $1&lt;/p&gt;

  &lt;p&gt;matches anything, passes that to ruleset seven, and continues; the &lt;strong&gt;$:&lt;/strong&gt;
is necessary to avoid an infinite loop.&lt;/p&gt;

  &lt;p&gt;Substitution occurs in the order described, that is, parameters from the
LHS are substituted, hostnames are canonicalized, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subroutines&lt;/code&gt; are called,
and finally &lt;strong&gt;$#&lt;/strong&gt;, &lt;strong&gt;$@&lt;/strong&gt;, and &lt;strong&gt;$:&lt;/strong&gt; are processed.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;mailer_definitions-m4-command---explanation&quot;&gt;MAILER_DEFINITIONS m4 Command - Explanation&lt;/h3&gt;

&lt;p&gt;The &lt;strong&gt;MAILER_DEFINITIONS&lt;/strong&gt; section introduces your new delivery agent definitions.&lt;br /&gt;
This m4 command forces new delivery agent definitions to be grouped with
the other delivery agent definitions.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;MAILER_DEFINITIONS&lt;/strong&gt;  &lt;br /&gt;
Define new (custom) delivery agents (aka “mailers”).&lt;/p&gt;

&lt;p&gt;In this case, under &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAILER_DEFINITIONS&lt;/code&gt; macro, three new deliver agents are defined:
&lt;strong&gt;MLR0relayST&lt;/strong&gt;, &lt;strong&gt;MLR0relayLH&lt;/strong&gt; and &lt;strong&gt;smartrelay&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;A close inspection of the fields in these two mailer (delivery agent)
entries shows the following:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;MLR0relayST&lt;/em&gt;, &lt;em&gt;MLR0relayLH&lt;/em&gt; and &lt;em&gt;Msmartrelay&lt;/em&gt; &lt;br /&gt;
Define and name a mailer, here arbitrarily named &lt;em&gt;MLR0relayST&lt;/em&gt;, &lt;em&gt;MLR0relayLH&lt;/em&gt; and &lt;em&gt;Msmartrelay&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;P=[IPC]&lt;/em&gt; &lt;br /&gt;
The path to the program used for this mailer is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[IPC]&lt;/code&gt;, which means delivery
of this mail is handled internally by &lt;em&gt;sendmail&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;F=mDFMuXa8k&lt;/em&gt;&lt;br /&gt;
The &lt;em&gt;sendmail&lt;/em&gt; flags for this mailer say that this mailer can send to
multiple recipients at once (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;m&lt;/code&gt;); that Date (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;D&lt;/code&gt;), From (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F&lt;/code&gt;), and
Message-Id (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M&lt;/code&gt;) headers are required; that uppercase should be preserved
in hostnames and usernames (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;u&lt;/code&gt;); that lines beginning with a dot have an
extra dot prepended (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;X&lt;/code&gt;); to run extended SMTP protocol (ESMTP) (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a&lt;/code&gt;);
to force sending 8-bit data over SMTP even if the receiving server doesn’t
support 8-bit MIME (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;8&lt;/code&gt;); and to don’t check for loops in EHLO/HELO command (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;em&gt;S=EnvFromSMTP/HdrFromSMTP&lt;/em&gt;  &lt;br /&gt;
The sender address in the mail &lt;em&gt;envelope&lt;/em&gt; is processed through ruleset&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EnvFromSMTP&lt;/code&gt;,
and the sender address in the &lt;em&gt;message&lt;/em&gt; is processed through ruleset &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HdrFromSMTP&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;R=EnvToSMTP&lt;/em&gt; &lt;br /&gt;
All recipient addresses are processed through ruleset EnvToSMTP.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;E=\r\n&lt;/em&gt; &lt;br /&gt;
Lines are terminated with a carriage return and a line feed.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;L=2040&lt;/em&gt; &lt;br /&gt;
This mailer will handle lines up to 2040 bytes long.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;T=DNS/RFC822/SMTP&lt;/em&gt; &lt;br /&gt;
The MIME-type information for this mailer says that DNS is used for hostnames,
RFC 822 email addresses are used, and SMTP error codes are used.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;A=TCP $h&lt;/em&gt; &lt;br /&gt;
An internal &lt;em&gt;sendmail&lt;/em&gt; process designed to deliver SMTP mail over a TCP connection.
The macro &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$h&lt;/code&gt; is expanded to provide the recipient host (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$h&lt;/code&gt;) address.&lt;/p&gt;

&lt;p&gt;All three custom delivery agents (&lt;em&gt;LR0relayST&lt;/em&gt;, &lt;em&gt;LR0relayLH&lt;/em&gt; and &lt;em&gt;smartrelay&lt;/em&gt;)
have been copied from the &lt;strong&gt;relay&lt;/strong&gt; delivery agent as defined and provided by
default in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/submit.cf&lt;/code&gt; file, and then modified. 
For my purposes, I’ve made only two modifications:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;renaming delivery agent (to: &lt;em&gt;LR0relayST&lt;/em&gt;, &lt;em&gt;LR0relayLH&lt;/em&gt; and &lt;em&gt;smartrelay&lt;/em&gt;), and&lt;/li&gt;
  &lt;li&gt;for the &lt;em&gt;Msmartrelay&lt;/em&gt; delivery agent: added a port number &lt;strong&gt;1465&lt;/strong&gt; as
that’s the port configured to be used by &lt;em&gt;stunnel&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The &lt;em&gt;relay&lt;/em&gt; delivery agent as defined by default in the &lt;strong&gt;sendmail.cf&lt;/strong&gt;
configuration file uses TCP to connect to other hosts.  It speaks ESMTP
and has the &lt;strong&gt;F=mDFMuXa8&lt;/strong&gt; delivery agent flags set by default:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -A3 Mrelay /etc/mail/sendmail.cf
Mrelay,         P=[IPC], F=mDFMuXa8, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
                T=DNS/RFC822/SMTP,
                A=TCP $h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This delivery agent (the &lt;em&gt;relay&lt;/em&gt; delivery agent) is chosen for forwarding
mail to the &lt;strong&gt;SMART_HOST&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SMART_HOST&lt;/code&gt; mc macro). &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 8 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;However, note that in the &lt;strong&gt;submit.cf&lt;/strong&gt; configuration file, which is the
configuration file that &lt;em&gt;sendmail&lt;/em&gt; uses for its &lt;strong&gt;MSP&lt;/strong&gt; (mail submission program)
[(a command-line &lt;em&gt;sendmail&lt;/em&gt; that functions as a mail submission agent (&lt;strong&gt;MSA&lt;/strong&gt;)],
the &lt;strong&gt;relay&lt;/strong&gt; delivery agent is defind sligthly differently.  (The only difference
is in &lt;strong&gt;F=mDFMuXa8k&lt;/strong&gt; delivery agent flags.  These are the same delivery
agent flags that &lt;em&gt;relay&lt;/em&gt; in &lt;em&gt;sendmail.cf&lt;/em&gt; uses  but with the &lt;strong&gt;F=k&lt;/strong&gt; delivery
agent flag added, which means “Don’t check for loops in HELO/EHLO command”.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -A3 Mrelay /etc/mail/submit.cf
Mrelay,         P=[IPC], F=mDFMuXa8k, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
                T=DNS/RFC822/SMTP,
                A=TCP $h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;LOCAL_RULE_0&lt;/strong&gt;  &lt;br /&gt;
Add rules to parse rule set 0&lt;/p&gt;

&lt;p&gt;Ruleset 0 is applied to recipient addresses by &lt;em&gt;sendmail&lt;/em&gt; after Ruleset 3
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 9 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;.
Ruleset 0 is expected to perform the delivery of the message to the recipient
so it must resolve to a triple that specifies each of the mailer, host,
and user.  The rules will be placed &lt;strong&gt;before&lt;/strong&gt; any &lt;strong&gt;smart host&lt;/strong&gt;
definition you may include so if you add rules that resolve addresses
appropriately, any address that matches a rule will &lt;strong&gt;not&lt;/strong&gt; be handled by
the smart host.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCAL_RULE_0&lt;/code&gt; macro marks the start of &lt;em&gt;sendmail.cf&lt;/em&gt; code that is
added to &lt;strong&gt;ruleset 0&lt;/strong&gt; (more commonly called the &lt;strong&gt;parse&lt;/strong&gt; ruleset).
Specifically, the code that follows the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCAL_RULE_0&lt;/code&gt; macro is added to
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ParseLocal&lt;/code&gt; ruleset, which is a hook into the &lt;em&gt;parse&lt;/em&gt; ruleset where
&lt;strong&gt;locally defined rules&lt;/strong&gt; are added.  The &lt;em&gt;parse&lt;/em&gt; ruleset rewrites the delivery
address to a mail delivery triple.&lt;/p&gt;

&lt;p&gt;The code that follows the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCAL_RULE_0&lt;/code&gt; macro above is a rewrite rule.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; command is used to define a rewriting rule: 
Mail addresses are compared to the rule on the left hand side (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$-&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$+&lt;/code&gt;)
(the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; macro holds the canonical domain name; which is in this case:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fbsd1.home.arpa&lt;/code&gt;).  If they match it, the rule rewrites those addresses
into a mail delivery triple where the mailer is &lt;em&gt;LR0relayLH&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;After rebuilding the configuration with the new master configuration file,
running a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail -bv&lt;/code&gt; test (with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Ac&lt;/code&gt; parameters so that the
&lt;strong&gt;submit.cf&lt;/strong&gt; is used instead of &lt;strong&gt;sendmail.cf&lt;/strong&gt;) shows:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sendmail -Ac -bv dusko
dusko... deliverable: mailer LR0relayST, host fbsd1.home.arpa,
  user dusko@fbsd1.home.arpa

$ sudo sendmail -Ac -bv dusko@localhost
dusko@localhost... deliverable: mailer LR0relayLH, host fbsd1.home.arpa,
  user dusko@fbsd1.home.arpa

$ sudo sendmail -Ac -bv dusko@fbsd1.home.arpa
dusko@fbsd1.home.arpa... deliverable: mailer LR0relayLH, host fbsd1.home.arpa,
  user dusko@fbsd1.home.arpa

$ sudo sendmail -Ac -bv dusko@some.external.domain
dusko@some.external.domain... deliverable: mailer smartrelay, host [127.0.0.1],
  user dusko@some.external.domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  Without defining the new, customized delivery agents
&lt;em&gt;LR0relayST&lt;/em&gt; and &lt;em&gt;LR0relayLH&lt;/em&gt;, delivery agent selected for local
delivery would have been the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;relay&lt;/code&gt; mailer supplied by default
by &lt;em&gt;sendmail&lt;/em&gt;.  To check that you can run the following commands with
the default &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.mc&lt;/code&gt; (for FreeBSD: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;freebsd.submit.mc&lt;/code&gt;); that is,
without defining custom mailers (delivery agents):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sendmail -Ac -bt 
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;

&amp;gt; ?
Help for test mode:
?                :this help message.
[ . . . ]
=M               :display the known mailers.
[ . . . ]

&amp;gt; =M 
[ . . .] 
mailer 8 (relay): P=[IPC] S=EnvFromSMTP/HdrFromSMTP R=MasqSMTP/MasqSMTP M=0 U=-1:-1 F=8DFMXakmu
  L=2040 E=\r\n T=DNS/RFC822/SMTP r=100 A=TCP $h
[ . . .] 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sendmail -Ac -bv dusko
dusko... deliverable: mailer relay, host [127.0.0.1], user dusko@fbsd1.home.arpa

$ sudo sendmail -Ac -bv dusko@localhost
dusko@localhost... deliverable: mailer relay, host [127.0.0.1], user dusko@fbsd1.home.arpa

$ sudo sendmail -Ac -bv dusko@fbsd1.chem.ubc.ca
dusko@fbsd1.home.arpa... deliverable: mailer relay, host [127.0.0.1], user dusko@fbsd1.home.arpa

$ sudo sendmail -Ac -bv dusko@some.external.domain
dusko@some.external.domain... deliverable: mailer smartrelay, host [127.0.0.1],
  user dusko@some.external.domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continuing with the dissection of Ruleset 0 (a.k.a. &lt;em&gt;parse&lt;/em&gt; ruleset):&lt;/p&gt;

&lt;p&gt;Run &lt;em&gt;sendmail&lt;/em&gt; in address test mode by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bt&lt;/code&gt; parameters (and also
with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Ac&lt;/code&gt; parameters so that the &lt;em&gt;submit.cf&lt;/em&gt; is used instead of &lt;em&gt;sendmail.cf&lt;/em&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -bt -v -Ac
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;parse-an-address-with-parse&quot;&gt;Parse an Address with /parse&lt;/h3&gt;

&lt;p&gt;(Adapted and modified based on 
“The Bat Book” - sendmail, 4th Edition by Bryan Costales, Claus Assmann,
George Jansen, Gregory Neil Shapiro - Published by O’Reilly Media, Inc.,
October 2007 - Chapter 8. Test Rule Sets with -bt;
Section &lt;em&gt;Parse an Address with /parse&lt;/em&gt;.)&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/parse&lt;/code&gt; rule-testing command instructs &lt;em&gt;sendmail&lt;/em&gt; to pass an address
through a predetermined sequence of rules to select a delivery agent and
to put the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$u&lt;/code&gt; macro into its final form.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/parse&lt;/code&gt; command is used
like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/parse address
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Parse the indicated addresses (dusko, dusko@localhost, dusko@fbsd1.home.arpa,
dusko@some.external.domain) returning the parsed address and mailer
(a.k.a. delivery agent) that &lt;em&gt;sendmail&lt;/em&gt; will use.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; /parse dusko
Cracked address = $g
Parsing envelope recipient address
canonify          input: dusko
Canonify2         input: dusko
Canonify2       returns: dusko
canonify        returns: dusko
parse             input: dusko
Parse0            input: dusko
Parse0          returns: dusko
ParseLocal        input: dusko
ParseLocal      returns: $# LR0relayST $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse           returns: $# LR0relayST $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
2                 input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
2               returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
MasqSMTP          input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
MasqSMTP        returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
final             input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
final           returns: dusko @ fbsd1 . home . arpa
mailer LR0relayST, host fbsd1.home.arpa, user dusko@fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; /parse dusko@localhost (FirstN LastN)
Cracked address = $g (FirstN LastN)
Parsing envelope recipient address
canonify          input: dusko @ localhost
Canonify2         input: dusko &amp;lt; @ localhost &amp;gt;
Canonify2       returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
canonify        returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse             input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
Parse0            input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
Parse0          returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
ParseLocal        input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
ParseLocal      returns: $# LR0relayLH $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse           returns: $# LR0relayLH $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
2                 input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
2               returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
MasqSMTP          input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
MasqSMTP        returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
final             input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
final           returns: dusko @ fbsd1 . home . arpa 
mailer LR0relayLH, host fbsd1.home.arpa, user dusko@fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The address &lt;em&gt;you@localhost&lt;/em&gt; is first fed into &lt;em&gt;crackaddr&lt;/em&gt;
[line &lt;em&gt;Cracked address = $g (FirstN LastN)&lt;/em&gt;] to separate it from any
surrounding RFC822 comments such as “(FirstN LastN)”.  If mail were
actually to be sent, the address would be stored in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$g&lt;/code&gt; macro before
being passed to rules.  That line uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$g&lt;/code&gt; as a placeholder to show where
the address was found.&lt;/p&gt;

&lt;p&gt;The next line (&lt;em&gt;Parsing envelope recipient address&lt;/em&gt;) shows that the address
will be treated as that of an &lt;em&gt;envelope recipient&lt;/em&gt;.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/tryflags&lt;/code&gt; command
sets whether it is treated as a &lt;em&gt;header&lt;/em&gt; or &lt;em&gt;envelope&lt;/em&gt; or as a &lt;em&gt;sender&lt;/em&gt; or
&lt;em&gt;recipient&lt;/em&gt; address.&lt;/p&gt;

&lt;p&gt;The address is passed to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;canonify&lt;/code&gt; rule set 3 because all addresses
are rewritten by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;canonify&lt;/code&gt; rule set 3 first.  The job of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;canonify&lt;/code&gt;
rule set 3 is to focus on (surround in angle brackets) the host part of the
address, which it does (line &lt;em&gt;Canonify2          input: dusko &amp;lt; @ localhost &amp;gt;&lt;/em&gt;).
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;canonify&lt;/code&gt; rule set 3, in this example, then passes the address to the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Canonify2&lt;/code&gt; rule set to see whether &lt;em&gt;localhost&lt;/em&gt; is a synonym for the
local machine’s name.  Since it is, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Canonify2&lt;/code&gt; rule set makes that
translation (&lt;em&gt;Canonify2        returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;The output of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;canonify&lt;/code&gt; rule set 3 is passed to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; rule set 0,
whose job is to select a &lt;strong&gt;delivery agent&lt;/strong&gt;
(line &lt;em&gt;parse             input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;&lt;/em&gt;).
Since &lt;em&gt;fbsd1.home.arpa&lt;/em&gt; is the local machine, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; rule set 0
(by way of other rule sets) selects the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LR0relayLH&lt;/code&gt; customized (local)
delivery agent &lt;br /&gt;
(line
&lt;em&gt;parse    returns: $# LR0relayLH $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;That line shows that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$:&lt;/code&gt; part of the delivery agent &lt;strong&gt;triple&lt;/strong&gt; will
eventually be tucked into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$u&lt;/code&gt; for use by the delivery agent’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A=&lt;/code&gt;
delivery agent equate.  Before that happens, that address needs to be
passed through its own set of specific rules.   It is given to rule set 2
because all recipient addresses are given to rule set 2 &lt;br /&gt;
(line  &lt;em&gt;2            input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;&lt;/em&gt;). 
It is then given to rule set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MasqSMTP&lt;/code&gt; because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R=&lt;/code&gt; delivery agent
equate for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LR0relayLH&lt;/code&gt; customized local delivery agent specifies rule
set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MasqSMTP&lt;/code&gt; for the envelope recipient
(line &lt;em&gt;MasqSMTP          input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;&lt;/em&gt;).
Finally, it is given to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;final&lt;/code&gt; rule set 4 because all addresses are
lastly rewritten by the final rule set 4 (line 
&lt;em&gt;final           returns: dusko @ fbsd1 . home . arpa&lt;/em&gt;). 
The last line of output shows that the customized local delivery agent
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LR0relayLH&lt;/code&gt; was selected and that the value that would be put into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$u&lt;/code&gt;
(were mail really being sent) would be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dusko@fbsd1.home.arpa&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Similarly, with the actual local host’s hostname (&lt;em&gt;fbsd1.home.arpa&lt;/em&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; /parse dusko@fbsd1.home.arpa
Cracked address = $g
Parsing envelope recipient address
canonify          input: dusko @ fbsd1 . home . arpa
Canonify2         input: dusko &amp;lt; @ fbsd1 . home . arpa &amp;gt;
Canonify2       returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
canonify        returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse             input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
Parse0            input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
Parse0          returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
ParseLocal        input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
ParseLocal      returns: $# LR0relayLH $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse           returns: $# LR0relayLH $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
2                 input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
2               returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
MasqSMTP          input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
MasqSMTP        returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
final             input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
final           returns: dusko @ fbsd1 . home . arpa
mailer LR0relayLH, host fbsd1.home.arpa, user dusko@fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this configuration (with three customized delivery agents &lt;em&gt;LR0relayLH&lt;/em&gt;,
&lt;em&gt;LR0relayST&lt;/em&gt; and &lt;em&gt;smartrelay&lt;/em&gt;), when you &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/parse&lt;/code&gt; an address that is not local:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; /parse dusko@some.external.domain
Cracked address = $g
Parsing envelope recipient address
canonify           input: dusko @ some . external . domain
Canonify2          input: dusko &amp;lt; @ some . external . domain &amp;gt;
Canonify2        returns: dusko &amp;lt; @ some . external . domain . &amp;gt;
canonify         returns: dusko &amp;lt; @ some . external . domain . &amp;gt;
parse              input: dusko &amp;lt; @ some . external . domain . &amp;gt;
Parse0             input: dusko &amp;lt; @ some . external . domain . &amp;gt;
Parse0           returns: dusko &amp;lt; @ some . external . domain . &amp;gt;
ParseLocal         input: dusko &amp;lt; @ some . external . domain . &amp;gt;
ParseLocal       returns: dusko &amp;lt; @ some . external . domain . &amp;gt;
Parse1             input: dusko &amp;lt; @ some . external . domain . &amp;gt;
MailerToTriple     input: &amp;lt; smartrelay : [ 127 . 0 . 0 . 1 ] &amp;gt; dusko &amp;lt; @ some . external . domain . &amp;gt;
MailerToTriple   returns: $# smartrelay $@ [ 127 . 0 . 0 . 1 ] $: dusko &amp;lt; @ some . external . domain . &amp;gt;
Parse1           returns: $# smartrelay $@ [ 127 . 0 . 0 . 1 ] $: dusko &amp;lt; @ some . external . domain . &amp;gt;
parse            returns: $# smartrelay $@ [ 127 . 0 . 0 . 1 ] $: dusko &amp;lt; @ some . external . domain . &amp;gt;
2                  input: dusko &amp;lt; @ some . external . domain . &amp;gt;
2                returns: dusko &amp;lt; @ some . external . domain . &amp;gt;
MasqSMTP           input: dusko &amp;lt; @ some . external . domain . &amp;gt;
MasqSMTP         returns: dusko &amp;lt; @ some . external . domain . &amp;gt;
final              input: dusko &amp;lt; @ some . external . domain . &amp;gt;
final            returns: dusko @ some . external . domain 
mailer smartrelay, host [127.0.0.1], user dusko@some.external.domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this configuration (with three customized delivery agents &lt;em&gt;LR0relayLH&lt;/em&gt;,
&lt;em&gt;LR0relayST&lt;/em&gt; and &lt;em&gt;smartrelay&lt;/em&gt;), when you run the indicated addresses
(dusko, dusko@localhost, dusko@fbsd1.home.arpa, dusko@some.external.address)
through the rule 0:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; 0 dusko
parse             input: dusko
Parse0            input: dusko
Parse0          returns: dusko
ParseLocal        input: dusko
ParseLocal      returns: $# LR0relayST $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse           returns: $# LR0relayST $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; 0 dusko@localhost
parse              input: dusko @ localhost
Parse0             input: dusko @ localhost
Parse0           returns: dusko @ localhost
ParseLocal         input: dusko @ localhost
ParseLocal       returns: dusko @ localhost
Parse1             input: dusko @ localhost
Parse1           returns: $# local $: dusko @ localhost
parse            returns: $# local $: dusko @ localhost
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; 0 dusko@fbsd1.home.arpa
parse              input: dusko @ fbsd1 . home . arpa
Parse0             input: dusko @ fbsd1 . home . arpa
Parse0           returns: dusko @ fbsd1 . home . arpa
ParseLocal         input: dusko @ fbsd1 . home . arpa
ParseLocal       returns: dusko @ fbsd1 . home . arpa
Parse1             input: dusko @ fbsd1 . home . arpa
Parse1           returns: $# local $: dusko @ fbsd1 . home . arpa
parse            returns: $# local $: dusko @ fbsd1 . home . arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; 0 dusko@some.external.address
parse              input: dusko @ some . external . domain
Parse0             input: dusko @ some . external . domain
Parse0           returns: dusko @ some . external . domain
ParseLocal         input: dusko @ some . external . domain
ParseLocal       returns: dusko @ some . external . domain
Parse1             input: dusko @ some . external . domain
Parse1           returns: $# local $: dusko @ some . external . domain
parse            returns: $# local $: dusko @ some . external . domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Display the known mailers (by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;=M&lt;/code&gt; rule-testing command):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; =M
[ . . . ]
mailer 8 (relay): P=[IPC] S=EnvFromSMTP/HdrFromSMTP R=MasqSMTP/MasqSMTP M=0 U=-1:-1 F=8DFMXakmu L=2040 E=\r\n T=DNS/RFC822/SMTP r=100 A=TCP $h
mailer 9 (LR0relay): P=[IPC] S=EnvFromSMTP/HdrFromSMTP R=MasqSMTP/MasqSMTP M=0 U=-1:-1 F=8DFMXakmu L=2040 E=\r\n T=DNS/RFC822/SMTP r=100 A=TCP $h
mailer 10 (smartrelay): P=[IPC] S=EnvFromSMTP/HdrFromSMTP R=MasqSMTP/MasqSMTP M=0 U=-1:-1 F=8DFMXakmu L=2040 E=\r\n T=DNS/RFC822/SMTP r=100 A=TCP $h 1465
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dump the contents of the Ruleset 0.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; =S0
R$*             $: $&amp;gt; Parse0 $1 
R&amp;lt; @ &amp;gt;          $# local $: &amp;lt; @ &amp;gt; 
R$*             $: $&amp;gt; ParseLocal $1 
R$*             $: $&amp;gt; Parse1 $1 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dump the contents of the rule Parse0.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; =SParse0
R&amp;lt; @ &amp;gt;          $@ &amp;lt; @ &amp;gt;
[ . . . ]
R$* $=O $* &amp;lt; @ *LOCAL* &amp;gt;                $@ $&amp;gt; Parse0 $&amp;gt; canonify $1 $2 $3 
R$* &amp;lt; @ *LOCAL* &amp;gt;               $: $1 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dump the contents of the rule ParseLocal.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; =SParseLocal
R$-       $# LR0relayST $@ fbsd1 . home . arpa $: $1 &amp;lt; @ fbsd1 . home . arpa . &amp;gt; 
R$+ &amp;lt; @ fbsd1 . home . arpa . &amp;gt;       $# LR0relayLH $@ fbsd1 . home . arpa $: $1 &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dump the contents of the rule Parse1.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; =SParse1
R$* &amp;lt; @ [ $+ ] &amp;gt; $*             $: $&amp;gt; ParseLocal $1 &amp;lt; @ [ $2 ] &amp;gt; $3 
R$* &amp;lt; @ [ $+ ] &amp;gt; $*             $: $1 &amp;lt; @ [ $2 ] : smartrelay : [ 127 . 0 . 0 . 1 ] &amp;gt; $3 
R$* &amp;lt; @ [ $+ ] : &amp;gt; $*           $# esmtp $@ [ $2 ] $: $1 &amp;lt; @ [ $2 ] &amp;gt; $3 
R$* &amp;lt; @ [ $+ ] : $- : $* &amp;gt; $*           $# $3 $@ $4 $: $1 &amp;lt; @ [ $2 ] &amp;gt; $5 
R$* &amp;lt; @ [ $+ ] : $+ &amp;gt; $*                $# esmtp $@ $3 $: $1 &amp;lt; @ [ $2 ] &amp;gt; $4 
R$=L &amp;lt; @ $=w . &amp;gt;                $# local $: @ $1 
R$+ &amp;lt; @ $=w . &amp;gt;                 $# local $: $1 
R$* &amp;lt; @ $* &amp;gt; $*                 $: $&amp;gt; MailerToTriple &amp;lt; smartrelay : [ 127 . 0 . 0 . 1 ] &amp;gt; $1 &amp;lt; @ $2 &amp;gt; $3 
R$* &amp;lt; @ $* &amp;gt; $*                 $# esmtp $@ $2 $: $1 &amp;lt; @ $2 &amp;gt; $3 
R$=L            $# local $: @ $1 
R$+             $# local $: $1 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tests:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Testing.&quot; | mail -v -s &quot;Test 1&quot; dusko
dusko... Connecting to fbsd1.chem.ubc.ca. via LR0relayST...
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Testing.&quot; | mail -v -s &quot;Test 2&quot; dusko@localhost
dusko@localhost... Connecting to fbsd1.chem.ubc.ca. via LR0relayLH...
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Testing.&quot; | mail -v -s &quot;Test 3&quot; dusko@fbsd1.home.arpa
dusko@fbsd1.home.arpa... Connecting to fbsd1.home.arpa. via LR0relayLH...
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Testing.&quot; | mail -v -s &quot;Test 4&quot; dusko@some.external.domain
dusko@some.external.domain... Connecting to [127.0.0.1] port 1465 via smartrelay...
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Quit address test mode with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/quit&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;When you run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make&lt;/code&gt;, if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.mc&lt;/code&gt; file does not exist, 
it is created (using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;freebsd.mc&lt;/code&gt; file as a template).  Similarly, if 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.submit.mc&lt;/code&gt; file does not exist, it is created
using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;freebsd.submit.mc&lt;/code&gt; file as a template.&lt;/p&gt;

&lt;p&gt;More specifically, when you run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;freebsd.mc&lt;/code&gt; file gets copied to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.mc&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;m4&lt;/code&gt; macro processor utility processes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.mc&lt;/code&gt; 
into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.cf&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;freebsd.submit.mc&lt;/code&gt; file gets copied to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.submit.mc&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;m4&lt;/code&gt; macro processor utility processes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.submit.mc&lt;/code&gt;
into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.submit.cf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make install&lt;/code&gt; will also install the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*.mc&lt;/code&gt; files as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*.cf&lt;/code&gt; files;
that is, it will install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.mc&lt;/code&gt; as&lt;br /&gt;
  &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt;&lt;/strong&gt;&lt;br /&gt;
and &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your_machine_hostname.submit.mc&lt;/code&gt; as&lt;br /&gt;
  &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt;&lt;/strong&gt;. &lt;br /&gt;
[A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make install&lt;/code&gt; is only necessary after modifying the &lt;em&gt;.mc&lt;/em&gt; file(s).]&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cp -f freebsd.mc fbsd1.home.arpa.mc
/usr/bin/m4 -D_CF_DIR_=/usr/local/share/sendmail/cf/   /usr/local/share/sendmail/cf/m4/cf.m4 fbsd1.home.arpa.mc &amp;gt; fbsd1.home.arpa.cf 

cp -f freebsd.submit.mc fbsd1.home.arpa.submit.mc
/usr/bin/m4 -D_CF_DIR_=/usr/local/share/sendmail/cf/   /usr/local/share/sendmail/cf/m4/cf.m4 fbsd1.home.arpa.submit.mc &amp;gt; fbsd1.home.arpa.submit.cf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Modify the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mailer.conf&lt;/code&gt; file.  (Note that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mailer.conf&lt;/code&gt;
is in two locations.  The mailwrapper(8) program first looks in
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/mail/mailer.conf&lt;/code&gt; falling back on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/mailer.conf&lt;/code&gt;.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cp -i /usr/local/etc/mail/mailer.conf /usr/local/etc/mail/mailer.conf.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/mail/mailer.conf.ORIG 
# $FreeBSD$
#
# Execute the &quot;real&quot; sendmail program, named /usr/libexec/sendmail/sendmail
#
# If dma(8) is installed, an example mailer.conf that uses dma(8) instead can
# can be found in /usr/share/examples/dma.
#
sendmail        /usr/libexec/sendmail/sendmail
mailq           /usr/libexec/sendmail/sendmail
newaliases      /usr/libexec/sendmail/sendmail
hoststat        /usr/libexec/sendmail/sendmail
purgestat       /usr/libexec/sendmail/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /usr/local/etc/mail/mailer.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/etc/mail/mailer.conf
#
# Execute the &quot;real&quot; sendmail program, named /usr/local/sbin/sendmail
#
sendmail        /usr/local/sbin/sendmail
send-mail       /usr/local/sbin/sendmail
mailq           /usr/local/sbin/sendmail
newaliases      /usr/local/sbin/sendmail
hoststat        /usr/local/sbin/sendmail
purgestat       /usr/local/sbin/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cp -i /etc/mail/mailer.conf /etc/mail/mailer.conf.ORIG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cp -i /usr/local/etc/mail/mailer.conf /etc/mail/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/mail/mailer.conf
#
# Execute the &quot;real&quot; sendmail program, named /usr/local/sbin/sendmail
#
sendmail        /usr/local/sbin/sendmail
send-mail       /usr/local/sbin/sendmail
mailq           /usr/local/sbin/sendmail
newaliases      /usr/local/sbin/sendmail
hoststat        /usr/local/sbin/sendmail
purgestat       /usr/local/sbin/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;authenticating-with-auth&quot;&gt;Authenticating with AUTH&lt;/h2&gt;

&lt;p&gt;From &lt;strong&gt;sendmail Cookbook&lt;/strong&gt; by Craig Hunt (Published by O’Reilly
Media, Inc., Publication Date: December 2003):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Strong authentication uses cryptographic techniques to verify the
identity of the &lt;strong&gt;end points&lt;/strong&gt; in a network exchange.  For &lt;em&gt;sendmail&lt;/em&gt;,
strong authentication ensures that the connecting host and the receiving
host are &lt;strong&gt;who they claim to be&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;Authentication is not the same as encryption.  Encryption can be used to
hide the content of a piece of mail or to hide the entire SMTP protocol
exchange, including the mail.  (One technique for encrypting the SMTP
exchange, and the mail it carries, is covered in Chapter 8. Securing the
Mail Transport. &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 11 &lt;/a&gt;&lt;/sup&gt;])&lt;/strong&gt;  Authentication does not
hide the contents of mail; rather, it ensures that the mail comes from
the correct source. &lt;br /&gt;
[ . . . ]  &lt;br /&gt;
&lt;strong&gt;The AUTH Protocol&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt;AUTH&lt;/strong&gt; is an SMTP protocol extension. It is defined in RFC 2554,
&lt;em&gt;SMTP Service Extension for Authentication&lt;/em&gt;.  RFC 2554 outlines the
negotiations that are used to select an authentication mechanism.
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 12 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;  &lt;br /&gt;
[ . . . ] &lt;br /&gt;
The AUTH protocol relies on the &lt;strong&gt;Simple Authentication and Security
Layer (SASL)&lt;/strong&gt; for the actual authentication.  RFC 2222,
&lt;em&gt;Simple Authentication and Security Layer (SASL)&lt;/em&gt;, describes the SASL
framework and defines how protocols negotiate an authentication method. &lt;br /&gt;
[ . . . ] &lt;br /&gt;
&lt;em&gt;sendmail&lt;/em&gt; does not contain implementations of the various authentication
techniques.  Instead, &lt;em&gt;sendmail&lt;/em&gt; uses the techniques that are implemented
and configured in SASL.  For this to work, Cyrus SASL must be installed
and properly configured on the &lt;em&gt;sendmail&lt;/em&gt; system.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Refer to
&lt;strong&gt;&lt;a href=&quot;#authmechanisms-option&quot;&gt;AuthMechanisms Option&lt;/a&gt;&lt;/strong&gt; section below for
more information about SASL (including a reference to an additional RFC:
RFC2554).&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Cyrus SASL&lt;/strong&gt;&lt;br /&gt;
Cyrus SASL is implemented as a library.  The SASL library standardizes
the way in which applications interface with the authentication methods.
Many Unix systems come with the SASL libraries preinstalled.&lt;/p&gt;

  &lt;p&gt;If SASL is not installed on your system, check to see if it was delivered
as part of your Unix software.  If it was, install the copy of SASL
provided by your Unix vendor.  If it is not available from your vendor,
go to &lt;a href=&quot;http://www.cyrusimap.org/sasl/&quot;&gt;http://www.cyrusimap.org/sasl/&lt;/a&gt;
to download the latest version of SASL.&lt;/p&gt;

  &lt;p&gt;After Cyrus SASL is installed, the specific authentication techniques
must be configured before they can be used.  To understand SASL
configuration, you must understand SASL terminology.
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 13 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;The SASL Sendmail.conf file&lt;/strong&gt; &lt;br /&gt;
. . . Some authentication techniques (authentication mechanisms)
available through SASL that can be used with &lt;em&gt;sendmail&lt;/em&gt; require
configuration through the &lt;em&gt;Sendmail.conf&lt;/em&gt; SASL application file.
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 14 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Passing Flags to SASL&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;sendmail&lt;/em&gt; can be configured to request optional processing from SASL
for the AUTH protocol.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;confAUTH_OPTIONS&lt;/code&gt; define can set several
flags that affect the way that &lt;em&gt;sendmail&lt;/em&gt; and SASL interact.
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 15 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Authentication Macros and Rulesets&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;sendmail&lt;/em&gt; uses the information provided by authentication and stores
authentication data in several macros.  The authentication macros are:&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;${auth_author}&lt;/em&gt;&lt;br /&gt;
This macro holds the &lt;em&gt;sendmail&lt;/em&gt; &lt;strong&gt;authorization id&lt;/strong&gt;, which is the address
assigned to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter on the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; line.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;${auth_authen}&lt;/em&gt;&lt;br /&gt;
This macro holds the &lt;em&gt;sendmail&lt;/em&gt; &lt;strong&gt;authentication id&lt;/strong&gt;, which is either the
userid or the userid and the realm, written as &lt;em&gt;userid&lt;/em&gt; @ &lt;em&gt;realm&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;${auth_type}&lt;/em&gt;&lt;br /&gt;
This macro holds the name of the authentication method used to
authenticate the client.  For example, LOGIN would be a possible
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_type}&lt;/code&gt; value.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;${auth_ssf}&lt;/em&gt; &lt;br /&gt;
This macro holds the number of bits used for optional SASL encryption.
If no SASL link encryption is used, this macro is unassigned.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;In addition to the authentication macros, the &lt;strong&gt;hostname&lt;/strong&gt; &lt;em&gt;and&lt;/em&gt;
the &lt;strong&gt;IP address&lt;/strong&gt; of the system at the other end of the mail transport
connection are stored in macros, which can be useful information for
authentication checks.  The following values are stored in the macros:&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;${server_addr}&lt;/em&gt;&lt;br /&gt;
The &lt;em&gt;IP address&lt;/em&gt; of the &lt;strong&gt;remote server&lt;/strong&gt;, as determined from the
TCP connection.  This macro is used on the &lt;strong&gt;client&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;${server_name}&lt;/em&gt; &lt;br /&gt;
The &lt;em&gt;hostname&lt;/em&gt; of the &lt;strong&gt;remote server&lt;/strong&gt;, as determined from a hostname
lookup of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${server_addr}&lt;/code&gt; value.  This macro is used on the
&lt;strong&gt;client&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;${client_addr}&lt;/em&gt;&lt;br /&gt;
The &lt;em&gt;IP address&lt;/em&gt; of the &lt;strong&gt;client&lt;/strong&gt;, as determined from the TCP connection.
This macro is used on the &lt;strong&gt;server&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;${client_name}&lt;/em&gt;&lt;br /&gt;
The &lt;em&gt;hostname&lt;/em&gt; of the &lt;strong&gt;client&lt;/strong&gt;, as determined from a hostname lookup of
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${client_addr}&lt;/code&gt; value.  This macro is used on the &lt;strong&gt;server&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;sendmail&lt;/em&gt; also provides &lt;em&gt;ruleset&lt;/em&gt; &lt;strong&gt;hooks&lt;/strong&gt; that simplify the process of
adding authentication checks.  The primary hooks used with AUTH are:&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Local_check_mail&lt;/em&gt;&lt;br /&gt;
This ruleset adds checks to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt; ruleset, which is used to
process the &lt;strong&gt;envelope sender address&lt;/strong&gt; from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; line.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt; ruleset is &lt;strong&gt;not&lt;/strong&gt; specific to AUTH, but the overlap
between the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_author}&lt;/code&gt; value and the envelope sender address means
that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_mail&lt;/code&gt; is occasionally used for custom AUTH processing.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Local_check_rcpt&lt;/em&gt;&lt;br /&gt;
This ruleset adds checks to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_rcpt&lt;/code&gt; ruleset, which processes
the &lt;strong&gt;envelope recipient address&lt;/strong&gt; from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT To:&lt;/code&gt; line.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_rcpt&lt;/code&gt; ruleset is &lt;strong&gt;not&lt;/strong&gt; specific to AUTH, but because it is
used to authorize delivery to a recipient, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_rcpt&lt;/code&gt; is
occasionally used to modify it for AUTH processing.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Local_trust_auth&lt;/em&gt;&lt;br /&gt;
This ruleset adds checks to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trust_auth&lt;/code&gt; ruleset, which is used by
the server to determine whether the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter on the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt;
line should be trusted.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trust_auth&lt;/code&gt; ruleset is specific to the AUTH
protocol because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter is only used when AUTH is running
on the client.  Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt; to customize the processing of
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Local_Relay_Auth&lt;/em&gt;&lt;br /&gt;
This ruleset is called by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rcpt_ok&lt;/code&gt; ruleset.  By default, &lt;em&gt;sendmail&lt;/em&gt;
grants relaying privileges to an authenticated client only if the client
authenticated is using a mechanism listed in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$={TrustAuthMech}&lt;/code&gt; class.
Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_Relay_Auth&lt;/code&gt; to modify the process of granting relaying
privileges to &lt;strong&gt;authenticated clients&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;storing-auth-credentials-in-the-authinfo-file&quot;&gt;Storing AUTH Credentials in the authinfo File&lt;/h2&gt;

&lt;p&gt;From the &lt;em&gt;sendmail&lt;/em&gt; &lt;strong&gt;cf/README&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/sendmail/cf/README&lt;/code&gt;),
under the section for &lt;strong&gt;MSP&lt;/strong&gt; (Message Submission Program), which is a
command-line &lt;em&gt;sendmail&lt;/em&gt; that functions as a mail submission agent (&lt;strong&gt;MSA&lt;/strong&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[ . . . ]
+----------------------------+
| MESSAGE SUBMISSION PROGRAM |
+----------------------------+
[ . . . ]
If the MSP should actually use AUTH then the necessary data
should be placed in a map as explained in SMTP AUTHENTICATION:

FEATURE(`authinfo&apos;, `DATABASE_MAP_TYPE /etc/mail/msp-authinfo&apos;)

/etc/mail/msp-authinfo should contain an entry like:

        AuthInfo:127.0.0.1      &quot;U:smmsp&quot; &quot;P:secret&quot; &quot;M:DIGEST-MD5&quot;

The file and the map created by makemap should be owned by smmsp,
its group should be smmsp, and it should have mode 640.  

The database used by the MTA for AUTH must have a corresponding entry.

Additionally the MTA must trust this authentication data so the AUTH=
part will be relayed on to the next hop.  This can be achieved by
adding the following to your sendmail.mc file:

        LOCAL_RULESETS
        SLocal_trust_auth
        R$*     $: $&amp;amp;{auth_authen}
        Rsmmsp  $# OK
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the &lt;em&gt;/etc/mail/authinfo&lt;/em&gt; file (for storing AUTH authentication
credentials in a file separate from the &lt;em&gt;access&lt;/em&gt; database).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  In the two lines below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SLocal_trust_auth&lt;/code&gt;
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 16 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;, there is a &lt;strong&gt;tab&lt;/strong&gt; character
before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$:&lt;/code&gt; and before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You need to store the client’s authentication credentials in that file
using the same &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthInfo:&lt;/code&gt; tag used in the &lt;em&gt;access&lt;/em&gt; database, and you need
to make sure that the &lt;em&gt;authinfo&lt;/em&gt; text file and database are not readable
by anyone except the &lt;em&gt;smmsp&lt;/em&gt; user.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /etc/mail/authinfo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo chown smmsp:smmsp /etc/mail/authinfo
$ sudo chmod 0640 /etc/mail/authinfo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /etc/mail/authinfo
-rw-r-----  1 smmsp  smmsp   142B Nov 12 19:57 /etc/mail/authinfo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep &apos;127.0.0.1&apos; /etc/hosts
127.0.0.1               localhost localhost.my.domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /etc/mail/authinfo
AuthInfo:[127.0.0.1] &quot;U:smmsp&quot; &quot;I:dusko&quot; &quot;P:YourISPPassword&quot; &quot;M:LOGIN&quot;
AuthInfo:127.0.0.1 &quot;U:smmsp&quot; &quot;I:dusko&quot; &quot;P:YourISPPassword&quot; &quot;M:LOGIN&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In my tests, when the letter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M&lt;/code&gt; (the list of mechanisms, separated by
spaces) had both PLAIN and LOGIN mechanisms; that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;M:PLAIN LOGIN&quot;&lt;/code&gt;
(or: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;M:LOGIN PLAIN&quot;&lt;/code&gt;), &lt;em&gt;sendmail&lt;/em&gt; used only the PLAIN mechanism.
&lt;em&gt;Sendmail&lt;/em&gt; used the LOGIN mechanism when the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M&lt;/code&gt; letter had only &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOGIN&lt;/code&gt;
(that is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;M:LOGIN&quot;&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; This requires the use of the &lt;em&gt;authinfo&lt;/em&gt; FEATURE to the
&lt;em&gt;sendmail&lt;/em&gt; configuration, which you did above, when you modified
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;freebsd.submit.mc&lt;/code&gt; file.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; If the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make all&lt;/code&gt; command generates an error &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;No such file or
directory&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd /etc/mail

$ sudo su
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make all
[ . . . ]
/usr/sbin/makemap hash authinfo.db &amp;lt; authinfo
makemap: /etc/mail/sendmail.cf: No such file or directory
*** Error code 66

Stop.
make: stopped in /etc/mail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;fix it by creating an empty &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# touch /etc/mail/sendmail.cf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make all&lt;/code&gt; again:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make all
[ . . . ]
/usr/sbin/makemap hash authinfo.db &amp;lt; authinfo
chmod 0640 authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /etc/mail/authinfo*
-rw-r-----  1 smmsp  smmsp   142B Nov 12 19:57 /etc/mail/authinfo
-rw-r-----  1 root   wheel   128K Nov 12 17:57 /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chown smmsp:smmsp /etc/mail/authinfo.db 
# sudo chmod 0640 /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /etc/mail/authinfo*
-rw-r-----  1 smmsp  smmsp   142B Nov 12 19:57 /etc/mail/authinfo
-rw-r-----  1 smmsp  smmsp   128K Nov 12 19:57 /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  When you need to re-create &lt;em&gt;sendmail&lt;/em&gt; configuration files with 
these permissions for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authinfo.db&lt;/code&gt;, you might encounter a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Permission
denied&lt;/code&gt; error:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make all   (# or &apos;make install&apos;)
[ . . . ]
/usr/sbin/makemap hash authinfo.db &amp;lt; authinfo
makemap: error opening type hash map authinfo.db: Permission denied
*** Error code 73

Stop.
make: stopped in /etc/mail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To fix it, temporary change permissions for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authinfo.db&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chgrp wheel /etc/mail/authinfo.db
# chmod 0660 /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /etc/mail/authinfo.db
-rw-rw----  1 smmsp  wheel   128K Nov 12 19:14 /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make all
/usr/sbin/makemap hash authinfo.db &amp;lt; authinfo
chmod 0640 authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /etc/mail/authinfo.db
-rw-r-----  1 smmsp  wheel   128K Nov 12 19:14 /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After successfull &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make run&lt;/code&gt;, change the permissions back:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chgrp smmsp /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /etc/mail/authinfo.db
-rw-r-----  1 smmsp  smmsp   128K Nov 12 19:14 /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and continue:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make install
# make start
Starting: sendmail sendmail-clientmqueue.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
exit
% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d0 &amp;lt; /dev/null
Version 8.17.1
 Compiled with: DANE DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PICKY_HELO_CHECK PIPELINING SASLv2 SCANF STARTTLS TCPWRAPPERS
                TLS_EC TLS_VRFY_PER_CTX USERDB XDEBUG

============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = fbsd1
  (canonical domain name) $j = fbsd1.home.arpa
         (subdomain name) $m = home.arpa
              (node name) $k = fbsd1.home.arpa
========================================================
 
Recipient names must be specified
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d0.1 -bv root 
Version 8.17.1
 Compiled with: DANE DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PICKY_HELO_CHECK PIPELINING SASLv2 SCANF STARTTLS TCPWRAPPERS
                TLS_EC TLS_VRFY_PER_CTX USERDB XDEBUG

============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = fbsd1
  (canonical domain name) $j = fbsd1.home.arpa
         (subdomain name) $m = home.arpa
              (node name) $k = fbsd1.home.arpa
========================================================

Notice: -bv may give misleading output for non-privileged user
root... deliverable: mailer local, user root
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo /usr/libexec/sendmail/sendmail -d0.1 -bv root
Version 8.16.1
 Compiled with: DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PIPELINING SCANF STARTTLS TCPWRAPPERS TLS_EC TLS_VRFY_PER_CTX
                USERDB XDEBUG

============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = fbsd1
  (canonical domain name) $j = fbsd1.home.arpa
         (subdomain name) $m = home.arpa
              (node name) $k = fbsd1.home.arpa
========================================================

root... deliverable: mailer local, user root
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo /usr/sbin/sendmail -d0.1 -bv root
Version 8.17.1
 Compiled with: DANE DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PICKY_HELO_CHECK PIPELINING SASLv2 SCANF STARTTLS TCPWRAPPERS
                TLS_EC TLS_VRFY_PER_CTX USERDB XDEBUG

============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = fbsd1
  (canonical domain name) $j = fbsd1.home.arpa
         (subdomain name) $m = home.arpa
              (node name) $k = fbsd1.home.arpa
========================================================

root... deliverable: mailer local, user root
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;install-and-configure-stunnel-1&quot;&gt;Install and Configure stunnel&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install stunnel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cp -i /usr/local/etc/stunnel/stunnel.conf-sample /usr/local/etc/stunnel/stunnel.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /usr/local/etc/stunnel/stunnel.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/etc/stunnel/stunnel.conf
include = /usr/local/etc/stunnel/conf.d

[smarthost]
client = yes
accept = 127.0.0.1:1465 
connect = your.isp.net:465
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your.isp.net&lt;/code&gt; is the FQDN of the SMTP server (your ISP).&lt;/p&gt;

&lt;p&gt;Set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stunnel_enable&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YES&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &apos;stunnel_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start &lt;em&gt;stunnel&lt;/em&gt; service.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service stunnel start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service stunnel status
stunnel is running as pid 51293.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd /etc/mail

$ sudo su
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rm -i /etc/mail/fbsd1.home.arpa.*
remove /etc/mail/fbsd1.home.arpa.cf? y
remove /etc/mail/fbsd1.home.arpa.mc? y
remove /etc/mail/fbsd1.home.arpa.submit.cf? y
remove /etc/mail/fbsd1.home.arpa.submit.mc? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rm -i /etc/mail/*.cf
remove /etc/mail/sendmail.cf? y
remove /etc/mail/submit.cf? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make all&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make install&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make restart&lt;/code&gt; (or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make stop&lt;/code&gt; and 
then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make restart&lt;/code&gt;, depending on whether &lt;em&gt;sendmail&lt;/em&gt; is currently running 
or not).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make all
# make install
# make restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# service sendmail status
sendmail is running as pid 69385.
sendmail_msp_queue is running as pid 69388.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ps aux | grep -v grep | grep sendmail
root    6938   0.0  0.0    18972    7228  -  Ss   19:14       0:00.01 sendmail: accepting connections (sendmail)
smmsp   6941   0.0  0.0    18312    6304  -  Is   19:14       0:00.00 sendmail: Queue runner@00:30:00 for /var/spool/clientmqueue (sendmail)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tail /var/log/maillog
Nov 12 19:14:21 fbsd1 sm-mta[6938]: starting daemon (8.17.1): SMTP+queueing@00:30:00
[ . . . ]
Nov 12 19:14:21 fbsd1 sm-mta[6938]: STARTTLS=server, Diffie-Hellman init, key=2048 bit (I)
Nov 12 19:14:21 fbsd1 sm-mta[6938]: STARTTLS=server, init=1
Nov 12 19:14:21 fbsd1 sm-mta[6938]: started as: /usr/sbin/sendmail -L sm-mta -bd -q30m
Nov 12 19:14:21 fbsd1 sm-msp-queue[6941]: starting daemon (8.17.1): queueing@00:30:00
Nov 12 19:14:21 fbsd1 sm-msp-queue[6941]: started as: /usr/sbin/sendmail -L sm-msp-queue -Ac -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you now receive a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;No local mailer defined&lt;/code&gt; error when you run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make all&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make all
/usr/sbin/makemap hash authinfo.db &amp;lt; authinfo
chmod 0640 authinfo.db
/usr/sbin/sendmail -bi -OAliasFile=/etc/mail/aliases
Warning: .cf file is out of date: sendmail 8.17.1 supports 
  version 10, .cf file is version 0
No local mailer defined
QueueDirectory (Q) option must be set
*** Error code 78

Stop.
make: stopped in /etc/mail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;it’s because &lt;em&gt;sendmail.cf&lt;/em&gt; is still empty.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh sendmail.cf 
-rw-r--r--  1 root  wheel     0B Nov 12 19:10 sendmail.cf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To fix that, run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make install&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make install
install -m 444 fbsd1.home.arpa.cf /etc/mail/sendmail.cf
install -m 444 fbsd1.home.arpa.submit.cf /etc/mail/submit.cf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh sendmail.cf
-r--r--r--  1 root  wheel    59K Nov 12 19:11 sendmail.cf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make all&lt;/code&gt; command runs fine:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make all
/usr/sbin/sendmail -bi -OAliasFile=/etc/mail/aliases
/etc/mail/aliases: 29 aliases, longest 10 bytes, 297 bytes total
chmod 0640 /etc/mail/aliases.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Continue.  In this case, &lt;em&gt;sendmail&lt;/em&gt; was not running so I used
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make start&lt;/code&gt; (you might need to run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make restart&lt;/code&gt; to first stop
&lt;em&gt;sendmail&lt;/em&gt; if it’s running on your system).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make install
# make start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# service sendmail status
sendmail is running as pid 47902.
sendmail_msp_queue is running as pid 47905.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
$ cd

$ pwd
/usr/home/dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo chown smmsp:smmsp /etc/mail/authinfo.db 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /etc/mail/authinfo*
-rw-r-----  1 smmsp  smmsp    81B Nov 12 19:11 /etc/mail/authinfo
-rw-r-----  1 smmsp  smmsp   128K Nov 12 19:11 /etc/mail/authinfo.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# service sendmail status
sendmail is running as pid 49494.
sendmail_msp_queue is running as pid 49497.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;testing-smtp-with-telnet1-or-nc1-aka-netcat1&quot;&gt;Testing SMTP with telnet(1) (or nc(1) aka (netcat(1))&lt;/h3&gt;

&lt;p&gt;The Simple Mail Transfer Protocol (SMTP) governs mail flow.
SMTP conversation can be carried out by connecting to port 25 on
a mail server via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;telnet(1)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
Telnet is not secure as all communication in it happens in plain text
and all network traffic is unencrypted.  I decided it’s fine to use it
for testing my &lt;em&gt;localhost&lt;/em&gt; because it’s in my trusted environment with
trusted network and applications.&lt;/p&gt;

&lt;p&gt;Below is a sample test SMTP session with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;telnet(1)&lt;/code&gt; to Port 25 from
my &lt;em&gt;localhost&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
In the examples, “&lt;strong&gt;C:&lt;/strong&gt;” indicates what is said by the SMTP
client, “&lt;strong&gt;T:&lt;/strong&gt;” is what you type (that is, in the following example,
you type the following three lines: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;telnet localhost 25&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ehlo localhost&lt;/code&gt;, 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quit&lt;/code&gt;), and “&lt;strong&gt;S:&lt;/strong&gt;” indicates what is said by the SMTP server.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;S: &amp;lt;waits for connection on TCP port 25&amp;gt;
C: &amp;lt;opens connection&amp;gt;   # with telnet
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The second line shows the &lt;em&gt;telnet&lt;/em&gt; command format using host &lt;em&gt;localhost&lt;/em&gt;
and TCP port 25.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;S: &amp;lt;waits for connection on TCP port 25&amp;gt;

CT: telnet localhost 25
C: Trying 127.0.0.1...
C: Connected to localhost.
C: Escape character is &apos;^]&apos;.
S: 220 fbsd1.home.arpa ESMTP Sendmail 8.17.1/8.17.1; Sat, 12 Nov 2022 12:00:35 -0700 (PDT)
CT: ehlo localhost
S: 250-fbsd1.home.arpa Hello localhost [127.0.0.1], pleased to meet you
S: 250-ENHANCEDSTATUSCODES
S: 250-PIPELINING
S: 250-8BITMIME
S: 250-SIZE
S: 250-DSN
S: 250-ETRN
S: 250-AUTH DIGEST-MD5 CRAM-MD5
S: 250-STARTTLS
S: 250-DELIVERBY
S: 250 HELP
CT: quit
S: 221 2.0.0 fbsd1.home.arpa closing connection
C: Connection closed by foreign host.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;strong&gt;Postfix&lt;/strong&gt; by Richard Blum
(Published By: Sams, Publication Date: May 2001):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If the server is running an SMTP-based daemon, you should see a response
similar to the one shown.  The first number is a 3-digit response code.
You can use this code for troubleshooting purposes.&lt;/p&gt;

  &lt;p&gt;Next, the hostname of the SMTP server and a description of the SMTP
software package that the server is using are displayed
(in this case, &lt;em&gt;Sendmail 8.17.1/8.17.1&lt;/em&gt;).&lt;/p&gt;

  &lt;p&gt;To close the &lt;em&gt;telnet&lt;/em&gt; connection, type the word &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quit&lt;/code&gt; and press the
Enter key.  The SMTP server sends you a closing message and ends the
TCP connection.&lt;/p&gt;

  &lt;p&gt;SMTP accepts simple ASCII text commands and returns 3-digit reply codes
with optional ASCII text messages.  SMTP is defined in the Request For
Comment (RFC) document number 821 maintained by the Internet Engineering
Task Force (IETF) published on August 21, 1982.  Several modifications
and enhancements have been made to SMTP over the years, but the basic
protocol commands still remain in use.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;h4 id=&quot;basic-smtp-client-commands&quot;&gt;Basic SMTP Client Commands&lt;/h4&gt;

  &lt;p&gt;When a TCP session has been established and the SMTP server acknowledges
the client by sending a welcome banner, it is the client’s responsibility
to control the connection and transmit data to the server.  The client
accomplishes this by sending special commands to the server.  The server
responds according to each command it receives.&lt;/p&gt;

  &lt;p&gt;RFC 821 defines the basic client commands that an SMTP server should
recognize and respond to.  Since then, there have been several extensions
to SMTP that not all servers have implemented.&lt;/p&gt;

  &lt;p&gt;The basic format of an SMTP command is&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;command [parameters]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;command&lt;/code&gt; is a 4-character SMTP command, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parameters&lt;/code&gt; are
optional qualifying data for the command.  For SMTP connections,
the command names are &lt;strong&gt;not&lt;/strong&gt; case sensitive.  Table at the end 
of this page
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 18 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt; lists basic SMTP commands.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; You can use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nc(1)&lt;/code&gt; (&lt;em&gt;netcat&lt;/em&gt;) utility instead of
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;telnet(1)&lt;/code&gt; command (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nc localhost 25&lt;/code&gt;).  For &lt;em&gt;localhost&lt;/em&gt; testing,
I decided that &lt;em&gt;telnet&lt;/em&gt; is fine.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc3207&quot;&gt;RFC 3207&lt;/a&gt; defines how SMTP
connections can make use of encryption.  Once a connection is established,
the client issues a STARTTLS command.  If the server accepts this, the client
and the server negotiate an encryption mechanism.  If the negotiation
succeeds, the data that subsequently passes between them is encrypted.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; In this example, the AUTH line (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250-AUTH DIGEST-MD5 LOGIN PLAIN&lt;/code&gt;)
now has &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOGIN PLAIN&lt;/code&gt; when inquiring MSA (Mail Submission Agent) port 587
(while it didn’t have LOGIN and PLAIN when testing via port 25). &lt;br /&gt;
“&lt;strong&gt;C:&lt;/strong&gt;” indicates what is said by the SMTP client, “&lt;strong&gt;T:&lt;/strong&gt;” is what you
type (that is, in the following example, you type the following three lines:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;telnet localhost 587&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ehlo localhost&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quit&lt;/code&gt;), and “&lt;strong&gt;S:&lt;/strong&gt;” indicates
what is said by the SMTP server.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;S: &amp;lt;waits for connection on TCP port 587&amp;gt;

CT: telnet localhost 587
C: Trying 127.0.0.1...
C: Connected to localhost.
C: Escape character is &apos;^]&apos;.
S: 220 fbsd1.home.arpa ESMTP Sendmail 8.17.1/8.17.1; Sat, 12 Nov 2022 12:00:46 -0700 (PDT)
CT: ehlo localhost
S: 250-fbsd1.home.arpa Hello localhost [127.0.0.1], pleased to meet you
S: 250-ENHANCEDSTATUSCODES
S: 250-PIPELINING
S: 250-8BITMIME
S: 250-SIZE
S: 250-DSN
S: 250-AUTH DIGEST-MD5 LOGIN PLAIN
S: 250-STARTTLS
S: 250-DELIVERBY
S: 250 HELP
CT: quit
S: 221 2.0.0 fbsd1.home.arpa closing connection
C: Connection closed by foreign host.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;testing-and-troubleshooting-with-sendmail-command-line&quot;&gt;Testing and Troubleshooting with sendmail Command-Line&lt;/h2&gt;

&lt;p&gt;Some of &lt;em&gt;sendmail&lt;/em&gt; parameters (from the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail(8)&lt;/code&gt;):&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-v&lt;/strong&gt;:  Verbose mode.  Alias expansions will be announced, etc. &lt;br /&gt;
&lt;strong&gt;-d&lt;/strong&gt;&lt;em&gt;category.level…&lt;/em&gt;: Set the debugging flag for category to &lt;em&gt;level&lt;/em&gt;.
The &lt;em&gt;category&lt;/em&gt; is either an integer or a name specifying the topic,
and &lt;em&gt;level&lt;/em&gt; is an integer specifying the level of debugging output desired.
Higher levels generally mean more output.  More than one flag can be
specified by separating them with commas.  A list of numeric debugging
categories found in the &lt;em&gt;TRACEFLAGS&lt;/em&gt; file in the &lt;em&gt;sendmail&lt;/em&gt; source
distribution.  The option &lt;strong&gt;-d0.1&lt;/strong&gt; prints the version of &lt;em&gt;sendmail&lt;/em&gt; and
the options used during the compile.  Most other categories are only
useful with, and documented in, &lt;em&gt;sendmail&lt;/em&gt;’s source code.&lt;/p&gt;

&lt;p&gt;Location of the &lt;em&gt;TRACEFLAGS&lt;/em&gt; file in FreeBSD 13:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/sendmail/TRACEFLAGS&lt;/code&gt; and 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/src/contrib/sendmail/src/TRACEFLAGS&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Send a test email message with &lt;em&gt;sendmail&lt;/em&gt; command-line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ date | sendmail -v -d38.20 dusko@some.external.domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some of &lt;em&gt;sendmail&lt;/em&gt; parameters (from the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail(8)&lt;/code&gt;):&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-Ac&lt;/strong&gt;:  Use &lt;strong&gt;submit.cf&lt;/strong&gt; even if the operation mode does not indicate
          an initial mail submission; via the &lt;strong&gt;MSP&lt;/strong&gt; (mail submission program)
          [which is a command-line &lt;em&gt;sendmail&lt;/em&gt; that functions as a mail submission agent (&lt;strong&gt;MSA&lt;/strong&gt;)].&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-d38.20&lt;/strong&gt;:  Debug command-line switch for tracing many different map
              lookups and also for tracing general lookups in various
              kinds of databases.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-odi&lt;/strong&gt;:  Deliver in foreground.&lt;/p&gt;

&lt;p&gt;Explanation for &lt;strong&gt;-odi&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-o&lt;/strong&gt;x &lt;em&gt;value&lt;/em&gt; (from the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail(8)&lt;/code&gt;):  Set option &lt;em&gt;x&lt;/em&gt; to
the specified &lt;em&gt;value&lt;/em&gt;.  This form uses single character names only.
The short names are not described in this manual page; see the Sendmail
Installation and Operation Guide (on FreeBSD 13:
&lt;em&gt;/usr/local/share/doc/sendmail/op.txt&lt;/em&gt;, or
&lt;em&gt;/usr/local/share/doc/sendmail/op.ps&lt;/em&gt;) for details.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Options&lt;/strong&gt; &lt;br /&gt;
There are also many processing options that can be set.  Normally these
are only used by a system administrator.  Options may be set either on the
command line using the &lt;strong&gt;-o&lt;/strong&gt; flag (for short names), the &lt;strong&gt;-O&lt;/strong&gt; flag (for 
long names), or in the &lt;strong&gt;configuration file&lt;/strong&gt;.  Some of the options are:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;DeliveryMode=&lt;/strong&gt;&lt;em&gt;x&lt;/em&gt;  &lt;br /&gt;
Set the delivery mode to &lt;em&gt;x&lt;/em&gt;.  Delivery modes are
“&lt;strong&gt;i&lt;/strong&gt;” for interactive (synchronous) delivery (a.k.a. delivery in
foreground), “&lt;strong&gt;b&lt;/strong&gt;” for background (asynchronous) delivery, “&lt;strong&gt;q&lt;/strong&gt;” for
queue only; i.e., actual delivery is done the next time the queue is run,
and “&lt;strong&gt;d&lt;/strong&gt;” for deferred - the same as “&lt;strong&gt;q&lt;/strong&gt;”, except that database
lookups for maps which have set the &lt;strong&gt;-D&lt;/strong&gt; option (default for the
host map) are avoided.&lt;/p&gt;

&lt;p&gt;As an example, the &lt;strong&gt;-odi&lt;/strong&gt; in &lt;em&gt;sendmail&lt;/em&gt; source:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n 284p /usr/src/contrib/sendmail/rmail/rmail.c
        args[i++] = &quot;-odi&quot;;             /* Deliver in foreground. */
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, the &lt;strong&gt;-d38.20&lt;/strong&gt; debug command-line switch in &lt;em&gt;sendmail&lt;/em&gt; source:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n 5590p /usr/src/contrib/sendmail/src/map.c
                if (tTd(38,20))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Send a test email message with &lt;em&gt;sendmail&lt;/em&gt; command-line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ date | sendmail -Ac -v -d38.20 -odi dusko@some.external.domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some of sendmail parameters (from the man page for sendmail(8)):&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-Am&lt;/strong&gt;:  Use &lt;strong&gt;sendmail.cf&lt;/strong&gt; even if the operation mode indicates an
          initial mail submission.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;-t:&lt;/strong&gt;  Read message for recipients. &lt;strong&gt;To:&lt;/strong&gt;, &lt;strong&gt;Cc:&lt;/strong&gt;, and &lt;strong&gt;Bcc:&lt;/strong&gt; lines
         will be scanned for recipient addresses.  The &lt;strong&gt;Bcc:&lt;/strong&gt; line is 
         deleted before transmission.&lt;/p&gt;

&lt;p&gt;Send a test email message with &lt;em&gt;sendmail&lt;/em&gt; command-line.
In the following example, type in the first seven lines (starting with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail -Ac -v -t&lt;/code&gt; and ending with a single dot).&lt;/p&gt;

&lt;p&gt;(The lines that begin with numbers and the lines that begin with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/code&gt;
 characters constitute a record of the SMTP conversation.  The other lines
 are &lt;em&gt;sendmail&lt;/em&gt; on your local machine telling you what it is trying to do
 and what it has successfully done.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -Ac -v -t
To: Dusko P &amp;lt;dusko@some.external.domain&amp;gt;
From: DP &amp;lt;dusko@fbsd1.home.arpa&amp;gt;
Subject: Test with -Ac

Testing.
.
Dusko P &amp;lt;dusko@some.external.domain&amp;gt;... Connecting to [127.0.0.1] port 1465 via smartrelay...
220 mailx.some.external.domain ESMTP mailer ready at Sat, 12 Nov 2022 16:51:07 -0700
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.home.arpa
250-test.domain Hello fqdn.yourisp.domain [123.45.6.7], pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-AUTH LOGIN PLAIN
250-DELIVERBY
250 HELP
&amp;gt;&amp;gt;&amp;gt; AUTH LOGIN
334 VXNlcm5hbWU6
&amp;gt;&amp;gt;&amp;gt; ABCab12=
334 UGFzc3dvcmQ6
&amp;gt;&amp;gt;&amp;gt; ABCdEF12gHIJkLMnoPQRSt==
235 2.0.0 OK Authenticated
&amp;gt;&amp;gt;&amp;gt; MAIL From:&amp;lt;dusko@fbsd1.home.arpa&amp;gt; SIZE=110 AUTH=dusko@fbsd1.home.arpa
250 2.1.0 &amp;lt;dusko@fbsd1.home.arpa&amp;gt;... Sender ok
&amp;gt;&amp;gt;&amp;gt; RCPT To:&amp;lt;dusko@some.external.domain&amp;gt;
250 2.1.5 &amp;lt;dusko@some.external.domain&amp;gt;... Recipient ok
&amp;gt;&amp;gt;&amp;gt; DATA
354 Enter mail, end with &quot;.&quot; on a line by itself
&amp;gt;&amp;gt;&amp;gt; .
250 2.0.0 2A2Np7PB018356 Message accepted for delivery
Dusko P &amp;lt;dusko@some.external.domain&amp;gt;... Sent (2A2Np7PB018356 Message accepted for delivery)
Closing connection to [127.0.0.1]
&amp;gt;&amp;gt;&amp;gt; QUIT
221 2.0.0 mailx.some.external.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;VXNlcm5hbWU6&lt;/code&gt; is ‘Username:’ encoded in base64, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UGFzc3dvcmQ6&lt;/code&gt; is
‘Password:’ encoded in base64.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -le &apos;print decode_base64(&quot;VXNlcm5hbWU6&quot;);&apos;
Username:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -le &apos;print decode_base64(&quot;UGFzc3dvcmQ6&quot;);&apos;
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;testing-and-troubleshooting-with-the-mail1-utility&quot;&gt;Testing and Troubleshooting with the mail(1) Utility&lt;/h2&gt;

&lt;p&gt;Send a test email message with the &lt;em&gt;mail&lt;/em&gt; (aka &lt;em&gt;mail&lt;/em&gt;, &lt;em&gt;Mail&lt;/em&gt;, &lt;em&gt;mailx&lt;/em&gt;)
utility:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Testing.&quot; | mail -v -s &quot;Test&quot; dusko@some.external.domain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;testing-smtp-with-openssl1-command-line-tool&quot;&gt;Testing SMTP with openssl(1) Command Line Tool&lt;/h2&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.exim.org/exim-html-current/doc/html/spec_html/ch-encrypted_smtp_connections_using_tlsssl.html&quot;&gt;Chapter 43 - Encrypted SMTP connections using TLS/SSL - Exim Internet Mailer&lt;/a&gt; (Retrieved on Nov 12, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;As of &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc8314&quot;&gt;RFC 8314&lt;/a&gt;, the common
practice of using the historically allocated port 465 for “email submission
but with TLS &lt;strong&gt;immediately&lt;/strong&gt; upon connect &lt;strong&gt;instead&lt;/strong&gt; of using STARTTLS” is
officially recommended by the IETF, and recommended by them in preference
to STARTTLS.&lt;/p&gt;

  &lt;p&gt;The name originally assigned to the port was “ssmtp” or “smtps”, but as
clarity emerged over the dual roles of SMTP, for MX delivery and Email
Submission, nomenclature has shifted. The modern name is now “submissions”.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;To test/connect TLS/SSL with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssl(1)&lt;/code&gt; to a mail server on port 465
(Implicit TLS submission), use its &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;s_client(1)&lt;/code&gt; command (SSL/TLS client
program).  (Change &lt;em&gt;your.outgoing.mailserver&lt;/em&gt; to the host name of your
mailserver.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ openssl s_client -connect your.outgoing.mailserver:465
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You’ll get a lot of output concerning the TLS (SSL) session and
certificates used, and the last line of that output will show
a confirmation (a 220 or 250 status code with a message).  For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;220 your.outgoing.mailserver ESMTP mailer ready at Sat, 12 Nov 2022 19:31:55 -0800
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Initiate the conversation&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Now you need to identify yourself and initiate the SMTP conversation with
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EHLO&lt;/code&gt; command (Extended EHLO).  This command takes the fully-qualified
domain name of the SMTP client (or an IP address, if the SMTP client system
does not have a meaningful domain name; e.g., when its address is
dynamically allocated and no reverse mapping record is available).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;EHLO fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The server returns a list of commands (keywords) available in Extended mode; that is,
in ESMTP (Extended SMTP):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;250-your.outgoing.mailserver Hello fbsd1.home.arpa [123.45.67.89], pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-AUTH LOGIN PLAIN
250-DELIVERBY
250 HELP
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Authenticate yourself&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The output to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EHLO&lt;/code&gt; ESMTP command above displayed a space separated
list of the names of supported SASL mechanisms.  In this case, the list of
advertised authentication mechanisms was &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PLAIN&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOGIN&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Authenticate yourself using PLAIN&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The PLAIN mechanism expects a base64 encoded string containing both
username and password, each prefixed with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NULL&lt;/code&gt; byte.  You can generate
this string using Perl and its 
&lt;a href=&quot;https://perldoc.perl.org/MIME::Base64&quot;&gt;MIME::Base64&lt;/a&gt; module.
(Change your &lt;em&gt;username&lt;/em&gt; and &lt;em&gt;password&lt;/em&gt; with your username and password.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -e &apos;print encode_base64(&quot;\0username\0password&quot;);&apos;
AHVzZXJuYW1lAHBhc3N3b3Jk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Submit this base64 encoded string to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; command in your
&lt;em&gt;openssl&lt;/em&gt; session:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AUTH PLAIN AHVzZXJuYW1lAHBhc3N3b3Jk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the authorization is successful, the mail server will reply
with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;235 2.0.0 OK&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;235 2.0.0 OK Authenticated
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Authenticate yourself using LOGIN&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOGIN&lt;/code&gt; mechanism also expects base64 encoded username and password
but separately.  You can generate this string using Perl and its
&lt;a href=&quot;https://perldoc.perl.org/MIME::Base64&quot;&gt;MIME::Base64&lt;/a&gt; module.  (Change your
&lt;em&gt;yourusername&lt;/em&gt; and &lt;em&gt;yourpasswordhere&lt;/em&gt; with your username and password.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -e &apos;print encode_base64(&quot;yourusername&quot;);&apos;
eW91cnVzZXJuYW1l
 
$ perl -MMIME::Base64 -e &apos;print encode_base64(&quot;yourpasswordhere&quot;);&apos;
eW91cnBhc3N3b3JkaGVyZQ==
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Authenticate yourself with the SMTP server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AUTH LOGIN
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The server replies with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;334&lt;/code&gt; (authentication challenge) code, followed by
a challenge string.  (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;VXNlcm5hbWU6&lt;/code&gt; is ‘Username:’ encoded in base64.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;334 VXNlcm5hbWU6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Enter your username:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;eW91cnVzZXJuYW1l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Next, the mail server asks for the password.  (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UGFzc3dvcmQ6&lt;/code&gt; is ‘Password:’
encoded in base64.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;334 UGFzc3dvcmQ6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Enter your password:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;eW91cnBhc3N3b3JkaGVyZQ==
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the authorization is successful, the mail server will reply with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;235 2.0.0 OK Authenticated&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;235 2.0.0 OK Authenticated
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Send an email&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;There are three steps to SMTP mail transactions &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 20 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;the sender (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL FROM:&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;the recipient (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT TO:&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;the message body (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DATA&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The first step in the procedure is the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL&lt;/code&gt; command.
You use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL FROM:&lt;/code&gt; SMTP command to set the message sender
(the &lt;strong&gt;envelope sender&lt;/strong&gt; address).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  According to
&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc821&quot;&gt;RFC 821 - Simple Mail Transfer Protocol (SMTP)&lt;/a&gt;
  and
&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc2821&quot;&gt;RFC 2821 - Simple Mail Transfer Protocol (SMTP)&lt;/a&gt;, you need to surround the email address with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;&amp;gt;&lt;/code&gt;; that is, 
with &lt;strong&gt;angle brackets&lt;/strong&gt;.  Also, note that there is &lt;strong&gt;no space (blank)
character&lt;/strong&gt; around the colon character (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:&lt;/code&gt;). &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 20 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;If the mail server accepts the email address, it will reply with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250 OK&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;MAIL FROM:&amp;lt;dusko@fbsd1.home.arpa&amp;gt;
250 2.1.0 &amp;lt;dusko@fbsd1.home.arpa&amp;gt;... Sender ok
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now you send the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT TO:&lt;/code&gt; (or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rcpt to:&lt;/code&gt;, see the NOTE below) SMTP command
so the server knows who the email message is for.  In this case, I’m sending
the email to &lt;em&gt;dusko@yourdomain.example.net&lt;/em&gt;.
(Change &lt;em&gt;dusko@yourdomain.example.net&lt;/em&gt; with your test email address.)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;:  When you connect with &lt;em&gt;openssl&lt;/em&gt; (as opposed to, for example, 
with &lt;em&gt;nc&lt;/em&gt; or &lt;em&gt;telnet&lt;/em&gt;), make sure to type the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rcpt to&lt;/code&gt; command in
&lt;strong&gt;lowercase&lt;/strong&gt;.  Pressing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; in the client session instructs &lt;em&gt;openssl&lt;/em&gt; to
renegotiate the TLS connection. &lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 21 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rcpt to:&amp;lt;dusko@yourdomain.example.net&amp;gt;
250 2.1.5 &amp;lt;dusko@yourdomain.example.net&amp;gt;... Recipient ok
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you were communicating with a destination mail server here, and the
account you specified in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT TO:&lt;/code&gt; command was invalid, the mail
server would return an error code.  At this point, the mail server has
accepted the message and will attempt to deliver it.&lt;/p&gt;

&lt;p&gt;After the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT&lt;/code&gt; commands, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DATA&lt;/code&gt; command initiates the
actual message transfer.  To enter it, type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DATA&lt;/code&gt; and press Enter.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DATA
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The mail server responds with instructions to end your email message body
with an empty line containing a single dot (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt;) character.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;354 Enter mail, end with &quot;.&quot; on a line by itself
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can add any additional headers to your email message in the body.&lt;/p&gt;

&lt;p&gt;As per &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc2822&quot;&gt;RFC 2822 - Internet Message Format&lt;/a&gt;, the only required header fields are the origination date field (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Date:&lt;/code&gt;)
and the originator address field(s) (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;From:&lt;/code&gt;).  To end the message,
type a period on a line by itself.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;From: Dusko P &amp;lt;dusko@fbsd1.home.arpa&amp;gt;
To: DP &amp;lt;dusko@yourdomain.example.net&amp;gt;
Date: Sat, 12 Nov 2022 20:12:43 -0800
Subject: Test message 1

Testing.
.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The server will respond with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250 2.0.0&lt;/code&gt; followed by the queue ID.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;250 2.0.0 2BH22lp2011970 Message accepted for delivery
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QUIT&lt;/code&gt; to close the session.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;QUIT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The server responds with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DONE&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DONE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;testing-with-class-w-w---the-local-host&quot;&gt;Testing with Class w ($=w) - The Local Host&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &apos;$=w&apos; | sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; [IPv6:fe80:0:0:0:0:0:0:1]
[IPv6:0:0:0:0:0:0:0:1]
localhost
fbsd1.home.arpa
[123.45.6.7]
localhost.my.domain
[localhost.my.domain]
&amp;gt; $ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;strong&gt;sendmail&lt;/strong&gt;, 4th Edition (a.k.a. &lt;strong&gt;“Bat Book”&lt;/strong&gt;) &lt;br /&gt;
By Bryan Costales, Claus Assmann, George Jansen, Gregory Neil Shapiro&lt;br /&gt;
(Published by: O’Reilly Media, Inc., Publication Date: October 2007):&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Delivering to Local Recipient&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Typically, some early rules in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; &lt;em&gt;rule set 0&lt;/em&gt; are intended to
detect addresses that should be delivered locally.  A rule that
accomplishes that end might look like this:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;R $+ &amp;lt;@ $w&amp;gt;          $#local $:$1                 local address
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;Here, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$w&lt;/code&gt; &lt;em&gt;sendmail&lt;/em&gt; macro is the name of the &lt;em&gt;local host&lt;/em&gt;.
Note that the RHS (righthand side) strips the focused host part from
the username.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;At some sites, the local host can be known by any of several names.
A rule to handle such hosts would begin with a class declaration that
adds those names to the class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;w&lt;/code&gt; (such as in the first line here):&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Cw font-server fax printer3
R $+ &amp;lt;@ $=w&amp;gt;        $#local $:$1                 local address
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;The class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;w&lt;/code&gt; is special because it is the one to which &lt;em&gt;sendmail&lt;/em&gt;
automatically appends the alternative name of the local host.
This class declaration line adds names that &lt;em&gt;sendmail&lt;/em&gt; might not
automatically detect.  Usually, such a declaration would be near the top
of the configuration file rather than in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; rule &lt;em&gt;set 0&lt;/em&gt;, but
technically it can appear anywhere in the file.  This rule looks to see
whether an address contains any of the names in class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;w&lt;/code&gt;.  If it does,
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$=w&lt;/code&gt; in the lefthand side (LHS) matches, and the RHS selects the
local delivery agent.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;On central mail-server machines, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; &lt;em&gt;rule set 0&lt;/em&gt; might also
have to match from a list of hosts for which the central server is an
MX recipient machine (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(use_cw_file)&lt;/code&gt;).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;check-whether-your-sendmail-supports-sasl-with--d010-debugging-switch&quot;&gt;Check whether Your sendmail Supports SASL (with -d0.10 Debugging Switch)&lt;/h3&gt;

&lt;p&gt;If you are running a precompiled &lt;em&gt;sendmail&lt;/em&gt; binary, you can use
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d0.10&lt;/code&gt; debugging command-line switch to determine whether
&lt;em&gt;SASL&lt;/em&gt; support is defined (if it appears in the list, it is defined).&lt;/p&gt;

&lt;p&gt;Also, it shows configuration files; that is, default conf files for
&lt;strong&gt;MTA&lt;/strong&gt; (Mail Transport Agent), &lt;strong&gt;MSP&lt;/strong&gt; (Mail Submission Program)
[which is a command-line &lt;em&gt;sendmail&lt;/em&gt; that functions as a mail submission
agent (&lt;strong&gt;MSA&lt;/strong&gt;)], and the &lt;em&gt;selected configuration file&lt;/em&gt; (if, for example,
you’ve started &lt;em&gt;sendmail&lt;/em&gt; with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C&amp;lt;file_name&amp;gt;&lt;/code&gt; parameter to use an
alternate configuration file).&lt;/p&gt;

&lt;p&gt;By default: &lt;br /&gt;
configuration file for MSP is:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/submit.cf&lt;/code&gt;   &lt;br /&gt;
configuration file for MTA is:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/sendmail.cf&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d0.10&lt;/code&gt; debug switch causes &lt;em&gt;sendmail&lt;/em&gt; to print all the operating
system-specific &lt;strong&gt;definitions&lt;/strong&gt; that were used to &lt;strong&gt;compile&lt;/strong&gt; your specific
version of &lt;em&gt;sendmail&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -bt -d0.10 &amp;lt; /dev/null 
Version 8.17.1
 Compiled with: DANE DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PICKY_HELO_CHECK PIPELINING SASLv2 SCANF STARTTLS TCPWRAPPERS
                TLS_EC TLS_VRFY_PER_CTX USERDB XDEBUG
    OS Defines: BSD4_4_SOCKADDR HASFCHOWN HASFCHMOD HASFLOCK
                HASGETDTABLESIZE HASGETUSERSHELL HASINITGROUPS HASLSTAT HASNICE
                HASRANDOM HASRRESVPORT HASSETLOGIN HASSETREUID HASSETRLIMIT
                HASSETSID HASSETUSERCONTEXT HASSETVBUF HAS_ST_GEN HASSRANDOMDEV
                HASURANDOMDEV HASSTRERROR HASUNAME HASUNSETENV HASWAITPID
                HAVE_NANOSLEEP IDENTPROTO IP_SRCROUTE LOCK_ON_OPEN
                SAFENFSPATHCONF SFS_MOUNT USE_DOUBLE_FORK USESETEUID USESYSCTL
Kernel symbols: don&apos;t use _PATH_UNIX
     Conf file: /etc/mail/submit.cf (default for MSP)
     Conf file: /etc/mail/sendmail.cf (default for MTA)
      Pid file: /var/run/sendmail.pid (default)
Canonical name: fbsd1.home.arpa
 UUCP nodename: fbsd1.home.arpa
        a.k.a.: localhost.my.domain
        a.k.a.: fbsd1.home.arpa
        a.k.a.: [127.0.0.1]
        a.k.a.: [IPv6:0:0:0:0:0:0:0:1]
        a.k.a.: [IPv6:fe80:0:0:0:0:0:0:1]
        a.k.a.: [192.168.1.3]
        a.k.a.: [192.168.8.1]
        a.k.a.: [10.1.2.3]
     Conf file: /etc/mail/sendmail.cf (selected)
      Pid file: /var/run/sendmail.pid (selected)

============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = fbsd1
  (canonical domain name) $j = fbsd1.home.arpa
         (subdomain name) $m = home.arpa
              (node name) $k = fbsd1.home.arpa
========================================================

ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; $ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;from-sendmail-4th-edition-aka-bat-book&quot;&gt;From &lt;strong&gt;sendmail&lt;/strong&gt;, 4th Edition (a.k.a. &lt;strong&gt;“Bat Book”&lt;/strong&gt;)&lt;/h2&gt;
&lt;p&gt;By Bryan Costales, Claus Assmann, George Jansen, Gregory Neil Shapiro&lt;br /&gt;
(Published by: O’Reilly Media, Inc., Publication Date: October 2007):&lt;/p&gt;

&lt;h2 id=&quot;authinfo-and-the-access-database&quot;&gt;Authinfo and the access Database&lt;/h2&gt;

&lt;p&gt;Under V8.12, default client authentication information was moved out of
the &lt;em&gt;default-auth-info&lt;/em&gt; text file and into the &lt;em&gt;access&lt;/em&gt; database.  If you 
prefer a more secure database than the &lt;em&gt;access&lt;/em&gt; database, you can declare
an alternative with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authinfo&lt;/code&gt; feature (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(authinfo)&lt;/code&gt;). For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FEATURE(`authinfo&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, instead of looking up client authentication information in the 
&lt;em&gt;access&lt;/em&gt; database, &lt;em&gt;sendmail&lt;/em&gt; will look in the &lt;em&gt;/etc/mail/authinfo&lt;/em&gt;
database.&lt;/p&gt;

&lt;p&gt;Whether you store default client authentication information in the
&lt;em&gt;access&lt;/em&gt; database or in the &lt;em&gt;authinfo&lt;/em&gt; database, the syntax of entries
is the same.&lt;/p&gt;

&lt;p&gt;The database entries are created from a text file that has keys down the
left column and matching values down the right.  The two columns are
separated by one or more tab or space characters.  One line in such
a source text file might look like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AuthInfo:address      &quot;U:user&quot;  &quot;P=password&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The left column of the database is composed of two parts. The first part
is mandatory, the literal expression &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthInfo:&lt;/code&gt;.  The second, configurable
part is an IPv4 address, an IPv6 address, or a canonical host or domain
name.  For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AuthInfo:123.45.67.89
Authinfo:IPv6:2002:c0a8:51d2::23f4
AuthInfo:host.domain.com
AuthInfo:domain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When &lt;em&gt;sendmail&lt;/em&gt; connects to another host, and that other host offers to
authenticate, that connected-to host’s IP address, hostname, and domain
are looked up in the database.&lt;/p&gt;

&lt;p&gt;If the IP address, host, or domain is not found, the connection is allowed,
but &lt;em&gt;sendmail&lt;/em&gt; will not attempt to authenticate it.  Otherwise, the
information in the matching right column is returned for &lt;em&gt;sendmail&lt;/em&gt; to use.&lt;/p&gt;

&lt;p&gt;The right column is composed of letter and value pairs, each pair quoted
and separated from the others by space characters:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AuthInfo:address      &quot;U:user&quot;  &quot;P=password&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Letters are separated from their value with a colon or an equal-sign.
A colon means that the value is literal text.  An equal-sign means that
the value is Base64-encoded.&lt;/p&gt;

&lt;p&gt;These letters and their meanings are shown in the table below.&lt;/p&gt;

&lt;p&gt;Right-column key letters for the default &lt;em&gt;authinfo&lt;/em&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+-------------+----------------------------------------------+ 
| Letter      | Description                                  |
+-------------+----------------------------------------------+ 
| U           | The user (authorization) identifier          |
+-------------+----------------------------------------------+ 
| I           | The authentication identifier                |
+-------------+----------------------------------------------+
| P           | The password                                 |
+-------------+----------------------------------------------+ 
| R           | The realm                                    |
+-------------+----------------------------------------------+ 
| M           | The list of mechanisms (separated by spaces) |
+-------------+----------------------------------------------+ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Either the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U&lt;/code&gt; or the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;I&lt;/code&gt;, or both, must exist or authentication will fail.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;P&lt;/code&gt; must always be present.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M&lt;/code&gt; are optional.  All the
letters are case-insensitive-that is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;u&lt;/code&gt; are the same.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U&lt;/code&gt; lists the name of the user that &lt;em&gt;sendmail&lt;/em&gt; will use to check
allowable permissions.  Generally, this could be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U:authuser&lt;/code&gt; (but it
should never be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;root&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;I&lt;/code&gt; lists the name of the user allowed to set up the connection.
Generally, this could be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;I:authuser&lt;/code&gt; (but it should never be &lt;em&gt;root&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;P&lt;/code&gt; value is the password.  If the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;P&lt;/code&gt; is followed by a colon (as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;P:&lt;/code&gt;),
the password is in plain text.  If the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;P&lt;/code&gt; is followed by an equal-sign
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;P=&lt;/code&gt;), the password is Base64-encoded.  Generally, this should never be
&lt;em&gt;root&lt;/em&gt;’s plain-text password.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; lists the administrative realm for authentication.  In general,
this should be your DNS domain.  If no realm is specified (this item is
missing), &lt;em&gt;sendmail&lt;/em&gt; will substitute the value of
the (&lt;a href=&quot;#canonical-name-macro&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; macro&lt;/a&gt;) unless the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthRealm&lt;/code&gt; option
is used to define a realm to use in place of the value of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; macro.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M&lt;/code&gt; lists the preferred mechanism for connection authentication. 
Multiple mechanisms can be listed, one separated from another with a space:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;M:DIGEST-MD5 CRAM-MD5&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M&lt;/code&gt; item is missing, &lt;em&gt;sendmail&lt;/em&gt; uses the mechanisms listed in the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthMechanisms&lt;/code&gt; option (&lt;a href=&quot;#authmechanisms-option&quot;&gt;AuthMechanisms&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Missing required letters, unsupported letters, and letters that are missing
values have warnings logged at a LogLevel of 9, or above, like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AUTH=client, relay=server_name [server_addr], authinfo failed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;server_name&lt;/code&gt; is the value of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${server_name}&lt;/code&gt; &lt;em&gt;sendmail&lt;/em&gt;
macro.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;server_addr&lt;/code&gt; is the value of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${server_addr}&lt;/code&gt; &lt;em&gt;sendmail&lt;/em&gt;
macro.  Both identify the connected-to host for which the connection failed.&lt;/p&gt;

&lt;p&gt;All of this is implemented when you use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authinfo&lt;/code&gt; rule set.
As of V8.14, there is no way to add your own rules to this rule set.&lt;/p&gt;

&lt;h3 id=&quot;defaultauthinfo&quot;&gt;DefaultAuthInfo&lt;/h3&gt;

&lt;p&gt;When &lt;em&gt;sendmail&lt;/em&gt; is compiled with SASL defined, authenticated connections 
can be supported.  When negotiating an authenticated connection, certain 
information is required, specifically and in this order:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;em&gt;user id&lt;/em&gt; is the identifier &lt;em&gt;sendmail&lt;/em&gt; uses to check allowable
permissions.  In general, this should never be &lt;em&gt;root&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;The &lt;em&gt;authorization id&lt;/em&gt; is the identifier of the user allowed to set up
the connection.  In general, this should never be &lt;em&gt;root&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;The &lt;em&gt;password&lt;/em&gt; is the clear text password used to authorize the mail
connection.  This should be a password dedicated to this use, &lt;em&gt;not&lt;/em&gt; the
plain text copy of the user’s password.&lt;/li&gt;
  &lt;li&gt;The &lt;em&gt;realm&lt;/em&gt; is the administrative zone for authentication.  In general,
this should be your DNS domain.  If no realm is specified (this item is
blank), &lt;em&gt;sendmail&lt;/em&gt; will substitute the value of
the &lt;a href=&quot;#canonical-name-macro&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; macro&lt;/a&gt; (a.k.a. canonical name macro).&lt;/li&gt;
  &lt;li&gt;The &lt;em&gt;mechanism&lt;/em&gt; is the preferred mechanism for connection authentication.
This should match one of the mechanisms listed in
the &lt;a href=&quot;#authmechanisms-option&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthMechanisms&lt;/code&gt; option&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;canonical-name-macro&quot;&gt;Canonical Name Macro&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;$j&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Your official canonical name&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; macro is used to hold the fully qualified domain name of the 
local machine.  V8 &lt;em&gt;sendmail&lt;/em&gt; automatically defines &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; to be the fully
qualified canonical name of the local host.  However, you can still
redefine &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; if necessary; for example, if &lt;em&gt;sendmail&lt;/em&gt; cannot figure out
your fully qualified canonical name, or if your machine has multiple
network interfaces and &lt;em&gt;sendmail&lt;/em&gt; chooses the name associated with the
wrong interface.&lt;/p&gt;

&lt;p&gt;A fully qualified domain name is one that begins with the local hostname,
which is followed by a dot and all the components of the local domain.&lt;/p&gt;

&lt;p&gt;The hostname part is the name of the local machine.  That name is defined
at boot time in ways that vary with the version of Unix you are using.&lt;/p&gt;

&lt;p&gt;At many sites, the local hostname is already fully qualified.
To tell whether your site uses just the local hostname, run &lt;em&gt;sendmail&lt;/em&gt;
with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d0.4&lt;/code&gt; switch:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d0 -bt &amp;lt; /dev/null 
[ . . . ]
  (canonical domain name) $j = fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One way to tell whether &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; contains the correct value is to send mail
to yourself.  Examine the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Received:&lt;/code&gt; headers.  The name of the local host
must be fully qualified where it appears in them:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Received: by some.domain   ...other text here
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; is also used in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Message-ID:&lt;/code&gt; header definition.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; macro must &lt;em&gt;never&lt;/em&gt; be defined in the command line.&lt;/p&gt;

&lt;p&gt;In the rare event that you need to give &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; a value, you can do so in
your &lt;em&gt;mc&lt;/em&gt; configuration file like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dnl Here at your.domain we hardwire the domain.
define(`confDOMAIN_NAME&apos;, `your.domain&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;authmechanisms-option&quot;&gt;AuthMechanisms Option&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthMechanisms&lt;/code&gt; option is used to declare the types of authentication
you want to allow to be passed in the AUTH ESMTP extension (see 
&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc2554&quot;&gt;RFC2554&lt;/a&gt;
and 
&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc4954&quot;&gt;RFC4954&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;You use this option by listing the mechanisms you wish to set as its value.&lt;/p&gt;

&lt;p&gt;When there is more than one preferred mechanism, each is separated from
the others by space characters. For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`confAUTH_MECHANISMS&apos;, `CRAM-MD5 KERBEROS_V4&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Before the actual AUTH is generated, &lt;em&gt;sendmail&lt;/em&gt; produces an intersection
of the mechanisms you want and those supported by the SASL software you
have installed.  Only those that are specified by this option and those
supported by your software are listed by the issued AUTH command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;250-AUTH CRAM-MD5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, you wanted both CRAM-MD5 and KERBEROS_V4 offered as mechanisms.
But if the SASL software installed on your machine, for example, supports
only CRAM-MD5 and DIGEST-MD5, the common or intersecting mechanism will be
CRAM-MD5, so that is all that will be advertised.&lt;/p&gt;

&lt;p&gt;When more than one mechanism is listed, the other side will negotiate them
one at a time, until one succeeds.&lt;/p&gt;

&lt;p&gt;The following mechanisms are the maximum set of those recognized by the
cyrus-sasl-1.5.16 distribution.  Not all will be compiled in, so not all
will be supported.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;ANONYMOUS&lt;/em&gt; &lt;br /&gt;
The ANONYMOUS mechanism allows anyone to use the service. Authentication
parallels that of the anonymous &lt;em&gt;ftp&lt;/em&gt; login.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;CRAM-MD5&lt;/em&gt; &lt;br /&gt;
The CRAM-MD5 mechanism is the style of authentication used by POP servers
known as APOP.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;DIGEST-MD5&lt;/em&gt; &lt;br /&gt;
The DIGEST-MD5 mechanism is a stronger version of the CRAM-MD5 mechanism
that also supports encryption.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;GSSAPI&lt;/em&gt; &lt;br /&gt;
The GSSAPI mechanism implements an API for general security services that
also support encryption.  One example is support for Kerberos V5, which is
achieved using GSSAPI.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;KERBEROS_V4&lt;/em&gt;&lt;br /&gt;
The KERBEROS_V4 mechanism implements authentication based on MIT’s Kerberos 4.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;PLAIN&lt;/em&gt;&lt;br /&gt;
The PLAIN mechanism can perform plain text password authentication (in a
single step) with either PAM, KERBEROS_V4, or &lt;em&gt;/etc/passwd&lt;/em&gt;
(or &lt;em&gt;/etc/shadow&lt;/em&gt;) authentication.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;LOGIN&lt;/em&gt;&lt;br /&gt;
The LOGIN mechanism is a two-step version of PLAIN.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthMechanisms&lt;/code&gt; option is available only if &lt;em&gt;sendmail&lt;/em&gt; is compiled
with SASL.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
The complete list of SASL mechanisms, and the RFC that describes each,
can be found at&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Simple Authentication and Security Layer (SASL) Mechanisms - IANA
(Internet Assigned Numbers Authority)&lt;/strong&gt; &lt;br /&gt;
&lt;a href=&quot;https://www.iana.org/assignments/sasl-mechanisms/sasl-mechanisms.xhtml&quot;&gt;https://www.iana.org/assignments/sasl-mechanisms/sasl-mechanisms.xhtml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Similarly, the list of SASL mechanisms, SASL profiles and SASL APIs:  &lt;br /&gt;
&lt;strong&gt;SASL mechanisms, SASL profiles, SASL APIs - Claus Aßmann at sendmail.org&lt;/strong&gt;&lt;br /&gt;
(List composed by Alexey Melnikov.  Last updated: April 29, 2002.)   &lt;br /&gt;
&lt;a href=&quot;https://www.sendmail.org/~ca/email/mel/SASL_info.html&quot;&gt;https://www.sendmail.org/~ca/email/mel/SASL_info.html&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;test-submitcf-hostnamesubmitmc-with-sendmail-from-cli&quot;&gt;Test &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;hostname&amp;gt;.submit.mc&lt;/code&gt;) with &lt;em&gt;sendmail&lt;/em&gt; from CLI&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ hostname
fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the following example, after you start &lt;em&gt;sendmail&lt;/em&gt; with 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail -Ac -bt&lt;/code&gt;, lines and commands that you type are:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3,0 dusko@localhost&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3,0 dusko@fbsd1.home.arpa&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3,0 dusko@example.com&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3,0 dusko&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3,0 root&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/quit&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Ac&lt;/code&gt; parameter tells &lt;em&gt;sendmail&lt;/em&gt; to use &lt;em&gt;submit.cf&lt;/em&gt; configuration file;
that is, to oparate in &lt;strong&gt;MSP&lt;/strong&gt; (Mail Submission Program) mode.
MSP is a command-line &lt;em&gt;sendmail&lt;/em&gt; that functions as a Mail Submission Agent
(&lt;strong&gt;MSA&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bt&lt;/code&gt; parameter invokes &lt;em&gt;sendmail&lt;/em&gt; in address test mode.
This mode reads addresses and shows the steps in parsing.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -Ac -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; 3,0 dusko@localhost       
canonify           input: dusko @ localhost
Canonify2          input: dusko &amp;lt; @ localhost &amp;gt;
Canonify2        returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
canonify         returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse              input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
Parse0             input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
Parse0           returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
ParseLocal         input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
ParseLocal       returns: $# LR0relay $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse            returns: $# LR0relay $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
 
&amp;gt; 3,0 dusko@fbsd1.home.arpa
canonify           input: dusko @ fbsd1 . home . arpa
Canonify2          input: dusko &amp;lt; @ fbsd1 . home . arpa &amp;gt;
Canonify2        returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
canonify         returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse              input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
Parse0             input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
Parse0           returns: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
ParseLocal         input: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
ParseLocal       returns: $# LR0relay $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;
parse            returns: $# LR0relay $@ fbsd1 . home . arpa $: dusko &amp;lt; @ fbsd1 . home . arpa . &amp;gt;

&amp;gt; 3,0 dusko@example.com
canonify           input: dusko @ example . com
Canonify2          input: dusko &amp;lt; @ example . com &amp;gt;
Canonify2        returns: dusko &amp;lt; @ example . com . &amp;gt;
canonify         returns: dusko &amp;lt; @ example . com . &amp;gt;
parse              input: dusko &amp;lt; @ example . com . &amp;gt;
Parse0             input: dusko &amp;lt; @ example . com . &amp;gt;
Parse0           returns: dusko &amp;lt; @ example . com . &amp;gt;
ParseLocal         input: dusko &amp;lt; @ example . com . &amp;gt;
ParseLocal       returns: dusko &amp;lt; @ example . com . &amp;gt;
Parse1             input: dusko &amp;lt; @ example . com . &amp;gt;
MailerToTriple     input: &amp;lt; smartrelay : [ 127 . 0 . 0 . 1 ] &amp;gt; dusko &amp;lt; @ example . com . &amp;gt;
MailerToTriple   returns: $# smartrelay $@ [ 127 . 0 . 0 . 1 ] $: dusko &amp;lt; @ example . com . &amp;gt;
Parse1           returns: $# smartrelay $@ [ 127 . 0 . 0 . 1 ] $: dusko &amp;lt; @ example . com . &amp;gt;
parse            returns: $# smartrelay $@ [ 127 . 0 . 0 . 1 ] $: dusko &amp;lt; @ example . com . &amp;gt;
 
&amp;gt; 3,0 dusko
canonify           input: dusko
Canonify2          input: dusko
Canonify2        returns: dusko
canonify         returns: dusko
parse              input: dusko
Parse0             input: dusko
Parse0           returns: dusko
ParseLocal         input: dusko
ParseLocal       returns: dusko
Parse1             input: dusko
Parse1           returns: $# local $: dusko
parse            returns: $# local $: dusko

&amp;gt; 3,0 root
canonify           input: root
Canonify2          input: root
Canonify2        returns: root
canonify         returns: root
parse              input: root
Parse0             input: root
Parse0           returns: root
ParseLocal         input: root
ParseLocal       returns: root
Parse1             input: root
Parse1           returns: $# local $: root
parse            returns: $# local $: root
 
&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;steps-when-recompiling-sendmail-configuration-after-modifying-its-configuration-files&quot;&gt;Steps When Recompiling Sendmail Configuration after Modifying Its Configuration Files&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd /etc/mail
$ sudo su
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make stop
Stopping: sendmail sendmail-clientmqueue.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rm -i fbsd1.home.arpa.*
remove fbsd1.home.arpa.cf? y
remove fbsd1.home.arpa.mc? y
remove fbsd1.home.arpa.submit.cf? y
remove fbsd1.home.arpa.submit.mc? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rm -i *.cf
remove sendmail.cf? y
remove submit.cf? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# make all
# make install 
# make start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;debugging-sendmail---sending-outgoing-test-message-in-verbosedebug-mode&quot;&gt;Debugging Sendmail - Sending Outgoing Test Message in Verbose/Debug Mode&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d8.20&lt;/code&gt;: Debugging Switch: Tracking DNS Queuries &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d60.5&lt;/code&gt;: Debugging Switch: Tracking Maps (Databases) queries &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Ac:&lt;/code&gt; Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; even if the operation mode does not indicate an
initial mail submission; that is, oparate in MSP (Mail Submission Program)
mode.  MSP is a command-line &lt;em&gt;sendmail&lt;/em&gt; that functions as a Mail Submission
Agent (MSA).&lt;/p&gt;

&lt;p&gt;From: &lt;br /&gt;
&lt;a href=&quot;https://serverfault.com/questions/521032/debugging-sendmail-dsn-5-0-0/521614#521614&quot;&gt;Debugging sendmail - dsn=5.0.0 - - Sendmail: Sending outgoing test message in verbose/debug mode&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You may add additional debug/tracking command line options:  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d8.20&lt;/code&gt; - tracking DNS queuries  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d60.5&lt;/code&gt; - tracking maps (databases) queries&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -v -Ac -d60.5 dusko@your.isp.domain
# sendmail -v -Ac -d60.5 dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Equivalent to:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -v -d60.5 -Csubmit.cf dusko@your.isp.domain
# sendmail -v -d60.5 -Csubmit.cf dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the following example, after you start &lt;em&gt;sendmail&lt;/em&gt; with 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail -v -Ac -d60.5 &amp;lt;username&amp;gt;&lt;/code&gt;, the three lines you type are:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Subject: Test 1

.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -v -Ac -d60.5 dusko
map_lookup(dequote, dusko, %0=dusko) =&amp;gt; NOT FOUND (0), ad=0
map_lookup(dequote, dusko, %0=dusko) =&amp;gt; NOT FOUND (0), ad=0
map_lookup(dequote, dusko, %0=dusko) =&amp;gt; NOT FOUND (0), ad=0
Subject: Test 1

.
dusko... Connecting to [127.0.0.1] via relay...
220 fbsd1.home.arpa ESMTP mailer ready at Sat, 12 Nov 2022 16:53:07 -0800 (PST)
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.home.arpa
250-fbsd1.home.arpa Hello localhost [127.0.0.1], pleased to meet you 
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-AUTH LOGIN PLAIN
250-DELIVERBY
250 HELP
&amp;gt;&amp;gt;&amp;gt; STARTTLS
220 2.0.0 Ready to start TLS
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.home.arpa
250-fbsd1.home.arpa Hello localhost [127.0.0.1], pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE
250-DSN
250-DELIVERBY
250 HELP
&amp;gt;&amp;gt;&amp;gt; MAIL From:&amp;lt;dusko@fbsd1.home.arpa&amp;gt; SIZE=17
250 2.1.0 &amp;lt;dusko@fbsd1.home.arpa&amp;gt;... Sender ok
&amp;gt;&amp;gt;&amp;gt; RCPT To:&amp;lt;dusko@fbsd1.home.arpa&amp;gt;
&amp;gt;&amp;gt;&amp;gt; DATA
250 2.1.5 &amp;lt;dusko@fbsd1.home.arpa&amp;gt;... Recipient ok
354 Enter mail, end with &quot;.&quot; on a line by itself
&amp;gt;&amp;gt;&amp;gt; .
250 2.0.0 2B71HsDo027909 Message accepted for delivery
dusko... Sent (2B71HsDo027909 Message accepted for delivery)
Closing connection to [127.0.0.1]
&amp;gt;&amp;gt;&amp;gt; QUIT
221 2.0.0 fbsd1.home.arpa closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The lines that begin with numbers and the lines that begin with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/code&gt;
characters constitute a record of the SMTP conversation.&lt;/p&gt;

&lt;p&gt;Similarly, with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; parameter, which tells &lt;em&gt;sendmail&lt;/em&gt; to use
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; configuration file even if the operation mode indicates an
initial mail submission:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -v -Am -d60.5 dusko@your.isp.domain
# sendmail -v -Am -d60.5 dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Equivalent to:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -v -Csendmail.cf -d60.5 dusko@your.isp.domain
# sendmail -v -Csendmail.cf -d60.5 dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;p&gt;(All references retrieved on Nov 12, 2022.)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cgit.freebsd.org/src/commit/?id=4d184bd438&quot;&gt;RELNOTES: document the switch from sendmail to dma&lt;/a&gt;  (Author: Baptiste Daroussin &lt;bapt at=&quot;&quot; FreeBSD.org=&quot;&quot;&gt;  2022-11-07)&lt;/bapt&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cgit.freebsd.org/src/commit/?id=a67b925ff3e58b072a60b633e442ee1d33e47f7f&quot;&gt;FreeBSD source tree - mail: make The DragonFly Mail Agent (dma) the default mta.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20150810193500/http://brandonhutchinson.com/Creating_a_new_sendmail_mailer.html&quot;&gt;Creating a new &lt;em&gt;sendmail&lt;/em&gt; mailer&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://william.shallum.net/notes/2010-07-24-sendmailredirectallmailfordevelopment/&quot;&gt;Sendmail: redirect all mail for development&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://forums.freebsd.org/threads/sendmail.56661/&quot;&gt;Sendmail - The FreeBSD Forums&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://forums.freebsd.org/threads/lazy-question-about-sendmail.49321/&quot;&gt;Solved - “Lazy” question about sendmail - The FreeBSD Forums&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.hydrus.org.uk/journal/base-sendmail.html&quot;&gt;Modifying the FreeBSD base system sendmail - Posted on Mar 12, 2005&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www-ecs-shimane--u-ac-jp.translate.goog/~stamura/personal/network/op25b-sendmail.html?_x_tr_sch=http&amp;amp;_x_tr_sl=ja&amp;amp;_x_tr_tl=en&amp;amp;_x_tr_hl=en&amp;amp;_x_tr_pto=sc&quot;&gt;Setting method of submit.mc for non-resident sendmail under OP25B environment - Configuration of submit.mc Under Outbound Port 25 Blocking&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www-ecs-shimane--u-ac-jp.translate.goog/~stamura/personal/network/op25b-sendmail.html?_x_tr_sl=ja&amp;amp;_x_tr_tl=en&amp;amp;_x_tr_hl=en&amp;amp;_x_tr_pto=sc&amp;amp;_x_tr_sch=http#smtp-auth-proxy&quot;&gt;Configuring SMTP-AUTH proxy with resident sendmail&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.exim.org/exim-html-current/doc/html/spec_html/ch-encrypted_smtp_connections_using_tlsssl.html&quot;&gt;Chapter 43 - Encrypted SMTP connections using TLS/SSL - Exim Internet Mailer&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://forums.freebsd.org/threads/dma-makes-sense.52219/&quot;&gt;[Solved] DMA makes sense - The FreeBSD Forums&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://groups.google.com/g/comp.mail.sendmail/c/Gy6QBfMd3l4&quot;&gt;sendmail as relay client over port 465 with SSL - comp.mail.sendmail - &lt;em&gt;sendmail&lt;/em&gt; news group&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://groups.google.com/g/comp.mail.sendmail/c/hIqbWpw1ugc/m/uBg2v3kwAwAJ&quot;&gt;Sendmail smtps support - comp.mail.sendmail - &lt;em&gt;sendmail&lt;/em&gt; news group&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://fedoraproject.org/wiki/Configure_sendmail_as_a_client_for_SMTPs&quot;&gt;Configure sendmail as a client for SMTPs - Fedora Project Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20140228040212/http://www.dawoodfall.net/index.php/en/relaying-sendmail-a-ssl&quot;&gt;Configuring Sendmail to Relay via an SSL tunnel - Relaying Sendmail and SSL (posted on Feb 28, 2014)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jpmens.net/2020/03/05/simple-solution-for-outgoing-mail-from-a-freebsd-system/&quot;&gt;Simple solution for outgoing mail from a FreeBSD system - with dma(8) - DragonFly Mail Agent&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/mail/#sendmail&quot;&gt;30.3. Sendmail Configuration Files - Chapter 30. Electronic Mail - FreeBSD Documentation Portal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sendmail.org/~ca/email/auth.html&quot;&gt;SMTP AUTH in sendmail 8.10 (Last Update 2006-04-15) (Claus Aßmann at sendmail.org)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/mail/#SMTP-Auth&quot;&gt;30.9. SMTP Authentication - FreeBSD Handbook - FreeBSD Documentation Portal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.brennan.id.au/12-Sendmail_Server.html&quot;&gt;Chapter 12 - Sendmail Server – Linux Home Server HOWTO&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.grem.de/sysadmin/Sendmail-SmartHost-Without-DNS-2012-05-06-22-00.html&quot;&gt;Configure sendmail to forward root’s email without DNS (posted on May 6, 2012)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://perldoc.perl.org/MIME::Base64&quot;&gt;Perl - MIME::Base64 Module (Encoding and decoding of base64 strings)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://serverfault.com/questions/343720/sendmail-rewrite-rules-in-separate-file&quot;&gt;sendmail rewrite rules in separate file - Server Fault&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Rules using LOCAL_NET_CONFIG will always be inserted at the same place: &lt;br /&gt;
halfway through ruleset 0.  And they can’t be wildly different from what
was there before such that delivery no longer approximately matches the
assumptions made by the existing “parse” functionality.  New rulesets
(subroutines) from LOCAL_RULESETS will either be called only by your
inserted rules, or be called directly by the &lt;em&gt;sendmail&lt;/em&gt; program itself
depending on specific (and possibly obscure) subroutine names and
sendmail.mc FEATURE specifications.  And extensions to existing rulesets
(subroutines) from LOCAL_RULESET can add new functionality, but probably
cannot change existing functionality, as a match and “return” by an
existing earlier rule will terminate execution of that ruleset before
your additional rules are even reached.  Nevertheless, this may be
adequate for what you want.&lt;/p&gt;

  &lt;p&gt;If you do this, use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail -bt -Ctrial_sendmail.cf_file -d21.15&lt;/code&gt;&lt;br /&gt;
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d21.15&lt;/code&gt; debug switch is for tracing &lt;em&gt;sendmail&lt;/em&gt; rules and rule sets)
test mechanism to make sure it’s behaving the way you intend.
Remember, your “style” should be to compose your new rules in such
a way that they fit seamlessly into the existing ruleset framework
(rather than making arbitrary changes with little consideration for the
existing framework); it’s rather like adding a new feature to existing
code that was structured by somebody else.  The distributed rewrite
rules are very good at handling not only mainline behavior but also edge
cases (MX for individual hosts? Masquerade exceptions?  UUCP connectivity?
aliases? etc.?); hopefully your added rules will be similarly comprehensive.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;[ 1 ]&lt;/strong&gt; Other possible AKAs:&lt;/p&gt;

&lt;p&gt;Sendmail as a relay client over port 465 with SSL-or-TLS&lt;br /&gt;
Sendmail with SASL2, SMTP AUTH and TLS &lt;br /&gt;
Sendmail with SASL2, SMTP AUTH and SSL&lt;br /&gt;
Sendmail with SASL2, SMTP AUTH and SSL-or-TLS&lt;br /&gt;
Using Stunnel to secure SMTP transport &lt;br /&gt;
Implicit TLS on port 465 for SMTP Submission &lt;br /&gt;
Sendmail with SSL (port 465) &lt;br /&gt;
Sendmail with SSL-or-TLS (port 465) &lt;br /&gt;
Sendmail’s SMTP Authentication (SMTP AUTH) &lt;br /&gt;
Setting up Sendmail with SSL-or-TLS and AUTH support in FreeBSD &lt;br /&gt;
Setting up Sendmail with TLS and AUTH support in FreeBSD &lt;br /&gt;
Getting Sendmail (as a client) to use AUTH LOGIN &lt;br /&gt;
Sendmail TLS SASL SMTP-AUTH &lt;br /&gt;
Sendmail SSL-or-TLS SASL SMTP-AUTH &lt;br /&gt;
Secure SMTP AUTH over SSL with Sendmail and Cyrus SASL &lt;br /&gt;
Secure SMTP AUTH over SSL-or-TLS with Sendmail and Cyrus SASL &lt;br /&gt;
Authenticated SMTP with sendmail &lt;br /&gt;
SMTP AUTH: Client Authentication &lt;br /&gt;
Sendmail, SASL, and SSL-or-TLS &lt;br /&gt;
Sendmail, SASL, and TLS &lt;br /&gt;
Testing SMTP AUTH connections &lt;br /&gt;
Sendmail TLS SASL SMTP-AUTH &lt;br /&gt;
Sendmail SSL-or-TLS SASL SMTP-AUTH&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[ 2 ]&lt;/strong&gt;  Technically, SMTPS doesn’t exist.  According to
&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc5321#page-61&quot;&gt;RFC 5321&lt;/a&gt;,
the Protocol is either SMTP or ESMTP:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Protocol       = &quot;ESMTP&quot; / &quot;SMTP&quot; / Attdl-Protocol

   Attdl-Protocol = Atom
                  ; Additional standard names for protocols are
                  ; registered with the Internet Assigned Numbers
                  ; Authority (IANA) in the &quot;mail parameters&quot;
                  ; registry [9].  SMTP servers SHOULD NOT
                  ; use unregistered names.

----

   [9]   Newman, C., &quot;ESMTP and LMTP Transmission Types Registration&quot;,
         RFC 3848 [https://datatracker.ietf.org/doc/html/rfc3848], July 2004.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc3848&quot;&gt;RFC 3848&lt;/a&gt; specified
additional values: &lt;br /&gt;
ESMTPA when ESMTP is used with successful user authentication, ESMTPS
when ESMTP is used with STARTTLS, and ESMTPSA when the session has been
secured with both STARTTLS and SMTP AUTH are successfully negotiated
(the combination of ESMTPS and ESMTPA):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Abstract

   This registers seven new mail transmission types (ESMTPA, ESMTPS,
   ESMTPSA, LMTP, LMTPA, LMTPS, LMTPSA) for use in the &quot;with&quot; clause of
   a Received header in an Internet message.

[ . . . ]

1.  IANA Considerations

   As directed by SMTP [2], IANA maintains a registry [7] of &quot;WITH
   protocol types&quot; for use in the &quot;with&quot; clause of the Received header
   in an Internet message.  This registry presently includes SMTP [6],
   and ESMTP [2].  This specification updates the registry as follows:

   o  The new keyword &quot;ESMTPA&quot; indicates the use of ESMTP when the SMTP
      AUTH [3] extension is also used and authentication is successfully
      achieved.

   o  The new keyword &quot;ESMTPS&quot; indicates the use of ESMTP when STARTTLS
      [1] is also successfully negotiated to provide a strong transport
      encryption layer.

   o  The new keyword &quot;ESMTPSA&quot; indicates the use of ESMTP when both
      STARTTLS and SMTP AUTH are successfully negotiated (the
      combination of ESMTPS and ESMTPA).

----

   [1]  Hoffman, P., &quot;SMTP Service Extension for Secure SMTP over
        Transport Layer Security&quot;, 
        RFC 3207 [https://datatracker.ietf.org/doc/html/rfc3207], February 2002.

   [2]  Klensin, J., Ed., &quot;Simple Mail Transfer Protocol&quot;, 
        RFC 2821 [https://datatracker.ietf.org/doc/html/rfc2821], April 2001.

   [3]  Myers, J., &quot;SMTP Service Extension for Authentication&quot;, 
        RFC 2554 [https://datatracker.ietf.org/doc/html/rfc2554], March 1999.

[ . . . ]  

   [6]  Postel, J., &quot;Simple Mail Transfer Protocol&quot;, STD 10, 
        RFC 821 [https://datatracker.ietf.org/doc/html/rfc821], August 1982.

   [7]  &amp;lt;http://www.iana.org/assignments/mail-parameters&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[ 3 ]&lt;/strong&gt; &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc8314#section-3.3&quot;&gt;3.3. Implicit TLS for SMTP Submission -  The RFC 8314&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;3.3.  Implicit TLS for SMTP Submission&lt;/p&gt;

  &lt;p&gt;When a TCP connection is established for the “submissions” service
(default port 465), a TLS handshake begins immediately.  Clients MUST
implement the certificate validation mechanism described in
[RFC7817].  Once the TLS session is established, Message Submission
protocol data [RFC6409] is exchanged as TLS application data for the
remainder of the TCP connection.  (Note: The “submissions” service
name is defined in Section 7.3 of this document and follows the usual
convention that the name of a service layered on top of Implicit TLS
consists of the name of the service as used without TLS, with an “s”
appended.)&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;Note that the “submissions” port provides access to a Message
Submission Agent (MSA) as defined in [RFC6409], so requirements and
recommendations for MSAs in that document, including the requirement
to implement SMTP AUTH [RFC4954] and the requirements of Email
Submission Operations [RFC5068], also apply to the submissions port.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://tools.ietf.org/html/rfc8314#section-7.3&quot;&gt;7.3. Submissions Port Registration (Port 465) for message submission over TLS protocol – The RFC 8314 - January 2018&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;7.3.  Submissions Port Registration&lt;/p&gt;

  &lt;p&gt;IANA has assigned an alternate usage of TCP port 465 in addition to
the current assignment using the following template [RFC6335]:&lt;/p&gt;

  &lt;p&gt;Service Name: submissions&lt;br /&gt;
Transport Protocol: TCP&lt;br /&gt;
Assignee: IESG &amp;lt;iesg@ietf.org&amp;gt;&lt;br /&gt;
Contact: IETF Chair &amp;lt;chair@ietf.org&amp;gt;&lt;br /&gt;
Description: Message Submission over TLS protocol&lt;br /&gt;
Reference: RFC 8314&lt;br /&gt;
Port Number: 465&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;Historically, port 465 was briefly registered as the “smtps” port.
This registration made no sense, as the SMTP transport MX
infrastructure has no way to specify a port, so port 25 is always
used.  As a result, the registration was revoked and was subsequently
reassigned to a different service.  In hindsight, the “smtps”
registration should have been renamed or reserved rather than
revoked.  Unfortunately, some widely deployed mail software
interpreted “smtps” as “submissions” [RFC6409] and used that port for
email submission by default when an end user requested security
during account setup.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;[ 4 ]&lt;/strong&gt; The RFC 8314 was amended in 2018 to recommend the use of
          Implicit TLS over port 465:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc8314#section-3&quot;&gt;The IETF issued a one-time amendment to reinstate port 465 for message submission over TLS protocol - RFC 8314 - Use of TLS for Email Submission/Access - January 2018&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;To encourage more widespread use of TLS and to also encourage greater
consistency regarding how TLS is used, this specification now recommends
the use of Implicit TLS for POP, IMAP, SMTP Submission, and all other
protocols used between an MUA (Mail User Agent) and an MSP (Mail Service
Provider).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Port 465 and 587 are both &lt;strong&gt;valid&lt;/strong&gt; ports for a mail submission agent (MSA).
Port 465 requires negotiation of TLS/SSL at connection setup and port 587
uses STARTTLS if an MUA chooses to negotiate TLS.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[ 5 ]&lt;/strong&gt; On FreeBSD 13, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;user.localbase&lt;/code&gt; is set to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local&lt;/code&gt; by default.&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sysctl(8)&lt;/code&gt; utility:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The string and integer information is summarized below.  For a detailed
description of these variable see sysctl(3).

The changeable column indicates whether a process with appropriate
privilege can change the value.  String and integer values can be set
using sysctl.
  
Name                           Type          Changeable
.
[ . . . ]
.
user.localbase                 string        no
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man 3 sysctl
[ . . . ]
       USER_LOCALBASE
               Return the value of localbase that has been compiled into system
               utilities that need to have access to resources provided by a
               port or package.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sysctl -d user.localbase
user.localbase: Prefix used to install and locate add-on packages
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sysctl user.localbase
user.localbase: /usr/local
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[ 6 ]&lt;/strong&gt;  FreeBSD src tree - FreeBSD src commits - RELNOTES: document the
switch from sendmail to dma (Posted on Nov 7, 2022)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://cgit.freebsd.org/src/commit/?id=4d184bd438&quot;&gt;FreeBSD src tree - FreeBSD src commits - RELNOTES: document the switch from sendmail to dma&lt;/a&gt;  &lt;br /&gt;
(Posted on Nov 7, 2022)&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://twitter.com/FreeBSD_src_git/status/1589587194003472384&quot;&gt;FreeBSD src commits (@FreeBSD_src_git) on Twitter - bapt@ on . (4d184bd438): RELNOTES: document the switch from sendmail to dma&lt;/a&gt;  (Posted on Nov 7, 2022)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://twitter.com/_bapt_/status/938688218215714817&quot;&gt;Time to remove sendmail from #FreeBSD base? - Baptiste Daroussin - Twitter&lt;/a&gt;  (Posted on Dec 7, 2017)&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://lists.freebsd.org/pipermail/freebsd-arch/2017-December/018712.html&quot;&gt;Sendmail deprecation ? - Baptiste Daroussin bapt at FreeBSD.org - Dec 6, 2017 - The freebsd-arch Mailing List Archives&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://twitter.com/ed_maste/status/1487170942249930756&quot;&gt;Did you know? FreeBSD includes the DragonFly Mail Agent (dma), a minimal MTA, in the base system. - Ed Maste (@ed_maste)&lt;/a&gt;  (Posted on Jan 28, 2022)&lt;/p&gt;
    &lt;blockquote&gt;
      &lt;p&gt;Did you know? FreeBSD includes the DragonFly Mail Agent (dma), a minimal MTA,
in the base system.  See the dma(1) and mailer.conf(5) man pages for
configuration details.&lt;/p&gt;

      &lt;p&gt;&lt;a href=&quot;https://www.freebsd.org/cgi/man.cgi?query=dma&quot;&gt;dma(8) - FreeBSD Manual Pages&lt;/a&gt;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;[ 7 ]&lt;/strong&gt; From &lt;a href=&quot;https://www.sendmail.org/~ca/email/auth.html&quot;&gt;SMTP AUTH in sendmail 8.10 - Claus Aßmann at sendmail.org&lt;/a&gt; (Last Update 2006-04-15) (Retrieved on Nov 12, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Terminology&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;SASL defines two terms which are important in this context:
&lt;em&gt;authorization identifier&lt;/em&gt; and &lt;em&gt;authentication identifer&lt;/em&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;authorization identifier&lt;/em&gt; (&lt;strong&gt;userid&lt;/strong&gt;) &lt;br /&gt;
The userid is the identifier an application uses to check whether
operations are allowed (authorized).  &lt;br /&gt;
&lt;em&gt;authentication identifer&lt;/em&gt; (&lt;strong&gt;authid&lt;/strong&gt;) &lt;br /&gt;
The authentication identifier is the identifier that is being used to
authenticate the client.  That is, the authentication credentials of
the client contain the authentication identifier.  This can be used
for a proxy server to act as (proxy for) another user.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Operation&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;SMTP AUTH allows relaying for senders who have successfully
&lt;strong&gt;authenticated themselves&lt;/strong&gt;.  Per default, &lt;strong&gt;relaying&lt;/strong&gt; is &lt;strong&gt;allowed&lt;/strong&gt;
for any user who &lt;strong&gt;authenticated&lt;/strong&gt; via a trusted mechanism, i.e., one that
is defined via &lt;br /&gt;
TRUST_AUTH_MECH(`list of mechanisms’) &lt;br /&gt;
This is useful for roaming users and can replace POP-before-SMTP hacks if
the MUA supports SMTP AUTH.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;New macros for SMTP AUTH are &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_authen}&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_author}&lt;/code&gt;, and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_type}&lt;/code&gt;, which hold the client’s authentication credentials
(&lt;a href=&quot;https://www.sendmail.org/~ca/email/auth.html#authid&quot;&gt;authid&lt;/a&gt;),
the authorization identity
(&lt;a href=&quot;https://www.sendmail.org/~ca/email/auth.html#userid&quot;&gt;userid&lt;/a&gt;)
(i.e., the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL&lt;/code&gt; command, if supplied),
and the mechanism used for authentication.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;[ 8 ]&lt;/strong&gt; In addition, the &lt;strong&gt;relay&lt;/strong&gt; delivery agent is also chosen for
forwarding mail to LUSER_RELAY (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LUSER_RELAY&lt;/code&gt; mc macro),
BITNET_RELAY (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$B&lt;/code&gt; macro, deprecated), UUCP_RELAY (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UUCP_RELAY&lt;/code&gt; mc macro),
DECNET_RELAY (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DECNET_RELAY&lt;/code&gt; mc macro), FAX_RELAY (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FAX_RELAY&lt;/code&gt; mc macro)
and MAIL_HUB (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL_HUB&lt;/code&gt; mc macro).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[ 9 ]&lt;/strong&gt;
From &lt;em&gt;Linux Network Administrator’s Guide&lt;/em&gt;, Second Edition&lt;br /&gt;
By Olaf Kirch, Terry Dawson;
Published By: O’Reilly Media, Inc., Publication Date: June 2000&lt;br /&gt;
(Chapter 18. Sendmail &amp;gt; Interpreting and Writing Rewrite Rules &amp;gt; Ruleset Semantics):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Each of the &lt;em&gt;sendmail&lt;/em&gt; rulesets is called upon to perform
a different task in mail processing.&lt;/p&gt;

  &lt;p&gt;LOCAL_RULE_3&lt;/p&gt;

  &lt;p&gt;Ruleset 3 is responsible for converting an address in an arbitrary format
into a common format that &lt;em&gt;sendmail&lt;/em&gt; will then process.
The expected output format is&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;local-part&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;host-domain-spec&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;Ruleset 3 should place the hostname part of the converted address inside
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt; characters to make parsing by later rulesets easier.
Ruleset 3 is applied before &lt;em&gt;sendmail&lt;/em&gt; does any other processing of an
email address so if you want &lt;em&gt;sendmail&lt;/em&gt; to gateway mail from some system that
uses some unusual address format, you should add a rule using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCAL_RULE_3&lt;/code&gt;
macro to convert addresses into the common format.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;[ 10 ]&lt;/strong&gt; Delivery Agent Equates&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+--------+----------------+-------------------------------+
| Equate | Field Name     | Meaning                       |
+--------+----------------+-------------------------------+
| /=     | /path          | Set a chroot directory        |
|        |                | (V8.10 and later)             |
+--------+----------------+-------------------------------+
| A=     | Argv           | Delivery agent&apos;s              |
|        |                | command-line arguments        |
+--------+----------------+-------------------------------+
| C=     | CharSet        | Default MIME character        |
|        |                | set (V8.7 and later)          |
+--------+----------------+-------------------------------+
| D=     | Directory      | Delivery agent working        |
|        |                | directory (V8.6 and later)    |
+--------+----------------+-------------------------------+
| E=     | EOL            | End-Of-Line string            |
+--------+----------------+-------------------------------+
| F=     | Flags          | Delivery agent flags          |
+--------+----------------+-------------------------------+
| L=     | LineLimit      | Maximum line length           |
|        |                | (V8.1 and later)              |
+--------+----------------+-------------------------------+
| M=     | MaxMsgSize     | Maximum message size          |
+--------+----------------+-------------------------------+
| m=     | maxMsgsPerConn | Max messages per connection   |
|        |                | (V8.10 and later)             |
+--------+----------------+-------------------------------+
| N=     | Niceness       | How to nice(2) the agent      |
|        |                | (V8.7 and later)              | 
+--------+----------------+-------------------------------+
| P=     | Path           | Path to the delivery agent    |
+--------+----------------+-------------------------------+
| Q=     | QueueGroup     | The name of the queue group   | 
|        |                | to use (V8.12 and later)      | 
+--------+----------------+-------------------------------+
| R=     | Recipient      | Recipient rewriting rule      | 
+--------+----------------+-------------------------------+
| r=     | recipients     | Maximum recipients per        | 
|        |                | envelope (V8.12 and later)    |
+--------+----------------+-------------------------------+
| S=     | Sender         | Sender rewriting rule set     | 
+--------+----------------+-------------------------------+
| T=     | Type           | Types for DSN diagnostics     | 
|        |                | (V8.7 and later)              |
+--------+----------------+-------------------------------+
| U=     | UID            | Run agent as user-id:group-id |
|        |                | (V8.7 and later)              | 
+--------+----------------+-------------------------------+
| W=     | Wait           | Timeout for a process wait    |
|        |                | (V8.10 and later)             |
+--------+----------------+-------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[ 11 ]&lt;/strong&gt; Sections of Chapter 8. Securing the Mail Transport
(from &lt;em&gt;sendmail Cookbook&lt;/em&gt; by Craig Hunt - Published by O’Reilly
Media, Inc., Publication Date: December 2003):&lt;/p&gt;

&lt;p&gt;8.1. Building a Private Certificate Authority&lt;br /&gt;
8.2. Creating a Certificate Request&lt;br /&gt;
8.3. Signing a Certificate Request&lt;br /&gt;
8.4. Configuring sendmail for STARTTLS&lt;br /&gt;
8.5. Relaying Based on the CA&lt;br /&gt;
8.6. Relaying Based on the Certificate Subject&lt;br /&gt;
8.7. Requiring Outbound Encryption&lt;br /&gt;
8.8. Requiring Inbound Encryption &lt;br /&gt;
8.9. Requiring a Verified Certificate&lt;br /&gt;
8.10. Requiring TLS for a Recipient&lt;br /&gt;
8.11. Refusing STARTTLS Service&lt;br /&gt;
8.12. Selectively Advertising STARTTLS&lt;br /&gt;
8.13. Requesting Client Certificates&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[ 12 ]&lt;/strong&gt; The RFC describes three functions for the AUTH keyword:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250-AUTH&lt;/code&gt; is the response of the SMTP &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EHLO&lt;/code&gt; command.  The response
advertises the supported authentication mechanisms.  The configuration
that causes &lt;em&gt;sendmail&lt;/em&gt; to list AUTH in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EHLO&lt;/code&gt; response and to accept
incoming AUTH connections is covered in Recipe 7.1.  That configuration
applies when &lt;em&gt;sendmail&lt;/em&gt; runs as an &lt;strong&gt;MTA&lt;/strong&gt;, and it is &lt;strong&gt;only&lt;/strong&gt; applicable
when &lt;em&gt;sendmail&lt;/em&gt; is run with the &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bd&lt;/code&gt;&lt;/strong&gt; command-line option.&lt;/li&gt;
    &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; is the SMTP command used to request authentication and to select
the authentication mechanism for the session.  The connecting host must
select one of the mechanisms advertised by the receiving host, or the
authentication attempt is rejected. &lt;em&gt;sendmail&lt;/em&gt; will request AUTH
authentication when it is configured as described in Recipe 7.2.
A laptop or desktop that sends SMTP mail but does not accept inbound SMTP
connections could be configured using only Recipe 7.2.  A system that
accepts incoming AUTH connections and creates outgoing AUTH connections
would combine the configurations from both Recipe 7.1 and Recipe 7.2.&lt;/li&gt;
    &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; is a parameter used on the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; line to identify the
authenticated source address.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter comes from the
connecting host as part of the initial envelope sender address.
If the receiving host trusts the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter, it propagates it on
to the next mail relay.  Recipe 7.6 provides additional information about
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;[ 13 ]&lt;/strong&gt; The Cyrus SASL documentation defines four special terms:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;userid&lt;/strong&gt;  &lt;br /&gt;
The username that determines the permissions granted to the client.
The client is given the permissions normally granted to the specified user.
&lt;em&gt;userid&lt;/em&gt; is also called the &lt;strong&gt;&lt;em&gt;authorization id&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;authid&lt;/strong&gt;  &lt;br /&gt;
The account name used to authenticate the connection.
&lt;em&gt;authid&lt;/em&gt; is also called the &lt;strong&gt;&lt;em&gt;authentication id&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;realm&lt;/strong&gt;&lt;br /&gt;
A group of users, systems, and services that share a common authentication
environment.  All members of a given group use the same &lt;em&gt;realm&lt;/em&gt; value.
It is &lt;strong&gt;common&lt;/strong&gt; to use a &lt;strong&gt;domain name&lt;/strong&gt; or &lt;strong&gt;hostname&lt;/strong&gt; for the &lt;em&gt;realm&lt;/em&gt; value.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;mechanism&lt;/strong&gt; &lt;br /&gt;
Identifies the type of authentication used.  For example, DIGEST-MD5 is a
valid &lt;em&gt;mechanism&lt;/em&gt; value.&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;userid&lt;/em&gt; and &lt;em&gt;authid&lt;/em&gt; values cause the most confusion.  To understand
how SASL uses these two values, think of an &lt;em&gt;/etc/passwd&lt;/em&gt; file with one
entry for &lt;em&gt;craig&lt;/em&gt; and another for &lt;em&gt;kathy&lt;/em&gt;.  In a normal login, when Kathy
logs in to the &lt;em&gt;kathy&lt;/em&gt; account, she is granted the permissions given to
that account.  With SASL, it is possible to set &lt;em&gt;authid&lt;/em&gt; to &lt;em&gt;kathy&lt;/em&gt; and
&lt;em&gt;userid&lt;/em&gt; to &lt;em&gt;craig&lt;/em&gt;, which means that the &lt;em&gt;kathy&lt;/em&gt; account password is
required for authentication, but the permissions granted to the user are
the permissions granted to the &lt;em&gt;craig&lt;/em&gt; account.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[ 14 ]&lt;/strong&gt; Three configuration commands can be used in the &lt;em&gt;Sendmail.conf&lt;/em&gt; file.
They are:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;srvtab&lt;/em&gt; &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;srvtab&lt;/code&gt; command points to the file that contains the Kerberos 4
service key.  The argument provided with this command is the full pathname
of the service key file.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;auto_transition&lt;/em&gt;&lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;auto_transition&lt;/code&gt; command causes SASL to automatically create
a &lt;em&gt;sasldb&lt;/em&gt; entry for every user that authenticates using the &lt;strong&gt;PLAIN&lt;/strong&gt;
authentication method.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;pwcheck_method&lt;/em&gt;&lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pwcheck_method&lt;/code&gt; command defines the technique that SASL should use to
validate the clear text password received during &lt;strong&gt;PLAIN&lt;/strong&gt; method
authentication.  The possible values for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pwcheck_method&lt;/code&gt; are:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;em&gt;passwd&lt;/em&gt; &lt;br /&gt;
Tells SASL to look up passwords in the &lt;em&gt;/etc/passwd&lt;/em&gt; file.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;shadow&lt;/em&gt; &lt;br /&gt;
Tells SASL to look up passwords on the &lt;em&gt;/etc/shadow&lt;/em&gt; file.  Because of the
file permissions associated with the &lt;em&gt;/etc/shadow&lt;/em&gt; file, the application
must be running as &lt;em&gt;root&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;pam&lt;/em&gt; &lt;br /&gt;
Tells SASL to use Pluggable Authentication Modules (PAM). PAM must,
of course, be properly configured to authenticate the password.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;sasldb&lt;/em&gt; &lt;br /&gt;
Tells SASL that the passwords for the PLAIN authentication method are
stored in the &lt;em&gt;sasldb&lt;/em&gt; file.  Normally, &lt;em&gt;sasldb&lt;/em&gt; is only used for
DIGEST-MD5 and CRAM-MD5 authentication.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;kerberos_v4&lt;/em&gt; &lt;br /&gt;
Tells SASL to authenticate clear text passwords through the Kerberos 4
server.  Kerberos 4 must be installed, configured, and running, and the
Kerberos 4 server must be configured to accept clear text passwords.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;sia&lt;/em&gt; &lt;br /&gt;
Tells SASL to use Digital’s Security Integration Architecture (SIA) to
validate passwords.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;pwcheck&lt;/em&gt; &lt;br /&gt;
Tells SASL to pass the data to an external program for password checking.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;[ 15 ]&lt;/strong&gt; SASL Flags&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+------+---------------------------------------------------------------+
| Flag | Purpose                                                       |
+------+---------------------------------------------------------------+
| A    | Use the AUTH= parameter only when successfully authenticated. |
+------+---------------------------------------------------------------+
| a    | Request optional protection against active attacks during the |
|      | authentication exchange.                                      |
+------+---------------------------------------------------------------+
| c    | Require client credentials if the authentication mechanism    |
|      | supports them.                                                |
+------+---------------------------------------------------------------+
| d    | Reject authentication techniques that are susceptible to      |
|      | dictionary attacks.                                           |
+------+---------------------------------------------------------------+
| f    | Don&apos;t use the same static shared-secret for each session.     |
+------+---------------------------------------------------------------+
| p    | Reject authentication techniques that are susceptible to      |
|      | simple passive attacks.                                       |
+------+---------------------------------------------------------------+
| y    | Don&apos;t allow the ANONYMOUS authentication mechanism.           |
+------+---------------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; option controls when the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter is added to the envelope
sender information on the SMTP &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mail From:&lt;/code&gt; command line.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[ 16 ]&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt; rule set and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SLocal_trust_auth&lt;/code&gt; hook&lt;/p&gt;

&lt;p&gt;About the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SLocal_trust_auth&lt;/code&gt; hook - based on directions from
&lt;em&gt;/usr/local/share/sendmail/cf/README&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;If the MSP should actually use AUTH then the necessary data
should be placed in a map as explained in SMTP AUTHENTICATION:

FEATURE(`authinfo&apos;, `DATABASE_MAP_TYPE /etc/mail/msp-authinfo&apos;)

/etc/mail/msp-authinfo should contain an entry like:

        AuthInfo:127.0.0.1      &quot;U:smmsp&quot; &quot;P:secret&quot; &quot;M:DIGEST-MD5&quot;

The file and the map created by makemap should be owned by smmsp,
its group should be smmsp, and it should have mode 640.

The database used by the MTA for AUTH must have a corresponding entry.

Additionally the MTA must trust this authentication data so the AUTH=
part will be relayed on to the next hop.  This can be achieved by
adding the following to your sendmail.mc file:

        LOCAL_RULESETS
        SLocal_trust_auth
        R$*	$: $&amp;amp;{auth_authen}
        Rsmmsp	$# OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;strong&gt;sendmail&lt;/strong&gt;, 4th Edition (a.k.a. &lt;strong&gt;“Bat Book”&lt;/strong&gt;) &lt;br /&gt;
By Bryan Costales, Claus Assmann, George Jansen, Gregory Neil Shapiro&lt;br /&gt;
(Published by: O’Reilly Media, Inc., Publication Date: October 2007)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;SASL and Rule Sets&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The SMTP &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; extension, enabled by SASL, allows client machines to relay
mail through the authentication-checking server.  This mechanism is especially
useful for roaming users whose laptops seldom have a constant IP number or
hostname assigned.  A special rule set called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trust_auth&lt;/code&gt;, found inside
the &lt;em&gt;sendmail&lt;/em&gt; configuration file, does the actual checking.  This rule set
decides whether the client’s authentication identifier (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authid&lt;/code&gt;) is trusted
to act as (proxy for) the requested authorization identity (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;userid&lt;/code&gt;).
It allows &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authid&lt;/code&gt; to act for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;userid&lt;/code&gt; if both are recognized, and disallows
that action if the authentication fails.&lt;/p&gt;

&lt;p&gt;Another rule set, called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt;, is available if you wish to
supplement the basic test provided by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trust_auth&lt;/code&gt;.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt;
rule set can return the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#error&lt;/code&gt; delivery agent to disallow proxying, or it
can return OK to allow proxying.&lt;/p&gt;

&lt;p&gt;Within the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt; rule set you can use three new &lt;em&gt;sendmail&lt;/em&gt;
macros (in addition to the other normal &lt;em&gt;sendmail&lt;/em&gt; macros). They are:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_authen}&lt;/code&gt;  &lt;br /&gt;
The client’s &lt;strong&gt;authentication credentials&lt;/strong&gt; as determined by the
authentication process.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_author}&lt;/code&gt; &lt;br /&gt;
The &lt;strong&gt;authorization identity&lt;/strong&gt; as set by issuance of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SMTP AUTH=&lt;/code&gt; parameter.
This could be either a &lt;em&gt;username&lt;/em&gt; or a &lt;em&gt;user@host.domain&lt;/em&gt; address.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_type}&lt;/code&gt; &lt;br /&gt;
The &lt;strong&gt;mechanism&lt;/strong&gt; used for authentication, such as CRAM-MD5 and PLAIN.&lt;/p&gt;

&lt;p&gt;These three macros can also be used in any of the relay-testing rule sets
to determine whether a particular user may relay.  To illustrate, consider
a rule set designed to allow senders with local accounts on the local
machine to relay only if authenticated:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LOCAL_RULESETS
SLocal_check_rcpt
R$*			$: $&amp;amp;{auth_type} $| $&amp;amp;{auth_authen}
RDIGEST-MD5 $| $+@$=w	$# OK
RCRAM-MD5 $| $+@$=w	$# OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_rcpt&lt;/code&gt; rule set is called to validate the envelope
recipient.  The first rule (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; line) replaces the workspace (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$*&lt;/code&gt; on
the left) with three values: the current value of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_type}&lt;/code&gt; macro;
a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$|&lt;/code&gt; literal; and the current value of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_authen}&lt;/code&gt; macro.&lt;/p&gt;

&lt;p&gt;If the authentication type is either &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DIGEST-MD5&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CRAM-MD5&lt;/code&gt; and if the
domain is in the class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$=w&lt;/code&gt; (is a local hostname or address), the envelope
sender is allowed to relay.  But if the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_type}&lt;/code&gt; macro’s value is
empty (nothing was authenticated), or if the authentication was by an
untrusted mechanism, such as PLAIN, the envelope sender is not allowed to relay.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Policy Rule Set Reference&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Beginning with V8.8, &lt;em&gt;sendmail&lt;/em&gt; calls special rule sets internally to
determine its behavior.  Called the &lt;em&gt;policy rule sets&lt;/em&gt;, they are used for
such varied tasks as setting spam handling, setting policy, or validating
the conditions when ETRN should be allowed, to list just a few.
Table below shows the complete list of these policy rule sets.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;The policy rule sets table&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+--------------+-------------------+------------------------------------------------------+
| Rule set     | Hook              | Description                                          |
+--------------+-------------------+------------------------------------------------------+
| authinfo     | None              | Handle AuthInfo: lookups in the access database.     |
+--------------+-------------------+------------------------------------------------------+
| check_compat | See below         | Validate just before delivery.                       |
+--------------+-------------------+------------------------------------------------------+
| check_data   | None needed       | Check just after DATA.                               | 
+--------------+-------------------+------------------------------------------------------+
| check_eoh    | None needed       | Validate after headers are read.                     |
+--------------+-------------------+------------------------------------------------------+
| check_eom    | None needed       | Review message&apos;s size (V8.13 and later).             |
+--------------+-------------------+------------------------------------------------------+
| check_etrn   | None needed       | Allow or disallow ETRN.                              |
+--------------+-------------------+------------------------------------------------------+
| check_expn   | None needed       | Validate EXPN.                                       |
+--------------+-------------------+------------------------------------------------------+
| check_mail   | Local_check_mail  | Validate the envelope-sender address.                | 
+--------------+-------------------+------------------------------------------------------+
| check_rcpt   | Local_check_rcpt  | Validate the envelope-recipient address.             | 
+--------------+-------------------+------------------------------------------------------+
| check_relay  | Local_check_relay | Validate incoming network connections.               |
+--------------+-------------------+------------------------------------------------------+
| check_vrfy   | None needed       | Validate VRFY.                                       |
+--------------+-------------------+------------------------------------------------------+
| queuegroup   | See below         | Select a queue group.                                |
+--------------+-------------------+------------------------------------------------------+
| srv_features | None needed       | Tune server setting based on connection information. | 
+--------------+-------------------+------------------------------------------------------+
| tls_client   | LOCAL_TLS_CLIENT  | With the access database, validate inbound STARTTLS  |
|              |                   | or MAIL From: SMTP command.                          |
+--------------+-------------------+------------------------------------------------------+
| tls_rcpt     | LOCAL_TLS_RCPT    | Validate a server&apos;s credentials based on the         |
|              |                   | recipient address.                                   |
+--------------+-------------------+------------------------------------------------------+
| tls_server   | LOCAL_TLS_SERVER  | Possibly with the access database, validate the      |
|              |                   | inbound and outbound connections.                    |
+--------------+-------------------+------------------------------------------------------+
| trust_auth   | Local_trust_auth  | Validate that a client&apos;s authentication              |
|              |                   | identifier (authid) is trusted to act as (proxy for) |
|              |                   | the requested authorization identity (userid).       |
+--------------+-------------------+------------------------------------------------------+
| try_tls      | LOCAL_TRY_TLS     | Disable STARTTLS for selected outbound connected-to  |
|              |                   | hosts.                                               |
+--------------+-------------------+------------------------------------------------------+
| Hname:$      | n/a               | Reject, discard, or accept a message based on a      |
|              |                   | header&apos;s value.                                      |
+--------------+-------------------+------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that some of these rule sets are omitted from your configuration file
by default.  For those, no hook is needed. You merely declare the rule set
in your &lt;em&gt;mc&lt;/em&gt; file and give it appropriate rules:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LOCAL_RULESETS
Scheck_vrfy
... &amp;lt;your rules here&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Those with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_&lt;/code&gt; hook, as shown in the table, are declared
&lt;strong&gt;by default&lt;/strong&gt; in your configuration file.  To use them yourself, you need
only declare them with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_&lt;/code&gt; hook indicated:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LOCAL_RULESETS
SLocal_check_rcpt
... &amp;lt;your rules here&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Those with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCAL_&lt;/code&gt; hook, as shown in the table, are &lt;strong&gt;declared directly
with that hook&lt;/strong&gt;.  There in no need to precede the hook with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCAL_RULESETS&lt;/code&gt;.
For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LOCAL_TRY_TLS
... &amp;lt;your rules here&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The two &lt;strong&gt;exceptions&lt;/strong&gt; are the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_compat&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;queuegroup&lt;/code&gt; rule sets.
Each is automatically declared when you use the corresponding
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(check_compat)&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(queuegroup)&lt;/code&gt;, but not declared if you
don’t use that feature.&lt;/p&gt;

&lt;p&gt;All of these rule sets are handled in the same manner.  If the rule set
does not exist, the action is permitted.  If the rule set returns anything
other than a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#error&lt;/code&gt; or a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#discard&lt;/code&gt; delivery agent, the message, identity,
or action is accepted for that rule set (although it can still be rejected
or discarded by another rule set).  Otherwise, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#error&lt;/code&gt; delivery agent
causes the message, identity, or action to be rejected and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#discard&lt;/code&gt;
delivery agent causes the message to be accepted, then discarded.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;${auth_authen} Macro&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;RFC2554 AUTH credentials, &lt;em&gt;sendmail&lt;/em&gt; V8.10 and later.&lt;/p&gt;

&lt;p&gt;A server offers authentication by presenting the AUTH keyword to the
connecting site, following that with the types of mechanisms supported:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;250-host.domain Hello some.domain, pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE
250-DSN
250-ETRN
250-AUTH DIGEST-MD5 CRAM-MD5
250-DELIVERBY
250 HELP
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note the line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250-AUTH DIGEST-MD5 CRAM-MD5&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If the connecting site wishes to authenticate itself, it replies with an
AUTH command indicating the type of mechanism preferred:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AUTH X5                                                           ← client sends
504 Unrecognized authentication type.                             ← server replies
AUTH CRAM-MD5                                                     ← client sends
334  PENCeUxFREJoU0NnbmhNWitOMjNGNndAZWx3b29kLmlubm9zb2Z0LmNvbT4= ← server replies
ZnJlZCA5ZTk1YWVlMDljNDBhZjJiODRhMGMyYjNiYmFlNzg2ZQ=  =            ← client sends
235 Authentication successful.          
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the client first asks for X5 authentication, which the server rejects.
The client next asks for CRAM-MD5.  The server says it can support that by
replying with a 334 followed by a challenge string.  The client replies to
the challenge with an appropriate reply string, and the authentication is
successful (as shown in the last line).&lt;/p&gt;

&lt;p&gt;If authentication is successful, this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_authen}&lt;/code&gt; macro is assigned
the authentication credentials that were approved as its value.  The form
of the credentials depends on the encryption used.  It could be a simple
username (such as &lt;em&gt;bob&lt;/em&gt;) or a username at a realm (such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bob@some.domain&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;The client can then offer a different user, rather than the envelope sender,
to authenticate on behalf of the envelope sender.  This is done by adding
an AUTH= parameter to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; keyword:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;MAIL From: &amp;lt;user@host.domain&amp;gt; AUTH=address
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;address&lt;/em&gt; is assigned to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_author}&lt;/code&gt; macro, and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trust_auth&lt;/code&gt;
rule set is called to make further policy decisions, with the AUTH= parameter
in its workspace.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_authen}&lt;/code&gt; macro is useful for adding your own rules to the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt; rule set.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_authen}&lt;/code&gt; is transient.  If defined in the configuration file or in
the command line, that definition can be ignored by &lt;em&gt;sendmail&lt;/em&gt;.  Note that
a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;amp;&lt;/code&gt; prefix is necessary when you reference this macro in rules (that is,
use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;amp;{auth_authen}&lt;/code&gt;, not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_authen}&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Note that, beginning with V8.13, the value to be stored into this macro is
first xtext encoded, then stored (Macro Xtext Translations
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 17 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;${auth_author} Macro&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;RFC2554 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter, &lt;em&gt;sendmail&lt;/em&gt; V8.10 and later.&lt;/p&gt;

&lt;p&gt;As part of the RFC2554 authentication scheme, a client can ask whether
a user other than the envelope sender is allowed to authenticate on behalf
of the envelope sender.  This is done by adding an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter to the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; keyword:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;MAIL From: &amp;lt;user@host.domain&amp;gt; AUTH=address
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_author}&lt;/code&gt; macro is assigned the &lt;em&gt;address&lt;/em&gt; that followed the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; AUTH= extension.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_author}&lt;/code&gt; macro is useful for adding your own rules to the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt; rule set.&lt;br /&gt;
Note that a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;amp;&lt;/code&gt; prefix is necessary when you reference this macro in rules
(that is, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;amp;{auth_author}&lt;/code&gt;, not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_author}&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Note that beginning with V8.13, the value to be stored into this
macro is first xtext-encoded, then stored (Macro Xtext Translations
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 17 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_author}&lt;/code&gt; is transient.  If defined in the configuration file or in
the command line, that definition can be ignored by &lt;em&gt;sendmail&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;${auth_type} Macro&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Authentication mechanism used, &lt;em&gt;sendmail&lt;/em&gt; V8.10 and later.&lt;/p&gt;

&lt;p&gt;A server offers authentication by presenting the AUTH keyword to
the connecting site, following that with the types of authentication
mechanisms supported:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;250-host.domain Hello some.domain, pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE
250-DSN
250-ETRN
250-AUTH DIGEST-MD5 CRAM-MD5
250-DELIVERBY
250 HELP
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note the line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250-AUTH DIGEST-MD5 CRAM-MD5&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If the connecting site wishes to authenticate itself, it replies with
an AUTH command indicating the mechanism preferred:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AUTH CRAM-MD5                                 ← client sends
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Once it is selected, that mechanism is placed into this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_type}&lt;/code&gt; macro.
If no mechanism is selected (none is offered, or none is accepted) or if the
act of authentication fails, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_type}&lt;/code&gt; becomes undefined (NULL).&lt;/p&gt;

&lt;p&gt;If the authentication is accepted, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Received:&lt;/code&gt; header is updated to reflect that:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;HReceived: $?sfrom $s $.$?_($?s$|from $.$_)
        $.$?{auth_type}(authenticated$?{auth_ssf} bits=${auth_ssf}$.)
        $.by $j ($v/$Z)$?r with $r$. id $i$?{tls_version}
        (version=${tls_version} cipher=${cipher} bits=${cipher_bits}
verify=${verify})$.$?u
        for $u; $|;
        $.$b
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, if the connection were authenticated, the second line of the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Received:&lt;/code&gt; header would look like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;(authenticated bits=bits)
(authenticated)                       ← if no encryption negotiated
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_type}&lt;/code&gt; macro is useful for adding your own rules to
policy rule sets, such as to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt; rule set.
Note that a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;amp;&lt;/code&gt; prefix is necessary when you reference this macro
in rules (that is, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;amp;{auth_type}&lt;/code&gt;, not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_type}&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${auth_type}&lt;/code&gt; is transient.  If defined in the configuration file or in
the command line, that definition can be ignored by &lt;em&gt;sendmail&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[ 17 ]&lt;/strong&gt; Macro Xtext Translations&lt;/p&gt;

&lt;p&gt;Some macros are assigned values from text that is supplied by outside
connecting hosts.  Such text cannot necessarily be trusted in rule sets,
or as keys in database-map lookups.&lt;/p&gt;

&lt;p&gt;To protect itself, &lt;em&gt;sendmail&lt;/em&gt; modifies such text by translating whitespace
characters (spaces and tabs), nonprinting characters (such as newlines and
control characters), and the following list of special characters:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt; &amp;gt; ( ) &quot; +
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Translation&lt;/em&gt; is the replacement of each special character with its
corresponding hexadecimal value (based on U.S. ASCII), where each new
hexadecimal value is prefixed with a &lt;strong&gt;plus character&lt;/strong&gt;. (This is also
called &lt;em&gt;xtext&lt;/em&gt; translation and is documented in RFC1891.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;(some text)        becomes  →   +28some+20text+29
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Only six macros are subject to this encoding at this time.  They are listed
in the table below.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Macros subject to xtext encoding&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+-----------------+---------------------------------------------------------------+
| Macro           | Description                                                   |
+-----------------+---------------------------------------------------------------+
| ${auth_authen}  | RFC2554 AUTH credentials (xtext encoded with V8.13 and later) |
+-----------------+---------------------------------------------------------------+
| ${auth_author}  | RFC2554 AUTH= parameter (xtext encoded with V8.13 and later)  |
+-----------------+---------------------------------------------------------------+
| ${cert_issuer}  | Distinguished name of certificate signer                      |
+-----------------+---------------------------------------------------------------+
| ${cert_subject} | Distinguished name of certificate (owner)                     |
+-----------------+---------------------------------------------------------------+
| ${cn_issuer}    | Common name of certificate signer                             |
+-----------------+---------------------------------------------------------------+
| ${cn_subject}   | Common name of certificate                                    |
+-----------------+---------------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[ 18 ]&lt;/strong&gt; SMTP Basic Commands
(From &lt;em&gt;Postfix&lt;/em&gt; by Richard Blum, 
Published By: Sams, Publication Date: May 2001):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+---------+----------------------------------------------------------------------+
| Command | Description                                                          |
+---------+----------------------------------------------------------------------+
| HELO    | Opening greeting from client                                         |
+---------+----------------------------------------------------------------------+
| MAIL    | Identifies sender of message                                         |
+---------+----------------------------------------------------------------------+
| RCPT    | Identifies recipient(s)                                              |
+---------+----------------------------------------------------------------------+
| DATA    | Identifies start of message                                          |
+---------+----------------------------------------------------------------------+
| SEND    | Sends message to terminal(s)                                         |
+---------+----------------------------------------------------------------------+
| SOML    | Send-or-Mail; sends message to mailbox or terminal of recipient(s)   |
+---------+----------------------------------------------------------------------+
| SAML    | Send-and-Mail; sends message to mailbox and terminal of recipient(s) |
+---------+----------------------------------------------------------------------+
| RSET    | Reset; aborts SMTP connection and discards information               |
+---------+----------------------------------------------------------------------+
| VRFY    | Verifies that username exists on server                              |
+---------+----------------------------------------------------------------------+
| EXPN    | Verifies that mailing list exists on server                          |
+---------+----------------------------------------------------------------------+
| HELP    | Requests list of commands                                            |
+---------+----------------------------------------------------------------------+
| NOOP    | No operation; only elicits an &quot;OK&quot; from server                       |
+---------+----------------------------------------------------------------------+
| QUIT    | Ends the SMTP session                                                |
+---------+----------------------------------------------------------------------+
| TURN    | Requests that the systems reverse their current SMTP roles           |
+---------+----------------------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;HELO Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This is not a typo.  By definition, SMTP commands are four characters long,
thus the opening greeting by the client to the server is the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HELO&lt;/code&gt; command.
The format for this command is&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HELO hostname&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The purpose of the HELO command is for the client to identify itself to
the SMTP server.  The client can identify itself as whatever it wants to
use in the text string.  Most SMTP servers use this command just as
a formality.  If they really need to know the identity of the client,
they try to use a reverse DNS lookup of the client’s IP address to
determine the client’s DNS name.  For security reasons, many SMTP servers
refuse to talk to hosts whose IP address does not resolve to a proper
DNS hostname.&lt;/p&gt;

&lt;p&gt;By sending the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HELO&lt;/code&gt; command, the client indicates that it wants to
initialize a new SMTP session with the server.  By responding to this
command, the server acknowledges the new connection and should be ready
to receive further commands from the client.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;em&gt;About people clients versus host clients&lt;/em&gt;  &lt;br /&gt;
In SMTP you must remember to differentiate between people and hosts.
When creating a new mail message, the email user is the client of his
local host.  Once the user sends his message, s/he is no longer the client
in the SMTP process.  His/her local host computer takes over the process of
mailing the message and now becomes the client as far as SMTP is concerned.
When the local host contacts the remote host to transfer the message
using SMTP, it is now acting as the client in the SMTP process.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HELO&lt;/code&gt; command identifies the local hostname as the client, not the
actual sender of the message.  This terminology often gets confusing.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;MAIL Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL&lt;/code&gt; command initiates a mail session with the server after the
initial &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HELO&lt;/code&gt; command is sent.  It identifies from whom the message is
being sent. The format of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL&lt;/code&gt; command is&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL reverse-path&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-path&lt;/code&gt; argument not only identifies the sender, but it also
identifies how to reach the sender with a return message.  If the sender
were a user on the client computer that initiated the SMTP session,
the format for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL&lt;/code&gt; command would look something like this:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL FROM:username@example.domain.net&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Notice how the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FROM&lt;/code&gt; section denotes the proper email address for the
sender of the message, including the fully qualified hostname of the client
computer.  This information should appear in the text of the email message
in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FROM&lt;/code&gt; section.  If the email message has been routed through several
different systems between the original sender and the desired recipient,
each system adds its routing information to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-path&lt;/code&gt; section.
This documents the path that the email message traversed to get to the server.&lt;/p&gt;

&lt;p&gt;Often, mail from clients on private networks has to traverse several mail
relay points before getting to the Internet.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-path&lt;/code&gt; information
is often useful in troubleshooting email problems or in tracking down
senders who are purposely trying to hide their identity by bouncing their
email messages off of several unknowing SMTP servers.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;RCPT Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT&lt;/code&gt; command identifies the intended recipient of the message.
In order to deliver the same message to multiple recipients, each recipient
must be listed in a separate &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT&lt;/code&gt; command line. The format of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT&lt;/code&gt;
command is&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT forward-path&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;forward-path&lt;/code&gt; argument defines where the email is ultimately destined.
This is usually a fully qualified email address but could be just a username
that is local to the SMTP server.  For example, the following RCPT command&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT TO:haley&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;would send the message to user &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;haley&lt;/code&gt; on the local SMTP server that is
processing the message.&lt;/p&gt;

&lt;p&gt;The protocol also allows messages to be relayed; that is, sent to users on
computer systems other than the server currently handling the SMTP connection.&lt;/p&gt;

&lt;p&gt;For example, sending the following &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT&lt;/code&gt; command&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT TO:riley@example.domain.net&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;to the SMTP server on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadrach.domain.net&lt;/code&gt; would cause &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadrach.domain.net&lt;/code&gt;
to make a decision.  Since the recipient is not local to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadrach&lt;/code&gt;, it must
decide what to do with the message.  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadrach&lt;/code&gt; could take three possible
actions with the message:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadrach&lt;/code&gt; could accept the message for later forwarding to the specified
destination and return an OK response to the client.  In this scenario,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadrach&lt;/code&gt; would prepend its hostname to the message’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;reverse-path&amp;gt;&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadrach&lt;/code&gt; could refuse to forward the message but could reply to the
client that it would not deliver the message.  The response could also verify
that the address of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;example.domain.net&lt;/code&gt; was a correct address for another
server.  Then the client could try to resend the message directly to
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;example.domain.net&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadrach&lt;/code&gt; could refuse to forward the message and could reply to the
client that this operation (relaying) is not permitted from this server.
It would be up to the system administrator at the client to figure out
what happened and why.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In the early days of the Internet, it was common to run across computers
that used the first scenario and blindly forwarded email messages across
the world.  Unfortunately, that courteous behavior was exploited by email
&lt;em&gt;spammers&lt;/em&gt;, people who do mass mailings across the Internet for either fun
or profit.  Spammers often use unsuspecting, unsecured SMTP servers that
blindly forward email messages in an attempt to disguise the origin of their
mail messages.  To combat this situation, most mail system administrators
have either completely turned off mail relaying or have at least limited
it to hosts within their domain.  Many ISPs allow their customers to relay
email from their mail server but restrict outside computers from that privilege.&lt;/p&gt;

&lt;p&gt;In the case of multiple recipients, it is up to the client how to handle
situations in which some of the recipients are not allowed by the server.
Some clients abort the entire message and return an error to the sending
user.  Some continue sending the message to the recipients that are
acknowledged and list the recipients that aren’t acknowledged in a return
message.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;DATA Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;After the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT&lt;/code&gt; commands are worked out, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DATA&lt;/code&gt; command
initiates the actual message transfer.  The format of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DATA&lt;/code&gt; command is&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DATA&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Anything that appears after the command is treated as part of the message
being transferred.  Usually the SMTP server adds a timestamp and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;return-path&lt;/code&gt; information to the head of the message.  The client indicates
the end of the message by sending a line with just &lt;strong&gt;a single period&lt;/strong&gt;.
The format for that line is&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;.&amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When the SMTP server receives this sequence, it knows that the message
transmission is done and should return a response code to the client
indicating whether the message has been accepted.&lt;/p&gt;

&lt;p&gt;Technically there is no wrong way to send a message, although work has been
done to standardize a method (see the “Message Format”
&lt;strong&gt;[&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt; 19 &lt;/a&gt;&lt;/sup&gt;]&lt;/strong&gt; in Footnotes).  Any combination of
valid ASCII characters is transferred to the specified recipients.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;RSET Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RSET&lt;/code&gt; command is short for reset.  If the client somehow gets confused
by the responses from the server or thinks that the SMTP connection has
gotten out of sync, it can issue the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RSET&lt;/code&gt; command to return the connection to the HELO command state. Of course, all MAIL, RCPT, and DATA information already entered is lost. Often this is used as a last-ditch effort when the client either has lost track of where it was in the command series or did not expect a particular response from the server.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;HELP Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HELP&lt;/code&gt; command asks the server to return useful information to
the client.  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HELP&lt;/code&gt; with no arguments returns a list of SMTP commands
that the SMTP server understands.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ telnet localhost 25
Trying 127.0.0.1...
Connected to localhost.
Escape character is &apos;^]&apos;.
220 fbsd1.home.arpa ESMTP Sendmail 8.17.1/8.17.1; Sat, 12 Nov 2022 19:12:14 -0800 (PST)
HELP
214-2.0.0 This is sendmail version 8.17.1
214-2.0.0 Topics:
214-2.0.0       HELO    EHLO    MAIL    RCPT    DATA
214-2.0.0       RSET    NOOP    QUIT    HELP    VRFY
214-2.0.0       EXPN    VERB    ETRN    DSN     AUTH
214-2.0.0       STARTTLS
214-2.0.0 For more info use &quot;HELP &amp;lt;topic&amp;gt;&quot;.
214-2.0.0 To report bugs in the implementation see
214-2.0.0       http://www.sendmail.org/email-addresses.html
214-2.0.0 For local information send email to Postmaster at your site.
214 2.0.0 End of HELP info
QUIT
221 2.0.0 fbsd1.home.arpa closing connection
Connection closed by foreign host.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOOP Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NOOP&lt;/code&gt; command is short for &lt;em&gt;no operation&lt;/em&gt;.  This command has no effect
on the SMTP server other than making it return a positive response code.
This is often a useful command to send to test connectivity without actually
starting the message transfer process.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;QUIT Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QUIT&lt;/code&gt; command indicates that the client computer is finished with the
current SMTP session and wants to close the connection.  It is the
responsibility of the SMTP server to respond to this command and to initiate
the closing of the TCP connection.  If the server receives a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QUIT&lt;/code&gt; command
in the middle of an email transaction, any data previously transferred will
be deleted and not sent to any recipients.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Extended SMTP&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Since SMTP invention in 1982, system administrators began to recognize
its limitations.  Work was done to try and improve the basic SMTP protocol
by keeping the original specifications and adding new features.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc1869&quot;&gt;RFC 1869, SMTP Service Extensions&lt;/a&gt;
was published in 1995 and defined a method of extending the capabilities of SMTP.&lt;/p&gt;

&lt;p&gt;Extended SMTP (ESMTP) replaces the original SMTP greeting (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HELO&lt;/code&gt;) with
a new greeting command: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EHLO&lt;/code&gt;.  When an ESMTP server receives this command,
it should realize that the client is capable of sending extended SMTP commands.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ telnet localhost 25
Trying 127.0.0.1...
Connected to localhost.
Escape character is &apos;^]&apos;.
220 fbsd1.home.arpa ESMTP Sendmail 8.17.1/8.17.1; Sat, 12 Nov 2022 19:28:44 -0800 (PST)
EHLO localhost
250-fbsd1.home.arpa Hello localhost [127.0.0.1], pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE
250-DSN
250-ETRN
250-AUTH DIGEST-MD5 CRAM-MD5 LOGIN PLAIN
250-STARTTLS
250-DELIVERBY
250 HELP
HELP DSN
214-2.0.0 MAIL From:&amp;lt;sender&amp;gt; [ RET={ FULL | HDRS} ] [ ENVID=&amp;lt;envid&amp;gt; ]
214-2.0.0 RCPT To:&amp;lt;recipient&amp;gt; [ NOTIFY={NEVER,SUCCESS,FAILURE,DELAY} ]
214-2.0.0                    [ ORCPT=&amp;lt;recipient&amp;gt; ]
214-2.0.0       SMTP Delivery Status Notifications.
214-2.0.0 Descriptions:
214-2.0.0       RET     Return either the full message or only headers.
214-2.0.0       ENVID   Sender&apos;s &quot;envelope identifier&quot; for tracking.
214-2.0.0       NOTIFY  When to send a DSN. Multiple options are OK, comma-
214-2.0.0               delimited. NEVER must appear by itself.
214-2.0.0       ORCPT   Original recipient.
214 2.0.0 End of HELP info
HELP ETRN
214-2.0.0 ETRN [ &amp;lt;hostname&amp;gt; | @&amp;lt;domain&amp;gt; | #&amp;lt;queuename&amp;gt; ]
214-2.0.0       Run the queue for the specified &amp;lt;hostname&amp;gt;, or
214-2.0.0       all hosts within a given &amp;lt;domain&amp;gt;, or a specially-named
214-2.0.0       &amp;lt;queuename&amp;gt; (implementation-specific).
214 2.0.0 End of HELP info
QUIT
221 2.0.0 fbsd1.home.arpa closing connection
Connection closed by foreign host.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice that the server indicates that some additional commands are
available now that it is in “extended” mode. One of the new groups
of commands is the Delivery Status Notification (DSN) options.
These options can be used on the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT&lt;/code&gt; commands to indicate
the delivery status of a particular email message for the client.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;The ETRN Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ETRN&lt;/code&gt; command allows an SMTP client to issue a request for the SMTP
server to initiate another SMTP connection with the client to transfer
messages back to it.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ETRN&lt;/code&gt; command is a request to start another
SMTP session.  This way, the SMTP server can contact the client using the
normal DNS hostname resolution methods.  This does not rely on who the
client says it is.  If a malicious actor establishes an unauthorized SMTP
connection and issues an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ETRN&lt;/code&gt; command, the SMTP server just starts a new
SMTP connection with the real client and sends any mail - no harm done.&lt;/p&gt;

&lt;p&gt;The format for the ETRN command is&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ETRN name&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;name&lt;/code&gt; can be either an individual hostname or a domain name if you
are requesting mail for an entire domain.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ETRN&lt;/code&gt; command is a valuable
tool for the mail administrator.  If you elect to have an ISP spool mail
for your email server, you might use this method to notify the ISP when
you are ready to receive your spooled mail.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;The AUTH Command&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Another extended SMTP command gaining popularity is the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; command,
which allows an SMTP client to identify itself to the SMTP server with
a username and password pair or other agreed-upon authentication technique.
Once the client is positively identified by the server, it may be allowed
to perform special functions, such as using the server as a mail relay,
which non-authenticated clients would not be allowed to do.&lt;/p&gt;

&lt;p&gt;The Cyrus-SASL package is a popular software package that can be used to
provide SMTP &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; command support for many MTA packages.
The mail administrator must maintain a separate username and password
database that allows authentication of remote SMTP clients.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[ 19 ]&lt;/strong&gt; Message Format - Standard RFC 822 Header Fields&lt;/p&gt;

&lt;p&gt;RFC 822 specifies splitting the message into two separate parts.
The first part is called the &lt;em&gt;header&lt;/em&gt;.  Its job is to store information
about the message.  The second part is the &lt;em&gt;body&lt;/em&gt; of the message.
The header consists of data fields that can be used whenever additional
information is needed in the message.  The header fields should appear
before the text body of the message and should be separated by
&lt;strong&gt;one blank line&lt;/strong&gt;.  Header fields do not need to appear in any particular
order, and the message can have multiple occurrences of any header field
(though this is deprecated).  Below is how a basic RFC 822-compliant
message would look.&lt;/p&gt;

&lt;p&gt;RFC 822-compliant email message&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;RFC 822-compliant email message 
+-----------------------------+
| RFC 822 Header              |
| +-------------------------+ |
| | Received:               | |
| | Return-Path:            | |
| | Reply-To:               | |
| | From:                   | |
| | Date:                   | |
| | To:                     | |
| +-------------------------+ |
|                             |  
| Message Body                |
| +-------------------------+ |
| |                         | |
| |                         | |
| |                         | |
| |                         | |
| |                         | |
| |                         | |
| +-------------------------+ |
+-----------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc822#section-4&quot;&gt;RFC 822 - Standard for the Format of ARPA Internet Text Messages&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;     4.  MESSAGE SPECIFICATION
     
     4.1.  SYNTAX
     
     Note:  Due to an artifact of the notational conventions, the syn-
            tax  indicates that, when present, some fields, must be in
            a particular order.  Header fields  are  NOT  required  to
            occur  in  any  particular  order, except that the message
            body must occur AFTER  the  headers.   It  is  recommended
            that,  if  present,  headers be sent in the order &quot;Return-
            Path&quot;, &quot;Received&quot;, &quot;Date&quot;,  &quot;From&quot;,  &quot;Subject&quot;,  &quot;Sender&quot;,
            &quot;To&quot;, &quot;cc&quot;, etc.
     
            This specification permits multiple  occurrences  of  most
            fields.   Except  as  noted,  their  interpretation is not
            specified here, and their use is discouraged.

[ . . . ]

     4.4.  ORIGINATOR FIELDS
     
          The standard allows only a subset of the combinations possi-
     ble  with the From, Sender, Reply-To, Resent-From, Resent-Sender,
     and Resent-Reply-To fields.  The limitation is intentional.
     
     4.4.1.  FROM / RESENT-FROM
     
        This field contains the identity of the person(s)  who  wished
        this  message to be sent.  The message-creation process should
        default this field  to  be  a  single,  authenticated  machine
        address,  indicating  the  AGENT  (person,  system or process)
        entering the message.  If this is not done, the &quot;Sender&quot; field
        MUST  be  present.  If the &quot;From&quot; field IS defaulted this way,
        the &quot;Sender&quot; field is  optional  and  is  redundant  with  the
        &quot;From&quot;  field.   In  all  cases, addresses in the &quot;From&quot; field
        must be machine-usable (addr-specs) and may not contain  named
        lists (groups).

     4.4.2.  SENDER / RESENT-SENDER
     
        This field contains the authenticated identity  of  the  AGENT
        (person,  system  or  process)  that sends the message.  It is
        intended for use when the sender is not the author of the mes-
        sage,  or  to  indicate  who among a group of authors actually
        sent the message.  If the contents of the &quot;Sender&quot; field would
        be  completely  redundant  with  the  &quot;From&quot;  field,  then the
        &quot;Sender&quot; field need not be present and its use is  discouraged
        (though  still legal).  In particular, the &quot;Sender&quot; field MUST
        be present if it is NOT the same as the &quot;From&quot; Field.

[ . . . ]

     4.5.  RECEIVER FIELDS
     
     4.5.1.  TO / RESENT-TO
     
        This field contains the identity of the primary recipients  of
        the message.

[ . . . ]

     4.6.  REFERENCE FIELDS
     
     4.6.1.  MESSAGE-ID / RESENT-MESSAGE-ID
     
             This field contains a unique identifier  (the  local-part
        address  unit)  which  refers to THIS version of THIS message.
        The uniqueness of the message identifier is guaranteed by  the
        host  which  generates  it.  This identifier is intended to be
        machine readable and not necessarily meaningful to humans.   A
        message  identifier pertains to exactly one instantiation of a
        particular message; subsequent revisions to the message should
        each receive new message identifiers. 

[ . . . ]

     4.6.3.  REFERENCES
     
             The contents of this field identify other  correspondence
        which  this message references.  Note that if message identif-
        iers are used, they must use the msg-id specification format.

[ . . . ]

     4.7.  OTHER FIELDS
     
     4.7.1.  SUBJECT
     
             This is intended to provide a summary,  or  indicate  the
        nature, of the message.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc2822&quot;&gt;RFC 2822 - Internet Message Format&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2.1.1. Line Length Limits

   There are two limits that this standard places on the number of
   characters in a line.  Each line of characters MUST be no more than
   998 characters, and SHOULD be no more than 78 characters, excluding
   the CRLF.

[ . . . ]

2.3. Body

   The body of a message is simply lines of US-ASCII characters.  The
   only two limitations on the body are as follows:

   - CR and LF MUST only occur together as CRLF; they MUST NOT appear
     independently in the body.

   - Lines of characters in the body MUST be limited to 998 characters,
     and SHOULD be limited to 78 characters, excluding the CRLF.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Required header fields:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;3.6. Field definitions

[ . . . ]

   The only required header fields are the origination date field and
   the originator address field(s).  All other header fields are
   syntactically optional.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[ 20 ]&lt;/strong&gt; About the proper format of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL FROM:&lt;/code&gt; SMTP command.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc821#page-3&quot;&gt;RFC 821 - Simple Mail Transfer Protocol (SMTP)&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Commands and replies are composed of characters from the ASCII
character set [1].  When the transport service provides an 8-bit byte
(octet) transmission channel, each 7-bit character is transmitted
right justified in an octet with the high order bit cleared to zero.

When specifying the general form of a command or reply, an argument
(or special symbol) will be denoted by a meta-linguistic variable (or
constant), for example, &quot;&amp;lt;string&amp;gt;&quot; or &quot;&amp;lt;reverse-path&amp;gt;&quot;.  Here the
angle brackets indicate these are meta-linguistic variables.

----

REFERENCES

   [1]  ASCII

      ASCII, &quot;USA Code for Information Interchange&quot;, United States of
      America Standards Institute, X3.4, 1968.  Also in:  Feinler, E.
      and J. Postel, eds., &quot;ARPANET Protocol Handbook&quot;, NIC 7104, for
      the Defense Communications Agency by SRI International, Menlo
      Park, California, Revised January 1978.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;However, some arguments use the angle brackets literally.  For
example, an actual reverse-path is enclosed in angle brackets, i.e.,
&quot;&amp;lt;John.Smith@USC-ISI.ARPA&amp;gt;&quot; is an instance of &amp;lt;reverse-path&amp;gt; (the
angle brackets are actually transmitted in the command or reply).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc821#section-3&quot;&gt;RFC 821 - Simple Mail Transfer Protocol (SMTP)&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 3.1.  MAIL

      There are three steps to SMTP mail transactions.  The transaction
      is started with a MAIL command which gives the sender
      identification.  A series of one or more RCPT commands follows
      giving the receiver information.  Then a DATA command gives the
      mail data.  And finally, the end of mail data indicator confirms
      the transaction.

         The first step in the procedure is the MAIL command.  The
         &amp;lt;reverse-path&amp;gt; contains the source mailbox.

            MAIL &amp;lt;SP&amp;gt; FROM:&amp;lt;reverse-path&amp;gt; &amp;lt;CRLF&amp;gt;

         This command tells the SMTP-receiver that a new mail
         transaction is starting and to reset all its state tables and
         buffers, including any recipients or mail data.  It gives the
         reverse-path which can be used to report errors.  If accepted,
         the receiver-SMTP returns a 250 OK reply.

[ . . . ]

The second step in the procedure is the RCPT command.

            RCPT &amp;lt;SP&amp;gt; TO:&amp;lt;forward-path&amp;gt; &amp;lt;CRLF&amp;gt;

         This command gives a forward-path identifying one recipient.
         If accepted, the receiver-SMTP returns a 250 OK reply, and
         stores the forward-path.  If the recipient is unknown the
         receiver-SMTP returns a 550 Failure reply.  This second step of
         the procedure can be repeated any number of times.

[ . . . ]

The third step in the procedure is the DATA command.

            DATA &amp;lt;CRLF&amp;gt;

         If accepted, the receiver-SMTP returns a 354 Intermediate reply
         and considers all succeeding lines to be the message text.
         When the end of text is received and stored the SMTP-receiver
         sends a 250 OK reply.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc2821#section-3.3&quot;&gt;RFC 2821 - Simple Mail Transfer Protocol (SMTP)&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;3.3 Mail Transactions
[ . . . ]

   The first step in the procedure is the MAIL command.

      MAIL FROM:&amp;lt;reverse-path&amp;gt; [SP &amp;lt;mail-parameters&amp;gt; ] &amp;lt;CRLF&amp;gt;

[ . . . ]

   . . .                     The &amp;lt;reverse-path&amp;gt; portion of the first or
   only argument contains the source mailbox (between &quot;&amp;lt;&quot; and &quot;&amp;gt;&quot;
   brackets) . . . 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc821&quot;&gt;RFC 821 - Simple Mail Transfer Protocol (SMTP)&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;4.  THE SMTP SPECIFICATIONS

   4.1.  SMTP COMMANDS

      4.1.1.  COMMAND SEMANTICS

         The SMTP commands define the mail transfer or the mail system
         function requested by the user.  SMTP commands are character
         strings terminated by &amp;lt;CRLF&amp;gt;.  The command codes themselves are
         alphabetic characters terminated by &amp;lt;SP&amp;gt; if parameters follow
         and &amp;lt;CRLF&amp;gt; otherwise.  The syntax of mailboxes must conform to
         receiver site conventions.  The SMTP commands are discussed
         below.  The SMTP replies are discussed in the Section 4.2.

[ . . . ]

         The last command in a session must be the QUIT command.  The
         QUIT command can not be used at any other time in a session.


  4.1.2.  COMMAND SYNTAX

         The commands consist of a command code followed by an argument
         field.  Command codes are four alphabetic characters.  Upper
         and lower case alphabetic characters are to be treated
         identically.  Thus, any of the following may represent the mail
         command:

            MAIL    Mail    mail    MaIl    mAIl

         This also applies to any symbols representing parameter values,
         such as &quot;TO&quot; or &quot;to&quot; for the forward-path.  Command codes and
         the argument fields are separated by one or more spaces.
         However, within the reverse-path and forward-path arguments
         case is important.  In particular, in some hosts the user
         &quot;smith&quot; is different from the user &quot;Smith&quot;.

         The argument field consists of a variable length character
         string ending with the character sequence &amp;lt;CRLF&amp;gt;.  The receiver
         is to take no action until this sequence is received.

[ . . . ]

         The syntax of the above argument fields (using BNF notation
         where applicable) is given below.  The &quot;...&quot; notation indicates
         that a field may be repeated one or more times.

[ . . . ]

            &amp;lt;CR&amp;gt; ::= the carriage return character (ASCII code 13)

            &amp;lt;LF&amp;gt; ::= the line feed character (ASCII code 10)

            &amp;lt;SP&amp;gt; ::= the space character (ASCII code 32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[ 21 ]&lt;/strong&gt; From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;s_client(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  CONNECTED COMMANDS
         If a connection is established with an SSL server then any data
         received from the server is displayed and any key presses will be sent
         to the server. If end of file is reached then the connection will be
         closed down. When used interactively (which means neither -quiet nor
         -ign_eof have been given), then certain commands are also recognized
         which perform special operations. These commands are a letter which
         must appear at the start of a line. They are listed below.

[ . . . ]

         R   Renegotiate the SSL session (TLSv1.2 and below only).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 12 Nov 2022 05:50:18 -0800</pubDate>
        <link>http://localhost:4000/sendmail/smtp/mta/mailserver/cli/terminal/shell/freebsd/sysadmin/reference/2022/11/12/sendmail-auth-client.html</link>
        <guid isPermaLink="true">http://localhost:4000/sendmail/smtp/mta/mailserver/cli/terminal/shell/freebsd/sysadmin/reference/2022/11/12/sendmail-auth-client.html</guid>
        
        
        <category>sendmail</category>
        
        <category>smtp</category>
        
        <category>mta</category>
        
        <category>mailserver</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>freebsd</category>
        
        <category>sysadmin</category>
        
        <category>reference</category>
        
      </item>
    
      <item>
        <title>Sendmail Notes [WIP]</title>
        <description>&lt;h2 id=&quot;todo--sanitize&quot;&gt;&lt;strong&gt;[TODO]:&lt;/strong&gt;  SANITIZE!&lt;/h2&gt;

&lt;p&gt;OSs: &lt;br /&gt;
FreeBSD 13.1-RELEASE-p2 with sendmail 8.17.1, Shell: csh &lt;br /&gt;
Red Hat Enterprise Linux Server release 6.8 (Santiago) with sendmail 8.14.4, Shell: bash&lt;/p&gt;

&lt;p&gt;Restart sendmail:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# kill -HUP `head -1 /var/run/sendmail.pid`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://gist.github.com/drmalex07/d63348dc9d26d1349309&quot;&gt;configure-sendmail-as-relay.md&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;On the mail server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &quot;Subject: Hello\r\n\r\nI say hello&quot;| sendmail -v -F &apos;Contact&apos; someone@foo.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;test-starttls&quot;&gt;Test STARTTLS&lt;/h2&gt;

&lt;p&gt;Reference: Bat book, 4th edition&lt;/p&gt;

&lt;p&gt;Assumption: &lt;em&gt;sendmail&lt;/em&gt; built with STARTTLS support.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bs -Am
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bs&lt;/code&gt; tells &lt;em&gt;sendmail&lt;/em&gt; to speak SMTP on its standard input.&lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; tells &lt;em&gt;sendmail&lt;/em&gt; to use its server configuration file
(not &lt;em&gt;submit.cf&lt;/em&gt;), even though it is running in mail-submission mode.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bs -Am
220 your.host.domain ESMTP mailer ready at Wed, 26 Oct 2022 19:02:10 -0700
ehlo your.host.domain
250-your.host.domain Hello root@localhost, pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-STARTTLS
250-DELIVERBY
250 HELP
quit
221 2.0.0 your.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note the line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250-STARTTLS&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;test-sasl-support-in-sendmail&quot;&gt;Test SASL support in sendmail&lt;/h2&gt;

&lt;p&gt;Reference: The Bat book, 4th edition - 5.1.2.1 Test SASL support in sendmail&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bs&lt;/code&gt; tells &lt;em&gt;sendmail&lt;/em&gt; to speak SMTP on its standard input.&lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; tells &lt;em&gt;sendmail&lt;/em&gt; to use its server configuration file
(not &lt;em&gt;submit.cf&lt;/em&gt;), even though it is running in mail-submission mode.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bs -Am
220 test.host.domain ESMTP mailer ready at Wed, 26 Oct 2022 19:13:41 -0700
ehlo localhost
250-test.host.domain Hello root@localhost, pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-STARTTLS
250-DELIVERBY
250 HELP
quit
221 2.0.0 test.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Look for a line with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250-AUTH&lt;/code&gt;. &lt;br /&gt;
If it’s missing, check the log file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep &apos;Oct 26 19:13:41&apos; /var/log/maillog | grep &apos;allowed mech&apos; 
Oct 26 19:13:41 test sendmail[14440]: AUTH: available mech=GSSAPI, allowed mech=LOGIN PLAIN
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bs -L sm-smmsp-queue -Ac
220 test.host.domain ESMTP Sendmail 8.14.4/8.14.4/Submit; Wed, 26 Oct 2022 19:59:22 -0700
ehlo localhost
250-test.host.domain Hello root@localhost, pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE
250-DSN
250-AUTH GSSAPI
250-DELIVERBY
250 HELP
quit
221 2.0.0 test.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep &apos;Oct 26 19:59:22&apos; /var/log/maillog
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bs -OLogLevel=13 -L sm-smmsp-queue -Ac
220 test.host.domain ESMTP Sendmail 8.14.4/8.14.4/Submit; Wed, 26 Oct 2022 19:59:59 -0700
ehlo localhost
250-test.host.domain Hello root@localhost, pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE
250-DSN
250-AUTH GSSAPI
250-DELIVERBY
250 HELP
quit
221 2.0.0 test.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep &apos;Oct 26 19:59:59&apos; /var/log/maillog
Oct 26 19:59:59 test sm-smmsp-queue[23675]: NOQUEUE: connect from root@localhost
Oct 26 19:59:59 test sm-smmsp-queue[23675]: STARTTLS: ServerCertFile missing
Oct 26 19:59:59 test sm-smmsp-queue[23675]: AUTH: available mech=ANONYMOUS GSSAPI PLAIN LOGIN, allowed mech=EXTERNAL GSSAPI KERBEROS_V4 DIGEST-MD5 CRAM-MD5
Oct 26 19:59:59 test sm-smmsp-queue[23675]: 29R0xxvL023675: Milter: no active filter
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;to-expand&quot;&gt;TO EXPAND&lt;/h2&gt;

&lt;h3 id=&quot;1&quot;&gt;1&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd /etc/mail

# make --dry-run
# make -n 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;address-test-mode--bt&quot;&gt;Address Test Mode (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bt&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;From the man page for &lt;em&gt;sendmail&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-bt    Run in address test mode.  This mode reads addresses and shows
       the steps in parsing; it is used for debugging configuration
       tables.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From&lt;br /&gt;
sendmail Cookbook - Craig Hunt &lt;br /&gt;
2009 O’Reilly Media, Inc. &lt;br /&gt;
1005 Gravenstein Highway North, Sebastopol, CA 95472&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;1.9. Testing a New Configuration&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Problem&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;You need to test the sendmail configuration before it is deployed.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Solution&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Use the &lt;em&gt;sendmail&lt;/em&gt; command-line options &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bt&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bv&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-v&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Discussion&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;At the end of Recipe 1.8, the newly created sendmail.cf is copied over
the old configuration.  Do not copy a customized configuration into the
&lt;em&gt;/etc/mail&lt;/em&gt; directory until it is thoroughly tested.  &lt;em&gt;sendmail&lt;/em&gt; provides
excellent test tools that are used extensively in this book.&lt;/p&gt;

  &lt;p&gt;The single most important tool for testing sendmail is sendmail itself.
When started with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bt&lt;/code&gt; command-line option, &lt;em&gt;sendmail&lt;/em&gt; enters
&lt;strong&gt;test mode&lt;/strong&gt;.  While in test mode, &lt;em&gt;sendmail&lt;/em&gt; accepts a variety of
commands that examine the configuration, check settings, and observe how
email addresses are processed by sendmail.  Table 1-2 lists the commands
that are available in test mode.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Table 1-2. sendmail test mode commands&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+--------------------+-------------------------------------------------------+
| Command            | Usage                                                 |
+--------------------+-------------------------------------------------------+
| &amp;lt;ruleset address&amp;gt;  | Process the address through the comma-separated lists |
|                    | of rulesets.                                          |
+--------------------+-------------------------------------------------------+
| =S &amp;lt;ruleset&amp;gt;       | Display the contents of the rulesets                  |
+--------------------+-------------------------------------------------------+
| =M                 | Display all of the mailer definitions.                |
+--------------------+-------------------------------------------------------+
| $ &amp;lt;v&amp;gt;              | Display the value of macro &amp;lt;v&amp;gt;.                       |
+--------------------+-------------------------------------------------------+
| $= &amp;lt;c&amp;gt;             | Display the value of class &amp;lt;c&amp;gt;.                       |  
+--------------------+-------------------------------------------------------+
| .D &amp;lt;vvalue&amp;gt;        | Set the macro &amp;lt;v&amp;gt; to &amp;lt;value&amp;gt;.                         |
+--------------------+-------------------------------------------------------+
| .C &amp;lt;cvalue&amp;gt;        | Add &amp;lt;value&amp;gt; to class &amp;lt;c&amp;gt;.                             |  
+--------------------+-------------------------------------------------------+
| -d &amp;lt;value&amp;gt;         | Set the debug value to &amp;lt;value&amp;gt;.                       | 
+--------------------+-------------------------------------------------------+
| /tryflags &amp;lt;flags&amp;gt;  | Set the flags used for address processing by /try     |
+--------------------+-------------------------------------------------------+
| /try &amp;lt;mailer&amp;gt; &amp;lt;ad- | Process the address for the &amp;lt;mailer&amp;gt;.                 |
| dress&amp;gt;             |                                                       |
+--------------------+-------------------------------------------------------+
| /parse &amp;lt;address&amp;gt;   | Return the mailer/host/user delivery triple for       |
|                    | the address.                                          |  
+--------------------+-------------------------------------------------------+
| /canon &amp;lt;hostname&amp;gt;  | Canonify &amp;lt;hostname&amp;gt;.                                  |
+--------------------+-------------------------------------------------------+
| /mx &amp;lt;hostname&amp;gt;     | Lookup the MX records for &amp;lt;hostname&amp;gt;.                 |
+--------------------+-------------------------------------------------------+
| /map &amp;lt;mapname&amp;gt;     | Look up &amp;lt;key&amp;gt; in the database identify by &amp;lt;mapname&amp;gt;.  |
+--------------------+-------------------------------------------------------+
| /quit              | Exit address test mode.                               |
+--------------------+-------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;sendmail Cookbook - Craig Hunt&lt;br /&gt;
2009 O’Reilly Media, Inc.&lt;br /&gt;
1005 Gravenstein Highway North, Sebastopol, CA 95472&lt;/p&gt;

&lt;p&gt;https://learning.oreilly.com/library/view/sendmail-cookbook/0596004710/ch03.html#sendmailckbk-CHP-3-SECT-1&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat &amp;gt; special-test
               /parse tyler@science.foo.edu
               /parse sara@crab
               /parse craig
               CTRL-D
# sendmail -bt &amp;lt; special-test | grep &apos;^mailer&apos;
mailer relay, host smtp.wrotethebook.com, user tyler@science.foo.edu
mailer relay, host smtp.wrotethebook.com, user sara@crab.wrotethebook.com
mailer local, user craig
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bv dusko -C/etc/mail/sendmail.cf
-C/etc/mail/sendmail.cf... User unknown
dusko... deliverable: mailer local, user dusko

# sendmail -bv dusko@some.domain -C/etc/mail/sendmail.cf
-C/etc/mail/sendmail.cf... User unknown
dusko@some.domain... deliverable: mailer local, user dusko

# sendmail -bv duskop@some.domain -C/etc/mail/sendmail.cf
-C/etc/mail/sendmail.cf... User unknown
duskop@some.domain ... deliverable: mailer esmtp, host mail.some.domain., user duskop@mail.some.comain

# sendmail -bv dusko_pijetlovic@yahoo.ca -C/etc/mail/sendmail.cf
-C/etc/mail/sendmail.cf... User unknown
dusko_pijetlovic@yahoo.ca... deliverable: mailer esmtp, host yahoo.ca., user dusko_pijetlovic@yahoo.ca
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The content of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;relay-domains&lt;/code&gt; file (in the following example it’s empty):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; $=R
&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# service sendmail status
sendmail (pid  538) is running...
sm-client (pid  547) is running...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ps aux | grep -v grep | grep 538 
root       538  0.0  0.0  88884  3580 ?        Ss   Oct24   0:24 sendmail: accepting connections
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ps aux | grep -v grep | grep 547 
smmsp      547  0.0  0.0  78260  2116 ?        Ss   Oct24   0:00 sendmail: Queue runner@00:05:00 for /var/spool/clientmqueue
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /var/run/sendmail.pid 
538
/usr/sbin/sendmail -bd -q5m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r sendmail /etc/rc* | grep &apos;\-bd&apos;
/etc/rc.d/init.d/sendmail:    daemon /usr/sbin/sendmail $([ &quot;x$DAEMON&quot; = xyes ] &amp;amp;&amp;amp; echo -bd) \

# grep -r sendmail /etc/init* | grep &apos;\-bd&apos;
/etc/init.d/sendmail:    daemon /usr/sbin/sendmail $([ &quot;x$DAEMON&quot; = xyes ] &amp;amp;&amp;amp; echo -bd) \
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r sendmail /etc/rc* | grep Ac
/etc/rc.d/init.d/sendmail:      daemon --check sm-client /usr/sbin/sendmail -L sm-msp-queue -Ac \

# grep -r sendmail /etc/init* | grep Ac
/etc/init.d/sendmail:   daemon --check sm-client /usr/sbin/sendmail -L sm-msp-queue -Ac \
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bd&lt;/code&gt; option line causes sendmail to run as a daemon and listen 
for incoming mail on ports 25 and 587.  This first command creates the 
sendmail daemon that reads the &lt;em&gt;sendmail.cf&lt;/em&gt; configuration file and 
runs in the traditional role of a mail transfer agent (MTA). 
The second command starts sendmail as a mail submission program (MSP).
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Ac&lt;/code&gt; option on this command line directs sendmail to read the
&lt;em&gt;submit.cf&lt;/em&gt; configuration file.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-L&lt;/code&gt; option tells this copy of 
sendmail to use the name &lt;em&gt;sm-msp&lt;/em&gt; when it logs messages.  Without the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-L&lt;/code&gt; option, both copies of sendmail would log messages using the
name &lt;em&gt;sendmail&lt;/em&gt; making it difficult to determine which copy of sendmail
logged the message.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-q5m&lt;/code&gt; option directs a copy of sendmail to 
process its mail queue every 5 minutes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;chapter-masquerading&quot;&gt;Chapter Masquerading&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep MASQUERADE_AS /etc/mail/freebsd.submit.mc
MASQUERADE_AS(`mydomain.to.masqueradeas&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ hostname
fbsd1.mydomain.to.masqueradeas
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ su
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt -Ac
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;

&amp;gt; $M
mydomain.to.masqueradeas
 
&amp;gt; $w
fbsd1
 
&amp;gt; $j
fbsd1.mydomain.to.masqueradeas

&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;

&amp;gt; $M
Undefined

&amp;gt; $w
fbsd1
 
&amp;gt; $j
fbsd1.mydomain.to.masqueradeas

&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt -Ac
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
 
&amp;gt; /tryflags HS
&amp;gt; /try esmtp dusko
Trying header sender address dusko for mailer esmtp
canonify           input: dusko
Canonify2          input: dusko
Canonify2        returns: dusko
canonify         returns: dusko
1                  input: dusko
1                returns: dusko
HdrFromSMTP        input: dusko
PseudoToReal       input: dusko
PseudoToReal     returns: dusko
MasqSMTP           input: dusko
MasqSMTP         returns: dusko &amp;lt; @ *LOCAL* &amp;gt;
MasqHdr            input: dusko &amp;lt; @ *LOCAL* &amp;gt;
MasqHdr          returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
HdrFromSMTP      returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
final              input: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
final            returns: dusko @ mydomain . to . masqueradeas
Rcode = 0, addr = dusko@mydomain.to.masqueradeas
 
&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
 
&amp;gt; /tryflags HS
&amp;gt; /try esmtp dusko
Trying header sender address dusko for mailer esmtp
canonify           input: dusko
Canonify2          input: dusko
Canonify2        returns: dusko
canonify         returns: dusko
1                  input: dusko
1                returns: dusko
HdrFromSMTP        input: dusko
PseudoToReal       input: dusko
PseudoToReal     returns: dusko
MasqSMTP           input: dusko
MasqSMTP         returns: dusko &amp;lt; @ *LOCAL* &amp;gt;
MasqHdr            input: dusko &amp;lt; @ *LOCAL* &amp;gt;
MasqHdr          returns: dusko &amp;lt; @ fbsd1 . mydomain . to . masqueradeas . &amp;gt;
HdrFromSMTP      returns: dusko &amp;lt; @ fbsd1 . mydomain . to . masqueradeas . &amp;gt;
final              input: dusko &amp;lt; @ fbsd1 . mydomain . to . masqueradeas . &amp;gt;
final            returns: dusko @ fbsd1 . mydomain . to . masqueradeas
Rcode = 0, addr = dusko@fbsd1.mydomain.to.masqueradeas
 
&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$M&lt;/code&gt; command shows &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$M&lt;/code&gt; macro (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MASQUERADE_AS&lt;/code&gt;). &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt; command shows the fully qualified name of this host. &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/tryflags&lt;/code&gt; command tells sendmail to process the header sender (HS) address. &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/try&lt;/code&gt; command tells sendmail to process &lt;em&gt;dusko&lt;/em&gt; as the header sender 
address for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;esmtp&lt;/code&gt; mailer.  Notice that &lt;em&gt;dusko&lt;/em&gt; is an email address 
that does not contain a host part.  sendmail adds a hostname to the 
unqualified username, and, by default, it adds the hostname found in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$j&lt;/code&gt;. 
The value returned by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MasqHdr&lt;/code&gt; ruleset shows this.&lt;/p&gt;

&lt;h4 id=&quot;dump-a-class-macro-with-&quot;&gt;Dump a Class Macro with $=&lt;/h4&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$=&lt;/code&gt; rule-testing command tells &lt;em&gt;sendmail&lt;/em&gt; to print all the members for
a class.  The class name must immediately follow the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;=&lt;/code&gt; with no
intervening space.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
 
&amp;gt; $=w
localhost
fbsd1.your.local.domain
[127.0.0.1]
[123.45.67.8]
localhost.my.domain
[localhost.my.domain]

&amp;gt; $=m
your.local.domain

&amp;gt; $=M

&amp;gt; $={VirtHost}
 
&amp;gt; $=R

&amp;gt; $=N

&amp;gt; $=E
root

&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ES = Envelope Sender&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/tryflags ES&lt;/code&gt; command configures sendmail to test header 
sender (HS) address processing:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
 
&amp;gt; /tryflags ES
&amp;gt; /try esmtp dusko@mydomain.to.masqueradeas
Trying envelope sender address dusko@mydomain.to.masqueradeas for mailer esmtp
canonify           input: dusko @ mydomain . to . masqueradeas
Canonify2          input: dusko &amp;lt; @ mydomain . to . masqueradeas &amp;gt;
Canonify2        returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
canonify         returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
1                  input: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
1                returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
EnvFromSMTP        input: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
PseudoToReal       input: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
PseudoToReal     returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
MasqSMTP           input: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
MasqSMTP         returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
MasqEnv            input: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
MasqHdr            input: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
MasqHdr          returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
MasqEnv          returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
EnvFromSMTP      returns: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
final              input: dusko &amp;lt; @ mydomain . to . masqueradeas . &amp;gt;
final            returns: dusko @ mydomain . to . masqueradeas . &amp;gt;
Rcode = 0, addr = dusko@mydomain.to.masqueradeas
 
&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;chapter-controlling-spam&quot;&gt;Chapter Controlling Spam&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;

&amp;gt; check_mail dusko@some.ext.domain
check_mail         input: dusko @ some . ext . domain
Basic_check_mail   input: dusko @ some . ext . domain
tls_client         input: $| MAIL
D                  input: &amp;lt; &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; ! &quot;TLS_Clt&quot; &amp;gt; &amp;lt; &amp;gt;
D                returns: &amp;lt; ? &amp;gt; &amp;lt; &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; ! &quot;TLS_Clt&quot; &amp;gt; &amp;lt; &amp;gt;
A                  input: &amp;lt; &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; ! &quot;TLS_Clt&quot; &amp;gt; &amp;lt; &amp;gt;
A                returns: &amp;lt; &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; ! &quot;TLS_Clt&quot; &amp;gt; &amp;lt; &amp;gt;
TLS_connection     input: $| &amp;lt; &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; ! &quot;TLS_Clt&quot; &amp;gt; &amp;lt; &amp;gt;
TLS_connection   returns: OK
tls_client       returns: OK
CanonAddr          input: &amp;lt; dusko @ some . ext . domain &amp;gt;
canonify           input: &amp;lt; dusko @ some . ext . domain &amp;gt;
Canonify2          input: dusko &amp;lt; @ some . ext . domain &amp;gt;
Canonify2        returns: dusko &amp;lt; @ some . ext . domain . &amp;gt;
canonify         returns: dusko &amp;lt; @ some . ext . domain . &amp;gt;
Parse0             input: dusko &amp;lt; @ some . ext . domain . &amp;gt;
Parse0           returns: dusko &amp;lt; @ some . ext . domain . &amp;gt;
CanonAddr        returns: dusko &amp;lt; @ some . ext . domain . &amp;gt;
SearchList         input: &amp;lt; + From &amp;gt; $| &amp;lt; F : dusko @ some . ext . domain &amp;gt; &amp;lt; U : dusko @ &amp;gt; &amp;lt; D : some . ext . domain &amp;gt; &amp;lt; &amp;gt;
F                  input: &amp;lt; dusko @ some . ext . domain &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; + From &amp;gt; &amp;lt; &amp;gt;
F                returns: &amp;lt; ? &amp;gt; &amp;lt; &amp;gt;
SearchList         input: &amp;lt; + From &amp;gt; $| &amp;lt; U : dusko @ &amp;gt; &amp;lt; D : some . ext . domain &amp;gt; &amp;lt; &amp;gt;
U                  input: &amp;lt; dusko @ &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; + From &amp;gt; &amp;lt; &amp;gt;
U                returns: &amp;lt; ? &amp;gt; &amp;lt; &amp;gt;
SearchList         input: &amp;lt; + From &amp;gt; $| &amp;lt; D : some . ext . domain &amp;gt; &amp;lt; &amp;gt;
D                  input: &amp;lt; some . ext . domain &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; + From &amp;gt; &amp;lt; &amp;gt;
D                  input: &amp;lt; ext . domain &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; + From &amp;gt; &amp;lt; &amp;gt;
D                  input: &amp;lt; domain &amp;gt; &amp;lt; ? &amp;gt; &amp;lt; + From &amp;gt; &amp;lt; &amp;gt;
D                returns: &amp;lt; ? &amp;gt; &amp;lt; &amp;gt;
D                returns: &amp;lt; ? &amp;gt; &amp;lt; &amp;gt;
D                returns: &amp;lt; ? &amp;gt; &amp;lt; &amp;gt;
SearchList       returns: &amp;lt; ? &amp;gt;
SearchList       returns: &amp;lt; ? &amp;gt;
SearchList       returns: &amp;lt; ? &amp;gt;
Basic_check_mail returns: @ dusko &amp;lt; @ some . ext . domain &amp;gt;
check_mail       returns: @ dusko &amp;lt; @ some . ext . domain &amp;gt;

&amp;gt; check_relay dusko@some.external.domain
check_relay        input: dusko @ some . external . domain
check_relay      returns: dusko @ some . external . domain $| dusko @ some . external . domain

&amp;gt; .D{client_addr}192.168.111.68

&amp;gt; Basic_check_relay &amp;lt;&amp;gt;
Basic_check_rela   input: &amp;lt; &amp;gt;
Basic_check_rela returns: &amp;lt; &amp;gt;
 
&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt -Ac
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
 
&amp;gt; check_mail dusko@some.ext.domain
check_mail         input: dusko @ some . ext . domain
Basic_check_mail   input: dusko @ some . ext . domain
tls_client         input: $| MAIL
TLS_connection     input:
TLS_connection   returns:
tls_client       returns:
CanonAddr          input: &amp;lt; dusko @ some . ext . domain &amp;gt;
canonify           input: &amp;lt; dusko @ some . ext . domain &amp;gt;
Canonify2          input: dusko &amp;lt; @ some . ext . domain &amp;gt;
Canonify2        returns: dusko &amp;lt; @ some . ext . domain . &amp;gt;
canonify         returns: dusko &amp;lt; @ some . ext . domain . &amp;gt;
Parse0             input: dusko &amp;lt; @ some . ext . domain . &amp;gt;
Parse0           returns: dusko &amp;lt; @ some . ext . domain . &amp;gt;
CanonAddr        returns: dusko &amp;lt; @ some . ext . domain . &amp;gt;
Basic_check_mail returns: @ dusko &amp;lt; @ some . ext . domain &amp;gt;
check_mail       returns: @ dusko &amp;lt; @ some . ext . domain &amp;gt;
 
&amp;gt; check_relay dusko@some.ext.domain
check_relay        input: dusko @ some . ext . domain
check_relay      returns: dusko @ some . ext . domain $| dusko @ some . ext . domain

&amp;gt; .D{client_addr}192.168.111.68     

&amp;gt; Basic_check_relay &amp;lt;&amp;gt;
Basic_check_rela   input: &amp;lt; &amp;gt;
Basic_check_rela returns: &amp;lt; &amp;gt;
 
&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
 
&amp;gt; Local_check_mail dusko
Local_check_mail   input: dusko
Local_check_mail returns: dusko
 
&amp;gt; Local_check_mail dusko@some.ext.domain
Local_check_mail   input: dusko @ some . ext . domain
Local_check_mail returns: dusko @ some . ext . domain
 
&amp;gt; Local_check_mail dusko_pijetlovic@yahoo.ca
Local_check_mail   input: dusko_pijetlovic @ yahoo . ca
Local_check_mail returns: dusko_pijetlovic @ yahoo . ca

&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps $$
  PID TT  STAT    TIME COMMAND
11825  2  Ss   0:00.09 -tcsh (tcsh)
 
$ printf %s\\n &quot;$SHELL&quot;
/bin/tcsh

$ su
Password:
# 

# command -v bash; type bash; whereis bash; which bash
/usr/local/bin/bash
bash is /usr/local/bin/bash
bash: /usr/local/bin/bash /usr/local/man/man1/bash.1.gz /usr/ports/shells/bash
/usr/local/bin/bash

# pkg info --regex bash
bash-5.2.2_1

# cat /etc/shells
# $FreeBSD$
#
# List of acceptable shells for chpass(1).
# Ftpd will not allow users to connect who are not using
# one of these shells.

/bin/sh
/bin/csh
/bin/tcsh
/usr/local/bin/bash
/usr/local/bin/rbash
/usr/local/libexec/git-core/git-shell
/usr/local/bin/ksh93

# bash
# 

# ps $$
  PID TT  STAT    TIME COMMAND
13555  2  S    0:00.01 bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While in &lt;em&gt;bash&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# echo -n &quot;${EMAIL_CONTENT:6:-3}&quot; | sendmail -Am -d60.5 -v dusko@some.ext.domain
map_lookup(dequote, dusko, %0=dusko) =&amp;gt; NOT FOUND (0), ad=0
map_lookup(host, some.ext.domain, %0=some.ext.domain) =&amp;gt; some.ext.domain. (0), ad=0
dusko@some.ext.domain... Connecting to esva.mail-relay.your.isp. via esmtp...
220 srv01.mail-relay.your.isp ESMTP
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.home.arpa
250-srv01.mail-relay.your.isp 
250-8BITMIME
250-SIZE 52428800
250 STARTTLS
&amp;gt;&amp;gt;&amp;gt; STARTTLS
220 Go ahead with TLS
map_lookup(macro, {TLS_Name}, %0={TLS_Name}, %1=esva.mail-relay.your.isp) =&amp;gt;  (0), ad=0
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.home.arpa
250-srv01.mail-relay.your.isp 
250-8BITMIME
250 SIZE 52428800
&amp;gt;&amp;gt;&amp;gt; MAIL From:&amp;lt;dusko@fbsd1.home.arpa&amp;gt;
250 sender &amp;lt;dusko@fbsd1.home.arpa&amp;gt; ok
map_lookup(macro, {TLS_Name}, %0={TLS_Name}, %1=esva.mail-relay.your.isp) =&amp;gt;  (0), ad=0
map_lookup(host, some.ext.domain, %0=some.ext.domain) =&amp;gt; some.ext.domain. (0), ad=0
&amp;gt;&amp;gt;&amp;gt; RCPT To:&amp;lt;dusko@some.ext.domain&amp;gt;
250 recipient &amp;lt;dusko@some.ext.domain&amp;gt; ok
&amp;gt;&amp;gt;&amp;gt; DATA
354 go ahead
&amp;gt;&amp;gt;&amp;gt; .
250 ok:  Message 7580284 accepted
dusko@some.ext.domain... Sent (ok:  Message 7580284 accepted)
Closing connection to esva.mail-relay.your.isp.
&amp;gt;&amp;gt;&amp;gt; QUIT
221 srv01.mail-relay.your.isp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# echo -n &quot;${EMAIL_CONTENT:6:-3}&quot; | sendmail -Ac -d60.5 -v dusko@some.ext.domain
map_lookup(dequote, dusko, %0=dusko) =&amp;gt; NOT FOUND (0), ad=0
map_lookup(host, some.ext.domain, %0=some.ext.domain) =&amp;gt; some.ext.domain. (0), ad=0
dusko@some.ext.domain... Connecting to [127.0.0.1] port 1465 via smartrelay...
220 your.isp.net ESMTP mailer ready at Sat, 28 Jan 2023 21:15:03 -0800
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.home.arpa
250-your.isp.net Hello fbsd1.home.arpa [123.45.67.89], pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-AUTH LOGIN PLAIN
250-DELIVERBY
250 HELP
map_lookup(authinfo, AuthInfo:[127.0.0.1], %0=AuthInfo:[127.0.0.1]) =&amp;gt; &quot;U:smmsp&quot; &quot;I:dusko&quot;  &quot;P:YourSmartHostPwd&quot; &quot;M:LOGIN&quot; (0), ad=0
&amp;gt;&amp;gt;&amp;gt; AUTH LOGIN
334 VXNlcm5hbWU6
&amp;gt;&amp;gt;&amp;gt; ABCab12=
334 UGFzc3dvcmQ6
&amp;gt;&amp;gt;&amp;gt; ABCdEF12gHIJkLMnoPQRSt==
235 2.0.0 OK Authenticated
&amp;gt;&amp;gt;&amp;gt; MAIL From:&amp;lt;dusko@fbsd1.home.arpa&amp;gt; AUTH=dusko@fbsd1.home.arpa
250 2.1.0 &amp;lt;dusko@fbsd1.home.arpa&amp;gt;... Sender ok
&amp;gt;&amp;gt;&amp;gt; RCPT To:&amp;lt;dusko@some.ext.domain&amp;gt;
250 2.1.5 &amp;lt;dusko@some.ext.domain&amp;gt;... Recipient ok
&amp;gt;&amp;gt;&amp;gt; DATA
354 Enter mail, end with &quot;.&quot; on a line by itself
&amp;gt;&amp;gt;&amp;gt; .
250 2.0.0 30T5F3AO022530 Message accepted for delivery
dusko@some.ext.domain... Sent (30T5F3AO022530 Message accepted for delivery)
Closing connection to [127.0.0.1]
&amp;gt;&amp;gt;&amp;gt; QUIT
221 2.0.0 your.isp.net closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exit &lt;em&gt;bash&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exit &lt;em&gt;root&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# exit
$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# find /etc -iname &apos;*sasl*&apos;
/etc/selinux/targeted/modules/active/modules/sasl.pp
/etc/sysconfig/saslauthd
/etc/rc.d/rc2.d/S65saslauthd
/etc/rc.d/rc1.d/K10saslauthd
/etc/rc.d/rc6.d/K10saslauthd
/etc/rc.d/rc4.d/S65saslauthd
/etc/rc.d/rc5.d/S65saslauthd
/etc/rc.d/rc3.d/S65saslauthd
/etc/rc.d/rc0.d/K10saslauthd
/etc/rc.d/init.d/saslauthd
/etc/sasl2

# ls -lh /etc/sasl2
total 4.0K
-rw-r--r-- 1 root root 49 Sep 25  2016 Sendmail.conf

# ls -lh /etc/sasl2/Sendmail.conf 
-rw-r--r-- 1 root root 49 Sep 25  2016 /etc/sasl2/Sendmail.conf

# cat /etc/sasl2/Sendmail.conf 
pwcheck_method:saslauthd
#mech_list: login plain
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;chapter-authenticating-with-auth&quot;&gt;Chapter Authenticating with AUTH&lt;/h4&gt;

&lt;p&gt;Send mail to the remote host to test the AUTH credentials.  Call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail&lt;/code&gt; 
with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-v&lt;/code&gt; option in order to watch the protocol interactions. Here is a 
sample test:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -Am -v -t
To: dusko@example.com
From: dusko@example.dom
Subject: Test

Please ignore.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press &lt;em&gt;Ctrl-D&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;In addition to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-v&lt;/code&gt; option, this test invokes sendmail with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt; 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt; tells sendmail to obtain the recipient address from any 
To:, CC:, and Bcc: lines in the message.  (In the example, you specified 
the recipient with a To: line in the message.)  The first five lines after 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail&lt;/code&gt; command is your test message, which is terminated by a 
Ctrl-D end-of-file mark.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; option tells sendmail to run as an MTA, 
using the &lt;em&gt;sendmail.cf&lt;/em&gt; configuration.  If this option is not specified, 
sendmail runs as a message submission program (MSP), uses the &lt;em&gt;submit.cf&lt;/em&gt; 
configuration, and displays the interaction between the user’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail&lt;/code&gt; 
command and the local system.  Because you want to watch the MTA interaction 
between your system and a remote system, you need to use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; option.&lt;/p&gt;

&lt;p&gt;Every line after the Ctrl-D is output from sendmail.  Output lines that 
start with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/code&gt; are SMTP commands coming from the sending system. 
Lines that start with a numeric response code come from the receiving system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep AuthMechanisms /etc/mail/sendmail.cf
O AuthMechanisms=LOGIN PLAIN
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep TrustAuthMech /etc/mail/sendmail.cf
C{TrustAuthMech}LOGIN PLAIN
R$* $| $={TrustAuthMech}        $# RELAY
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep DaemonPortOptions /etc/mail/sendmail.cf
O DaemonPortOptions=Name=MTA, M=A
O DaemonPortOptions=Port=465, Name=MTASSL, M=s a
O DaemonPortOptions=Port=587, Name=MSA, M=a
O DaemonPortOptions=Addr=127.0.0.1, Port=10026
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r Srv_Features /etc/mail/sendmail.cf
R$*             $: $&amp;gt;D &amp;lt;$&amp;amp;{client_name}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;Srv_Features&quot;&amp;gt; &amp;lt;&amp;gt;
R&amp;lt;?&amp;gt;$*          $: $&amp;gt;A &amp;lt;$&amp;amp;{client_addr}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;Srv_Features&quot;&amp;gt; &amp;lt;&amp;gt;
R&amp;lt;?&amp;gt;$*          $: &amp;lt;$(access &quot;Srv_Features&quot;: $: ? $)&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;chapter-securing-the-mail-transport&quot;&gt;Chapter Securing the Mail Transport&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r Try_TLS /etc/mail/sendmail.cf
R$*             $: $&amp;gt;D &amp;lt;$&amp;amp;{server_name}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;Try_TLS&quot;&amp;gt; &amp;lt;&amp;gt;
R&amp;lt;?&amp;gt;$*          $: $&amp;gt;A &amp;lt;$&amp;amp;{server_addr}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;Try_TLS&quot;&amp;gt; &amp;lt;&amp;gt;
R&amp;lt;?&amp;gt;$*          $: &amp;lt;$(access &quot;Try_TLS&quot;: $: ? $)&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;chapter-managing-the-queue&quot;&gt;Chapter Managing the Queue&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep QueueDirectory /etc/mail/sendmail.cf
O QueueDirectory=/var/spool/mqueue
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mx&lt;/code&gt; command returns the MX list sendmail will use to deliver to the 
specified recipient host:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt 
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
 
&amp;gt; /mx sendmail.org
getmxrr(sendmail.org) returns 1 value(s):
        mc.sendmail.org.
 
&amp;gt; /mx yahoo.com
getmxrr(yahoo.com) returns 3 value(s):
        mta5.am0.yahoodns.net.
        mta7.am0.yahoodns.net.
        mta6.am0.yahoodns.net.

&amp;gt; /mx aol.com
getmxrr(aol.com) returns 1 value(s):
        mx-aol.mail.gm0.yahoodns.net.

&amp;gt; /mx gmail.com
getmxrr(gmail.com) returns 5 value(s):
        gmail-smtp-in.l.google.com.
        alt1.gmail-smtp-in.l.google.com.
        alt2.gmail-smtp-in.l.google.com.
        alt3.gmail-smtp-in.l.google.com.
        alt4.gmail-smtp-in.l.google.com.

&amp;gt; /mx some_domain.com 
getmxrr(duskopijetlovic.com) returns 2 value(s):
        aspmx1.somemx.com.
        aspmx2.somemx.com.

&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;chapter-securing-sendmail&quot;&gt;Chapter Securing sendmail&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep &apos;^M&apos; /etc/mail/sendmail.cf | awk &apos;{ print $1 $3 }&apos;
Msmtp,F=mDFMuX,
Mesmtp,F=mDFMuXa,
Msmtp8,F=mDFMuX8,
Mdsmtp,F=mDFMuXa%,
Mrelay,F=mDFMuXa8,
Mlocal,F=lsDFMAw5:/|@qSPfhn9,
Mprog,F=lsDFMoqeu9,
Mprocmail,F=DFMSPhnu9,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep &apos;^Mprog&apos; /etc/mail/sendmail.cf
Mprog,          P=/usr/sbin/smrsh, F=lsDFMoqeu9, S=EnvFromL/HdrFromL, R=EnvToL/HdrToL, D=$z:/,

# strings /usr/sbin/smrsh | grep &apos;^/&apos;
/lib64/ld-linux-x86-64.so.2
/wTH
/w&amp;amp;H
/etc/smrsh
/bin:/usr/bin
/bin/sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep &apos;^DZ&apos; /etc/mail/sendmail.cf
DZ8.14.4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep &apos;^T&apos; /etc/mail/sendmail.cf
Troot
Tdaemon
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;bat-book&quot;&gt;Bat Book&lt;/h2&gt;

&lt;p&gt;Book: &lt;br /&gt;
&lt;strong&gt;sendmail&lt;/strong&gt;&lt;br /&gt;
by Bryan Coastales with Eric Allman and Neil Rickert&lt;br /&gt;
Copyright (c) 1993 O’Reilly &amp;amp; Associates, Inc. &lt;br /&gt;
Printing history:&lt;br /&gt;
November 1993: First Edition. &lt;br /&gt;
February 1994: Minor corrections.&lt;br /&gt;
September 1994: Minor corrections.  &lt;br /&gt;
ISBN: 1-56592-056-2&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;sendmail, Fourth Edition&lt;/strong&gt;&lt;br /&gt;
by Bryan Coastales, George Jansen and Clauss Assman with Gregory Neil Shapiro
Copyright (c) 2008 Bryan Coastales, George Jansen and Clauss Assman&lt;br /&gt;
Published by O’Reilly Media, Inc.&lt;/p&gt;

&lt;p&gt;Printing history:&lt;br /&gt;
November 1993: First Edition. &lt;br /&gt;
January 1997: Second Edition.&lt;br /&gt;
December 2002: Third Editon.&lt;br /&gt;
October 2007: Fourt Editon.&lt;br /&gt;
ISBN-10: 0-596-51029-2 &lt;br /&gt;
ISBN-13: 978-0-596-51029-2&lt;/p&gt;

&lt;h3 id=&quot;chapter-3-the-roles-of-sendmail&quot;&gt;Chapter 3 The Roles of sendmail&lt;/h3&gt;

&lt;p&gt;Locations of other programs and files that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail&lt;/code&gt; uses:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -v \# /etc/mail/sendmail.cf | grep &quot;/[^0-9].*/&quot;
Fw/etc/mail/local-host-names
FR-o /etc/mail/relay-domains
Kaccess hash -T&amp;lt;TMPF&amp;gt; /etc/mail/access
Kaccess hash -o -T&amp;lt;TMPF&amp;gt; /etc/mail/access
Kmailertable hash -o /etc/mail/mailertable
Kvirtuser hash -o /etc/mail/virtusertable
O AliasFile=/etc/aliases
O HelpFile=/etc/mail/helpfile
O ForwardPath=$z/.forward.$w:$z/.forward
O QueueDirectory=/var/spool/mqueue
O CACertPath=/etc/mail/certs/alpha
O CACertFile=/etc/mail/certs/alpha/alphaintercert.crt
O ServerCertFile=/etc/mail/certs/alpha/my.domain.crt
O ServerKeyFile=/etc/mail/certs/alpha/my.domain.key
O ClientCertFile=/etc/mail/certs/alpha/my.domain.crt
O ClientKeyFile=/etc/mail/certs/alpha/my.domain.key
Ft-o /etc/mail/trusted-users
             T=DNS/RFC822/SMTP,
             T=DNS/RFC822/SMTP,
             T=DNS/RFC822/SMTP,
             T=DNS/RFC822/SMTP,
             T=DNS/RFC822/SMTP,
Mlocal,      P=/usr/bin/procmail, F=lsDFMAw5:/|@qSPfhn9, S=EnvFromL/HdrFromL, R=EnvToL/HdrToL,
             T=DNS/RFC822/X-Unix,
Mprog,       P=/usr/sbin/smrsh, F=lsDFMoqeu9, S=EnvFromL/HdrFromL, R=EnvToL/HdrToL, D=$z:/,
                T=X-Unix/X-Unix/X-Unix,
Mprocmail,   P=/usr/bin/procmail, F=DFMSPhnu9, S=EnvFromSMTP/HdrFromSMTP, R=EnvToSMTP/HdrFromSMTP,
             T=DNS/RFC822/X-Unix,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lines beginning with an O character: a line as a configuration option.
The string following the O is the name of the option.&lt;/p&gt;

&lt;p&gt;Lines beginning with an M character: a line defining a &lt;em&gt;delivery agent&lt;/em&gt;,
a.k.a. &lt;em&gt;MDA&lt;/em&gt; (&lt;em&gt;Mail Delivery Agent&lt;/em&gt;). 
A delivery agent is a program that handles final local delivery to a 
user’s mailbox (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mlocal&lt;/code&gt;), handles delivery through a program 
(the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mprog&lt;/code&gt;), or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;procmail(1)&lt;/code&gt; program (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mprocmail&lt;/code&gt;).
The &lt;em&gt;procmail&lt;/em&gt; delivery agent allows additional processing for local or 
special delivery needs.&lt;/p&gt;

&lt;h3 id=&quot;network-forwarding&quot;&gt;Network Forwarding&lt;/h3&gt;

&lt;h4 id=&quot;tcpip&quot;&gt;TCP/IP&lt;/h4&gt;

&lt;p&gt;The &lt;em&gt;sendmail&lt;/em&gt; program has the &lt;em&gt;internal&lt;/em&gt; ability to forward mail over 
only one kind of network, one that uses TCP/IP.&lt;br /&gt;
Lines that instruct &lt;em&gt;sendmail&lt;/em&gt; to do this have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[IPC]&lt;/code&gt;
(may appear as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[TCP]&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -v \# /etc/mail/sendmail.cf | grep &apos;^M&apos;
Msmtp,       P=[IPC], F=mDFMuX, S=EnvFromSMTP/HdrFromSMTP, R=EnvToSMTP, E=\r\n, L=990,
Mesmtp,      P=[IPC], F=mDFMuXa, S=EnvFromSMTP/HdrFromSMTP, R=EnvToSMTP, E=\r\n, L=990,
Msmtp8,      P=[IPC], F=mDFMuX8, S=EnvFromSMTP/HdrFromSMTP, R=EnvToSMTP, E=\r\n, L=990,
Mdsmtp,      P=[IPC], F=mDFMuXa%, S=EnvFromSMTP/HdrFromSMTP, R=EnvToSMTP, E=\r\n, L=990,
Mrelay,      P=[IPC], F=mDFMuXa8, S=EnvFromSMTP/HdrFromSMTP, R=MasqSMTP, E=\r\n, L=2040,
Mlocal,      P=/usr/bin/procmail, F=lsDFMAw5:/|@qSPfhn9, S=EnvFromL/HdrFromL, R=EnvToL/HdrToL,
Mprog,       P=/usr/sbin/smrsh, F=lsDFMoqeu9, S=EnvFromL/HdrFromL, R=EnvToL/HdrToL, D=$z:/,
Mprocmail,   P=/usr/bin/procmail, F=DFMSPhnu9, S=EnvFromSMTP/HdrFromSMTP, R=EnvToSMTP/HdrFromSMTP,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The lines beginning with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Msmtp&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mesmtp&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Msmtp8&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mpdsmtp&lt;/code&gt;, 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mrelay&lt;/code&gt; indicate the internal SMTP delivery agents.&lt;/p&gt;

&lt;p&gt;The five SMTP delivery agents all use TCP to connect to other hosts.&lt;/p&gt;

&lt;h3 id=&quot;the-sendmail-daemon&quot;&gt;The sendmail Daemon&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r sendmail /etc/rc*
/etc/rc.d/init.d/sendmail:# sendmail      This shell script takes care of starting and stopping
/etc/rc.d/init.d/sendmail:#               sendmail.
/etc/rc.d/init.d/sendmail:# processname: sendmail
/etc/rc.d/init.d/sendmail:# config: /etc/mail/sendmail.cf
/etc/rc.d/init.d/sendmail:# pidfile: /var/run/sendmail.pid
/etc/rc.d/init.d/sendmail:# Provides: sendmail MTA smtpdaemon
/etc/rc.d/init.d/sendmail:# Short-Description: start and stop sendmail
/etc/rc.d/init.d/sendmail:# Description: sendmail is a Mail Transport Agent (MTA)
/etc/rc.d/init.d/sendmail:# Source sendmail configureation.
/etc/rc.d/init.d/sendmail:if [ -f /etc/sysconfig/sendmail ]; then
/etc/rc.d/init.d/sendmail:    . /etc/sysconfig/sendmail
/etc/rc.d/init.d/sendmail:[ -x /usr/sbin/sendmail ] || exit 5
/etc/rc.d/init.d/sendmail:prog=&quot;sendmail&quot;
/etc/rc.d/init.d/sendmail:    echo -n $&quot;Package sendmail-cf is required to update configuration.&quot;
/etc/rc.d/init.d/sendmail:    daemon /usr/sbin/sendmail $([ &quot;x$DAEMON&quot; = xyes ] &amp;amp;&amp;amp; echo -bd) \
/etc/rc.d/init.d/sendmail:    [ $RETVAL -eq 0 ] &amp;amp;&amp;amp; touch /var/lock/subsys/sendmail
/etc/rc.d/init.d/sendmail:      daemon --check sm-client /usr/sbin/sendmail -L sm-msp-queue -Ac \
/etc/rc.d/init.d/sendmail:    killproc sendmail -HUP
/etc/rc.d/init.d/sendmail:    killproc sendmail
/etc/rc.d/init.d/sendmail:    [ $RETVAL -eq 0 ] &amp;amp;&amp;amp; rm -f /var/lock/subsys/sendmail
/etc/rc.d/init.d/sendmail:status -p /var/run/sendmail.pid &amp;gt;/dev/null || status -p /var/run/sm-client.pid &amp;gt;/dev/null
/etc/rc.d/init.d/sendmail:      echo -n sendmail; status -p /var/run/sendmail.pid -l sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r sendmail /etc/init.d/
/etc/init.d/sendmail:# sendmail      This shell script takes care of starting and stopping
/etc/init.d/sendmail:#               sendmail.
/etc/init.d/sendmail:# processname: sendmail
/etc/init.d/sendmail:# config: /etc/mail/sendmail.cf
/etc/init.d/sendmail:# pidfile: /var/run/sendmail.pid
/etc/init.d/sendmail:# Provides: sendmail MTA smtpdaemon
/etc/init.d/sendmail:# Short-Description: start and stop sendmail
/etc/init.d/sendmail:# Description: sendmail is a Mail Transport Agent (MTA)
/etc/init.d/sendmail:# Source sendmail configureation.
/etc/init.d/sendmail:if [ -f /etc/sysconfig/sendmail ]; then
/etc/init.d/sendmail:    . /etc/sysconfig/sendmail
/etc/init.d/sendmail:[ -x /usr/sbin/sendmail ] || exit 5
/etc/init.d/sendmail:prog=&quot;sendmail&quot;
/etc/init.d/sendmail:   echo -n $&quot;Package sendmail-cf is required to update configuration.&quot;
/etc/init.d/sendmail:    daemon /usr/sbin/sendmail $([ &quot;x$DAEMON&quot; = xyes ] &amp;amp;&amp;amp; echo -bd) \
/etc/init.d/sendmail:    [ $RETVAL -eq 0 ] &amp;amp;&amp;amp; touch /var/lock/subsys/sendmail
/etc/init.d/sendmail:   daemon --check sm-client /usr/sbin/sendmail -L sm-msp-queue -Ac \
/etc/init.d/sendmail:    killproc sendmail -HUP
/etc/init.d/sendmail:    killproc sendmail
/etc/init.d/sendmail:    [ $RETVAL -eq 0 ] &amp;amp;&amp;amp; rm -f /var/lock/subsys/sendmail
/etc/init.d/sendmail:status -p /var/run/sendmail.pid &amp;gt;/dev/null || status -p /var/run/sm-client.pid &amp;gt;/dev/null
/etc/init.d/sendmail:   echo -n sendmail; status -p /var/run/sendmail.pid -l sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;bat-book-fourth-edition-chapter-16-configuration-file-overview&quot;&gt;Bat Book (Fourth Edition): Chapter 16. Configuration File Overview&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;Chapter 16. Configuration File Overview&lt;/p&gt;

  &lt;p&gt;The &lt;em&gt;sendmail&lt;/em&gt; configuration file (usually called &lt;em&gt;sendmail.cf&lt;/em&gt;, but 
for MSP submission, called &lt;em&gt;submit.cf&lt;/em&gt;) provides all the central
information that controls the sendmail program’s behavior.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;The location of the &lt;em&gt;sendmail.cf&lt;/em&gt; (and &lt;em&gt;submit.cf&lt;/em&gt;) file is compiled
into sendmail.  Beginning with V8.10, sendmail expects to find its
configuration file in the &lt;em&gt;/etc/mail&lt;/em&gt; directory.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;The configuration file is read and parsed by &lt;em&gt;sendmail&lt;/em&gt; every time it
starts up.  Because &lt;em&gt;sendmail&lt;/em&gt; is run every time electronic mail is sent,
its configuration file is designed to be easy for &lt;em&gt;sendmail&lt;/em&gt; to parse
rather than easy for humans to read.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;The listening daemon and the submission &lt;em&gt;msp sendmail&lt;/em&gt; use two different
configuration files (i.e., &lt;em&gt;sendmail.cf&lt;/em&gt; and &lt;em&gt;submit.cf&lt;/em&gt;).  Unless you
specify a specific configuration file with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C&lt;/code&gt;, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Ac&lt;/code&gt;
switches determine which of the two configuration files is used.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/sendmail/cf/README&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+----------------------------+
| MESSAGE SUBMISSION PROGRAM |
+----------------------------+
                                        
The purpose of the message submission program (MSP) is explained
in sendmail/SECURITY.  This section contains a list of caveats and
a few hints how for those who want to tweak the default configuration
for it (which is installed as submit.cf).

Notice: do not add options/features to submit.mc unless you are
absolutely sure you need them.  Options you may want to change
include:

- confTRUSTED_USERS, FEATURE(`use_ct_file&apos;), and confCT_FILE for
  avoiding X-Authentication warnings.
- confTIME_ZONE to change it from the default `USE_TZ&apos;.
- confDELIVERY_MODE is set to interactive in msp.m4 instead
  of the default background mode.
- FEATURE(stickyhost) and LOCAL_RELAY to send unqualified addresses
  to the LOCAL_RELAY instead of the default relay.
- confRAND_FILE if you use STARTTLS and sendmail is not compiled with
  the flag HASURANDOM.

[ . . . ]

Some things are not intended to work with the MSP.  These include
features that influence the delivery process (e.g., mailertable,
aliases), or those that are only important for a SMTP server (e.g.,
virtusertable, DaemonPortOptions, multiple queues).  Moreover,
relaxing certain restrictions (RestrictQueueRun, permissions on
queue directory) or adding features (e.g., enabling prog/file mailer)
can cause security problems.

Other things don&apos;t work well with the MSP and require tweaking or
workarounds.  For example, to allow for client authentication it
is not just sufficient to provide a client certificate and the
corresponding key, but it is also necessary to make the key group
(smmsp) readable and tell sendmail not to complain about that, i.e.,

        define(`confDONT_BLAME_SENDMAIL&apos;, `GroupReadableKeyFile&apos;)

If the MSP should actually use AUTH then the necessary data
should be placed in a map as explained in SMTP AUTHENTICATION:

FEATURE(`authinfo&apos;, `DATABASE_MAP_TYPE /etc/mail/msp-authinfo&apos;)

/etc/mail/msp-authinfo should contain an entry like:

        AuthInfo:127.0.0.1      &quot;U:smmsp&quot; &quot;P:secret&quot; &quot;M:DIGEST-MD5&quot;

The file and the map created by makemap should be owned by smmsp,
its group should be smmsp, and it should have mode 640.  The database
used by the MTA for AUTH must have a corresponding entry.
Additionally the MTA must trust this authentication data so the AUTH=
part will be relayed on to the next hop.  This can be achieved by
adding the following to your sendmail.mc file:

        LOCAL_RULESETS
        SLocal_trust_auth
        R$*     $: $&amp;amp;{auth_authen}
        Rsmmsp  $# OK

[ . . . ]

feature/msp.m4 defines almost all settings for the MSP.  Most of
those should not be changed at all.  Some of the features and options
can be overridden if really necessary.  It is a bit tricky to do
this, because it depends on the actual way the option is defined
in feature/msp.m4.  If it is directly defined (i.e., define()) then
the modified value must be defined after

        FEATURE(`msp&apos;)

If it is conditionally defined (i.e., ifdef()) then the desired
value must be defined before the FEATURE line in the .mc file.
To see how the options are defined read feature/msp.m4.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;bat-book-fourth-edition-chapter-17-configure-sendmailcf-with-m4&quot;&gt;Bat Book (Fourth Edition): Chapter 17. Configure sendmail.cf with m4&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;The MAILER definition must always be last in your &lt;em&gt;mc&lt;/em&gt; configuration file.
(Although it can and probably should be followed by rule set declarations,
as for example, LOCAL_RULESET_0).  If you include MAILER definitions for
procmail(1), maildrop(1), or uucp, those definitions must always follow
the definition for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;smtp&lt;/code&gt;.  Any modification of a MAILER definition
(as, for example, with LOCAL_MAILER_MAX) must precede that MAILER definition.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From &lt;strong&gt;sendmail-source-tree/doc/op/op.txt&lt;/strong&gt;:  &lt;br /&gt;
(On FreeBSD 13.1: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/sendmail/op.txt&lt;/code&gt;)  &lt;br /&gt;
(On Linux distributions: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/share/doc/sendmail-X.XX.X&lt;/code&gt; (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/share/doc/sendmail-8.17.1&lt;/code&gt;)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;      m   This mailer can send to multiple users on the same
          host in one transaction.  When a $u macro occurs
          in the argv part of the mailer definition, that
          field will be repeated as necessary for all quali-
          fying users.  Removing this flag can defeat dupli-
          cate  suppression on a remote site as each recipi-
          ent is sent in a separate transaction.

      D*  This mailer wants a &quot;Date:&quot; header line.

      F*  This mailer wants a &quot;From:&quot; header line.
 
      u   Upper case should be preserved in user names for
          this mailer.  Standards require preservation of
          case in the local part of addresses, except for
          those address for which your system accepts  re-
          sponsibility.   RFC 2142 provides a long list of
          addresses which should be case insensitive.   If
          you use this flag, you may be violating RFC 2142.
          Note that postmaster is always treated as a case
          insensitive address regardless of this flag.

      X   This mailer wants to use the hidden dot algorithm
          as specified in RFC 821; basically, any line be-
          ginning with a  dot  will have an extra  dot
          prepended (to be stripped at the other end).  This
          insures that lines in the message containing a dot
          will not terminate the message prematurely.
 
      a   Run Extended SMTP  (ESMTP)  protocol (defined in
          RFCs 1869, 1652, and 1870).  This flag defaults on
          if the SMTP greeting message includes the word
          &quot;ESMTP&quot;.

      k   Normally when sendmail connects to a host via
          SMTP, it checks to make sure that this isn&apos;t acci-
          dentally the same host name as might happen if
          sendmail is misconfigured or if a long-haul net-
          work interface is set in loopback mode.  This flag
          disables the loopback check.  It should only be
          used under very unusual circumstances.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;essential-system-administration-3rd-edition&quot;&gt;Essential System Administration, 3rd Edition&lt;/h2&gt;

&lt;p&gt;By Æleen Frisch  &lt;br /&gt;
O’Reilly Media, Inc.  &lt;br /&gt;
August 2002&lt;/p&gt;

&lt;h3 id=&quot;chapter-94-configuring-the-transport-agent-the-whole-chapter&quot;&gt;Chapter 9.4. Configuring the Transport Agent (The whole chapter)&lt;/h3&gt;

&lt;p&gt;Also, about the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;delay_checks&lt;/code&gt; feature:&lt;/p&gt;

&lt;p&gt;The entries in the access database are used by three distinct sendmail 
message examination phases. [1]&lt;/p&gt;

&lt;p&gt;[1] To be more technically accurate, the entries are used by three 
different sendmail “rulesets”: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_relay&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_rcpt&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Messages are checked first for allowed relaying (based on the client 
hostname and address), then for an allowed sender, and finally for an 
allowed recipient.  If a message is rejected in one phase, it cannot be 
restored later.  This means that the preceding syntax does not allow for 
certain kinds of exceptions to be defined.  For example, you cannot allow 
email to a specific user always to get through regardless of its origin 
because the local addresses checks are downstream from the message 
source checks.&lt;/p&gt;

&lt;p&gt;However, you can use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;delay_checks&lt;/code&gt; feature to reverse the order of 
the three test phases.  In this mode, recipient-level access controls 
have the highest precedence, rather than the lowest.&lt;/p&gt;

&lt;h2 id=&quot;the-sendmail-cfreadme-file-and-documentation-doc-directory&quot;&gt;The sendmail cf/README file and Documentation (doc Directory)&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Location of the &lt;em&gt;doc&lt;/em&gt; directory on FreeBSD 13.1 is
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/sendmail&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls /usr/local/share/doc/sendmail/
DEVTOOLS        MAIL.LOCAL      PGPKEYS         SECURITY        TRACEFLAGS
KNOWNBUGS       op.ps           README          SENDMAIL        TUNING
LICENSE         op.txt          RELEASE_NOTES   SMRSH
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;op&lt;/em&gt; document is the &lt;em&gt;sendmail&lt;/em&gt; “INSTALLATION AND OPERATION GUIDE”.
That guide is supplied as a text file (&lt;em&gt;op.txt&lt;/em&gt;) and as a PostScript
document (&lt;em&gt;op.ps&lt;/em&gt;).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Location on FreeBSD 13.1 with &lt;em&gt;sendmail&lt;/em&gt; 8.17.1: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/sendmail/cf/README&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Location on RHEL Server release 6.8 (Santiago) 
with &lt;em&gt;sendmail&lt;/em&gt; 8.14.4: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/share/sendmail-cf/README&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;On FreeBSD 13, the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail(8)&lt;/code&gt; under SEE ALSO section lists &lt;em&gt;Sendmail Installation and Operation Guide, No. 8, SMM&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ man sendmail

. . . 

  SEE ALSO
         mail(1), syslog(3), aliases(5), mailaddr(7), mail.local(8), rc(8),
         rmail(8)
  
         DARPA Internet Request For Comments RFC819, RFC821, RFC822.  Sendmail
         Installation and Operation Guide, No. 8, SMM.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;em&gt;SMM&lt;/em&gt; stands for UNIX &lt;em&gt;System Manager’s Manual&lt;/em&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Sendmail Installation and Operation Guide - Eric Allman, Claus Assman, Gregory Neil Shapiro – PostScript version - Location on FreeBSD 13.1:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/sendmail/op.ps&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Sendmail Installation and Operation Guide - Eric Allman, Claus Assmann, Gregory Neil Shapiro - Plain text version – Location on FreeBSD 13.1:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/sendmail/op.txt&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;the-features-section---the-require_rdns-feature&quot;&gt;The FEATURES Section - The require_rdns Feature&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Available features are:

[ . . . ]

require_rdns    Reject mail from connecting SMTP clients without proper
                rDNS (reverse DNS), functional gethostbyaddr() resolution.
                Note: this feature will cause false positives, i.e., there
                are legitimate MTAs that do not have proper DNS entries.
                Rejecting mails from those MTAs is a local policy decision.

[ . . . ]

                EXCEPTIONS:

                Exceptions based on access entries are discussed below.
                Any IP address matched using $=R (the &quot;relay-domains&quot; file)
                is excepted from the rules.  Since we have explicitly
                allowed relaying for this host, based on IP address, we
                ignore the rDNS failure.

[ . . . ] 
                If `delay_checks&apos; is in effect (recommended), then any
                sender who has authenticated is also excepted from the
                restrictions.  This happens because the rules produced by
                this FEATURE() will not be applied to authenticated senders
                (assuming `delay_checks&apos;).

                ACCESS MAP ENTRIES:

                Entries such as
                        Connect:1.2.3.4         OK
                        Connect:1.2             RELAY
                will whitelist IP address 1.2.3.4, so that the rDNS
                blocking does apply to that IP address

                Entries such as
                        Connect:1.2.3.4         REJECT
                will have the effect of forcing a temporary failure for
                that address to be treated as a permanent failure.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;the-delay-all-checks-section-of-the-sendmail-cfreadme-file&quot;&gt;The “Delay all checks” Section of the sendmail cf/README file&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Delay all checks
----------------

By using FEATURE(`delay_checks&apos;) the rulesets check_mail and check_relay
will not be called when a client connects or issues a MAIL command,
respectively.  Instead, those rulesets will be called by the check_rcpt
ruleset; they will be skipped if a sender has been authenticated using
a &quot;trusted&quot; mechanism, i.e., one that is defined via TRUST_AUTH_MECH().
If check_mail returns an error then the RCPT TO command will be rejected
with that error.  If it returns some other result starting with $# then
check_relay will be skipped.  If the sender address (or a part of it) is
listed in the access map and it has a RHS of OK or RELAY, then check_relay
will be skipped.  This has an interesting side effect: if your domain is
my.domain and you have

        my.domain       RELAY

in the access map, then any e-mail with a sender address of
&amp;lt;user@my.domain&amp;gt; will not be rejected by check_relay even though
it would match the hostname or IP address.  This allows spammers
to get around DNS based blacklist by faking the sender address.  To
avoid this problem you have to use tagged entries:

        To:my.domain            RELAY
        Connect:my.domain       RELAY

if you need those entries at all (class {R} may take care of them).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;the-connection-control-section-of-the-sendmail-cfreadme-file&quot;&gt;The CONNECTION CONTROL Section of the sendmail cf/README file&lt;/h3&gt;

&lt;p&gt;About the order of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_db&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;delay_checks&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ratecontrol&lt;/code&gt; 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conncontrol&lt;/code&gt; features in the mc file; that is:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_db&lt;/code&gt;  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;delay_checks&lt;/code&gt; &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ratecontrol&lt;/code&gt; &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conncontrol&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Excerpt from the cf/README file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The features ratecontrol and conncontrol allow to establish connection
limits per client IP address or net.  These features can limit the
rate of connections (connections per time unit) or the number of
incoming SMTP connections, respectively.  If enabled, appropriate
rulesets are called at the end of check_relay, i.e., after DNS
blacklists and generic access_db operations.  The features require 
FEATURE(`access_db&apos;) to be listed earlier in the mc file.

Note: FEATURE(`delay_checks&apos;) delays those connection control checks
after a recipient address has been received, hence making these
connection control features less useful.  To run the checks as early
as possible, specify the parameter `nodelay&apos;, e.g.,

        FEATURE(`ratecontrol&apos;, `nodelay&apos;)

In that case, FEATURE(`delay_checks&apos;) has no effect on connection
control (and it must be specified earlier in the mc file).

An optional second argument `terminate&apos; specifies whether the
rulesets should return the error code 421 which will cause
sendmail to terminate the session with that error if it is
returned from check_relay, i.e., not delayed as explained in
the previous paragraph.  Example:

        FEATURE(`ratecontrol&apos;, `nodelay&apos;, `terminate&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;submission-sendmail-tls-sasl-smtp-auth-port-465-port-587&quot;&gt;Submission (Sendmail TLS SASL SMTP-AUTH Port 465 Port 587)&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://serverfault.com/questions/880547/authentication-succeeds-but-sending-still-fails&quot;&gt;Authentication succeeds, but sending still fails&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The locally-invoked sendmail on the mail server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -O LogLevel=14 -bs -Am
220 test.host.domain ESMTP mailer ready at Wed, 26 Oct 2022 20:03:40 -0700
HELO test.host.domain
250 test.host.domain Hello root@localhost, pleased to meet you
EHLO test.host.domain
250-test.host.domain Hello root@localhost, pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-STARTTLS
250-DELIVERBY
250 HELP
MAIL From:&amp;lt;dusko@test.host.domain&amp;gt;
250 2.1.0 &amp;lt;dusko@test.host.domain&amp;gt;... Sender ok
RCPT To:&amp;lt;dusko@host.domain.
250 2.1.5 &amp;lt;dusko@host.domain&amp;gt;... Recipient ok
DATA
354 Enter mail, end with &quot;.&quot; on a line by itself
From: Dusko &amp;lt;dusko@foobar.com&amp;gt;
To: &amp;lt;dusko@host.domain&amp;gt; Dusko Pijetlovic
Subject: Test

Testing.
.
250 2.0.0 29S4ceAq025509 Message accepted for delivery
QUIT
221 2.0.0 test.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://slackwiki.com/Sendmail_TLS_SASL_SMTP-AUTH&quot;&gt;Sendmail TLS SASL SMTP-AUTH&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;define(`confAUTH_OPTIONS&apos;, `A p y&apos;)dnl&lt;/code&gt; configures sendmail to:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; is a workaround for broken MTAs that do not implement RFC 2554.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;p&lt;/code&gt; option tells sendmail: “don’t permit mechanisms susceptible to 
simple passive attack (e.g., &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOGIN&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PLAIN&lt;/code&gt;), unless a security layer
(think TLS tunnel) is active.”&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; option prohibits anonymous logins.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Take note that this will only allow LOGIN/PLAIN SMTP-AUTH after encryption
has been established in a TLS tunnel.  Allowing both TLS and non-TLS 
PLAIN/LOGIN SMTP-AUTH is left as an exercise to the reader.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/solutions/60803&quot;&gt;How to configure sendmail for relaying mail over port 587 using authentication&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What is: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail -Am -v -t&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sendmail.org/~ca/email/authrealms.html&quot;&gt;SMTP AUTH for sendmail 8.10: Realms and Examples&lt;/a&gt;&lt;br /&gt;
Last Update 2000-06-24&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;PLAIN&lt;/strong&gt;  &lt;br /&gt;
According to &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc2595&quot;&gt;RFC 2595&lt;/a&gt; the client must send: &lt;a href=&quot;https://www.sendmail.org/~ca/email/auth.html#userid&quot;&gt;[authorize-id]&lt;/a&gt; \0 &lt;a href=&quot;https://www.sendmail.org/~ca/email/auth.html#authid&quot;&gt;[authenticate-id]&lt;/a&gt; \0 password. &lt;a href=&quot;https://www.sendmail.org/~ca/email/authrealms.html#authpwcheck_method&quot;&gt;pwcheck_method&lt;/a&gt; has been set to &lt;a href=&quot;https://www.sendmail.org/~ca/email/authrealms.html#PWCHECK_SASLDB&quot;&gt;sasldb&lt;/a&gt; for the following example.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; AUTH PLAIN dGVzdAB0ZXN0QHdpei5leGFtcGxlLmNvbQB0RXN0NDI=
235 2.0.0 OK Authenticated
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sendmail.org/~ca/email/prgs/ed64.c&quot;&gt;Decoded:&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;test\000test@wiz.example.com\000tEst42
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;a href=&quot;https://www.sendmail.org/~ca/email/patches/cyrus-sasl-1.5.15-lib-checkpw.c.p1&quot;&gt;patch for lib/checkpw.c&lt;/a&gt; or a &lt;a href=&quot;https://www.sendmail.org/~ca/email/authrealms.html#authpwcheck_method&quot;&gt;pwcheck_method&lt;/a&gt; that doesn’t support realms:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; AUTH PLAIN dGVzdAB0ZXN0AHRFc3Q0Mg==
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sendmail.org/~ca/email/prgs/ed64.c&quot;&gt;Decoded:&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;test\000test\000tEst42
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;LOGIN&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sendmail.org/~ca/email/authrealms.html#authpwcheck_method&quot;&gt;pwcheck_method&lt;/a&gt; has been set to &lt;a href=&quot;https://www.sendmail.org/~ca/email/authrealms.html#PWCHECK_SASLDB&quot;&gt;sasldb&lt;/a&gt; for the following example.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; AUTH LOGIN
334 VXNlcm5hbWU6
&amp;gt;&amp;gt;&amp;gt; dGVzdEB3aXouZXhhbXBsZS5jb20=
334 UGFzc3dvcmQ6
&amp;gt;&amp;gt;&amp;gt; dEVzdDQy
235 2.0.0 OK Authenticated
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sendmail.org/~ca/email/prgs/ed64.c&quot;&gt;Decoded:&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;test
tEst42
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/59464979/what-is-the-difference-between-using-plain-vs-login-in-active-mailer-smtp&quot;&gt;What is the difference between using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:plain&lt;/code&gt; vs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:login&lt;/code&gt; in active mailer smtp settings?&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Long story short as you are using TLS your credentials are safe as they 
are being exchanged on an encrypted connection.&lt;/p&gt;

  &lt;p&gt;According to ActionMailer documentation &lt;a href=&quot;https://api.rubyonrails.org/classes/ActionMailer/Base.html#class-ActionMailer::Base-label-Configuration+options&quot;&gt;here&lt;/a&gt; irrespective of authentication &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:plain&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:login&lt;/code&gt; the password is always &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Base64&lt;/code&gt; encoded.  The problem with Base64 encoding is that it can be easily decoded by anybody eavesdropping in on the SMTP communication. So both of these authentication mechanisms are really the same in terms of security.&lt;/p&gt;

  &lt;p&gt;However as you are using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TLS&lt;/code&gt; the connection is encrypted and the Base64
credentials are sent over this encrypted connection making it secure.
If you were not using TLS then it would be better to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:cram_md5&lt;/code&gt; 
instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:login&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:plain&lt;/code&gt; to secure the credentials.&lt;/p&gt;
  &lt;hr /&gt;
  &lt;p&gt;This answer is correct but incomplete since OP also asked the difference
between PLAIN and LOGIN. PLAIN sends both login and password in the 
same Base64-encoded string, whereas LOGIN sends them separately.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wiki.zimbra.com/wiki/Simple_Troubleshooting_For_SMTP_Via_Telnet_And_Openssl&quot;&gt;Simple Troubleshooting For SMTP Via Telnet And Openssl&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;sasl&quot;&gt;SASL&lt;/h2&gt;

&lt;p&gt;On the mail server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# man -k sasl
pluginviewer         (8)  - list loadable SASL plugins and their properties
saslauthd            (8)  - sasl authentication server
saslauthd_selinux    (8)  - Security Enhanced Linux Policy for the saslauthd processes
sasldblistusers2     (8)  - list users in sasldb
saslpasswd2          (8)  - set a user&apos;s sasl password
testsaslauthd        (8)  - test utility for the SASL authentication server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;auxprop&lt;/code&gt; mechanisms and plugins:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pluginviewer -a
Installed auxprop mechanisms are:
sasldb
List of auxprop plugins follows
Plugin &quot;sasldb&quot; ,       API version: 4
        supports store: yes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List server authentication (SASL) plugins:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pluginviewer -s
Installed SASL (server side) mechanisms are:
ANONYMOUS GSSAPI PLAIN LOGIN EXTERNAL
List of server plugins follows
Plugin &quot;anonymous&quot; [loaded],    API version: 4
        SASL mechanism: ANONYMOUS, best SSF: 0, supports setpass: no
        security flags: NO_PLAINTEXT
        features: WANT_CLIENT_FIRST
Plugin &quot;gssapiv2&quot; [loaded],     API version: 4
        SASL mechanism: GSSAPI, best SSF: 56, supports setpass: no
        security flags: NO_ANONYMOUS|NO_PLAINTEXT|NO_ACTIVE|PASS_CREDENTIALS|MUTUAL_AUTH
        features: WANT_CLIENT_FIRST|PROXY_AUTHENTICATION
Plugin &quot;plain&quot; [loaded],        API version: 4
        SASL mechanism: PLAIN, best SSF: 0, supports setpass: no
        security flags: NO_ANONYMOUS
        features: WANT_CLIENT_FIRST|PROXY_AUTHENTICATION
Plugin &quot;login&quot; [loaded],        API version: 4
        SASL mechanism: LOGIN, best SSF: 0, supports setpass: no
        security flags: NO_ANONYMOUS
        features:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, list client authentication (SASL) plugins:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pluginviewer -c
Installed SASL (client side) mechanisms are:
ANONYMOUS GSSAPI PLAIN LOGIN EXTERNAL
List of client plugins follows
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The directory where the Cyrus SASL library package installed its plug-ins:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -ld /usr/lib64/sasl2/
drwxr-xr-x. 2 root root 4096 May 17  2015 /usr/lib64/sasl2/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /usr/lib64/sasl2/
total 116K
lrwxrwxrwx 1 root root  22 May 17  2015 libanonymous.so -&amp;gt; libanonymous.so.2.0.23
lrwxrwxrwx 1 root root  22 May 17  2015 libanonymous.so.2 -&amp;gt; libanonymous.so.2.0.23
-rwxr-xr-x 1 root root 19K Feb 27  2015 libanonymous.so.2.0.23
lrwxrwxrwx 1 root root  21 May 17  2015 libgssapiv2.so -&amp;gt; libgssapiv2.so.2.0.23
lrwxrwxrwx 1 root root  21 May 17  2015 libgssapiv2.so.2 -&amp;gt; libgssapiv2.so.2.0.23
-rwxr-xr-x 1 root root 31K Feb 27  2015 libgssapiv2.so.2.0.23
lrwxrwxrwx 1 root root  18 May 17  2015 liblogin.so -&amp;gt; liblogin.so.2.0.23
lrwxrwxrwx 1 root root  18 May 17  2015 liblogin.so.2 -&amp;gt; liblogin.so.2.0.23
-rwxr-xr-x 1 root root 19K Feb 27  2015 liblogin.so.2.0.23
lrwxrwxrwx 1 root root  18 May 17  2015 libplain.so -&amp;gt; libplain.so.2.0.23
lrwxrwxrwx 1 root root  18 May 17  2015 libplain.so.2 -&amp;gt; libplain.so.2.0.23
-rwxr-xr-x 1 root root 19K Feb 27  2015 libplain.so.2.0.23
lrwxrwxrwx 1 root root  19 May 17  2015 libsasldb.so -&amp;gt; libsasldb.so.2.0.23
lrwxrwxrwx 1 root root  19 May 17  2015 libsasldb.so.2 -&amp;gt; libsasldb.so.2.0.23
-rwxr-xr-x 1 root root 23K Feb 27  2015 libsasldb.so.2.0.23
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;check-and-test-sasl-support-in-sendmail&quot;&gt;Check and Test SASL Support in sendmail&lt;/h3&gt;

&lt;p&gt;There are two concepts to SASL and its use: authorization and authentication.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Authorization&lt;/em&gt; refers to a user’s permission to perform certain actions.
One form of authorization, for example, might be to allow a user to relay
mail through your mail hub machine.  In general, authorization is 
associated with a user’s identifier (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;userid&lt;/code&gt;), which may be the username
or something more complex.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Authentication&lt;/em&gt; refers to the validation of a user or machine’s identity.
One form of authentication, for example, might be the recognition that 
a laptop is a company-owned machine. Authentication is communicated inside
credentials and is associated with a client’s identifier (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authid&lt;/code&gt;).&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bs&lt;/code&gt; tells &lt;em&gt;sendmail&lt;/em&gt; to speak SMTP on its standard input.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; tells &lt;em&gt;sendmail&lt;/em&gt; to use its server configuration file
(not &lt;em&gt;submit.cf&lt;/em&gt;), even though it is running in mail-submission mode.&lt;/p&gt;

&lt;p&gt;Sendmail might not advertise it.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bs -Am
220 test.host.domain ESMTP mailer ready at Wed, 26 Oct 2022 20:07:35 -0700
helo test.host.domain 
250 test.host.domain Hello root@localhost, pleased to meet you
ehlo test.host.domain 
250-test.host.domain Hello root@localhost, pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-STARTTLS
250-DELIVERBY
250 HELP
quit
221 2.0.0 test.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; SMTP keyword doesn’t appear.&lt;/p&gt;

&lt;p&gt;In that case, try increasing the log level, and checking the log file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -OLogLevel=14 -bs -Am
220 test.host.domain ESMTP mailer ready at Wed, 26 Oct 2022 20:08:32 -0700
ehlo test.host.domain 
250-test.host.domain Hello root@localhost, pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-STARTTLS
250-DELIVERBY
250 HELP
quit
221 2.0.0 test.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep &apos;Oct 26 20:08:32&apos; /var/log/maillog 
Oct 26 20:08:32 test sendmail[30261]: STARTTLS=server, Diffie-Hellman init, key=1024 bit (1)
Oct 26 20:08:32 test sendmail[30261]: STARTTLS=server, init=1
Oct 26 20:08:32 test sendmail[30261]: AUTH: available mech=GSSAPI, allowed mech=LOGIN PLAIN
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The log excerpt shows the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; SMTP keyword, indicating that this
site supports SASL authentication and two modes of authentication,
LOGIN and PLAIN.&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;saslpasswd2&lt;/em&gt; program is installed in the &lt;em&gt;/usr/sbin&lt;/em&gt; directory and 
is used to set up user accounts that exist only for email.&lt;/p&gt;

&lt;p&gt;These user accounts and passwords are stored in the &lt;em&gt;sasldb&lt;/em&gt; database.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# command -v saslpasswd2; type -a saslpasswd2; \
 whereis saslpasswd2; which saslpasswd2 
/usr/sbin/saslpasswd2
saslpasswd2 is /usr/sbin/saslpasswd2
saslpasswd2: /usr/sbin/saslpasswd2 /usr/share/man/man8/saslpasswd2.8.gz
/usr/sbin/saslpasswd2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;sasldb&lt;/em&gt; database provides the means to set up accounts for email 
that are separate from the user accounts that normally exist on your 
machine.&lt;/p&gt;

&lt;p&gt;If you wish to use only existing accounts, you need to install
&lt;em&gt;Sendmail.conf&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;At a minimum, one line should appear in that file and that line should 
indicate your preferred password verification method.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/sasl2/Sendmail.conf 
pwcheck_method:saslauthd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this example, the password verification method is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saslauthd&lt;/code&gt;, 
which means:  Connect to the &lt;em&gt;saslauthd(8)&lt;/em&gt; program for all authentication.&lt;/p&gt;

&lt;p&gt;On this machine, that program is installed in &lt;em&gt;/usr/sbin&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saslauthd&lt;/code&gt;, you could’ve used &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pwcheck&lt;/code&gt;; that is,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pwcheck&lt;/code&gt; is a synonym for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saslauthd&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# command -v saslauthd; type -a saslauthd; \
 whereis saslauthd; which saslauthd
/usr/sbin/saslauthd
saslauthd is /usr/sbin/saslauthd
saslauthd: /usr/sbin/saslauthd /usr/share/man/man8/saslauthd.8.gz
/usr/sbin/saslauthd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you use it, the &lt;em&gt;saslauthd(8)&lt;/em&gt; program must be started 
as a daemon automatically.&lt;/p&gt;

&lt;h3 id=&quot;auth-mechanisms-that-your-server-requires&quot;&gt;AUTH Mechanisms that Your Server Requires&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r -i AUTH /etc/mail/ | grep -i mechanisms | grep -v \# 
/etc/mail/sendmail.cf:O AuthMechanisms=LOGIN PLAIN
/etc/mail/sendmail.mc:define(`confAUTH_MECHANISMS&apos;, `LOGIN PLAIN&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This only defines the mechanisms that will be required if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; is 
required for inbound connections.  Whether or not connections must be 
authenticated is determined by the setting of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonOptions&lt;/code&gt; option.&lt;/p&gt;

&lt;p&gt;The class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$={TrustAuthMech}&lt;/code&gt; contains a list of authentication
mechanisms that allow relaying.  It must contain a subset, or a
matching set of the list of all authentication mechanisms defined
with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthMechanisms&lt;/code&gt; option. For example, on this site:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r TrustAuthMech /etc/mail/
/etc/mail/sendmail.cf:C{TrustAuthMech}LOGIN PLAIN
/etc/mail/sendmail.cf:R$* $| $={TrustAuthMech}  $# RELAY
/etc/mail/submit.cf:R$* $| $={TrustAuthMech}    $# RELAY
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r TRUST_AUTH_MECH /etc/mail/
/etc/mail/sendmail.mc:TRUST_AUTH_MECH(`LOGIN PLAIN&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, &lt;em&gt;sendmail&lt;/em&gt; will authenticate using LOGIN and PLAIN mechanism, and 
that authentication (if successful) will provide an authorization to relay.&lt;/p&gt;

&lt;h3 id=&quot;the-authoptions-option&quot;&gt;The AuthOptions Option&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AuthOptions&lt;/code&gt; is used to specify how authentication should be handled
by your server (or client).  For example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r AUTH_OPTIONS /etc/mail/
/etc/mail/sendmail.mc:define(`confAUTH_OPTIONS&apos;, `A p y&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r AuthOptions /etc/mail/ | grep -v \#
/etc/mail/sendmail.cf:O AuthOptions=A p y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Each character sets a single tuning parameter.  If more than one
character is listed, each character must be separated from the next 
by a space.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; character:  Use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; parameter from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt;
command only when authentication succeeds.  This character can be
specified as a workaround for broken mail transfer agents (MTAs) that
do not correctly implement RFC2554. (Client only)&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;p&lt;/code&gt; character:  Don’t permit mechanisms to be used if they are
susceptible to simple passive attack (that is, disallow use of PLAIN and
LOGIN), unless a security layer is already active (as, for example,
provided by STARTTLS). (Server only)&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; character:  Don’t permit the use of any mechanism that allows
anonymous login. (Server only)&lt;/p&gt;

&lt;h3 id=&quot;daemonportoptions&quot;&gt;DaemonPortOptions&lt;/h3&gt;

&lt;p&gt;The &lt;em&gt;sendmail&lt;/em&gt; program can run in two connection modes: as a &lt;strong&gt;daemon&lt;/strong&gt;, &lt;em&gt;accepting connections&lt;/em&gt;; or as a &lt;strong&gt;client&lt;/strong&gt;, &lt;em&gt;making connections&lt;/em&gt;.
&lt;em&gt;Each mode&lt;/em&gt; can connect to a &lt;strong&gt;port&lt;/strong&gt; to do its work.
The options for the &lt;em&gt;client port&lt;/em&gt; are set by the &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientPortOptions&lt;/code&gt;&lt;/strong&gt; option.
The options for the &lt;em&gt;daemon&lt;/em&gt; are set by the &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions&lt;/code&gt;&lt;/strong&gt; option.&lt;/p&gt;

&lt;p&gt;This &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions&lt;/code&gt; option is used to customize the daemon’s SMTP service.
The form for this option is as follows:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;O DaemonPortOptions=pair,pair,pair&lt;/code&gt;              &amp;lt;- configuration file (V8.7 and later)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-ODaemonPortOptions=pair,pair,pair&lt;/code&gt;              &amp;lt;- command line (V8.7 and later)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;define(`confDAEMON_OPTIONS&apos;,``pair,pair,pair&apos;&apos;)&lt;/code&gt; &amp;lt;- mc configuration (V8.7 and later)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DAEMON_OPTIONS(``pair,pair,pair&apos;&apos;)&lt;/code&gt;              &amp;lt;- mc configuration (V8.11 and later)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OOpair,pair,pair&lt;/code&gt;                                &amp;lt;- configuration file (deprecated)&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-oOpair,pair,pair&lt;/code&gt;                               &amp;lt;- command line (deprecated)&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions&lt;/code&gt; option is set to a comma-separated list of pairs,
where each pair is of the form:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key=value&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; When the argument to an m4 define command contains one or more 
commas, that argument should be enclosed in two single quotes.&lt;/p&gt;

&lt;p&gt;As of V8.14.1, all keys are case-sensitive. &lt;strong&gt;&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;That is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Children&lt;/code&gt; differs from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;children&lt;/code&gt;.  Prior to V8.7, an unknown 
key was silently ignored.&lt;/p&gt;

&lt;p&gt;With V8.8 and later, an unknown key is still ignored but now causes the 
following error to be printed:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions unknown parameter &quot;key&quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Beginning with V8.10, you can declare multiple &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions&lt;/code&gt; options,
where each causes the single listening daemon to accept connections over
multiple sockets.&lt;/p&gt;

&lt;p&gt;The list of some keys (DaemonPortOptions option keywords):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+--------+---------------------------+-------------------------------------------------+
| Key    |                           | Meaning                                         |
+--------+---------------------------+-------------------------------------------------+
| Addr   | DaemonPortOptions=Addr=   | The network to accept connection from           |
+--------+---------------------------+-------------------------------------------------+
| Name   | DaemonPortOptions=Name=   | User-definable name for the daemon              | 
+--------+---------------------------+-------------------------------------------------+
| Port   | DaemonPortOptions=Port=   | The port number on which sendmail should listen |
+--------+---------------------------+-------------------------------------------------+
| Modify | DaemonPortOptions=Modify= | Modify selected characteristics of the port     |
+--------+---------------------------+-------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Only the first character in each key is recognized so a succinct 
declaration such as the following can be used to change the port 
used by the daemon:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;O DaemonPortOptions=P=26,A=our-addr  # Only listen for local mail on nonstandard port 26&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;daemonportoptionsmodify&quot;&gt;DaemonPortOptions=Modify=&lt;/h3&gt;

&lt;p&gt;Beginning with V8.10 &lt;em&gt;sendmail&lt;/em&gt;, you can modify selected characteristics
of the port.  Modification is done by listing selected letters following
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Modify=&lt;/code&gt; (or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Some &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Modify=&lt;/code&gt; port option letters are listed in the tabel below.&lt;/p&gt;

&lt;p&gt;Note that the letters are case-sensitive.  Also note only &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;h&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt;, and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; are valid for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientPortOptions&lt;/code&gt; option.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+--------+-----------------------------------------------------------------------------------+
| Letter | Meaning                                                                           |
+--------+-----------------------------------------------------------------------------------+
| a      | Require authentication with the AUTH ESMTP keyword before continuing with         | 
|        | the connection.  Do not use this setting on a public MTA that listens on port 25! |
+--------+-----------------------------------------------------------------------------------+
| s      | Use SMTP over SSL                                                                 | 
+--------+-----------------------------------------------------------------------------------+ 
| A      | Disable authentication - overrides the a modifier above.                          |
+--------+-----------------------------------------------------------------------------------+ 
| E      | Disallow use of the ETRN command as per RFC2476.                                  |
+--------+-----------------------------------------------------------------------------------+ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions&lt;/code&gt; option is not safe.  If specified from the command
line, it can cause sendmail to relinquish its special privileges.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r DaemonPortOptions /etc/mail/ 
/etc/mail/sendmail.cf:O DaemonPortOptions=Name=MTA, M=A
/etc/mail/sendmail.cf:O DaemonPortOptions=Port=465, Name=MTASSL, M=s a
/etc/mail/sendmail.cf:O DaemonPortOptions=Port=587, Name=MSA, M=a
/etc/mail/sendmail.cf:O DaemonPortOptions=Addr=127.0.0.1, Port=10026
/etc/mail/submit.cf:O DaemonPortOptions=Name=NoMTA, Addr=127.0.0.1, M=E
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=a&lt;/code&gt; for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions&lt;/code&gt; option determines whether the 
connection must be authenticated for all connections, or whether only
a sender that tries to relay must be authenticated.  With a lowercase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a&lt;/code&gt;,
that is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=a&lt;/code&gt;, &lt;em&gt;sendmail&lt;/em&gt; requires connection authentication for all inbound
connections to the server.  To turn that off and only require the sender
to authenticate, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=A&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;With the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=A&lt;/code&gt; setting, you can screen individual users for relaying
permission using rule sets.  If your server receives mail from the
Internet, you must use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=A&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=a&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;daemonportoptionsname&quot;&gt;DaemonPortOptions=Name=&lt;/h3&gt;

&lt;p&gt;Because &lt;em&gt;sendmail&lt;/em&gt; can listen on different ports simultaneously, and can 
bind to specific interfaces, it is desirable that each such instance be 
given a distinctive name.  When listening on port 25 for inbound mail,
&lt;em&gt;sendmail&lt;/em&gt; is functioning as an MTA.  When listening on port 587 for
locally submitted mail, &lt;em&gt;sendmail&lt;/em&gt; is functioning as an MSA.&lt;/p&gt;

&lt;p&gt;This &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions=Name=&lt;/code&gt; is used to set the name that will be
reported with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;daemon=&lt;/code&gt; syslog equate (&lt;a href=&quot;#daemon-syslog-equate&quot;&gt;daemon=&lt;/a&gt;)
and that is placed into a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${daemon_name}&lt;/code&gt; (&lt;a href=&quot;#daemon_name-macro&quot;&gt;daemon_name macro&lt;/a&gt;)
or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${client_name}&lt;/code&gt; (&lt;a href=&quot;#client_name-macro&quot;&gt;client_name macro&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Many errors in connections now produce error messages that include
the expression:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;daemon name&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;to help clarify which port and role ran into a problem.&lt;/p&gt;

&lt;p&gt;Instruct daemon not to listen on port 587 for local MSA:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -B1 DAEMON_OPTIONS /etc/mail/sendmail.mc
FEATURE(`no_default_msa&apos;)dnl
DAEMON_OPTIONS(`Name=MTA, M=A&apos;)dnl
DAEMON_OPTIONS(`Port=465, Name=MTASSL, M=s a&apos;)dnl
DAEMON_OPTIONS(`Port=587, Name=MSA, M=a&apos;)dnl
DAEMON_OPTIONS(`Addr=127.0.0.1, Port=10026&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;daemonportoptionsport&quot;&gt;DaemonPortOptions=Port=&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Port&lt;/code&gt; key is used to specify the service port on which the daemon
should listen.  This is normally the port called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;smtp&lt;/code&gt;, as defined in
the &lt;em&gt;/etc/services&lt;/em&gt; file.  The value can be either a services string
(such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;smtp&lt;/code&gt;) or a number (such as 25).  This key is useful inside
domains that are protected by a firewall.  By specifying a nonstandard
port, the firewall can communicate in a more secure manner with the
internal network while still accepting mail on the normal port from
the outside world:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;O DaemonPortOptions=Port=26
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If this pair is missing, the port defaults to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;smtp&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;As of V8.10, &lt;em&gt;sendmail&lt;/em&gt; also obeys RFC2476 and (by default) listens on
port 587 for the local submission of mail (unless turned off with the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(no_default_msa)&lt;/code&gt;).&lt;/p&gt;

&lt;h2 id=&quot;sasl-and-rule-sets&quot;&gt;SASL and Rule Sets&lt;/h2&gt;

&lt;p&gt;The SMTP &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH&lt;/code&gt; extension, enabled by SASL, allows client machines to
relay mail through the authentication-checking server.  This mechanism is
especially useful for roaming users whose laptops seldom have a constant
IP number or hostname assigned.  A special rule set called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trust_auth&lt;/code&gt;, 
found inside the &lt;em&gt;sendmail&lt;/em&gt; configuration file, does the actual checking.
This rule set decides whether the client’s authentication identifier
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authid&lt;/code&gt;) is trusted to act as (proxy for) the requested authorization
identity (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;userid&lt;/code&gt;).  It allows &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;authid&lt;/code&gt; to act for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;userid&lt;/code&gt; if both are
recognized, and disallows that action if the authentication fails.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r trust_auth /etc/mail/ | grep -v \#
/etc/mail/sendmail.cf:SLocal_trust_auth
/etc/mail/sendmail.cf:Strust_auth
/etc/mail/sendmail.cf:R$* $| $*         $: $1 $| $&amp;gt;&quot;Local_trust_auth&quot; $2
/etc/mail/submit.cf:SLocal_trust_auth
/etc/mail/submit.cf:Strust_auth
/etc/mail/submit.cf:R$* $| $*           $: $1 $| $&amp;gt;&quot;Local_trust_auth&quot; $2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another rule set, called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt;, is available if you wish to
supplement the basic test provided by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trust_auth&lt;/code&gt;.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt;
rule set can return the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#error&lt;/code&gt; delivery agent to disallow proxying, or it
can return OK to allow proxying.&lt;/p&gt;

&lt;p&gt;Within the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_trust_auth&lt;/code&gt; rule set you can use three &lt;em&gt;sendmail&lt;/em&gt; macros
(in addition to the other normal sendmail macros). They are:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_authen}&lt;/code&gt;: The client’s authentication credentials as determined by
the authentication process.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_author}&lt;/code&gt;: The authorization identity as set by issuance of the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SMTP AUTH=&lt;/code&gt; parameter.  This could be either a &lt;em&gt;username&lt;/em&gt; or a
&lt;em&gt;user@host.domain&lt;/em&gt; address.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_type}&lt;/code&gt;: The mechanism used for authentication, such as LOGIN and PLAIN.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r auth_authen /etc/mail/ | grep -v \#
/etc/mail/sendmail.cf:O Milter.macros.envfrom=i, {auth_type}, {auth_authen}, {auth_ssf}, {auth_author}, {mail_mailer}, {mail_host}, {mail_addr}
/etc/mail/sendmail.cf:R$* $| $&amp;amp;{auth_authen}            $@ identical
/etc/mail/sendmail.cf:R$* $| &amp;lt;$&amp;amp;{auth_authen}&amp;gt;  $@ identical
/etc/mail/submit.cf:R$* $| $&amp;amp;{auth_authen}              $@ identical
/etc/mail/submit.cf:R$* $| &amp;lt;$&amp;amp;{auth_authen}&amp;gt;    $@ identical
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r auth_author /etc/mail/ | grep -v \#
/etc/mail/sendmail.cf:O Milter.macros.envfrom=i, {auth_type}, {auth_authen}, {auth_ssf}, {auth_author}, {mail_mailer}, {mail_host}, {mail_addr}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r auth_type /etc/mail/ | grep -v \#
/etc/mail/sendmail.cf:O Milter.macros.envfrom=i, {auth_type}, {auth_authen}, {auth_ssf}, {auth_author}, {mail_mailer}, {mail_host}, {mail_addr}
/etc/mail/sendmail.cf:  $.$?{auth_type}(authenticated$?{auth_ssf} bits=${auth_ssf}$.)
/etc/mail/sendmail.cf:R$*                       $: $1 $| $&amp;gt;&quot;Local_Relay_Auth&quot; $&amp;amp;{auth_type}
/etc/mail/sendmail.cf:R$* $| $*         $: $1 $| $&amp;amp;{auth_type}
/etc/mail/sendmail.cf:R$*                       $: $&amp;amp;{auth_type} $| $1
/etc/mail/submit.cf:    $.$?{auth_type}(authenticated$?{auth_ssf} bits=${auth_ssf}$.)
/etc/mail/submit.cf:R$*                 $: $1 $| $&amp;gt;&quot;Local_Relay_Auth&quot; $&amp;amp;{auth_type}
/etc/mail/submit.cf:R$* $| $*           $: $1 $| $&amp;amp;{auth_type}
/etc/mail/submit.cf:R$*                 $: $&amp;amp;{auth_type} $| $1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;daemon-syslog-equate&quot;&gt;daemon Syslog Equate&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;daemon=&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The name of the sender’s daemon syslog equate&lt;/p&gt;

&lt;p&gt;When &lt;em&gt;sendmail&lt;/em&gt; logs the sender of a message it includes a &lt;em&gt;syslog&lt;/em&gt; equate
that shows the name of the daemon that handled the transaction.
Daemons are named with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions&lt;/code&gt; option’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Name&lt;/code&gt; pair
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions=Name=&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;O DaemonPortOptions=Name=MTA&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Whenever &lt;em&gt;sendmail&lt;/em&gt; logs the sender of a message (with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;from=&lt;/code&gt;) and when
the message was handled by a daemon (not standard input), this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;daemon=&lt;/code&gt;
&lt;em&gt;syslog&lt;/em&gt; equate will show the daemon’s name.&lt;/p&gt;

&lt;h2 id=&quot;daemon_name-macro&quot;&gt;daemon_name Macro&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;${daemon_name}&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Listening daemon’s name&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${daemon_name}&lt;/code&gt; macro contains the value of the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions=Name&lt;/code&gt; option (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DaemonPortOptions=Name=&lt;/code&gt;) whenever an
inbound connection is accepted.  The names assigned in the default
configuration file are MTA (for the daemon that listens on port 25) and
MSA (for the MSP daemon that listens on port 587).&lt;/p&gt;

&lt;p&gt;As distributed, this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${daemon_name}&lt;/code&gt; macro is not used in the
configuration file.  It is, however, available to you for use in designing
your own particular rule sets.  Note that a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;amp;&lt;/code&gt; prefix is necessary when
you reference this macro in rules (that is, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;amp;{daemon_name}&lt;/code&gt;,
not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${daemon_name}&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${daemon_name}&lt;/code&gt; is transient.  If it is defined in the configuration file
or in the command line, that definition can be ignored by &lt;em&gt;sendmail&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&quot;client_name-macro&quot;&gt;client_name Macro&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;${client_name}&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The connecting host’s canonical name.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${client_name}&lt;/code&gt; macro is assigned its value when a host connects to
the running daemon.  This macro holds as its value the canonical hostname
of that connecting host, which is the same as the hostname stored in the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$_&lt;/code&gt; macro.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${client_name}&lt;/code&gt; macro is useful in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_rcpt&lt;/code&gt;
(&lt;a href=&quot;#local_check_rcpt-and-check_rcpt-rule-sets&quot;&gt;Local_check_rcpt&lt;/a&gt;),
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_mail&lt;/code&gt; (&lt;a href=&quot;#local_check_mail-and-check_mail-rule-sets&quot;&gt;Local_check_mail&lt;/a&gt;),
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_relay&lt;/code&gt; (&lt;a href=&quot;#local_check_relay-and-check_relay-rule-sets&quot;&gt;Local_check_relay and check_relay &lt;/a&gt;)
rule sets.&lt;/p&gt;

&lt;h2 id=&quot;local_check_rcpt-and-check_rcpt-rule-sets&quot;&gt;Local_check_rcpt and check_rcpt Rule Sets&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Local_check_rcpt&lt;/strong&gt; and &lt;strong&gt;check_rcpt&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_rcpt&lt;/code&gt; rule set provides a hook into the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_rcpt&lt;/code&gt;
rule set, which is used to validate the recipient-sender address given in
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT To:&lt;/code&gt; command in the SMTP dialog:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT To:&amp;lt;recipient@host.domain&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_rcpt&lt;/code&gt; rule set is called immediately after the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT To:&lt;/code&gt;
command is read.  The workspace that is passed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_rcpt&lt;/code&gt; is the
address following the colon.  The envelope-recipient address might or
might not be surrounded by angle brackets and might or might not have
other RFC2822 comments associated with it.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_rcpt&lt;/code&gt; rule set has default rules that do the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Reject empty envelope-recipient addresses, such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt; &amp;gt;&lt;/code&gt;, and those
which have nothing following the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT To:&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Ensure that the envelope-recipient address is either local, or one that
is allowed to be relayed.&lt;/li&gt;
  &lt;li&gt;If the &lt;em&gt;access&lt;/em&gt; database (&lt;a href=&quot;#the-access-database&quot;&gt;The access Database&lt;/a&gt;)
is used, look up the envelope-recipient’s host in that database and
reject, accept, or defer the message based on the returned lookup value.
If the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(blacklist_recipients)&lt;/code&gt; is declared, they also look up
the envelope recipient in that database.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;local_check_mail-and-check_mail-rule-sets&quot;&gt;Local_check_mail and check_mail Rule Sets&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Local_check_mail&lt;/strong&gt; and &lt;strong&gt;check_mail&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_mail&lt;/code&gt; rule set provides a hook into the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt;
rule set, which is used to validate the envelope-sender address given in
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; command of the SMTP dialog:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&amp;lt;sender@host.domain&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt; rule set is called immediately after the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt;
command is read.  The workspace passed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt; is the address
following the colon in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; command.  That envelope-sender
address might or might not be surrounded by angle braces.&lt;/p&gt;

&lt;p&gt;If &lt;em&gt;sendmail&lt;/em&gt;’s delivery mode is anything other than 
deferred (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bd&lt;/code&gt;) (&lt;a href=&quot;#-bd-command-line-switch&quot;&gt;-bd Command-Line Switch&lt;/a&gt;),
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt; rule set performs the following default actions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Calls the &lt;em&gt;tls_client&lt;/em&gt; rule set to perform TLS verification, if needed&lt;/li&gt;
  &lt;li&gt;Accepts all envelope-sender addresses of the form &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt; &amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Makes certain that the host and domain part of the envelope-sender
address exists&lt;/li&gt;
  &lt;li&gt;If the &lt;em&gt;access&lt;/em&gt; database is used, looks up the envelope-sender in that
database and rejects, accepts, or defers the message based on the
returned lookup value&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_mail&lt;/code&gt; rule set provides a hook into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt; before
the preceding checks are made, and provides a place for you to insert your
own rules.&lt;/p&gt;

&lt;h2 id=&quot;local_check_relay-and-check_relay-rule-sets&quot;&gt;Local_check_relay and check_relay Rule Sets&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Local_check_relay&lt;/strong&gt; and &lt;strong&gt;check_relay&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Sendmail supports three mechanisms for screening incoming SMTP connections:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the &lt;em&gt;libwrap.a&lt;/em&gt; mechanism&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_relay&lt;/code&gt; rule set&lt;/li&gt;
  &lt;li&gt;the &lt;em&gt;access&lt;/em&gt; database mechanism&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_relay&lt;/code&gt; rule set provides a hook into the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_relay&lt;/code&gt;
rule set, which is used to screen incoming network connections and accept
or reject them based on the hostname, domain, or IP address.  It is called
just before the &lt;em&gt;libwrap.a&lt;/em&gt; code and can be used even if that code was
omitted from your release of &lt;em&gt;sendmail&lt;/em&gt;.  Note that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_relay&lt;/code&gt; rule
set is not called if &lt;em&gt;sendmail&lt;/em&gt; was run with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bs&lt;/code&gt; command-line switch
(&lt;a href=&quot;#-bs-command-line-switch&quot;&gt;-bs Command-Line Switch&lt;/a&gt;).&lt;/p&gt;

&lt;h2 id=&quot;-bd-command-line-switch&quot;&gt;-bd Command-Line Switch&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;-bd&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Run as a daemon&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bd&lt;/code&gt; command-line switch causes &lt;em&gt;sendmail&lt;/em&gt; to become a daemon,
running in the background, listening for and handling incoming SMTP
connections. (In its classic invocation, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bd&lt;/code&gt; is usually combined
with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-q1h&lt;/code&gt;.)&lt;/p&gt;

&lt;p&gt;To become a daemon, &lt;em&gt;sendmail&lt;/em&gt; first performs a &lt;em&gt;fork(2)&lt;/em&gt;.  The parent
then exits, and the child becomes the daemon by disconnecting itself from
its controlling terminal.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bD&lt;/code&gt; command-line switch can be used to
prevent the &lt;em&gt;fork(2)&lt;/em&gt; and the detachment and allows the &lt;em&gt;sendmail&lt;/em&gt;
program’s behavior to be observed while it runs in daemon mode.&lt;/p&gt;

&lt;p&gt;As a daemon, &lt;em&gt;sendmail&lt;/em&gt; does a &lt;em&gt;listen(2)&lt;/em&gt; on TCP port 25 by default for
incoming SMTP messages. (Beginning with V8.10, &lt;em&gt;sendmail&lt;/em&gt; also listens on
port 587 for message submissions via MUAs.  This default behavior can be
turned off with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(no_default_msa)&lt;/code&gt;.)  When another site connects
to the listening daemon, the daemon performs a &lt;em&gt;fork(2)&lt;/em&gt;, and the child
handles receipt of the incoming mail message.&lt;/p&gt;

&lt;h2 id=&quot;-bs-command-line-switch&quot;&gt;-bs Command-Line Switch&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;-bs&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Run SMTP on standard input&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;-bs&lt;/em&gt; command-line switch causes &lt;em&gt;sendmail&lt;/em&gt; to run a single SMTP
session in the foreground over its standard input and output, and then exit.
The SMTP session is exactly like a network SMTP session.  Usually, one or
more messages are submitted to &lt;em&gt;sendmail&lt;/em&gt; for delivery.&lt;/p&gt;

&lt;p&gt;This mode is intended for use at sites that wish to run &lt;em&gt;sendmail&lt;/em&gt; with
the &lt;em&gt;inetd(8)&lt;/em&gt; daemon.  To implement this, place an entry such as the
following in your &lt;em&gt;inetd.conf(5)&lt;/em&gt; file, and then restart &lt;em&gt;inetd(8)&lt;/em&gt; by
killing it with a SIGHUP signal:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;smtp   stream  tcp   nowait  root /usr/sbin/sendmail sendmail -bs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With this scheme it is important to either use &lt;em&gt;cron(3)&lt;/em&gt; to run &lt;em&gt;sendmail&lt;/em&gt;
periodically to process its queue:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;0 * * * * /usr/sbin/sendmail -q
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or run &lt;em&gt;sendmail&lt;/em&gt; in the background to process the queue periodically by
specifying an interval to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-q&lt;/code&gt; command-line switch’s interval:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/sbin/sendmail -q1h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In general, the &lt;em&gt;inetd(8)&lt;/em&gt; approach should be used only on lightly loaded
machines that receive few SMTP connections.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bs&lt;/code&gt; switch is also useful for MUAs that prefer to use SMTP rather
than a pipe to transfer a mail message to &lt;em&gt;sendmail&lt;/em&gt;.
Depending on how it is configured, &lt;em&gt;mh(1)&lt;/em&gt; can use this feature.&lt;/p&gt;

&lt;h2 id=&quot;-bt-command-line-switch-with-debug-options&quot;&gt;-bt Command-Line Switch (with Debug Options)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bt -d21.12 -d60 -d38
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d21.12&lt;/code&gt; debug switch is for tracing &lt;em&gt;sendmail&lt;/em&gt; rules and rule sets. &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d38&lt;/code&gt; debug switch is for showing &lt;em&gt;sendmail&lt;/em&gt; database map opens and failures.  &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d60&lt;/code&gt; debug switch is for tracing &lt;em&gt;sendmail&lt;/em&gt; database map lookups.&lt;/p&gt;

&lt;h2 id=&quot;sendmail-debug-lookups&quot;&gt;Sendmail Debug Lookups&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d60.5 -bt &amp;lt;&amp;lt; END
 /tryflags E
 /try relay dusko@yourdomain.com
 END
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-d60.5 - trace map lookups (including genericstable lookups)
-d21.12 - trace R lines processing, use it when genericstable is not
consulted at all

/tryflags flags:
hs - header sender (genericstable rewrites only it by default)
hr - header recipient
es - evelope sender (&quot;MAIL FROM:&quot; in SMTP session) 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d21.12 -bt 
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; /tryflags hs
&amp;gt; /try esmtp dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://groups.google.com/g/comp.mail.sendmail/c/Muk7q_7qnUs/m/U4epocS9fEIJ&quot;&gt;access map rule for eliminate dnsbl lookup&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ echo &apos;A &amp;lt;16.19.2.333&amp;gt;&amp;lt;default&amp;gt;&amp;lt;+Connect&amp;gt;&amp;lt;passthru&amp;gt;&apos; | sendmail -d60.5 -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; A                  input: &amp;lt; 16 . 19 . 2 . 333 &amp;gt; &amp;lt; default &amp;gt; &amp;lt; + Connect &amp;gt; &amp;lt; passthru &amp;gt;
A                  input: &amp;lt; 16 . 19 . 2 &amp;gt; &amp;lt; default &amp;gt; &amp;lt; + Connect &amp;gt; &amp;lt; passthru &amp;gt;
A                  input: &amp;lt; 16 . 19 &amp;gt; &amp;lt; default &amp;gt; &amp;lt; + Connect &amp;gt; &amp;lt; passthru &amp;gt;
A                  input: &amp;lt; 16 &amp;gt; &amp;lt; default &amp;gt; &amp;lt; + Connect &amp;gt; &amp;lt; passthru &amp;gt;
A                returns: &amp;lt; default &amp;gt; &amp;lt; passthru &amp;gt;
A                returns: &amp;lt; default &amp;gt; &amp;lt; passthru &amp;gt;
A                returns: &amp;lt; default &amp;gt; &amp;lt; passthru &amp;gt;
A                returns: &amp;lt; default &amp;gt; &amp;lt; passthru &amp;gt;
&amp;gt; $ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ echo &apos;A &amp;lt;16.19.2.333&amp;gt;&amp;lt;default&amp;gt;&amp;lt;+Connect&amp;gt;&amp;lt;passthru&amp;gt;&apos; | sendmail -d60.5 -bt | tail -2 
A                returns: &amp;lt; default &amp;gt; &amp;lt; passthru &amp;gt;
&amp;gt; $ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ echo &apos;A &amp;lt;16.1.2.333&amp;gt;&amp;lt;default&amp;gt;&amp;lt;+Connect&amp;gt;&amp;lt;passthru&amp;gt;&apos; | sendmail -d60.5 -bt | tail -2 
A                returns: &amp;lt; default &amp;gt; &amp;lt; passthru &amp;gt;
&amp;gt; $ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -d38.20 -v -oi &amp;lt;&amp;lt;END 
To: dusko@fbsd1.yourprovider.com
Subject: hello

Testing.
END
openmap()       dequote:dequote NULL: valid
Recipient names must be specified
closemaps: closing dequote (NULL)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sendmail -d38.20 -Ac -v -i -t &amp;lt;&amp;lt; END
To: dusko@yourprovider.com
Subject: Test

Testing.
END
openmap()       dequote:dequote NULL: valid
openmap()       host:host NULL: valid
getcanonname(yourprovider.com), trying dns
getcanonname(yourprovider.com), found, ad=0
dusko@yourprovider.com... Connecting to [127.0.0.1] port 1465 via smartrelay...
220 mailx.yourprovider.com ESMTP mailer ready at Wed, 7 Dec 2022 12:17:13 -0800
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.yourisp.com
250-mailx.yourprovider.com Hello fbsd1.yourisp.com [123.45.67.89], pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-AUTH LOGIN PLAIN
250-DELIVERBY
250 HELP
hash_map_open(authinfo, /etc/mail/authinfo, 0)
openmap()       hash:authinfo /etc/mail/authinfo: valid
db_map_lookup(authinfo, AuthInfo:[127.0.0.1])
&amp;gt;&amp;gt;&amp;gt; AUTH LOGIN
334 VXNlcm5hbWU6
&amp;gt;&amp;gt;&amp;gt; ZABcd12=
334 UGFzc3dvcmQ6
&amp;gt;&amp;gt;&amp;gt; TABcDE1fGHIjKLmnOPQ2rS==
235 2.0.0 OK Authenticated
&amp;gt;&amp;gt;&amp;gt; MAIL From:&amp;lt;dusko@fbsd1.yourisp.com&amp;gt; SIZE=46 AUTH=dusko@yourisp.com
250 2.1.0 &amp;lt;dusko@fbsd1.yourisp.com&amp;gt;... Sender ok
&amp;gt;&amp;gt;&amp;gt; RCPT To:&amp;lt;dusko@yourprovider.com&amp;gt;
250 2.1.5 &amp;lt;dusko@yourprovider.com&amp;gt;... Recipient ok
&amp;gt;&amp;gt;&amp;gt; DATA
354 Enter mail, end with &quot;.&quot; on a line by itself
&amp;gt;&amp;gt;&amp;gt; .
250 2.0.0 2B7KHDhI015382 Message accepted for delivery
dusko@yourprovider.com... Sent (2B7KHDhI015382 Message accepted for delivery)
Closing connection to [127.0.0.1]
&amp;gt;&amp;gt;&amp;gt; QUIT
221 2.0.0 mailx.yourprovider.com closing connection
closemaps: closing authinfo (/etc/mail/authinfo)
db_map_close(authinfo, /etc/mail/authinfo, 1000121)
closemaps: closing host (NULL)
closemaps: closing dequote (NULL)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;no_default_msa-feature&quot;&gt;no_default_msa FEATURE&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;FEATURE(no_default_msa)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Disable automatic listening on MSA port 587&lt;/p&gt;

&lt;p&gt;From V8.10, when &lt;em&gt;sendmail&lt;/em&gt; starts up in &lt;em&gt;daemon&lt;/em&gt; mode, it listens both on
the normal port 25 for incoming SMTP connections, and on port 587 for the
local submission of mail.  This later role is that of an MSA (documented
in RFC2476).&lt;/p&gt;

&lt;p&gt;If you prefer to disable this service, you can do it with the FEATURE(no_default_msa):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FEATURE(`no_default_msa&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since there is no way to directly change the settings of the MSA in your
&lt;em&gt;mc&lt;/em&gt; configuration file, you can use the following trick if you need to
change, say, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=&lt;/code&gt; equate from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=E&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;M=Ea&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FEATURE(`no_default_msa&apos;)
DAEMON_OPTIONS(`Port=587,Name=MSA,M=Ea&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, this feature prevents the automatic creation of an &lt;em&gt;mc&lt;/em&gt; configuration
entry for an MSA.  You then insert your own declaration, with your new settings.&lt;/p&gt;

&lt;p&gt;Be aware, however, that this feature also disables the listening daemon on
port 25.  If you use this feature, be certain to redeclare a port 25 daemon
if you need one:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FEATURE(`no_default_msa&apos;)
DAEMON_OPTIONS(`Port=587,Name=MSA,M=Ea&apos;)
DAEMON_OPTIONS(`Port=smtp, Name=MTA&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;starttls&quot;&gt;STARTTLS&lt;/h2&gt;

&lt;p&gt;Encryption can improve the security of &lt;em&gt;sendmail&lt;/em&gt;.  Ordinarily, mail is
sent between two machines in the clear.  That is, if you were to watch
the transmission of bytes over the network (with for example &lt;em&gt;tcpdump&lt;/em&gt;
utility) you would see what is actually being sent or received.
This includes passwords, which are also sent in the clear.&lt;/p&gt;

&lt;p&gt;To reduce the likelihood that someone watching the network will find something that can harm you, you can encrypt the stream of data. Three forms of encryption are available:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;SSL &lt;br /&gt;
SSL is a method for encrypting a single connection over which network
traffic can flow. &lt;br /&gt;
One implementation of SSL is available from
&lt;a href=&quot;http://www.openssl.org/&quot;&gt;http://www.openssl.org/&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;TLS  &lt;br /&gt;
Transport Layer Security, defined by RFC2246, is the successor to SSL that
provides further means of connection encryption.  It, too, is available from 
&lt;a href=&quot;http://www.openssl.org/&quot;&gt;http://www.openssl.org/&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;SMTP &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt;  &lt;br /&gt;
The DIGEST-MD5 and GSSAPI mechanisms, among others, for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTH=&lt;/code&gt; extension
to SMTP, also provide stream encryption.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;todo--starttls-and-the-access-database&quot;&gt;[TODO]:  STARTTLS and the access Database&lt;/h3&gt;

&lt;p&gt;Four prefixes in the &lt;em&gt;access&lt;/em&gt; database are available for use with
STARTTLS connection encryption.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CERTISSUER:&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CERTSUBJECT:&lt;/code&gt; are for use with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_Relay_Auth&lt;/code&gt;
rule set.  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TLS_Srv:&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TLS_Clt:&lt;/code&gt; are for use with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_server&lt;/code&gt;
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_client&lt;/code&gt; rule sets.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n CERTISSUER /etc/mail/sendmail.cf
1774:R$+                        $: $(access CERTISSUER:$1 $)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n CERTSUBJECT /etc/mail/sendmail.cf
1777:R&amp;lt;@&amp;gt; $+                    $: &amp;lt;@&amp;gt; $(access CERTSUBJECT:$1 $)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n 1762,1779p /etc/mail/sendmail.cf
######################################################################
###  RelayTLS: allow relaying based on TLS authentication
###
###     Parameters:
###             none
######################################################################
SRelayTLS
# authenticated?
R$*                     $: &amp;lt;?&amp;gt; $&amp;amp;{verify}
R&amp;lt;?&amp;gt; OK                 $: OK           authenticated: continue
R&amp;lt;?&amp;gt; $*                 $@ NO           not authenticated
R$*                     $: $&amp;amp;{cert_issuer}
R$+                     $: $(access CERTISSUER:$1 $)
RRELAY                  $# RELAY
RSUBJECT                $: &amp;lt;@&amp;gt; $&amp;amp;{cert_subject}
R&amp;lt;@&amp;gt; $+                 $: &amp;lt;@&amp;gt; $(access CERTSUBJECT:$1 $)
R&amp;lt;@&amp;gt; RELAY              $# RELAY
R$*                     $: NO
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;the-access-database-with-tls_server-and-tls_client&quot;&gt;The access database with tls_server and tls_client&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_server&lt;/code&gt; rule set is called after the local &lt;em&gt;sendmail&lt;/em&gt; issued
(or should have issued) the STARTTLS SMTP command. This rule set handles outbound connections.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_client&lt;/code&gt; rule set is called at two possible points: just after the
connecting host’s STARTTLS SMTP command is offered; and from the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt; rule set (which is called just after the connecting host
issues the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt; command).  This &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_client&lt;/code&gt; rule set handles inbound connections.&lt;/p&gt;

&lt;p&gt;Both rule sets are given the value of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${verify}&lt;/code&gt; &lt;em&gt;sendmail&lt;/em&gt; macro in
their workspaces.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_client&lt;/code&gt; rule set is given that value, followed
by a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$|&lt;/code&gt; operator, and a literal string that is MAIL when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_client&lt;/code&gt; is
called from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_mail&lt;/code&gt; rule set, or STARTTLS otherwise.&lt;/p&gt;

&lt;p&gt;If the &lt;em&gt;access&lt;/em&gt; database is not used, the connection is allowed in all
cases, both inbound and outbound, unless the value in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${verify}&lt;/code&gt; is
SOFTWARE, in which case the connection is not allowed.&lt;/p&gt;

&lt;p&gt;If the &lt;em&gt;access&lt;/em&gt; database is used, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_server&lt;/code&gt; rule set looks up the
hostname of the destination host in the &lt;em&gt;access&lt;/em&gt; database using the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TLS_Srv:&lt;/code&gt; prefix.  For example, if the local &lt;em&gt;sendmail&lt;/em&gt; connected to the
server &lt;em&gt;insecure.host.domain&lt;/em&gt;, and if the negotiation for the TLS
connection was good, the following lookup is performed:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TLS_Srv:insecure.host.domain&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tls_client&lt;/code&gt; rule set looks up the hostname of the inbound connecting
host in the &lt;em&gt;access&lt;/em&gt; database using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TLS_Clt:&lt;/code&gt; prefix.  For example,
if the local &lt;em&gt;sendmail&lt;/em&gt; accepts a connection from &lt;em&gt;ssl.host.domain&lt;/em&gt;, and
if the negotiation for TLS connection was good, the following lookup is performed:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TLS_Clt:ssl.host.domain&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n TLS_Srv /etc/mail/sendmail.cf
1679:R$*                $: $1 $| $&amp;gt;D &amp;lt;$&amp;amp;{server_name}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;TLS_Srv&quot;&amp;gt; &amp;lt;&amp;gt;
1680:R$* $| &amp;lt;?&amp;gt;$*       $: $1 $| $&amp;gt;A &amp;lt;$&amp;amp;{server_addr}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;TLS_Srv&quot;&amp;gt; &amp;lt;&amp;gt;
1681:R$* $| &amp;lt;?&amp;gt;$*       $: $1 $| &amp;lt;$(access &quot;TLS_Srv&quot;: $: ? $)&amp;gt;

# grep -n TLS_Clt /etc/mail/sendmail.cf
1450:SDelay_TLS_Clt
1457:SDelay_TLS_Clt2
1471:R$+ $| $#$*                $@ $&amp;gt;&quot;Delay_TLS_Clt&quot; $2
1664:R$* $| $*  $: $1 $| $&amp;gt;D &amp;lt;$&amp;amp;{client_name}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;TLS_Clt&quot;&amp;gt; &amp;lt;&amp;gt;
1665:R$* $| &amp;lt;?&amp;gt;$*       $: $1 $| $&amp;gt;A &amp;lt;$&amp;amp;{client_addr}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;TLS_Clt&quot;&amp;gt; &amp;lt;&amp;gt;
1666:R$* $| &amp;lt;?&amp;gt;$*       $: $1 $| &amp;lt;$(access &quot;TLS_Clt&quot;: $: ? $)&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -r -n TLS_Srv /etc/mail | grep -v &apos;sendmail.cf&apos; 

# grep -r -n TLS_Clt /etc/mail | grep -v &apos;sendmail.cf&apos; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n 1450,1462p /etc/mail/sendmail.cf
SDelay_TLS_Clt
# authenticated?
R$*                     $: $1 $| $&amp;gt;&quot;tls_client&quot; $&amp;amp;{verify} $| MAIL
R$* $| $#$+             $#$2
R$* $| $*               $# $1
R$*                     $# $1

SDelay_TLS_Clt2
# authenticated?
R$*                     $: $1 $| $&amp;gt;&quot;tls_client&quot; $&amp;amp;{verify} $| MAIL
R$* $| $#$+             $#$2
R$* $| $*               $@ $1
R$*                     $@ $1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n 1655,1683p /etc/mail/sendmail.cf
######################################################################
###  tls_client: is connection with client &quot;good&quot; enough?
###     (done in server)
###
###     Parameters:
###             ${verify} $| (MAIL|STARTTLS)
######################################################################
Stls_client
R$*             $: $(macro {TLS_Name} $@ $&amp;amp;{client_name} $) $1
R$* $| $*       $: $1 $| $&amp;gt;D &amp;lt;$&amp;amp;{client_name}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;TLS_Clt&quot;&amp;gt; &amp;lt;&amp;gt;
R$* $| &amp;lt;?&amp;gt;$*    $: $1 $| $&amp;gt;A &amp;lt;$&amp;amp;{client_addr}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;TLS_Clt&quot;&amp;gt; &amp;lt;&amp;gt;
R$* $| &amp;lt;?&amp;gt;$*    $: $1 $| &amp;lt;$(access &quot;TLS_Clt&quot;: $: ? $)&amp;gt;
R$* $| &amp;lt;$* &amp;lt;TMPF&amp;gt;&amp;gt;    $#error $@ 4.3.0 $: &quot;451 Temporary system failure. Please try again later.&quot;
R$*             $@ $&amp;gt;&quot;TLS_connection&quot; $1

######################################################################
###  tls_server: is connection with server &quot;good&quot; enough?
###     (done in client)
###
###     Parameter:
###             ${verify}
######################################################################
Stls_server
R$*             $: $(macro {TLS_Name} $@ $&amp;amp;{server_name} $) $1
R$*             $: $1 $| $&amp;gt;D &amp;lt;$&amp;amp;{server_name}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;TLS_Srv&quot;&amp;gt; &amp;lt;&amp;gt;
R$* $| &amp;lt;?&amp;gt;$*    $: $1 $| $&amp;gt;A &amp;lt;$&amp;amp;{server_addr}&amp;gt; &amp;lt;?&amp;gt; &amp;lt;! &quot;TLS_Srv&quot;&amp;gt; &amp;lt;&amp;gt;
R$* $| &amp;lt;?&amp;gt;$*    $: $1 $| &amp;lt;$(access &quot;TLS_Srv&quot;: $: ? $)&amp;gt;
R$* $| &amp;lt;$* &amp;lt;TMPF&amp;gt;&amp;gt;    $#error $@ 4.3.0 $: &quot;451 Temporary system failure. Please try again later.&quot;
R$*             $@ $&amp;gt;&quot;TLS_connection&quot; $1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;the-access-database&quot;&gt;The access Database&lt;/h2&gt;

&lt;p&gt;The &lt;em&gt;access&lt;/em&gt; database provides a single, central database with rules to
accept, reject, and discard messages based on the sender name, address,
or IP address.  It is enabled with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(access_db)&lt;/code&gt;.
(&lt;strong&gt;Note:&lt;/strong&gt; Another feature, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(blacklist_recipients)&lt;/code&gt;, allows
 recipients to also be rejected.  Yet another, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(delay_checks)&lt;/code&gt;,
 allows even finer tuning based on the desire of individual recipients.)&lt;/p&gt;

&lt;p&gt;For example, consider an access database with the following contents:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;From:postmaster@spam.com   OK
From:spam.com              REJECT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, mail from &lt;em&gt;postmaster&lt;/em&gt; at the site &lt;em&gt;spam.com&lt;/em&gt; is accepted, whereas
mail from any other sender at that site is rejected.&lt;/p&gt;

&lt;h2 id=&quot;sendmail-command-line-arguments&quot;&gt;Sendmail Command-Line Arguments&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sendmail -i -v -d35.9,21.12 dusko
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://explained-from-first-principles.com/email/&quot;&gt;Email explained from first principles&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://novosial.org/sendmail/index.html&quot;&gt;Sendmail overview diagram - Email flow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.oracle.com/cd/E19253-01/816-4555/fvbrb/index.html&quot;&gt;Support for Running SMTP With TLS in Version 8.13 of sendmail&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Security Considerations Related to Running SMTP With TLS&lt;/p&gt;

  &lt;p&gt;As a standard mail protocol that defines mailers that run over the
Internet, SMTP is not an end-to-end mechanism.  Because of this protocol
limitation, TLS security through SMTP does not include mail user agents.
Mail user agents act as an interface between users and a mail transfer
agent (MTA) such as sendmail.&lt;/p&gt;

  &lt;p&gt;Also, mail might be routed through multiple servers.  For complete SMTP
security the entire chain of SMTP connections must have TLS support.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Note -&lt;/strong&gt;  &lt;br /&gt;
The implementation of TLS is based on the Secure Sockets Layer (SSL) protocol.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;STARTTLS&lt;/code&gt; is the SMTP keyword that initiates a secure SMTP connection
by using TLS.  This secure connection might be between two servers or
between a server and a client.  A secure connection is defined as follows:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;The source email address and the destination address are encrypted.&lt;/li&gt;
    &lt;li&gt;The content of the email message is encrypted.&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;When the client issues the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;STARTTLS&lt;/code&gt; command, the server responds with
one of the following:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;220 Ready to start TLS&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;501 Syntax error (no parameters allowed)&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;454 TLS not available due to temporary reason&lt;/code&gt;&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;220&lt;/code&gt; response requires the client to start the TLS negotiation.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;501&lt;/code&gt; response notes that the client incorrectly issued the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;STARTTLS&lt;/code&gt;
command.  STARTTLS is issued with no parameters.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;454&lt;/code&gt; response
necessitates that the client apply rule set values to determine whether
to accept or maintain the connection.&lt;/p&gt;

  &lt;p&gt;Note that to maintain the Internet’s SMTP infrastructure, publicly used
servers must not require a TLS negotiation.  However, a server that is
used privately might require the client to perform a TLS negotiation.
In such instances, the server returns this response:&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;530 Must issue a STARTTLS command first&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;530&lt;/code&gt; response instructs the client to issue the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;STARTTLS&lt;/code&gt; command
to establish a connection.&lt;/p&gt;

  &lt;p&gt;The server or client can refuse a connection if the level of
authentication and privacy is not satisfactory.  Alternately, because
most SMTP connections are not secure, the server and client might
maintain an unsecure connection.  Whether to maintain or refuse
a connection is determined by the configuration of the server and the client.&lt;/p&gt;

  &lt;p&gt;Support for running SMTP with TLS is not enabled by default.  TLS is
enabled when the SMTP client issues the STARTTLS command.  Before the
SMTP client can issue this command, you must set up the certificates that
enable &lt;em&gt;sendmail&lt;/em&gt; to use TLS.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://bsd-box.net/~mikeg/blog/index.php?/archives/35-Lets-talk-about-sex.....html&quot;&gt;Secure mail server - IMAPS (Secure IMAP over SSL), SMTP AUTH plus either SMTP+STARTTLS (over Port 25) or SMTPS (over port 465)&lt;/a&gt; – or: &lt;a href=&quot;https://web.archive.org/web/20221030182616/https://bsd-box.net/~mikeg/blog/index.php?/archives/35-Lets-talk-about-sex.....html%2A&quot;&gt;https://web.archive.org/web/20221030182616/https://bsd-box.net/~mikeg/blog/index.php?/archives/35-Lets-talk-about-sex…..html%2A&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.whoopis.com/howtos/sendmail-auth-howto.html&quot;&gt;Secure SMTP AUTH over SSL/STARTTLS with Sendmail and Cyrus SASL, and secure IMAP server Howto&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://raysnotebook.info/computing/email-smtp.html&quot;&gt;Observing SMTP&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://novosial.org/openssl/tls-name/index.html&quot;&gt;SSL versus TLS versus STARTTLS&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.fastmail.help/hc/en-us/articles/360058753834-SSL-TLS-and-STARTTLS&quot;&gt;SSL, TLS, and STARTTLS&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.madboa.com/geek/openssl/&quot;&gt;OpenSSL Command-Line HOWTO&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://sendgrid.com/blog/whats-the-difference-between-ports-465-and-587/&quot;&gt;What’s the Difference Between Ports 465 and 587?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://sendgrid.com/blog/what-is-starttls/&quot;&gt;What is StartTLS?&lt;/a&gt; – or: &lt;a href=&quot;https://sendgrid.com/blog/what-is-starttls/#:~:text=StartTLS%20is%20a%20protocol%20command,different%20command%20for%20encryption%2C%20STLS.&quot;&gt;https://sendgrid.com/blog/what-is-starttls/#:~:text=StartTLS%20is%20a%20protocol%20command,different%20command%20for%20encryption%2C%20STLS.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://lists.w3.org/Archives/Public/ietf-tls/1997JanMar/0079.html&quot;&gt;The proposal for a standard to submit SMTP messages with encryption - Published in early 1997 - SMTPS - Port 465&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tools.ietf.org/html/rfc8314#section-7.3&quot;&gt;The IETF issued a one-time amendment to reinstate port 465 for message submission over TLS protocol - RFC 8314 - Use of TLS for Email Submission/Access - January 2018&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;This is a one-time procedural exception to the rules in [RFC6335].
This requires explicit IESG approval and does not set a precedent.
Note: Since the purpose of this alternate usage assignment is to
align with widespread existing practice and there is no known usage
of UDP port 465 for Message Submission over TLS, IANA has not
assigned an alternate usage of UDP port 465.&lt;/p&gt;

  &lt;p&gt;Historically, port 465 was briefly registered as the “smtps” port.
This registration made no sense, as the SMTP transport MX
infrastructure has no way to specify a port, so port 25 is always
used.  As a result, the registration was revoked and was subsequently
reassigned to a different service.  In hindsight, the “smtps”
registration should have been renamed or reserved rather than
revoked.  Unfortunately, some widely deployed mail software
interpreted “smtps” as “submissions” [RFC6409] and used that port for
email submission by default when an end user requested security
during account setup.  If a new port is assigned for the submissions
service, either (a) email software will continue with unregistered
use of port 465 (leaving the port registry inaccurate relative to
de facto practice and wasting a well-known port) or (b) confusion
between the de facto and registered ports will cause harmful
interoperability problems that will deter the use of TLS for Message
Submission.  The authors of this document believe that both of these
outcomes are less desirable than a “wart” in the registry documenting
real-world usage of a port for two purposes.  Although STARTTLS on
port 587 has been deployed, it has not replaced the deployed use of
Implicit TLS submission on port 465.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://qmail.jms1.net/tls-auth.shtml&quot;&gt;Issues with SSL/TLS and AUTH&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://aput.net/~jheiss/sendmail/tlsandrelay.shtml&quot;&gt;Configuring Sendmail’s STARTTLS (SSL) and Relaying&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;This page documents how to compile and configure Sendmail to support
STARTTLS.  STARTTLS is the SMTP command to “Start Transport Layer
Security”; or, in other words, to turn on SSL.&lt;/p&gt;

  &lt;p&gt;Using SSL with SMTP isn’t terribly useful for protecting the contents
of messages.  Email generally goes through multiple hops between the
sender and the recipient and the sender has no way to ensure they every
one of those hops will use SSL.&lt;/p&gt;

  &lt;p&gt;However, it it very useful when authenticating senders.  You can either
use SSL to protect a plain text login (SMTP AUTH), or use SSL
certificates to do authentication directly.  SMTP authentication is
useful for allowing remote users to relay mail through the external
company mail server.  Claus Aßmann has some documentation but I found
it a bit hard to follow so hopefully this is a little clearer.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.iredmail.org/enable.smtps.html&quot;&gt;Enable SMTPS service (SMTP over SSL, port 465)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc3207&quot;&gt;SMTP Service Extension for Secure SMTP over Transport Layer Security (TLS) - Explicit TLS (implemented with an extension called STARTTLS Command ) - RFC3207&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;A publicly-referenced SMTP server MUST NOT require use of the
STARTTLS extension in order to deliver mail locally.  This rule
prevents the STARTTLS extension from damaging the interoperability of
the Internet’s SMTP infrastructure.  &lt;br /&gt;
A publicly-referenced SMTP server is an SMTP server which runs on 
port 25 of an Internet host listed in the MX record (or A record if an
MX record is not present) for the domain name on the right hand side of
an Internet mail address.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://cromwell-intl.com/open-source/sendmail-ssl.html&quot;&gt;Configure Sendmail for SMTP over TLS&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cromwell-intl.com/cybersecurity/ssl-tls.html&quot;&gt;SSL/TLS Background&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://devcoops.com/telnet-must-issue-starttls-command-first/&quot;&gt;How to fix Telnet SMTP ‘must issue STARTTLS command first’ error&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://qmail.jms1.net/test-auth.shtml&quot;&gt;Testing SMTP AUTH connections&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://scratching.psybermonkey.net/2011/01/freebsd-how-to-make-changes-to-sendmail.html&quot;&gt;FreeBSD - How to make changes to sendmail, FreeBSD styled&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.akadia.com/services/sendmail_tips.html&quot;&gt;Sendmail Guide and Sendmail Tips&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.akadia.com/download/documents/sendmail_survival.pdf&quot;&gt;Sendmail Survival Guide&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://rimuhosting.com/support/settingupemail.jsp&quot;&gt;Setting Up Email: A Sendmail HOWTO&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.akadia.com/services/sendmail_relay.html&quot;&gt;How to setup an E-Mail Relay Host with Sendmail?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://raysnotebook.info/computing/email-outgoing.html&quot;&gt;Outgoing Email - MTAs in Fedora&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.harker.com/sendmail/index.html&quot;&gt;Sendmail Tips and Tricks&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/sendmail&quot;&gt;Sendmail - ArchLinux Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.zimbra.com/wiki/Simple_Troubleshooting_For_SMTP_Via_Telnet_And_Openssl&quot;&gt;Simple Troubleshooting For SMTP Via Telnet And Openssl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://halon.io/blog/how-to-test-smtp-servers-using-the-command-line&quot;&gt;How to test SMTP servers using the command-line&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://community.letsencrypt.org/t/tutorial-testing-mail-protocols-with-ssl-tls/43211/9&quot;&gt;Tutorial - Testing Mail Protocols with SSL/TLS - Let’s Encrypt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.elandsys.com/resources/sendmail/&quot;&gt;Installing and Configuring Sendmail&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://billauer.co.il/blog/2019/03/smtp-helo-ehlo-mail-from/&quot;&gt;SMTP tidbits for the to-be postmaster&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.xdroop.com/space/sendmail&quot;&gt;Virtual Dave - Wiki - sendmail section&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.linuxweblog.com/blog-tags/linux/sendmail&quot;&gt;Sendmail tips and debugging&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://novosial.org/sendmail/client/index.html&quot;&gt;Sendmail client configuration&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hiredavidbank.com/sendmail.mc&quot;&gt;Sample sendmail.mc configuration file&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hiredavidbank.com/prac-send.html&quot;&gt;Practical Modern sendmail Configuration&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hiredavidbank.com/AntiSPAM.html&quot;&gt;Defense In Depth: Anti-SPAM for sendmail Environments&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hiredavidbank.com/DavidBank-TechnicalWritingSample.pdf&quot;&gt;Mail Relay Server Operations Guide [PDF]&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;“An operations guide for a Linux-based mail relay server.  This is 
a version of the original document, redacted to maintain the security of
the original environment.”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;http://www.puresimplicity.net/~hemi/freebsd/ports-sendmail.html&quot;&gt;Switching to Ports-installed sendmail in FreeBSD&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://weldon.whipple.org/sendmail/freebsdsendmailfaqs.html&quot;&gt;FreeBSD sendmail Frequently Asked Questions&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.puresimplicity.net/~hemi/freebsd/sendmail.html&quot;&gt;FreeBSD as a Secure Mail Server Using sendmail and imap-uw&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.puresimplicity.net/~hemi/freebsd/procmail.html&quot;&gt;Installing and Using procmail as the LDA for sendmail under FreeBSD&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/drmalex07/d63348dc9d26d1349309&quot;&gt;Configure sendmail&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://rtcamp.com/tutorials/mail/server/testing/smtp/&quot;&gt;SMTP Tests&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.stevenrombauts.be/2018/12/test-smtp-with-telnet-or-openssl/&quot;&gt;Test SMTP with telnet or openssl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.sendmail.org/~ca/email/chk-dbg.html&quot;&gt;Debugging check_* in sendmail 8.8/8.9 and later&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.giac.org/paper/gsec/2496/secure-sendmail-based-dmz-corporate-email-environment/104359&quot;&gt;A Secure Sendmail Based DMZ for the Corporate Email Environment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FEATURE(`delay_checks&apos;)dnl
The &quot;delay_checks&quot; feature is useful when used in combination with the &quot;dnsbl&quot;
feature for SPAM control.  Without enabling this feature, the log entry for the
rejected email will not contain the destination users mail address.  Having the
destination address is very useful when troubleshooting; typically the person
calling your organizations support center is the person whom cannot receive the
email.  This feature will put the destination users address into the reject log
message allowing you to search the log for it directly.  In the other case, the
external entity can be asked whom they were trying to send to.  Otherwise, you
are stuck looking for origin SMTP servers, not a straight forward as it might
seem.  For example, the sender works for company abc.com but is sending you
email from their home cable modem.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://deer-run.com/users/hal/dns-sendmail/Demystifying-Sendmail.pdf&quot;&gt;Demystifying Sendmail - Hal Pomeranz, Deer Run Associates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;In addition to the &quot;access_db&quot; declaration, however, you also want to add the
&quot;delay_checks&quot; feature.  Normally, the access DB and other anti-spam checks would
be consulted as soon as the remote server issues the &quot;mail from:&quot; command to set the
message sender.  The &quot;delay_checks&quot; feature tells Sendmail to wait until both the
sender and recipient addresses have been sent before deciding whether or not the message
is spam.  This is how you make sure that your &quot;abuse@sysiphus.com&quot; address
receives an unfiltered email stream while protecting all of your other users from spam.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/230575/sendmail-issues-530-authentication-required-error-message-when-authinfo-is-sup&quot;&gt;Sendmail issues “530 Authentication required” error message when authinfo is supplied&lt;/a&gt;:&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;As root [on your mail server] send a test message with tracking
map (authinfo) lookups&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#!/bin/sh
# -d60.5 turn on traking map lookups
/usr/sbin/sendmail -d60.5 -v -i -fsender_email -- receiver_email  &amp;lt;&amp;lt;END
subject: test

test
END
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.linuxquestions.org/questions/linux-server-73/sendmail-allow-authenticated-sender-with-dnsbl-698305/&quot;&gt;sendmail allow authenticated sender with dnsbl&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.linuxquestions.org/questions/linux-server-73/sendmail-dnsbl-blocking-authenticating-users-786503/&quot;&gt;Sendmail DNSBL blocking authenticating users&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://answers.google.com/answers/threadview?id=398644&quot;&gt;Subject: Re: Logging of sendmail authenticated user&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Sendmail.mc file approach:

Add the following definition to /etc/mail/sendmail.mc

define(`confLOG_LEVEL&apos;, `14&apos;)dnl

Rebuild /etc/mail/sendmail.cf

m4 sendmail.mc &amp;gt; sendmail.cf

Sendmail.cf file approach:

Change the following definition in /etc/mail/sendmail.cf

O LogLevel=14

After you have changed the logging level, restart the sendmail daemon.
 Syslog will now log any successful authentications to
/var/log/maillog.  Of interest to you are the following fields in each
authentication log entry:

authid= and relay=

authid will display the login that was used for the authentication,
and relay will display the remote IP address that was added as the
temporary relay.  If you don&apos;t recognize the relay, then it is most
likely the spammer entry.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://superuser.com/questions/286677/creating-a-multipart-email-and-sending-it-in-linux&quot;&gt;Creating a multipart email and sending it in Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;Create a message of type multipart/alternative as documented in 
&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc2046#section-5.1.4&quot;&gt;RFC 2046&lt;/a&gt;:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;From: Example Company &amp;lt;news@example.com&amp;gt;
To: Joe User &amp;lt;joe.u@example.net&amp;gt;
Date: Sat, 21 May 2011 17:40:11 +0300
Subject: Multipart message example
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary=asdfghjkl

--asdfghjkl
Content-Type: text/plain; charset=utf-8

Hello everyone!

--asdfghjkl
Content-Type: text/html; charset=utf-8

&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;p&amp;gt;Hello everyone!&amp;lt;/p&amp;gt;
&amp;lt;/body&amp;gt;

--asdfghjkl--
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;See &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc2046&quot;&gt;RFC 2046&lt;/a&gt; and 
&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc5322&quot;&gt;RFC 5322&lt;/a&gt; for the exact syntax.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://novosial.org/openssl/tls-name/index.html&quot;&gt;SSL versus TLS versus STARTTLS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;The following example shows how a SMTP client negotiates an encrypted 
connection with STARTTLS.  First, the Mail Exchange (MX) for the domain 
(example.org) must be looked up, then the smtp port on the MX at 
smtp.example.org connected to.  Then the SMTP verbs EHLO and STARTTLS are 
used to begin negotiating an encrypted dialog.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ host -t mx example.org
example.org mail is handled by 10 smtp.example.org.

$ telnet smtp.example.org 25
Trying 192.0.2.1...
Connected to smtp.example.org.
Escape character is &apos;^]&apos;.
220 smtp.example.org ESMTP Sendmail 8.13.2/8.13.2
EHLO client.example.org
250-smtp.example.org Hello client.example.org [192.0.2.7], pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE 16180340
250-DSN
250-STARTTLS
250-DELIVERBY
250 HELP
STARTTLS
220 2.0.0 Ready to start TLS
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;The &lt;a href=&quot;https://www.openssl.org/&quot;&gt;OpenSSL&lt;/a&gt; library ships with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssl&lt;/code&gt; 
utility, which has a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;s_client&lt;/code&gt; mode to test encrypted connections. 
More recent versions of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssl&lt;/code&gt; utility support STARTTLS for 
protocols such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;smtp&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pop3&lt;/code&gt;.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssl&lt;/code&gt; invocations below 
show how to connect via https to www.example.org and pop3 with STARTTLS 
to mail.example.org.  Once connected, the protocol in question can then be used.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ openssl s_client -connect www.example.org:443 -showcerts
...
GET / HTTP/1.0

HTTP/1.1 200 OK
...
$ openssl s_client -connect mail.example.org:110 -showcerts -starttls pop3
... 
+OK POP3 mail.example.org v2003.83 server ready
quit
+OK Sayonara
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ openssl s_client -verify 2 -quiet -connect mx.youremailprovider.com:465
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ openssl s_client -verify 2 -quiet -connect mx.youremailprovider.com:465 2&amp;gt;/dev/null || exit 75
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://workaround.org/ispmail/stretch/relaying-smtp-authentication&quot;&gt;Relaying with SMTP authentication&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://dr0.ch/docs/linux-guide-10ed.pdf&quot;&gt;Linux Guide&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.ifost.org.au/Documents/sendmail.pdf&quot;&gt;Sendmail - The Institute for Open Systems Technologies, Release 2.0, 22nd March 2004&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ameblo-jp.translate.goog/ypsilondelta/entry-12628745736.html?_x_tr_sl=ja&amp;amp;_x_tr_tl=en&amp;amp;_x_tr_hl=en&amp;amp;_x_tr_pto=sc&quot;&gt;SMART_HOST in FreeBSD12R default sendmail&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://nasa.cs.nycu.edu.tw/nm/2005/slide/SendMail.pdf&quot;&gt;Sendmail Presentation - NCTU CSCC/NYMCTU, Computer Network Management Course (2005 syllabus)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://people.cs.nctu.edu.tw/~chwong/course/netadm-2007/slide/07_SendMail.pdf&quot;&gt;Sendmail Presentation - Computer Center CS NCTU/NYMCTU&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;bypass-filtering-for-authenitcated-users&quot;&gt;Bypass Filtering for Authenitcated Users&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://web.archive.org/web/20220930003249/https://fam.tuwien.ac.at/~schamane/_/oldblog/141118_suppress_ip_of_authenticated_senders_in_sendmail.html&quot;&gt;Suppress IP of authenticated senders in Sendmail&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;So, in /etc/mail/sendmail.mc I added:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dnl # suppress IP of authenticated sender
define(`confRECEIVED_HEADER&apos;,`$?{auth_type}from auth (localhost [127.0.0.1]) $|_REC_HDR_$.
	_REC_BY_
	_REC_TLS_
	_REC_END_&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note: The leading spaces are actually 1 TAB!&lt;/p&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.joelw.id.au/GeneralNotes&quot;&gt;General Notes - Joel’s Compendium of Total Knowledge&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;With sendmail, obscure Received: headers when relaying&lt;/p&gt;

  &lt;p&gt;I noticed that an email I had sent someone was marked as spam because 
my dynamic IP address was on some blacklist.  I use my own authenticated 
SMTP relay, so there’s really no reason I’d want people to know my 
IP address.  After some fiddling I came up with the following macro, 
which you may add to your sendmail.mc:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`confRECEIVED_HEADER&apos;, `$?{auth_type}(from $j) by $j ($v/$Z)$|$?sfrom $s $.$?_($?s$|from $.$_)
$.$?{auth_type}(authenticated$?{auth_ssf} bits=${auth_ssf}$.)
$.by $j ($v/$Z)$?r with $r$. id $i$?{tls_version}
(version=${tls_version} cipher=${cipher} bits=${cipher_bits} verify=${verify})$.$?u
for $u; $|;
$.$b$.&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;This looks horrible, but it’s a fairly simple modification of the default rule.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$?{variable} $| $.&lt;/code&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;else&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;end if&lt;/code&gt; operators respectively.
So here, if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;auth_type&lt;/code&gt; is defined (which &lt;strong&gt;only&lt;/strong&gt; occurs if an &lt;strong&gt;authenticated user&lt;/strong&gt; is &lt;em&gt;relaying&lt;/em&gt; through the server, which will only be &lt;em&gt;local users&lt;/em&gt;), then show a simple “(from hostname) by hostname (8.14.3/8.14.3/Debian-9.2)”, which is based on some other non-descript headers I managed to generate by invoking sendmail on the server from mutt.
Otherwise, it proceeds with the default rule (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;from $?sfrom $s ...&lt;/code&gt;).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Also, the same page (&lt;a href=&quot;http://web.archive.org/web/20220930003249/https://fam.tuwien.ac.at/~schamane/_/oldblog/141118_suppress_ip_of_authenticated_senders_in_sendmail.html&quot;&gt;Suppress IP of authenticated senders in Sendmail&lt;/a&gt;) points to the following post as an inspiration:
&lt;a href=&quot;https://archive.ph/w7LRF&quot;&gt;Removing Sender’s IP Address From Email’s Received: From Header&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Anyway, what I did find was, for instance, &lt;a href=&quot;https://archive.ph/w7LRF&quot;&gt;Removing Sender’s IP Address From Email’s Received: From Header&lt;/a&gt;.
This page popped up frequently when I searched for how to suppress headers, and it seems to be one of very few indeed.
It even addresses my main problem.
The author’s approach is totally valid, and s/he explains things well and gives pointers.
However, I did not feel comfortable with completely removing the “from” part, and with redefining &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;confRECEIVED_HEADER&lt;/code&gt; without honoring the defaults.
I was also afraid that this might even break some other things (like our own spam filter rules).&lt;/p&gt;

  &lt;p&gt;Another solution that I could find about 2 times goes 1 big step furhter:
It suggested to remove the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HReceived&lt;/code&gt; line(s) from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; altogether.
This does work, and it does make some sense for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt;, however, &lt;strong&gt;only&lt;/strong&gt; if 2 &lt;em&gt;sendmail&lt;/em&gt; daemons are used where 1 is running with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; and listens to &lt;em&gt;port 587&lt;/em&gt;.
But, my server is a Debian box with &lt;em&gt;only 1 daemon&lt;/em&gt;, and I thought there should be no need for a 2nd.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$?{auth_type}$|...$.&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://web.archive.org/web/20221102231352/https://joelw.id.au/GeneralNotes&quot;&gt;Joel’s Compendium of Total Knowledge&lt;/a&gt; (search for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Received:&lt;/code&gt;) is the only page I found that suggests what I thought was reasonable, i.e. introduce an &lt;strong&gt;if-then&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;($?…$|…$.)&lt;/code&gt; evaluating the &lt;em&gt;variable&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{auth_type}&lt;/code&gt; to check whether the client has been &lt;em&gt;authenticated&lt;/em&gt;:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`confRECEIVED_HEADER&apos;, `$?{auth_type}...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Discussion&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;Andreas Schamanek, 2014-11-18 22:46&lt;/p&gt;

  &lt;p&gt;By means of this approach we are suppressing an IP that might indeed be abused by the authenticated client.
However, I don’t think that this is of any concern.
In such cases, the relaying mail server will be blacklisted anyway.
I’ll get notified, and I’ll be able to stop the abuse.
Besides, I have hourly and daily limits set for outgoing mail.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;with-sendmail-and-spamass-milter-dont-check-outgoing-messages&quot;&gt;With sendmail and spamass-milter, Don’t Check Outgoing Messages&lt;/h2&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.joelw.id.au/GeneralNotes&quot;&gt;General Notes - Joel’s Compendium of Total Knowledge&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Now that I’ve set up a secure mail relay, I can happily send mail from all manner of 3G and wireless connections.
All of them are listed in RBLs, which makes me angry because SpamAssassin on my mail relay is marking my own messages as spam.
Fortunately, Debian/Ubuntu’s version of spamass-milter has a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-I&lt;/code&gt; option that &lt;strong&gt;skips checks for authenticated users&lt;/strong&gt;.
This seems to work even with my dodgy hack above.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://www.proofpoint.com/us/threat-reference/sendmail&quot;&gt;What is Sendmail? - Proofpoint&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.computerhope.com/unix/usendmai.htm&quot;&gt;Test and Use Sendmail from the Command Line - Sendmail Command Help and Examples&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;documentation-readme-faq-help-and-other-files-distributed-with-sendmail-on-freebsd-13&quot;&gt;Documentation, README, FAQ, Help and Other Files Distributed with Sendmail On FreeBSD 13&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff /usr/src/contrib/sendmail/cf/README /usr/local/share/sendmail/cf/README | wc -l
     106
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l /usr/src/contrib/sendmail/src/README /usr/local/share/sendmail/cf/README 
    1869 /usr/src/contrib/sendmail/src/README
    4831 /usr/local/share/sendmail/cf/README
    6700 total
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /usr/src/contrib/sendmail/src/ | grep -v &apos;\.c&apos; | grep -v &apos;\.h&apos;
total 1332
-rw-r--r--  1 root  wheel   1.4K Oct 21 17:58 aliases
-rw-r--r--  1 root  wheel   3.1K Oct 21 17:58 aliases.5
-rw-r--r--  1 root  wheel   5.5K Oct 21 17:58 helpfile
-rw-r--r--  1 root  wheel   3.5K Oct 21 17:58 mailq.1
-rw-r--r--  1 root  wheel   347B Oct 21 17:58 Makefile
-rw-r--r--  1 root  wheel   4.4K Oct 21 17:58 Makefile.m4
-rw-r--r--  1 root  wheel   1.3K Oct 21 17:58 newaliases.1
-rw-r--r--  1 root  wheel    82K Oct 21 17:58 README
-rw-r--r--  1 root  wheel   7.5K Oct 21 17:58 SECURITY
-rw-r--r--  1 root  wheel    17K Oct 21 17:58 sendmail.8
-rw-r--r--  1 root  wheel   3.1K Oct 21 17:58 TRACEFLAGS
-rw-r--r--  1 root  wheel    10K Oct 21 17:58 TUNING
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Possible mailers are listed in this directory:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/sendmail/cf/mailer/&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;and (if you’ve obtained &lt;em&gt;sendmail&lt;/em&gt; source):&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/src/contrib/sendmail/cf/mailer/&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Patches and 
some useful &lt;em&gt;sendmail&lt;/em&gt; tools (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;movemail.pl&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qtool.pl&lt;/code&gt;, 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;re-mqueue.pl&lt;/code&gt;) are located here: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/src/contrib/sendmail/contrib/&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/src/contrib/sendmail/FAQ
The FAQ is no longer maintained with the sendmail release.  It is
available at http://www.sendmail.org/faq/ .

$Revision: 8.25 $, Last updated $Date: 2014-01-27 12:49:52 $
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As of Oct 22, 2022, the Sendmail &lt;strong&gt;FAQ&lt;/strong&gt; is at&lt;br /&gt;
&lt;a href=&quot;https://www.proofpoint.com/us/sendmail/faq&quot;&gt;https://www.proofpoint.com/us/sendmail/faq&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;On FreeBSD 13.1-RELEASE-p2, as of Oct 22, 2022, the package-provided
&lt;em&gt;sendmail&lt;/em&gt; version is 8.17.1:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/local/sbin/sendmail -d0.1 &amp;lt; /dev/null | head -1
Version 8.17.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search --regex ^sendmail-
sendmail-8.17.1_6              Reliable, highly configurable mail 
  transfer agent with utilities
sendmail-devel-8.17.1.22       Reliable, highly configurable mail
  transfer agent with utilities
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;while &lt;em&gt;sendmail&lt;/em&gt; shipped with FreeBSD 13 is V8.16.1:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/sendmail/sendmail -d0.1 &amp;lt; /dev/null | head -1
Version 8.16.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/src/contrib/sendmail/FREEBSD-upgrade
$FreeBSD$

sendmail 8.16.1
        originals can be found at: ftp://ftp.sendmail.org/pub/sendmail/

For the import of sendmail, the following directories were renamed:

        sendmail -&amp;gt; src

Imported using the instructions at:

http://www.freebsd.org/doc/en_US.ISO8859-1/articles/committers-guide/subversion-primer.html

Then merged using:

% set FSVN=svn+ssh://repo.freebsd.org/base
% svn checkout $FSVN/head/contrib/sendmail head
% cd head
### Replace XXXXXX with import revision number in next command:
% svn merge -c rXXXXXX --accept=postpone &apos;^/vendor/sendmail/dist&apos; .
% svn resolve --accept working cf/cf/Build \
    cf/cf/generic-{bsd4.4,hpux{9,10},linux,mpeix,nextstep3.3,osf1,solaris,sunos4.1,ultrix4}.cf \
    devtools doc/op/op.ps editmap/editmap.0 mail.local/mail.local.0 mailstats/mailstats.0 \
    makemap/makemap.0 praliases/praliases.0 rmail/rmail.0 smrsh/smrsh.0 \
    src/{aliases,mailq,newaliases,sendmail}.0 vacation/vacation.0
% svn propset -R svn:keywords FreeBSD=%H .
% svn propdel svn:keywords libmilter/docs/*.jpg
% svn diff --no-diff-deleted --old=$FSVN/vendor/sendmail/dist --new=.
% svn status
% svn diff
% svn commit

After importing, bump the version of src/etc/sendmail/freebsd*mc
so mergemaster will merge /etc/mail/freebsd*cf by making a minor
change and committing.

To make local changes to sendmail, simply patch and commit to the head.
Never make local changes in the vendor area (/vendor/sendmail/).

All local changes should be submitted to the Sendmail Consortium
&amp;lt;sendmail@sendmail.org&amp;gt; for inclusion in the next vendor release.

The following files make up the sendmail build/install/runtime
infrastructure in FreeBSD:

        Makefile.inc1
        bin/Makefile
        bin/rmail/Makefile
        contrib/sendmail/
        etc/Makefile
        etc/defaults/make.conf (obsolete)
        etc/defaults/periodic.conf
        etc/defaults/rc.conf
        etc/mail/Makefile
        etc/mail/README
        etc/mail/access.sample
        etc/mail/aliases
        etc/mail/mailer.conf
        etc/mail/mailertable.sample
        etc/mail/virtusertable.sample
        etc/mtree/BSD.include.dist
        etc/mtree/BSD.sendmail.dist
        etc/mtree/BSD.usr.dist
        etc/mtree/BSD.var.dist
        etc/periodic/daily/440.status-mailq
        etc/periodic/daily/500.queuerun
        etc/rc
        etc/rc.sendmail
        etc/sendmail/Makefile
        etc/sendmail/freebsd.mc
        etc/sendmail/freebsd.submit.mc
        etc/sendmail/freefall.mc
        lib/Makefile
        lib/libmilter/Makefile
        lib/libsm/Makefile
        lib/libsmdb/Makefile
        lib/libsmutil/Makefile
        libexec/Makefile
        libexec/mail.local/Makefile
        libexec/smrsh/Makefile
        share/Makefile
        share/doc/smm/Makefile
        share/doc/smm/08.sendmailop/Makefile
        share/examples/etc/make.conf
        share/man/man5/make.conf.5
        share/man/man5/periodic.conf.5
        share/man/man5/rc.conf.5
        share/man/man7/hier.7
        share/man/man8/Makefile
        share/man/man8/rc.sendmail.8
        share/mk/bsd.libnames.mk
        share/sendmail/Makefile
        tools/build/mk/OptionalObsoleteFiles.inc
        usr.bin/Makefile
        usr.bin/vacation/Makefile
        usr.sbin/Makefile
        usr.sbin/editmap/Makefile
        usr.sbin/mailstats/Makefile
        usr.sbin/makemap/Makefile
        usr.sbin/praliases/Makefile
        usr.sbin/sendmail/Makefile
        usr.sbin/mailwrapper/Makefile

gshapiro@FreeBSD.org
15-July-2020
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;These files are located relative to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/src/&lt;/code&gt; directory; for example,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libexec/smrsh/Makefile&lt;/code&gt; is at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/src/libexec/smrsh/Makefile&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;sendmail-related-manual-pages-in-freebsd-13&quot;&gt;Sendmail Related Manual Pages in FreeBSD 13&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man -k sendmail | wc -l
      11
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man -k sendmail
aliases(5) - aliases file for sendmail
aliases(5) - aliases file for sendmail
editmap(8) - query and edit single records in database maps for sendmail
editmap(8) - query and edit single records in database maps for sendmail
makemap(8) - create database maps for sendmail
makemap(8) - create database maps for sendmail
rc.sendmail(8) - sendmail 8 startup script
sendmail(8) - an electronic mail transport agent
sendmail, hoststat, purgestat(8) - an electronic mail transport agent
smrsh(8) - restricted shell for sendmail
smrsh(8) - restricted shell for sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% manpath
/usr/share/man:/usr/local/share/man:/usr/local/man:/usr/share/openssl/man:/usr/local/lib/perl5/site_perl/man:/usr/local/lib/perl5/5.32/perl/man
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;sendmail-default-variables-in-etcdefaultsrcconf&quot;&gt;Sendmail Default Variables in /etc/defaults/rc.conf&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% head -20 /etc/defaults/rc.conf
#!/bin/sh

# This is rc.conf - a file full of useful variables that you can set
# to change the default startup behavior of your system.  You should
# not edit this file!  Put any overrides into one of the ${rc_conf_files}
# instead and you will be able to update these defaults later without
# spamming your local configuration information.
#
# The ${rc_conf_files} files should only contain values which override
# values set in this file.  This eases the upgrade path when defaults
# are changed and new features are added.
#
# All arguments must be in double or single quotes.
#
# For a more detailed explanation of all the rc.conf variables, please
# refer to the rc.conf(5) manual page.
#
# $FreeBSD$

##############################################################
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, from the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rc.conf(5)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rc_conf_files
            (str) This option is used to specify a list of files that
            will override the settings in /etc/defaults/rc.conf.  The
            files will be read in the order in which they are specified
            and should include the full path to the file.  By default,
            the files specified are /etc/rc.conf and /etc/rc.conf.local
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n sendmail /etc/defaults/rc.conf | wc -l
      16
 
% grep -n -i sendmail /etc/defaults/rc.conf | wc -l
      16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep sendmail /etc/defaults/rc.conf
mta_start_script=&quot;/etc/rc.sendmail&quot;
# Settings for /etc/rc.sendmail and /etc/rc.d/sendmail:
sendmail_enable=&quot;NO&quot;    # Run the sendmail inbound daemon (YES/NO).
sendmail_pidfile=&quot;/var/run/sendmail.pid&quot;        # sendmail pid file
sendmail_procname=&quot;/usr/sbin/sendmail&quot;          # sendmail process name
sendmail_flags=&quot;-L sm-mta -bd -q30m&quot; # Flags to sendmail (as a server)
sendmail_cert_create=&quot;YES&quot;      # Create a server certificate if none (YES/NO)
#sendmail_cert_cn=&quot;CN&quot;          # CN of the generate certificate
sendmail_submit_enable=&quot;YES&quot;    # Start a localhost-only MTA for mail submission
sendmail_submit_flags=&quot;-L sm-mta -bd -q30m -ODaemonPortOptions=Addr=localhost&quot;
sendmail_outbound_enable=&quot;YES&quot;  # Dequeue stuck mail (YES/NO).
sendmail_outbound_flags=&quot;-L sm-queue -q30m&quot; # Flags to sendmail (outbound only)
sendmail_msp_queue_enable=&quot;YES&quot; # Dequeue stuck clientmqueue mail (YES/NO).
sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
                                # Flags for sendmail_msp_queue daemon.
sendmail_rebuild_aliases=&quot;NO&quot;   # Run newaliases if necessary (YES/NO).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep sendmail /etc/defaults/rc.conf | grep flags
sendmail_flags=&quot;-L sm-mta -bd -q30m&quot; # Flags to sendmail (as a server)
sendmail_submit_flags=&quot;-L sm-mta -bd -q30m -ODaemonPortOptions=Addr=localhost&quot;
sendmail_outbound_flags=&quot;-L sm-queue -q30m&quot; # Flags to sendmail (outbound only)
sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep sendmail /etc/defaults/rc.conf | grep submit
sendmail_submit_enable=&quot;YES&quot;    # Start a localhost-only MTA for mail submission
sendmail_submit_flags=&quot;-L sm-mta -bd -q30m -ODaemonPortOptions=Addr=localhost&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep sendmail /etc/defaults/rc.conf | grep msp
sendmail_msp_queue_enable=&quot;YES&quot; # Dequeue stuck clientmqueue mail (YES/NO).
sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
                                # Flags for sendmail_msp_queue daemon.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -r -w sendmail_submit /etc/
/etc/rc.d/sendmail:     name=&quot;sendmail_submit&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -r sendmail_submit_flags /etc/
/etc/defaults/rc.conf:sendmail_submit_flags=&quot;-L sm-mta -bd -q30m -ODaemonPortOptions=Addr=localhost&quot;
/etc/rc.sendmail:                       ${sendmail_program} ${sendmail_submit_flags}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -r -w sendmail_submit_enable /etc/
/etc/rc.d/sendmail:     sendmail_submit_enable=&quot;NO&quot;
/etc/rc.d/sendmail:     sendmail_submit_enable=&quot;NO&quot;
/etc/rc.d/sendmail:# If sendmail_submit_enable=yes, don&apos;t need outbound daemon
/etc/rc.d/sendmail:if checkyesno sendmail_submit_enable; then
/etc/rc.d/sendmail:if checkyesno sendmail_submit_enable; then
/etc/rc.d/sendmail:     rcvar=&quot;sendmail_submit_enable&quot;
/etc/mail/README:can be disabled using the sendmail_submit_enable rc.conf option.  However,
/etc/mail/README:if both sendmail_enable and sendmail_submit_enable are set to &quot;NO&quot;, you
/etc/defaults/rc.conf:sendmail_submit_enable=&quot;YES&quot;      # Start a localhost-only MTA for mail submission
/etc/rc.sendmail:               case ${sendmail_submit_enable} in
/etc/rc.sendmail:               case ${sendmail_submit_enable} in
/etc/rc.sendmail:               case ${sendmail_submit_enable} in
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -r -n mta_start_script /etc/
/etc/rc.d/othermta:15:if [ -n &quot;${mta_start_script}&quot; ]; then
/etc/rc.d/othermta:16:  [ &quot;${mta_start_script}&quot; != &quot;/etc/rc.sendmail&quot; ] &amp;amp;&amp;amp; \
/etc/rc.d/othermta:17:      sh ${mta_start_script} &quot;$1&quot;
/etc/defaults/rc.conf:592:mta_start_script=&quot;/etc/rc.sendmail&quot;
/etc/rc.sendmail:34:# MTAs.  It is only called by /etc/rc if the rc.conf mta_start_script is
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/rc.d/othermta
#!/bin/sh
#
# $FreeBSD$
#

# PROVIDE: mail
# REQUIRE: LOGIN

# XXX - TEMPORARY SCRIPT UNTIL YOU WRITE YOUR OWN REPLACEMENT.
#
. /etc/rc.subr

load_rc_config

if [ -n &quot;${mta_start_script}&quot; ]; then
        [ &quot;${mta_start_script}&quot; != &quot;/etc/rc.sendmail&quot; ] &amp;amp;&amp;amp; \
            sh ${mta_start_script} &quot;$1&quot;
fi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /etc/rc.sendmail
-rw-r--r--  1 root  wheel   5.6K Apr  8  2021 /etc/rc.sendmail
 
% file /etc/rc.sendmail
/etc/rc.sendmail: POSIX shell script, ASCII text executable
 
% wc -l /etc/rc.sendmail
     277 /etc/rc.sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.sendmail&lt;/code&gt; startup script is used at &lt;strong&gt;boot time&lt;/strong&gt;: &lt;br /&gt;
“This script is used by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc&lt;/code&gt; at &lt;strong&gt;boot time&lt;/strong&gt; to start &lt;em&gt;sendmail&lt;/em&gt;.”&lt;/p&gt;

&lt;p&gt;In addition, this script is used by &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/Makefile&lt;/code&gt;&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;“The script is also used by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/Makefile&lt;/code&gt; to enable the
&lt;strong&gt;start/stop/restart&lt;/strong&gt; targets.”&lt;/p&gt;

&lt;p&gt;That is:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /etc/mail
% sudo su
# make start    # (Or make stop, or make restart) 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/rc.sendmail
#!/bin/sh

#
# Copyright (c) 2002  Gregory Neil Shapiro.  All Rights Reserved.
# Copyright (c) 2000, 2002  The FreeBSD Project

[ . . . ]

# This script is used by /etc/rc at boot time to start sendmail.  It
# is meant to be sendmail specific and not a generic script for all
# MTAs.  It is only called by /etc/rc if the rc.conf mta_start_script is
# set to /etc/rc.sendmail.  This provides the opportunity for other MTAs
# to provide their own startup script.

# The script is also used by /etc/mail/Makefile to enable the
# start/stop/restart targets.

# The source for the script can be found in src/etc/sendmail/rc.sendmail.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /etc/rc.d/sendmail
-r-xr-xr-x  1 root  wheel   6.4K Apr  8  2021 /etc/rc.d/sendmail
 
% file /etc/rc.d/sendmail
/etc/rc.d/sendmail: POSIX shell script, ASCII text executable
 
% wc -l /etc/rc.d/sendmail
     229 /etc/rc.d/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/rc.d/sendmail
#!/bin/sh
#
# $FreeBSD$
#

# PROVIDE: mail
# REQUIRE: LOGIN FILESYSTEMS
#       we make mail start late, so that things like .forward&apos;s are not
#       processed until the system is fully operational
# KEYWORD: shutdown

# XXX - Get together with sendmail mantainer to figure out how to
#       better handle SENDMAIL_ENABLE and 3rd party MTAs.
#
. /etc/rc.subr

name=&quot;sendmail&quot;
desc=&quot;Electronic mail transport agent&quot;
rcvar=&quot;sendmail_enable&quot;
required_files=&quot;/etc/mail/${name}.cf&quot;
start_precmd=&quot;sendmail_precmd&quot;

load_rc_config $name
command=${sendmail_program:-/usr/sbin/${name}}
pidfile=${sendmail_pidfile:-/var/run/${name}.pid}
procname=${sendmail_procname:-/usr/sbin/${name}}

CERTDIR=/etc/mail/certs

case ${sendmail_enable} in
[Nn][Oo][Nn][Ee])
        sendmail_enable=&quot;NO&quot;
        sendmail_submit_enable=&quot;NO&quot;
        sendmail_outbound_enable=&quot;NO&quot;
        sendmail_msp_queue_enable=&quot;NO&quot;
        ;;
esac

# If sendmail_enable=yes, don&apos;t need submit or outbound daemon
if checkyesno sendmail_enable; then
        sendmail_submit_enable=&quot;NO&quot;
        sendmail_outbound_enable=&quot;NO&quot;
fi

# If sendmail_submit_enable=yes, don&apos;t need outbound daemon
if checkyesno sendmail_submit_enable; then
        sendmail_outbound_enable=&quot;NO&quot;
fi

[ . . . ]

required_files=

if checkyesno sendmail_submit_enable; then
        name=&quot;sendmail_submit&quot;
        rcvar=&quot;sendmail_submit_enable&quot;
        _rc_restart_done=false
        run_rc_command &quot;$1&quot;
fi

if checkyesno sendmail_outbound_enable; then
        name=&quot;sendmail_outbound&quot;
        rcvar=&quot;sendmail_outbound_enable&quot;
        _rc_restart_done=false
        run_rc_command &quot;$1&quot;
fi

name=&quot;sendmail_msp_queue&quot;
rcvar=&quot;sendmail_msp_queue_enable&quot;
pidfile=&quot;${sendmail_msp_queue_pidfile:-/var/spool/clientmqueue/sm-client.pid}&quot;
required_files=&quot;/etc/mail/submit.cf&quot;
_rc_restart_done=false
run_rc_command &quot;$1&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n msp /etc/rc.d/sendmail
35:     sendmail_msp_queue_enable=&quot;NO&quot;
224:name=&quot;sendmail_msp_queue&quot;
225:rcvar=&quot;sendmail_msp_queue_enable&quot;
226:pidfile=&quot;${sendmail_msp_queue_pidfile:-/var/spool/clientmqueue/sm-client.pid}&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n -i queue /etc/rc.d/sendmail
35:     sendmail_msp_queue_enable=&quot;NO&quot;
224:name=&quot;sendmail_msp_queue&quot;
225:rcvar=&quot;sendmail_msp_queue_enable&quot;
226:pidfile=&quot;${sendmail_msp_queue_pidfile:-/var/spool/clientmqueue/sm-client.pid}&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n &apos;\-L&apos; /etc/rc.d/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n msp /etc/rc.sendmail 
55:sendmail_mspq_pidfile=${sendmail_mspq_pidfile:-/var/spool/clientmqueue/sm-client.pid}
152:start_mspq()
159:                    case ${sendmail_msp_queue_enable} in
162:                            ${sendmail_program} ${sendmail_msp_queue_flags}
170:stop_mspq()
179:                    case ${sendmail_msp_queue_enable} in
190:    if [ -r ${sendmail_mspq_pidfile} ]; then
192:            kill -TERM `head -1 ${sendmail_mspq_pidfile}`
194:            echo &quot;$0: stop-mspq: ${sendmail_mspq_pidfile} not found&quot;
198:restart_mspq()
207:                    case ${sendmail_msp_queue_enable} in
218:    if [ -r ${sendmail_mspq_pidfile} ]; then
220:            kill -HUP `head -1 ${sendmail_mspq_pidfile}`
222:            echo &quot;$0: restart-mspq: ${sendmail_mspq_pidfile} not found&quot;
232:    start_mspq
237:    stop_mspq
242:    restart_mspq
257:start-mspq)
258:    start_mspq
261:stop-mspq)
262:    stop_mspq
265:restart-mspq)
266:    restart_mspq
272:    echo &quot;       `basename $0` {start-mspq|stop-mspq|restart-mspq}&quot; &amp;gt;&amp;amp;2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n queue /etc/rc.sendmail 
55:sendmail_mspq_pidfile=${sendmail_mspq_pidfile:-/var/spool/clientmqueue/sm-client.pid}
159:                    case ${sendmail_msp_queue_enable} in
161:                            echo -n &apos; sendmail-clientmqueue&apos;
162:                            ${sendmail_program} ${sendmail_msp_queue_flags}
172:    # Check to make sure we are configured to start an MSP queue runner
179:                    case ${sendmail_msp_queue_enable} in
191:            echo -n &apos; sendmail-clientmqueue&apos;
200:    # Check to make sure we are configured to start an MSP queue runner
207:                    case ${sendmail_msp_queue_enable} in
219:            echo -n &apos; sendmail-clientmqueue&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n &apos;\-L&apos; /etc/rc.sendmail 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -r sendmail_outbound_enable /etc/
/etc/rc.d/sendmail:     sendmail_outbound_enable=&quot;NO&quot;
/etc/rc.d/sendmail:     sendmail_outbound_enable=&quot;NO&quot;
/etc/rc.d/sendmail:     sendmail_outbound_enable=&quot;NO&quot;
/etc/rc.d/sendmail:if checkyesno sendmail_outbound_enable; then
/etc/rc.d/sendmail:     rcvar=&quot;sendmail_outbound_enable&quot;
/etc/defaults/rc.conf:sendmail_outbound_enable=&quot;YES&quot;    # Dequeue stuck mail (YES/NO).
/etc/rc.sendmail:                       case ${sendmail_outbound_enable} in
/etc/rc.sendmail:                       case ${sendmail_outbound_enable} in
/etc/rc.sendmail:                       case ${sendmail_outbound_enable} in
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -n sendmail_outbound_enable /etc/defaults/rc.conf 
604:sendmail_outbound_enable=&quot;YES&quot;      # Dequeue stuck mail (YES/NO).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -n sendmail_outbound /etc/defaults/rc.conf
604:sendmail_outbound_enable=&quot;YES&quot;      # Dequeue stuck mail (YES/NO).
605:sendmail_outbound_flags=&quot;-L sm-queue -q30m&quot; # Flags to sendmail (outbound only)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -n sm /etc/defaults/rc.conf | grep queue
605:sendmail_outbound_flags=&quot;-L sm-queue -q30m&quot; # Flags to sendmail (outbound only)
607:sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo grep -n msp /etc/defaults/rc.conf 
606:sendmail_msp_queue_enable=&quot;YES&quot;     # Dequeue stuck clientmqueue mail (YES/NO).
607:sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
608:                            # Flags for sendmail_msp_queue daemon.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 605,610p /etc/defaults/rc.conf
sendmail_outbound_flags=&quot;-L sm-queue -q30m&quot; # Flags to sendmail (outbound only)
sendmail_msp_queue_enable=&quot;YES&quot; # Dequeue stuck clientmqueue mail (YES/NO).
sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
                                # Flags for sendmail_msp_queue daemon.
sendmail_rebuild_aliases=&quot;NO&quot;   # Run newaliases if necessary (YES/NO).
 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n &apos;\-L&apos; /etc/defaults/rc.conf
598:sendmail_flags=&quot;-L sm-mta -bd -q30m&quot; # Flags to sendmail (as a server)
602:sendmail_submit_flags=&quot;-L sm-mta -bd -q30m -ODaemonPortOptions=Addr=localhost&quot;
605:sendmail_outbound_flags=&quot;-L sm-queue -q30m&quot; # Flags to sendmail (outbound only)
607:sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n -i msp /etc/defaults/rc.conf
606:sendmail_msp_queue_enable=&quot;YES&quot;     # Dequeue stuck clientmqueue mail (YES/NO).
607:sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
608:                            # Flags for sendmail_msp_queue daemon.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;security-file-msp-message-submission-program-submitcf-file&quot;&gt;SECURITY File: MSP (Message Submission Program), submit.cf File&lt;/h2&gt;

&lt;p&gt;On FreeBSD 13:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n 11,172p /usr/src/contrib/sendmail/src/SECURITY 
This file gives some hints how to configure and run sendmail for
people who are very security conscious (you should be...).

Even though sendmail goes through great lengths to assure that it
can&apos;t be compromised even if the system it is running on is
incorrectly or insecurely configured, it can&apos;t work around everything.
This has been demonstrated by recent OS problems which have
subsequently been used to compromise the root account using sendmail
as a vector.  One way to minimize the possibility of such problems
is to install sendmail without set-user-ID root, which avoids local
exploits.  This configuration, which is the default starting with
8.12, is described in the first section of this security guide.


*****************************************************
** sendmail configuration without set-user-ID root **
*****************************************************

sendmail needs to run as root for several purposes:

- bind to port 25
- call the local delivery agent (LDA) as root (or other user) if the LDA
  isn&apos;t set-user-ID root (unless some other method of storing e-mail in
  local mailboxes is used).
- read .forward files
- write e-mail submitted via the command line to the queue directory.

Only the last item requires a set-user-ID/set-group-ID program to
avoid problems with a world-writable directory.  It is however
sufficient to have a set-group-ID program and a group-writable
queue directory.  The other requirements listed above can be
fulfilled by a sendmail daemon that is started by root.  Hence this
section explains how to use two sendmail configurations to accomplish
the goal to have a sendmail binary that is not set-user-ID root,
and hence is not open to system configuration/OS problems or at
least less problematic in presence of those.

The default configuration starting with sendmail 8.12 uses one
sendmail binary which acts differently based on operation mode and
supplied options.

sendmail must be a set-group-ID (default group: smmsp, recommended
gid: 25) program to allow for queueing mail in a group-writable
directory.  Two .cf files are required:  sendmail.cf for the daemon
and submit.cf for the submission program.  The following permissions
should be used:

-r-xr-sr-x      root   smmsp    ... /PATH/TO/sendmail
drwxrwx---      smmsp  smmsp    ... /var/spool/clientmqueue
drwx------      root   wheel    ... /var/spool/mqueue
-r--r--r--      root   wheel    ... /etc/mail/sendmail.cf
-r--r--r--      root   wheel    ... /etc/mail/submit.cf

[Notice: On some OS &quot;wheel&quot; is not used but &quot;bin&quot; or &quot;root&quot; instead,
however, this is not important here.]

That is, the owner of sendmail is root, the group is smmsp, and
the binary is set-group-ID.  The client mail queue is owned by
smmsp with group smmsp and is group writable.  The client mail
queue directory must be writable by smmsp, but it must not be
accessible for others. That is, do not use world read or execute
permissions.  In submit.cf the option UseMSP must be set, and
QueueFileMode must be set to 0660.  submit.cf is available in
cf/cf/, which has been built from cf/cf/submit.mc.  The file can
be used as-is, if you want to add more options, use cf/cf/submit.mc
as starting point and read cf/README:  MESSAGE SUBMISSION PROGRAM
carefully.

The .cf file is chosen based on the operation mode.  For -bm (default),
-bs, and -t it is submit.cf (if it exists) for all others it is
sendmail.cf.  This selection can be changed by -Ac or -Am (alternative
.cf file: client or mta).

The daemon must be started by root as usual, e.g.,

/PATH/TO/sendmail -L sm-mta -bd -q1h

(replace /PATH/TO with the right path for your OS, e.g.,
/usr/sbin or /usr/lib).

Notice: if you run sendmail from inetd (which in general is not a
good idea), you must specify -Am in addition to -bs.

Mail will end up in the client queue if the daemon doesn&apos;t accept
connections or if an address is temporarily not resolvable.  The
latter problem can be minimized by using

        FEATURE(`nocanonify&apos;, `canonify_hosts&apos;)
        define(`confDIRECT_SUBMISSION_MODIFIERS&apos;, `C&apos;)

which, however, may have undesired side effects.  See cf/README for
a discussion.  In general it is necessary to clean the queue either
via a cronjob or by running a daemon, e.g.,

/PATH/TO/sendmail -L sm-msp-queue -Ac -q30m

If the option UseMSP is not set, sendmail will complain during
queue runs about bogus file permission.  If you want a queue runner
for the client queue, you probably have to change OS specific
scripts to accomplish this (check the man pages of your OS for more
information.)  You can start this program as root, it will change
its user id to RunAsUser (smmsp by default, recommended uid: 25).
This way smmsp does not need a valid shell.

Summary
-------

This is a brief summary how the two configuration files are used:

sendmail.cf     For the MTA (mail transmission agent)
        The MTA is started by root as daemon:

                /PATH/TO/sendmail -L sm-mta -bd -q1h

        it accepts SMTP connections (on ports 25 and 587 by default);
        it runs the main queue (/var/spool/mqueue by default).

submit.cf       For the MSP (mail submission program)
        The MSP is used to submit e-mails, hence it is invoked
        by programs (and maybe users); it does not run as SMTP
        daemon; it uses /var/spool/clientmqueue by default; it
        can be started to run that queue periodically:

                /PATH/TO/sendmail -L sm-msp-queue -Ac -q30m


Hints and Troubleshooting
-------------------------

RunAsUser: FEATURE(`msp&apos;) sets the option RunAsUser to smmsp.
This user must have the group smmsp, i.e., the same group as the
clientmqueue directory.  If you specify a user whose primary group
is not the same as that of the clientmqueue directory, then you
should explicitly set the group, e.g.,

        FEATURE(`msp&apos;)
        define(`confRUN_AS_USER&apos;, `mailmsp:smmsp&apos;)

STARTTLS: If sendmail is compiled with STARTTLS support on a platform
that does not have HASURANDOMDEV defined, you either need to specify
the RandFile option (as for the MTA), or you have to turn off
STARTTLS in the MSP, e.g.,

        DAEMON_OPTIONS(`Name=NoMTA, Addr=127.0.0.1, M=S&apos;)
        FEATURE(`msp&apos;)
        CLIENT_OPTIONS(`Family=inet, Address=0.0.0.0, M=S&apos;)

The first option is used to turn off STARTTLS when the MSP is
invoked with -bs as some MUAs do.


What doesn&apos;t work anymore
-------------------------

Normal users can&apos;t use mailq anymore to see the MTA mail queue.
There are several ways around it, e.g., changing QueueFileMode
or giving users access via a program like sudo.

sendmail -bv may give misleading output for normal users since it
may not be able to access certain files, e.g., .forward files of
other users.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls /usr/local/share/sendmail/cf/cf/submit*
/usr/local/share/sendmail/cf/cf/submit.cf
/usr/local/share/sendmail/cf/cf/submit.mc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;good-information-about-the-submitcf-submitmc&quot;&gt;Good Information about the submit.cf (submit.mc)&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l /usr/local/share/sendmail/cf/feature/msp.m4
      78 /usr/local/share/sendmail/cf/feature/msp.m4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/share/sendmail/cf/feature/msp.m4
divert(-1)
#
# Copyright (c) 2000-2002, 2004 Proofpoint, Inc. and its suppliers.
#       All rights reserved.
#
# By using this file, you agree to the terms and conditions set
# forth in the LICENSE file which can be found at the top level of
# the sendmail distribution.
#
#

divert(0)dnl
VERSIONID(`$Id: msp.m4,v 1.34 2013-11-22 20:51:11 ca Exp $&apos;)
divert(-1)
undefine(`ALIAS_FILE&apos;)
define(`confDELIVERY_MODE&apos;, `i&apos;)
define(`confUSE_MSP&apos;, `True&apos;)
define(`confFORWARD_PATH&apos;, `&apos;)
define(`confPRIVACY_FLAGS&apos;, `goaway,noetrn,restrictqrun&apos;)
define(`confDONT_PROBE_INTERFACES&apos;, `True&apos;)
dnl ---------------------------------------------
dnl run as this user (even if called by root)
ifdef(`confRUN_AS_USER&apos;,,`define(`confRUN_AS_USER&apos;, `smmsp&apos;)&apos;)
ifdef(`confTRUSTED_USER&apos;,,`define(`confTRUSTED_USER&apos;,
`ifelse(index(confRUN_AS_USER,`:&apos;), -1, `confRUN_AS_USER&apos;,
`substr(confRUN_AS_USER,0,index(confRUN_AS_USER,`:&apos;))&apos;)&apos;)&apos;)
dnl ---------------------------------------------
dnl This queue directory must have the same group
dnl as sendmail and it must be group-writable.
dnl notice: do not test for QUEUE_DIR, it is set in some ostype/*.m4 files
ifdef(`MSP_QUEUE_DIR&apos;,
`define(`QUEUE_DIR&apos;, `MSP_QUEUE_DIR&apos;)&apos;,
`define(`QUEUE_DIR&apos;, `/var/spool/clientmqueue&apos;)&apos;)
define(`_MTA_HOST_&apos;, ifelse(defn(`_ARG_&apos;), `&apos;, `[localhost]&apos;, `_ARG_&apos;))
define(`_MSP_FQHN_&apos;,`dnl used to qualify addresses
ifdef(`MASQUERADE_NAME&apos;, ifdef(`_MASQUERADE_ENVELOPE_&apos;, `$M&apos;, `$j&apos;), `$j&apos;)&apos;)
ifelse(_ARG2_, `MSA&apos;, `define(`RELAY_MAILER_ARGS&apos;, `TCP $h 587&apos;)&apos;)
dnl ---------------------------------------------
ifdef(`confPID_FILE&apos;, `dnl&apos;,
`define(`confPID_FILE&apos;, QUEUE_DIR`/sm-client.pid&apos;)&apos;)
define(`confQUEUE_FILE_MODE&apos;, `0660&apos;)dnl
ifdef(`STATUS_FILE&apos;,
`define(`_F_&apos;,
`define(`_b_&apos;, index(STATUS_FILE, `sendmail.st&apos;))ifelse(_b_, `-1&apos;, `STATUS_FILE&apos;, `substr(STATUS_FILE, 0, _b_)sm-client.st&apos;)&apos;)
define(`STATUS_FILE&apos;, _F_)
undefine(`_b_&apos;) undefine(`_F_&apos;)&apos;,
`define(`STATUS_FILE&apos;, QUEUE_DIR`/sm-client.st&apos;)&apos;)
FEATURE(`no_default_msa&apos;)dnl
ifelse(defn(`_DPO_&apos;), `&apos;,
`DAEMON_OPTIONS(`Name=NoMTA, Addr=127.0.0.1, M=E&apos;)dnl&apos;)
define(`_DEF_LOCAL_MAILER_FLAGS&apos;, `&apos;)dnl
define(`_DEF_LOCAL_SHELL_FLAGS&apos;, `&apos;)dnl
define(`LOCAL_MAILER_PATH&apos;, `[IPC]&apos;)dnl
define(`LOCAL_MAILER_FLAGS&apos;, `lmDFMuXkw5&apos;)dnl
define(`LOCAL_MAILER_ARGS&apos;, `TCP $h&apos;)dnl
define(`LOCAL_MAILER_DSN_DIAGNOSTIC_CODE&apos;, `SMTP&apos;)dnl
define(`LOCAL_SHELL_PATH&apos;, `[IPC]&apos;)dnl
define(`LOCAL_SHELL_FLAGS&apos;, `lmDFMuXk5&apos;)dnl
define(`LOCAL_SHELL_ARGS&apos;, `TCP $h&apos;)dnl
MODIFY_MAILER_FLAGS(`SMTP&apos;, `+k5&apos;)dnl
MODIFY_MAILER_FLAGS(`ESMTP&apos;, `+k5&apos;)dnl
MODIFY_MAILER_FLAGS(`DSMTP&apos;, `+k5&apos;)dnl
MODIFY_MAILER_FLAGS(`SMTP8&apos;, `+k5&apos;)dnl
MODIFY_MAILER_FLAGS(`RELAY&apos;, `+k&apos;)dnl
MAILER(`local&apos;)dnl
MAILER(`smtp&apos;)dnl

LOCAL_CONFIG
D{MTAHost}_MTA_HOST_

LOCAL_RULESETS
SLocal_localaddr
R$+                     $: $&amp;gt;ParseRecipient $1
R$* &amp;lt; @ $+ &amp;gt; $*         $#relay $@ ${MTAHost} $: $1 &amp;lt; @ $2 &amp;gt; $3
ifdef(`_USE_DECNET_SYNTAX_&apos;,
`# DECnet
R$+ :: $+               $#relay $@ ${MTAHost} $: $1 :: $2&apos;, `dnl&apos;)
R$*                     $#relay $@ ${MTAHost} $: $1 &amp;lt; @ _MSP_FQHN_ &amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;An example:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://groups.google.com/g/comp.mail.sendmail/c/vKQ1dm3Od5Q/m/oJxSQikeBQAJ&quot;&gt;Force sendmail to connect to itself - Sendmail newsgroup&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;submitcf---flow&quot;&gt;submit.cf - Flow&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/docs/en/aix/7.2?topic=files-sendmailcf-submitcf-file&quot;&gt;sendmail.cf and submit.cf File - IBM Documentation - AIX Sendmail&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The &lt;strong&gt;sendmail&lt;/strong&gt; command uses the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; configuration file
&lt;strong&gt;by default&lt;/strong&gt;. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; file exists for compatibility with
earlier versions of the &lt;strong&gt;sendmail&lt;/strong&gt; command.  The following information
is valid for both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; configuration files.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/docs/en/zos/2.1.0?topic=sendmail-creating-message-submission-program-file-submitcf&quot;&gt;Creating the Message Submission Program file submit.cf - NOTE that this is for z/OS:&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Sendmail&lt;/em&gt; needs to run as root for several reasons.  The Message
Submission Program (MSP) configuration file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; eliminates the
need for &lt;em&gt;sendmail&lt;/em&gt; to run as root to write email that is &lt;strong&gt;submitted from
the command line&lt;/strong&gt; to the &lt;strong&gt;queue directory&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;MSP requires a set-user-ID/set-group-ID program to avoid problems with
a world-writable directory.  It is, however, sufficient to have a
set-group-ID program and a group-writable queue directory.  This can be
fulfilled by a &lt;em&gt;sendmail&lt;/em&gt; daemon that is started by root.  This topic
explains how to use two &lt;em&gt;sendmail&lt;/em&gt; configurations to accomplish the goal
of having a &lt;em&gt;sendmail&lt;/em&gt; binary file that is not set-user-ID root, and thus
is less problematic in the presence of system configuration and OS problems.&lt;/p&gt;

  &lt;p&gt;The default configuration, starting with sendmail 8.12, uses one
&lt;em&gt;sendmail&lt;/em&gt; binary file that acts &lt;strong&gt;differently&lt;/strong&gt; based on
&lt;strong&gt;operation mode&lt;/strong&gt; and &lt;strong&gt;supplied options&lt;/strong&gt;.  When running in a program
control environment, two binary files are used, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/sbin/sendmail&lt;/code&gt; and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/bin/sendmail&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Sendmail&lt;/strong&gt; must be a set-group-ID (default group: smmspgrp, recommended
gid: 25) program to allow for queueing mail in a group-writable directory.
Two &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.cf&lt;/code&gt; files are required, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; for the &lt;strong&gt;daemon&lt;/strong&gt; and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; for the &lt;strong&gt;submission program&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;That is, the owner of &lt;em&gt;sendmail&lt;/em&gt; is root, the group is smmspgrp, and the
binary file is set-group-ID.  The client mail queue is owned by smmsp
with group smmspgrp and is group writable.  The client mail queue
directory must be writable by smmspgrp, but it must not be accessible
for others.  That is, do not use world read or execute permissions.
In &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt;, the option &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UseMSP&lt;/code&gt; must be set, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QueueFileMode&lt;/code&gt;
must be set to 0660.&lt;/p&gt;

  &lt;p&gt;[ . . . ]&lt;/p&gt;

  &lt;p&gt;Some features are not intended to work with the MSP.  These include
features that influence the delivery process (for example, mailertable,
aliases), or those that are important only for an SMTP server (for
example, virtusertable, DaemonPortOptions, multiple queues).  Moreover,
relaxing certain restrictions (RestrictQueueRun, permissions on queue
directory) or adding features (for example, enabling prog/file mailer)
can cause security problems.&lt;/p&gt;

  &lt;p&gt;Other things do not work well with the MSP and require tweaking or
workarounds.  For example, to allow for client authentication, it is not
sufficient to just provide a client certificate and the corresponding
key, but it is also necessary to make the key group (smmsp) readable and
tell sendmail not to complain about it as follows:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;define(`confDONT_BLAME_SENDMAIL&apos;, `GroupReadableKeyFile&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;When &lt;strong&gt;FEATURE(`msp’)&lt;/strong&gt; is coded, the &lt;em&gt;sendmail&lt;/em&gt; &lt;strong&gt;client&lt;/strong&gt; will send
&lt;strong&gt;all mail to the local mail server&lt;/strong&gt;. &lt;br /&gt;
&lt;strong&gt;If&lt;/strong&gt; using the &lt;em&gt;sendmail&lt;/em&gt; server as the &lt;strong&gt;local mail server&lt;/strong&gt;, review
the &lt;strong&gt;RELAY_DOMAIN()&lt;/strong&gt; for the &lt;em&gt;sendmail&lt;/em&gt; &lt;strong&gt;server&lt;/strong&gt;.  If needed, the
&lt;em&gt;sendmail&lt;/em&gt; &lt;strong&gt;client&lt;/strong&gt; can be configured to send mail to a different
server with this feature.&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;feature/msp.m4&lt;/code&gt; (on FreeBSD 13, in:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/sendmail/cf/feature/msp.m4&lt;/code&gt;) defines almost all
settings for the MSP.  Most of these should not be changed at all.
Some of the features and options can be overridden if really necessary.
It is a bit tricky to do this, because it depends on the actual way the
option is defined in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;feature/msp.m4&lt;/code&gt;.  If it is directly defined [that
is, with define()], the modified value must be defined after the following
line:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FEATURE(`msp&apos;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;If it is conditionally defined [that is, with ifdef()], the wanted value
must be defined before the FEATURE line in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.mc&lt;/code&gt; file.  To see how
the options are defined, read &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;feature/msp.m4&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.cf&lt;/code&gt; file (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; &lt;strong&gt;or&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt;) is &lt;strong&gt;chosen&lt;/strong&gt; based on the
&lt;strong&gt;operation mode&lt;/strong&gt;.  For &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bm&lt;/code&gt; (&lt;strong&gt;default&lt;/strong&gt;), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bs&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt;, it is
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt;, if it exists.  For &lt;strong&gt;all others&lt;/strong&gt;, it is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt;.
This selection &lt;strong&gt;can be changed&lt;/strong&gt; by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Ac&lt;/code&gt; (to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt;) &lt;strong&gt;or&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; (to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt;).&lt;/p&gt;

  &lt;p&gt;The &lt;em&gt;daemon&lt;/em&gt; &lt;strong&gt;must&lt;/strong&gt; be started by &lt;strong&gt;root&lt;/strong&gt; as usual, for example:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/sbin/sendmail -L sm-mta -bd -q1h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://serverfault.com/questions/266326/make-usr-lib-sendmail-deliver-local-mail-locally-submit-cf-vs-sendmail-cf&quot;&gt;Make /usr/lib/sendmail deliver local mail locally (submit.cf vs sendmail.cf)&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You can start sendmail with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; switch and not use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; at all.
Or you can have a &lt;em&gt;sendmail&lt;/em&gt; daemon listen in some other port and then
tweak &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;submit.cf&lt;/code&gt; to deliver there instead of port 25.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;the-etcrcsendmail---flow&quot;&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.sendmail&lt;/code&gt; - Flow&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep sendmail /etc/defaults/rc.conf
mta_start_script=&quot;/etc/rc.sendmail&quot;
# Settings for /etc/rc.sendmail and /etc/rc.d/sendmail:
sendmail_enable=&quot;NO&quot;    # Run the sendmail inbound daemon (YES/NO).
sendmail_pidfile=&quot;/var/run/sendmail.pid&quot;        # sendmail pid file
sendmail_procname=&quot;/usr/sbin/sendmail&quot;          # sendmail process name
sendmail_flags=&quot;-L sm-mta -bd -q30m&quot; # Flags to sendmail (as a server)
sendmail_cert_create=&quot;YES&quot;      # Create a server certificate if none (YES/NO)
#sendmail_cert_cn=&quot;CN&quot;          # CN of the generate certificate
sendmail_submit_enable=&quot;YES&quot;    # Start a localhost-only MTA for mail submission
sendmail_submit_flags=&quot;-L sm-mta -bd -q30m -ODaemonPortOptions=Addr=localhost&quot;
sendmail_outbound_enable=&quot;YES&quot;  # Dequeue stuck mail (YES/NO).
sendmail_outbound_flags=&quot;-L sm-queue -q30m&quot; # Flags to sendmail (outbound only)
sendmail_msp_queue_enable=&quot;YES&quot; # Dequeue stuck clientmqueue mail (YES/NO).
sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
                                # Flags for sendmail_msp_queue daemon.
sendmail_rebuild_aliases=&quot;NO&quot;   # Run newaliases if necessary (YES/NO).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# The sendmail binary
sendmail_program=${sendmail_program:-/usr/sbin/sendmail}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/sbin/sendmail -bt -d0 &amp;lt; /dev/null 
Version 8.17.1
 Compiled with: DANE DNSMAP IPV6_FULL LOG MAP_REGEX MATCHGECOS MILTER
                MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6 NETUNIX NEWDB NIS
                PICKY_HELO_CHECK PIPELINING SASLv2 SCANF STARTTLS TCPWRAPPERS
                TLS_EC TLS_VRFY_PER_CTX USERDB XDEBUG
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# The pid is used to stop and restart the running daemon(s).
sendmail_pidfile=${sendmail_pidfile:-/var/run/sendmail.pid}
sendmail_mspq_pidfile=${sendmail_mspq_pidfile:-/var/spool/clientmqueue/sm-client.pid}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service sendmail status
Password:
sendmail is running as pid 45131.
sendmail_msp_queue is running as pid 45134.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /var/run/sendmail.pid
45131
/usr/sbin/sendmail -L sm-mta -bd -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /var/spool/clientmqueue/sm-client.pid
45134
/usr/sbin/sendmail -L sm-msp-queue -Ac -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;start_mta()
{
  case ${sendmail_enable} in
    [Yy][Ee][Ss])
      echo -n &apos; sendmail&apos;
        ${sendmail_program} ${sendmail_flags}

[ . . . ] 
  case ${sendmail_outbound_enable} in
    [Yy][Ee][Ss])
      echo -n &apos; sendmail-outbound&apos;

[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep sendmail_flags /etc/defaults/rc.conf
sendmail_flags=&quot;-L sm-mta -bd -q30m&quot; # Flags to sendmail (as a server)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep sendmail_outbound_flags /etc/defaults/rc.conf
sendmail_outbound_flags=&quot;-L sm-queue -q30m&quot; # Flags to sendmail (outbound only)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;results in:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo -n &apos; sendmail&apos; /usr/sbin/sendmail -L sm-mta -bd -q30m&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo -n &apos; sendmail-outbound&apos; /usr/sbin/sendmail -L sm-queue -q30m&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;start_mspq()

  case ${sendmail_enable} in
    [Nn][Oo][Nn][Ee])
      ;;
  *)
    if [ -r /etc/mail/submit.cf ]; then
      case ${sendmail_msp_queue_enable} in
        [Yy][Ee][Ss])
          echo -n &apos; sendmail-clientmqueue&apos;
            ${sendmail_program} ${sendmail_msp_queue_flags}
            ;;
        esac
    fi
    ;;
  esac
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep sendmail_msp_queue_flags /etc/defaults/rc.conf
sendmail_msp_queue_flags=&quot;-L sm-msp-queue -Ac -q30m&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;results in:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo -n &apos; sendmail&apos; /usr/sbin/sendmail -L sm-msp-queue -Ac -q30m&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# If no argument is given, assume we are being called at boot time.
_action=${1:-start}

case ${_action} in
start)
        start_mta
        start_mspq
        ;;

[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  echo &quot;usage: `basename $0` {start|stop|restart}&quot; &amp;gt;&amp;amp;2
  echo &quot;       `basename $0` {start-mta|stop-mta|restart-mta}&quot; &amp;gt;&amp;amp;2
  echo &quot;       `basename $0` {start-mspq|stop-mspq|restart-mspq}&quot; &amp;gt;&amp;amp;2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /etc/rc.sendmail
-rw-r--r--  1 root  wheel   5.6K Aug 17  2021 /etc/rc.sendmail
 
$ /etc/rc.sendmail
/etc/rc.sendmail: Permission denied.
 
$ sudo /etc/rc.sendmail
sudo: /etc/rc.sendmail: command not found
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sh /etc/rc.sendmail
 sendmail sendmail-clientmqueue$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sh /etc/rc.sendmail status
usage: rc.sendmail {start|stop|restart}
       rc.sendmail {start-mta|stop-mta|restart-mta}
       rc.sendmail {start-mspq|stop-mspq|restart-mspq}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service sendmail stop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps aux | grep -v grep | grep sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service sendmail start
Starting sendmail.
Starting sendmail_msp_queue.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps aux | grep -v grep | grep sendmail
root      495   0.0  0.0    18976    8264  -  Ss   11:41        0:00.00 sendmail: accepting connections (sendmail)
smmsp     499   0.0  0.0    18316    7276  -  Is   11:41        0:00.00 sendmail: Queue runner@00:30:00 for /var/spool/clientmqueue (sendmail)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ date
Thu 24 Nov 2022 11:41:33 PST
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /var/run/sendmail.pid 
-rw-------  1 root  wheel    43B Nov 24 11:41 /var/run/sendmail.pid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /var/run/sendmail.pid
495
/usr/sbin/sendmail -L sm-mta -bd -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo ls -lh /var/spool/clientmqueue/sm-client.pid
-rw-------  1 smmsp  smmsp    49B Nov 24 11:41 /var/spool/clientmqueue/sm-client.pid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /var/spool/clientmqueue/sm-client.pid
499
/usr/sbin/sendmail -L sm-msp-queue -Ac -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tail /var/log/maillog
[ . . . ]
Nov 24 11:41:28 fbsd1 sm-mta[495]: starting daemon (8.17.1): SMTP+queueing@00:30:00
[ . . . ]
Nov 24 11:41:28 fbsd1 sm-mta[495]: STARTTLS=server, init=1
Nov 24 11:41:28 fbsd1 sm-mta[495]: started as: /usr/sbin/sendmail -L sm-mta -bd -q30m
Nov 24 11:41:28 fbsd1 sm-msp-queue[499]: starting daemon (8.17.1): queueing@00:30:00
Nov 24 11:41:28 fbsd1 sm-msp-queue[499]: started as: /usr/sbin/sendmail -L sm-msp-queue -Ac -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo service sendmail stop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ date
Thu 24 Nov 2022 12:07:11 PST
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tail /var/log/maillog
[ . . . ]
Nov 24 12:07:02 fbsd1 sm-mta[495]: NOQUEUE: stopping daemon, reason=signal
Nov 24 12:07:02 fbsd1 sm-msp-queue[499]: 2AOJfSZ7000498: stopping daemon, reason=signal
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;the-etcrcdsendmail---flow&quot;&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.d/sendmail&lt;/code&gt; - Flow&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /etc/rc.d/sendmail
-r-xr-xr-x  1 root  wheel   6.4K Aug 17  2021 /etc/rc.d/sendmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /etc/rc.d/sendmail
Usage: /etc/rc.d/sendmail [fast|force|one|quiet](start|stop|restart|rcvar|enable|disable|delete|enabled|describe|extracommands|status|poll)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /etc/rc.d/sendmail status
sendmail is not running.
sendmail_msp_queue is not running.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /etc/rc.d/sendmail describe
Electronic mail transport agent
Electronic mail transport agent
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /etc/rc.d/sendmail start
Starting sendmail.
limits: setrlimit datasize: Operation not permitted
/etc/rc.d/sendmail: WARNING: failed to start sendmail
Starting sendmail_msp_queue.
limits: setrlimit datasize: Operation not permitted
/etc/rc.d/sendmail: WARNING: failed to start sendmail_msp_queue
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo /etc/rc.d/sendmail start
Password:
Starting sendmail.
Starting sendmail_msp_queue.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo /etc/rc.d/sendmail status
sendmail is running as pid 3527.
sendmail_msp_queue is running as pid 3531.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ date
Thu 24 Nov 2022 12:36:18 PST
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps aux | grep -v grep | grep sendmail
root     3527   0.0  0.0    18976    8268  -  Ss   12:36        0:00.00 sendmail: accepting connections (sendmail)
smmsp    3531   0.0  0.0    18316    7284  -  Is   12:36        0:00.00 sendmail: Queue runner@00:30:00 for /var/spool/clientmqueue (sendmail)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /var/run/sendmail.pid
-rw-------  1 root  wheel    44B Nov 24 12:36 /var/run/sendmail.pid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /var/run/sendmail.pid
3527
/usr/sbin/sendmail -L sm-mta -bd -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo ls -lh /var/spool/clientmqueue/sm-client.pid
-rw-------  1 smmsp  smmsp    50B Nov 24 12:36 /var/spool/clientmqueue/sm-client.pid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cat /var/spool/clientmqueue/sm-client.pid
3531
/usr/sbin/sendmail -L sm-msp-queue -Ac -q30m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;trace-the-flow-with-dtrace1&quot;&gt;Trace the Flow with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dtrace(1)&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -v dtrace ; type dtrace ; which dtrace ; whereis dtrace
/usr/sbin/dtrace
dtrace is /usr/sbin/dtrace
/usr/sbin/dtrace
dtrace: /usr/sbin/dtrace /usr/share/man/man1/dtrace.1.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg info --regex dtrace
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search --regex ^dtrace
dtrace-toolkit-1.0_7           Collection of useful scripts for DTrace
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install dtrace-toolkit  
[ . . . ]
=====
Message from dtrace-toolkit-1.0_7:

--
Many of the DTraceToolkit scripts do not work on FreeBSD at the moment,
usually because:
- They are using Solaris-specific features
- They use probes which are not supported yet on FreeBSD

Some popular scripts are installed at:

    /usr/local/bin

The rest of the scripts and other toolkit files can be found in:

    /usr/local/share/dtrace-toolkit

To view the manual pages in the &quot;1m&quot; manual section,
the section has to be specified explicitly, e.g.:

    man -s 1m fddist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ find /usr/local/bin/ -name &apos;*dtrace*&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ find /usr/local/bin/ -lname &apos;*dtrace*&apos;
/usr/local/bin/opensnoop
/usr/local/bin/dtruss
/usr/local/bin/hotkernel
/usr/local/bin/procsystime
/usr/local/bin/shellsnoop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ stat -f &quot;%N: %HT%SY&quot; /usr/local/bin/* | grep dtrace
/usr/local/bin/dtruss: Symbolic Link -&amp;gt; ../share/dtrace-toolkit/dtruss
/usr/local/bin/hotkernel: Symbolic Link -&amp;gt; ../share/dtrace-toolkit/hotkernel
/usr/local/bin/opensnoop: Symbolic Link -&amp;gt; ../share/dtrace-toolkit/opensnoop
/usr/local/bin/procsystime: Symbolic Link -&amp;gt; ../share/dtrace-toolkit/procsystime
/usr/local/bin/shellsnoop: Symbolic Link -&amp;gt; ../share/dtrace-toolkit/Apps/shellsnoop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -F /usr/local/share/dtrace-toolkit/
Apps/           errinfo*        iosnoop*        Notes/          rwtop*
Bin/            Examples/       iotop*          opensnoop*      Shell/
CDDL@           execsnoop*      Java/           Perl/           Snippits/
Code/           FS/             JavaScript/     Php/            statsnoop*
Cpu/            Guide           Kernel/         Proc/           System/
dexplorer*      hotkernel*      Locks/          procsystime*    Tcl/
Disk/           hotuser*        Man/            Python/         User/
Docs/           Include/        Mem/            README.md       Version
dtruss*         install*        Misc/           Ruby/           Zones/
dvmstat*        iopattern*      Net/            rwsnoop*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo /usr/local/share/dtrace-toolkit/FS/vfssnoop.d &amp;gt; /tmp/vfssnoopout.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;&lt;br /&gt;
Instead of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vfssnoop.d&lt;/code&gt; script, you could use this command with similar effect:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;# dtrace -n &apos;syscall::open*:entry { printf(&quot;%s %s&quot;, execname, copyinstr(arg0)); }&apos;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;From another shell instance:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Testing.&quot; | mail -v -s &quot;Test&quot; dusko
dusko... Connecting to [127.0.0.1] via relay...
220 fbsd1.home.arpa ESMTP Sendmail 8.17.1/8.17.1; Thu, 24 Nov 2022 20:27:30 -0800 (PST)
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.home.arpa
250-fbsd1.home.arpa Hello localhost [127.0.0.1], pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE
250-DSN
250-STARTTLS
250-DELIVERBY
250 HELP
&amp;gt;&amp;gt;&amp;gt; STARTTLS
220 2.0.0 Ready to start TLS
&amp;gt;&amp;gt;&amp;gt; EHLO fbsd1.home.arpa
250-fbsd1.home.arpa Hello localhost [127.0.0.1], pleased to meet you
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-8BITMIME
250-SIZE
250-DSN
250-DELIVERBY
250 HELP
&amp;gt;&amp;gt;&amp;gt; MAIL From:&amp;lt;dusko@fbsd1.home.arpa&amp;gt; SIZE=34
250 2.1.0 &amp;lt;dusko@fbsd1.home.arpa&amp;gt;... Sender ok
&amp;gt;&amp;gt;&amp;gt; RCPT To:&amp;lt;dusko@fbsd1.home.arpa&amp;gt;
&amp;gt;&amp;gt;&amp;gt; DATA
250 2.1.5 &amp;lt;dusko@fbsd1.home.arpa&amp;gt;... Recipient ok
354 Enter mail, end with &quot;.&quot; on a line by itself
&amp;gt;&amp;gt;&amp;gt; .
250 2.0.0 2AP4RUKS027991 Message accepted for delivery
dusko... Sent (2AP4RUKS027991 Message accepted for delivery)
Closing connection to [127.0.0.1]
&amp;gt;&amp;gt;&amp;gt; QUIT
221 2.0.0 fbsd1.home.arpa closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use the &lt;strong&gt;Ctrl+C&lt;/strong&gt; key combination to stop the process.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo /usr/local/share/dtrace-toolkit/FS/vfssnoop.d &amp;gt; /tmp/vfssnoopout.txt
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;FORMAT:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;TIMESTAMP           UID    PID PROCESS          CALL             SIZE PATH/FILE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Removed &lt;strong&gt;TIMESTAMP&lt;/strong&gt; column.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; UID    PID PROCESS       CALL             SIZE PATH/FILE

1001  27989 tcsh          vop_open         - /usr/bin/mail
1001  27989 mail          vop_close        - /usr/bin/mail

1001  27989 mail          vop_open         - /etc/mail.rc
1001  27989 mail          vop_read        4K /etc/mail.rc
1001  27989 mail          vop_close        - /etc/mail.rc

1001  27989 mail          vop_open         - /usr/home/dusko/.mailrc
1001  27989 mail          vop_open         - /usr/home/dusko/.mail_aliases
1001  27989 mail          vop_read        4K /usr/home/dusko/.mail_aliases
1001  27989 mail          vop_close        - /usr/home/dusko/.mail_aliases
1001  27989 mail          vop_close        - /usr/home/dusko/.mailrc

1001  27989 mail          vop_create       - /tmp/mail.RsH2UdGjzkoo
1001  27989 mail          vop_open         - /tmp/&amp;lt;unknown&amp;gt;
1001  27989 mail          vop_getattr      - /tmp/mail.RsH2UdGjzkoo
1001  27989 mail          vop_remove       - /tmp/mail.RsH2UdGjzkoo

1001  27989 mail          vop_create       - /tmp/mail.RstbRvvCU6oB
1001  27989 mail          vop_open         - /tmp/&amp;lt;unknown&amp;gt;
1001  27989 mail          vop_open         - /tmp/mail.RstbRvvCU6oB
1001  27989 mail          vop_remove       - /tmp/mail.RstbRvvCU6oB

1001  27990 mail          vop_open         - /usr/sbin/mailwrapper
1001  27990 mailwrapper   vop_close        - /usr/sbin/mailwrapper

1001  27990 mailwrapper   vop_open         - /usr/local/etc/mail/mailer.conf

1001  27990 mailwrapper   vop_open         - /usr/local/sbin/sendmail
1001  27990 sendmail      vop_close        - /usr/local/sbin/sendmail

1001  27990 sendmail      vop_open         - /etc/libmap.conf
1001  27990 sendmail      vop_getattr      - /etc/libmap.conf
1001  27990 sendmail      vop_read       47B /etc/libmap.conf
1001  27990 sendmail      vop_close        - /etc/libmap.conf

1001  27990 sendmail      vop_open         - /usr/local/etc/libmap.d
[...]
1001  27990 sendmail      vop_close        - /usr/local/etc/libmap.d

1001  27990 sendmail      vop_open         - /usr/local/etc/libmap.d/mesa.conf
[...]
1001  27990 sendmail      vop_close        - /usr/local/etc/libmap.d/mesa.conf

1001  27990 sendmail      vop_open         - /var/run/ld-elf.so.hints
[...]
1001  27990 sendmail      vop_close        - /var/run/ld-elf.so.hints

1001  27990 sendmail      vop_open         - /usr/lib/libwrap.so.6
[...]
1001  27990 sendmail      vop_close        - /usr/lib/libwrap.so.6

1001  27990 sendmail      vop_open         - /usr/local/lib/libsasl2.so.3.0.0
[...]
1001  27990 sendmail      vop_close        - /usr/local/lib/libsasl2.so.3.0.0

1001  27990 sendmail      vop_open         - /usr/lib/libblacklist.so.0
[...]
1001  27990 sendmail      vop_close        - /usr/lib/libblacklist.so.0

1001  27990 sendmail      vop_open         - /usr/lib/libssl.so.111
[...]
1001  27990 sendmail      vop_close        - /usr/lib/libssl.so.111

1001  27990 sendmail      vop_open         - /lib/libcrypto.so.111
[...]
1001  27990 sendmail      vop_close        - /lib/libcrypto.so.111

1001  27990 sendmail      vop_open         - /lib/libutil.so.9
[...] 
1001  27990 sendmail      vop_close        - /lib/libutil.so.9

1001  27990 sendmail      vop_open         - /lib/libc.so.7
[...]
1001  27990 sendmail      vop_close        - /lib/libc.so.7

1001  27990 sendmail      vop_open         - /usr/lib/libdl.so.1
[...]
1001  27990 sendmail      vop_close        - /usr/lib/libdl.so.1

1001  27990 sendmail      vop_open         - /lib/libthr.so.3
[...]
1001  27990 sendmail      vop_close        - /lib/libthr.so.3

1001  27990 sendmail      vop_getattr      - /tmp/&amp;lt;unknown&amp;gt;
1001  27990 sendmail      vop_getattr      - /dev/&amp;lt;unknown&amp;gt;

1001  27990 sendmail      vop_open         - /etc/nsswitch.conf
[...]

1001  27990 sendmail      vop_open         - /etc/pwd.db
[...]
1001  27990 sendmail      vop_close        - /etc/pwd.db

1001  27990 sendmail      vop_open         - /etc/resolv.conf
[...]
1001  27990 sendmail      vop_close        - /etc/resolv.conf

1001  27990 sendmail      vop_open         - /etc/hosts
[...]
1001  27990 sendmail      vop_close        - /etc/hosts

                                           - /etc/localtime 
                                           - /usr/share/zoneinfo/posixrules
                                           - /usr/share/zoneinfo/UTC

1001  27990 sendmail      vop_open         - /etc/mail/submit.cf

1001  27990 sendmail      vop_open         - /etc/pwd.db
[...]
1001  27990 sendmail      vop_close        - /etc/pwd.db

1001  27990 sendmail      vop_read       41K /etc/mail/submit.cf
1001  27990 sendmail      vop_close        - /etc/mail/submit.cf

1001  27990 sendmail      vop_getattr      - /var/spool/clientmqueue

1001  27990 sendmail      vop_close        - /lib/libcrypto.so.111

   0    974 syslogd       vop_write      97B /var/log/debug.log

1001  27990 sendmail      vop_read      260B /etc/pwd.db
[...]
1001  27990 sendmail      vop_close        - /etc/pwd.db

1001  27990 sendmail      vop_create       - /var/spool/clientmqueue/df2AP4RU3I027990

1001  27990 sendmail      vop_create       - /var/spool/clientmqueue/qf2AP4RU3I027990

1001  27990 sendmail      vop_open         - /etc/services
[...]
1001  27990 sendmail      vop_close        - /etc/services

1001  27990 sendmail      vop_open         - /etc/hosts
[...]
1001  27990 sendmail      vop_open         - /etc/hosts

0       974 syslogd       vop_write      90B /var/log/maillog

0     27991 sendmail      vop_getattr      - /etc/resolv.conf

0     27991 sendmail      vop_open         - /etc/hosts
0     27991 sendmail      vop_read        4K /etc/hosts
[...]
0     27991 sendmail      vop_close        - /etc/hosts

0     27991 sendmail      vop_open         - /etc/services
[...]
0     27991 sendmail      vop_close        - /etc/services

0       974 syslogd       vop_write      81B /var/log/maillog

0     27991 sendmail      vop_open         - /etc/hosts.allow
[...]
0     27991 sendmail      vop_close        - /etc/hosts.allow

0       974 syslogd       vop_write      78B /var/log/maillog
[...]
[...]

1001  27990 sendmail      vop_open         - /etc/ssl/openssl.cnf
[...]
1001  27990 sendmail      vop_close        - /etc/ssl/openssl.cnf

1001  27990 sendmail      vop_open         - /usr/lib/libssl.so.111
1001  27990 sendmail      vop_getattr      - /usr/lib/libssl.so.111
1001  27990 sendmail      vop_close        - /usr/lib/libssl.so.111

   0    974 syslogd       vop_write      63B /var/log/maillog

   0    974 syslogd       vop_write      97B /var/log/debug.log

   0  27991 sendmail      vop_open         - /var/log/sendmail.st
[...]
   0  27991 sendmail      vop_close        - /var/log/sendmail.st

   0  27991 sendmail      vop_open         - /etc/spwd.db
[...]
   0  27991 sendmail      vop_close        - /etc/spwd.db

   0    974 syslogd       vop_write     106B /var/log/maillog
[...]
[...]

   0  27991 sendmail      vop_open         - /etc/mail/aliases.db
[...]
[...]

   0  27991 sendmail      vop_open         - /etc/spwd.db
[...]
   0  27991 sendmail      vop_close        - /etc/spwd.db

   0  27991 sendmail      vop_open         - /etc/shells
[...]
   0  27991 sendmail      vop_close        - /etc/shells

   0    974 syslogd       vop_write     109B /var/log/maillog
[...]
[...]

1001  27990 sendmail      vop_read        4K /var/spool/clientmqueue/df2AP4RU3I027990

   0    974 syslogd       vop_write      75B /var/log/maillog
[...]
[...]

   0  27991 sendmail      vop_create       - /var/spool/mqueue/df2AP4RUKS027991
[...]
   0  27991 sendmail      vop_close        - /var/spool/mqueue/df2AP4RUKS027991

   0  27991 sendmail      vop_create       - /var/spool/mqueue/qf2AP4RUKS027991

   0  27991 sendmail      vop_close        - /etc/mail/aliases.db

1001  27990 sendmail      vop_close        - /var/spool/clientmqueue/sm-client.st

1001  27990 sendmail      vop_close        - /var/spool/clientmqueue/df2AP4RU3I027990
1001  27990 sendmail      vop_remove       - /var/spool/clientmqueue/df2AP4RU3I027990

1001  27990 sendmail      vop_remove       - /var/spool/clientmqueue/qf2AP4RU3I027990

   0    974 syslogd       vop_write      73B /var/log/maillog

   0  27991 sendmail      vop_open         - /var/spool/mqueue/qf2AP4RUKS027991

   0  27992 sendmail      vop_open         - /var/spool/mqueue/qf2AP4RUKS027991

   0  27991 sendmail      vop_open         - /var/log/sendmail.st
[...]
   0  27991 sendmail      vop_close        - /var/log/sendmail.st

   0  27992 sendmail      vop_open         - /etc/spwd.db
[...]
   0  27992 sendmail      vop_close        - /etc/spwd.db

   0  27992 sendmail      vop_read      260B /etc/mail/aliases.db
[...]
   0  27992 sendmail      vop_read       32K /etc/mail/aliases.db

   0  27992 sendmail      vop_open         - /etc/spwd.db
[...]
   0  27992 sendmail      vop_close        - /etc/spwd.db

   0  27992 sendmail      vop_open         - /etc/shells
[...]
   0  27992 sendmail      vop_close        - /etc/shells

   0  27992 sendmail      vop_open         - /etc/group
[...]
   0  27992 sendmail      vop_close        - /etc/group

 1001 27992 sendmail      vop_getattr      - /usr/home/dusko

   0  27992 sendmail      vop_open         - /etc/group
[...]
   0  27992 sendmail      vop_close        - /etc/group

   0  27992 sendmail      vop_read        4K /var/spool/mqueue/qf2AP4RUKS027991

   0  27992 sendmail      vop_open         - /var/spool/mqueue/df2AP4RUKS027991

   0  27992 sendmail      vop_create       - /var/spool/mqueue/tf2AP4RUKS027991

   0  27993 sendmail      vop_getattr      - /usr/local/libexec/mail.local
   0  27993 sendmail      vop_open         - /usr/local/libexec/mail.local

   0  27993 sendmail      vop_open         - /libexec/ld-elf.so.1

   0  27993 mail.local    vop_close        - /usr/local/libexec/mail.local

   0  27993 mail.local    vop_open         - /etc/libmap.conf
[...]
   0  27993 mail.local    vop_close        - /etc/libmap.conf

   0  27993 mail.local    vop_open         - /usr/local/etc/libmap.d/mesa.conf
[...]
   0  27993 mail.local    vop_close        - /usr/local/etc/libmap.d/mesa.conf

   0  27993 mail.local    vop_open         - /var/run/ld-elf.so.hints
[...]
   0  27993 mail.local    vop_close        - /var/run/ld-elf.so.hints

   0  27993 mail.local    vop_open         - /lib/libutil.so.9
[...]
   0  27993 mail.local    vop_close        - /var/run/ld-elf.so.hints

   0  27993 mail.local    vop_open         - /lib/libutil.so.9
[...]
   0  27993 mail.local    vop_close        - /lib/libutil.so.9

   0  27993 mail.local    vop_open         - /lib/libc.so.7
[...]
   0  27993 mail.local    vop_close        - /lib/libc.so.7

   0  27993 mail.local    vop_open         - /etc/nsswitch.conf
[...]
   0  27993 mail.local    vop_close        - /etc/nsswitch.conf

   0  27993 mail.local    vop_open         - /etc/services
[...]
   0  27993 mail.local    vop_close        - /etc/services

   0  27993 mail.local    vop_open         - /etc/resolv.conf
[...]
   0  27993 mail.local    vop_close        - /etc/resolv.conf

   0  27993 mail.local    vop_open         - /etc/hosts
[...]
   0  27993 mail.local    vop_close        - /etc/hosts

   0  27993 mail.local    vop_open         - /etc/spwd.db
[...]
   0  27993 mail.local    vop_close        - /etc/spwd.db

   0  27993 mail.local    vop_create       - /tmp/local.0p2YZe
[...]
   0  27993 mail.local    vop_remove       - /tmp/local.0p2YZe

   0  27993 mail.local    vop_open         - /etc/localtime
[...]
[...]

   0  27992 sendmail      vop_getattr      - /var/spool/mqueue/df2AP4RUKS027991
   0  27993 mail.local    vop_close        - /var/spool/mqueue/df2AP4RUKS027991

   0  27992 sendmail      vop_read        4K /var/spool/mqueue/df2AP4RUKS027991

   0  27993 mail.local    vop_read       40K /usr/share/zoneinfo/posixrules
[...]
   0  27993 mail.local    vop_close        - /usr/share/zoneinfo/posixrules

   0  27993 mail.local    vop_open         - /etc/spwd.db
[...]
   0  27993 mail.local    vop_close        - /etc/spwd.db

   0  27993 mail.local    vop_create       - /var/mail/dusko.lock

1001  27993 mail.local    vop_open         - /var/mail/dusko
[...]
1001  27993 mail.local    vop_write     761B /var/mail/dusko
[...]
1001  27993 mail.local    vop_close        - /var/mail/dusko

   0  27992 sendmail      vop_open         - /var/log/sendmail.st
[...]
   0  27992 sendmail      vop_close        - /var/log/sendmail.st

   0  27992 sendmail      vop_close        - /var/spool/mqueue/df2AP4RUKS027991
   0  27992 sendmail      vop_remove       - /var/spool/mqueue/df2AP4RUKS027991

   0  27992 sendmail      vop_remove       - /var/spool/mqueue/qf2AP4RUKS027991

   0  27992 sendmail      vop_close        - /&amp;lt;unknown&amp;gt;

   0    974 syslogd       vop_write      84B /var/log/
   0  27992 sendmail      vop_inactive     - /maillog
   0  27992 sendmail      vop_close        - /etc/mail/aliases.db
   0  27992 sendmail      vop_close        - /dev/&amp;lt;unknown&amp;gt;
   0  27992 sendmail      vop_close        - /dev/&amp;lt;unknown&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From &lt;br /&gt;
&lt;a href=&quot;https://docs.oracle.com/cd/E37670_01/E37355/html/ol_examples_dtrace.html&quot;&gt;dtrace - Display the names of commands that invoke the open() system call and the name of the file being opened&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -q -n &apos;syscall::open:entry { printf(&quot;%-16s %-16s\n&quot;,execname,copyinstr(arg0)); }&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;trace-the-flow-with-dtrace1-script&quot;&gt;Trace the Flow with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dtrace(1)&lt;/code&gt; Script&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat ip-tcp-udp-probes.d 
#!/usr/sbin/dtrace -s

#pragma D option quiet
#pragma D option switchrate=10Hz

dtrace:::BEGIN
{
    printf(&quot; %30s %-6s %30s %-6s %-6s %s\n\n&quot;, &quot;SADDR&quot;, &quot;SPORT&quot;, &quot;DADDR&quot;, &quot;DPORT&quot;, &quot;BYTES&quot;, &quot;FLAGS&quot;);
}

tcp:::receive,
tcp:::send

{
    printf(&quot; %30s %-6u %30s %-6u %-6u (%s%s%s%s%s%s\b)\n&quot;,
        args[2]-&amp;gt;ip_saddr, args[4]-&amp;gt;tcp_sport,
        args[2]-&amp;gt;ip_daddr, args[4]-&amp;gt;tcp_dport,
        args[2]-&amp;gt;ip_plength - args[4]-&amp;gt;tcp_offset,
        (args[4]-&amp;gt;tcp_flags &amp;amp; TH_FIN) ? &quot;FIN|&quot; : &quot;&quot;,
        (args[4]-&amp;gt;tcp_flags &amp;amp; TH_SYN) ? &quot;SYN|&quot; : &quot;&quot;,
        (args[4]-&amp;gt;tcp_flags &amp;amp; TH_RST) ? &quot;RST|&quot; : &quot;&quot;,
        (args[4]-&amp;gt;tcp_flags &amp;amp; TH_PUSH) ? &quot;PSH|&quot; : &quot;&quot;,
        (args[4]-&amp;gt;tcp_flags &amp;amp; TH_ACK) ? &quot;ACK|&quot; : &quot;&quot;,
        (args[4]-&amp;gt;tcp_flags &amp;amp; TH_URG) ? &quot;URG|&quot; : &quot;&quot;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chmod 0744 ip-tcp-udp-probes.d 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ./ip-tcp-udp-probes.d &amp;gt; ipprobes.txt 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Hello&quot; | mail -v -s &quot;Test&quot; dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove non-relevant lines from the &lt;strong&gt;ipprobes.txt&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat ipprobes.txt
                          SADDR SPORT                           DADDR DPORT  BYTES  FLAGS

                      127.0.0.1 39446                       127.0.0.1 25     38     (SYN|)
                      127.0.0.1 39446                       127.0.0.1 25     38     (SYN|)
                      127.0.0.1 25                          127.0.0.1 39446  38     (SYN|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  38     (SYN|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     30     (ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     30     (ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  121    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  121    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     54     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     54     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  215    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  215    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     40     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     40     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  60     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  60     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     319    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     319    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  2677   (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  2677   (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     140    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     140    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  285    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  285    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     76     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     76     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  285    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  285    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     30     (ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     30     (ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  223    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  223    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     97     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     97     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  102    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  102    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     93     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     93     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  155    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  155    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     423    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     423    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  30     (ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  30     (ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     55     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     55     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  108    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  108    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     58     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     58     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  100    (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  100    (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     30     (FIN|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     30     (FIN|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  54     (PSH|ACK|)
                      127.0.0.1 25                          127.0.0.1 39446  54     (PSH|ACK|)
                      127.0.0.1 39446                       127.0.0.1 25     19     (RST|)
                      127.0.0.1 39446                       127.0.0.1 25     19     (RST|)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;Good &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; configuration file and good commands for 
debugging &lt;em&gt;sendmail&lt;/em&gt;:  &lt;br /&gt;
&lt;a href=&quot;https://www.linuxquestions.org/questions/linux-server-73/sendmail-relay-server-no-longer-working-please-help-549437/&quot;&gt;Sendmail Relay server no longer working. PLEASE HELP!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://www.schmut.com/cheat-sheets/sendmail-hacks&quot;&gt;Sendmail Hacks - Things i need to do with sendmail at work that i keep forgetting&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://managing.blue/2006/09/06/configuring-sendmail-for-your-unix-desktop/&quot;&gt;Configuring sendmail for your UNIX desktop&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://managing.blue/2010/06/23/on-picking-an-mta/&quot;&gt;On picking an MTA&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://managing.blue/2009/08/21/poor-mans-milter-ahead/&quot;&gt;Poor man’s milter-ahead&lt;/a&gt; – Mentions: &lt;a href=&quot;http://www.snertsoft.com/sendmail/milter-ahead/&quot;&gt;milter-ahead&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://sareport.darold.net/index.html&quot;&gt;The Sendmail/Postfix log analyzer&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.ranum.com/security/computer_security/archives/sendmail-and-firewalls.pdf&quot;&gt;Introduction to Sendmail for Firewalls&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://ibgwww.colorado.edu/~lessem/psyc5112/usail/mail/debugging/&quot;&gt;Debugging sendmail problems&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docstore.mik.ua/orelly/networking_2ndEd/tcp/ch10_08.htm&quot;&gt;Testing sendmail.cf - TCP/IP Network Administration, Third Edition&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://lwn.net/Articles/866481/&quot;&gt;STARTTLS considered harmful&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;testing-your-server-for-tls-support&quot;&gt;Testing Your Server for TLS Support&lt;/h2&gt;

&lt;p&gt;SMTP/S or SMTP over TLS uses TCP port 465, rather than SMTP’s port 25.&lt;/p&gt;

&lt;h3 id=&quot;testing-starttls-support-within-smtp&quot;&gt;Testing STARTTLS Support Within SMTP&lt;/h3&gt;

&lt;p&gt;This first test will very likely fail if you are trying to test your work
server from home.  Many Internet service providers block TCP/25 traffic 
from customers, because almost all of that would be spam sent from infected
Windows computers in peoples’ homes and small businesses.&lt;/p&gt;

&lt;p&gt;But within your organization, or on the server itself, you could try using
telnet to connect to TCP port 25 on the server.  Send over ehlo, the
“extended HELO”, and see if Authentication and STARTTLS are announced.
Look for something like the following, where you type the following lines:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;helo my.host.domain&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ehlo my.host.domain&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quit&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This server supports STARTTLS (line: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;250-STARTTLS&lt;/code&gt;) but not AUTH over SMTP.&lt;/p&gt;

&lt;p&gt;From a workstation within your organization:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nc testmx.host.domain 25
220 testmx.host.domain ESMTP mailer ready at Sun, 30 Oct 2022 15:01:48 -0700
helo my.host.domain
250 testmx.host.domain ESMTP mailer ready at Sun, 30 Oct 2022 15:01:48 -0700
Hello my.host.domain [123.45.67.8], pleased to meet you
ehlo my.host.domain
250-testmx.host.domain Hello my.host.domain [123.45.67.8], pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-STARTTLS
250-DELIVERBY
250 HELP
quit
221 2.0.0 testmx.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nc testmx.host.domain 25
220 testmx.host.domain ESMTP mailer ready at Sun, 30 Oct 2022 15:03:36 -0700
ehlo my.host.domain
250-testmx.host.domain Hello my.host.domain [123.45.67.8], pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-STARTTLS
250-DELIVERBY
250 HELP
AUTH LOGIN
503 5.3.3 AUTH not available
AUTH PLAIN
503 5.3.3 AUTH not available
AUTH
503 5.3.3 AUTH not available

quit
221 2.0.0 testmx.host.domain closing connection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To start encrypting the connection first by using the STARTTLS command,
you can to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssl&lt;/code&gt; command.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssl&lt;/code&gt; does the STARTTLS
handshake and you can to pick up the conversation from there (decrypted
automatically on the fly).&lt;/p&gt;

&lt;p&gt;While still on a workstation within your organization, run the following
&lt;em&gt;openssl&lt;/em&gt; command.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; you type the following lines:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ehlo my.host.domain&lt;/code&gt;, &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&amp;lt;dusko@my.host.domain&amp;gt;&lt;/code&gt;,  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RCPT To:&amp;lt;dusko@testmx.host.domain&amp;gt;&lt;/code&gt;, &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data&lt;/code&gt;,&lt;/p&gt;

&lt;p&gt;and:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;From: Myname &amp;lt;dusko@my.host.domain&amp;gt;&lt;/code&gt; &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;To: &amp;lt;dusko@testmx.host.domain&amp;gt; Firstname Lastname&lt;/code&gt;  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Subject: Testing SMTP over TLS on port 25&lt;/code&gt; &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Press &amp;lt;Enter&amp;gt; key (for newline)&lt;/code&gt; &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Testing.&lt;/code&gt;  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;and:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QUIT&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ openssl s_client -starttls smtp -ign_eof -crlf -connect testmx.host.domain:25 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CONNECTED(00000003)
depth=2 C = BE, O = GlobalSign nv-sa, OU = Root CA, CN = GlobalSign Root CA
verify return:1
depth=1 C = BE, O = GlobalSign nv-sa, CN = AlphaSSL CA - SHA256 - G2
verify return:1
depth=0 CN = *.host.domain
verify return:1
---
Certificate chain
 0 s:CN = *.host.domain
   i:C = BE, O = GlobalSign nv-sa, CN = AlphaSSL CA - SHA256 - G2
 1 s:C = BE, O = GlobalSign nv-sa, CN = AlphaSSL CA - SHA256 - G2
   i:C = BE, O = GlobalSign nv-sa, OU = Root CA, CN = GlobalSign Root CA
---
Server certificate
-----BEGIN CERTIFICATE-----
MIIGOjCCBSKgAwIBAgIMMLyMRt1iOWV140T0MA0GCSqGSIb3DQEBCwUAMEwxCzAJ
[ . . . ]
YqHmWFAwYDjLKhyoU6w=
-----END CERTIFICATE-----
subject=CN = *.host.domain

issuer=C = BE, O = GlobalSign nv-sa, CN = AlphaSSL CA - SHA256 - G2

---
No client certificate CA names sent
Peer signing digest: SHA256
Peer signature type: RSA
Server Temp Key: DH, 1024 bits
---
SSL handshake has read 3992 bytes and written 542 bytes
Verification: OK
---
New, TLSv1.2, Cipher is DHE-RSA-AES256-GCM-SHA384
Server public key is 2048 bit
Secure Renegotiation IS supported
Compression: NONE
Expansion: NONE
No ALPN negotiated
SSL-Session:
    Protocol  : TLSv1.2
    Cipher    : DHE-RSA-AES256-GCM-SHA384
    Session-ID: E846518A07F0268F5A050119C0BE69CAA5D3FE6F2CE1027B5CA75AEF38BF4956
    Session-ID-ctx: 
    Master-Key: 769E3781160E13E[ . . . ]
    PSK identity: None
    PSK identity hint: None
    SRP username: None
    TLS session ticket lifetime hint: 1 (seconds)
    TLS session ticket:
    0000 - 7c ac ce 3e e4 ab d9 b1-fe 5f 1b c4 89 32 74 1d   |..&amp;gt;....._...2t.
    0010 - [ . . . ]
    0020 - [ . . . ]
    0030 - [ . . . ]
    0040 - [ . . . ]
    0050 - [ . . . ]
    0060 - [ . . . ]
    0070 - [ . . . ]
    0080 - [ . . . ]
    0090 - [ . . . ]
    00a0 - [ . . . ]
    00b0 - [ . . . ]

    Start Time: 1667166567
    Timeout   : 7200 (sec)
    Verify return code: 0 (ok)
    Extended master secret: no
---
250 HELP
ehlo my.host.domain 
250-testmx.host.domain Hello my.host.domain [123.45.67.8], pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-DELIVERBY
250 HELP
MAIL From:&amp;lt;dusko@my.host.domain&amp;gt;
250 2.1.0 &amp;lt;dusko@my.host.domain&amp;gt;... Sender ok
RCPT To:&amp;lt;dusko@testmx.host.domain&amp;gt; 
250 2.1.5 &amp;lt;dusko@testmx.host.domain&amp;gt;... Recipient ok 
data
354 Enter mail, end with &quot;.&quot; on a line by itself
From: Myname &amp;lt;dusko@my.host.domain&amp;gt;
To: &amp;lt;dusko@testmx.host.domain&amp;gt; Firstname Lastname 
Subject: Testing SMTP over TLS on port 25

Testing.
.
250 2.0.0 29ULnMCa012594 Message accepted for delivery
QUIT
221 2.0.0 testmx.host.domain closing connection
closed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; In &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;From: &lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;To: &lt;/code&gt; fields, you can reverse the order of the
name and email address.&lt;/p&gt;

&lt;p&gt;Log into the mail server and check &lt;em&gt;sendmail&lt;/em&gt; maillog:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep 29ULnMCa012594 /var/log/maillog 
Oct 30 17:00:48 testmx sendmail[30004]: 29ULnMCa012594: from=&amp;lt;dusko@my.host.domain&amp;gt;, size=110, class=0, nrcpts=1, msgid=&amp;lt;202210302359.29ULnMCa012594@testmx.host.domain&amp;gt;, proto=ESMTP, daemon=MTA, relay=my.host.domain [123.45.67.8]
Oct 30 17:00:49 testmx sendmail[30279]: 29ULnMCa012594: to=&amp;lt;dusko@testmx.host.domain&amp;gt;, delay=00:00:56, xdelay=00:00:01, mailer=local, pri=30490, dsn=2.0.0, stat=Sent
Oct 30 17:00:49 testmx sendmail[30279]: 29ULnMCa012594: done; delay=00:00:56, ntries=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The envelope address (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAIL From:&lt;/code&gt;) check:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ openssl s_client -starttls smtp -ign_eof -crlf -connect testmx.host.domain:25 
[ . . . ]
[ . . . ]
---
250 HELP
ehlo ehlo my.host.domain  
250-testmx.host.domain Hello my.host.domain [123.45.67.8], pleased to meet you
250-ENHANCEDSTATUSCODES
250-8BITMIME
250-SIZE 52428800
250-DELIVERBY
250 HELP
MAIL From:&amp;lt;dusko@non.existing.domain&amp;gt;
250 2.1.0 &amp;lt;dusko@non.existing.domain&amp;gt;... Sender ok
RCPT To:&amp;lt;dusko@testmx.host.domain&amp;gt; 
553 5.1.8 &amp;lt;dusko@testmx.host.domain&amp;gt;... Domain of sender address dusko@non.existing.domain does not exist
QUIT
221 2.0.0 testmx.host.domain closing connection 
closed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;base64&quot;&gt;Base64&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -le &apos;print decode_base64(&quot;VXNlcm5hbWU6&quot;);&apos;
Username:
 
$ perl -MMIME::Base64 -le &apos;print decode_base64(&quot;UGFzc3dvcmQ6&quot;);&apos;
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Username and password - For Auth PLAIN:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -le &apos;print encode_base64(&quot;\000myusername\000MyPassword&quot;);&apos;
AG15dXNlcm5hbWUATXlQYXNzd29yZA==
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -le &apos;print decode_base64(&quot;AG15dXNlcm5hbWUATXlQYXNzd29yZA==&quot;);&apos;
myusernameMyPassword
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Username and password - For Auth LOGIN:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -le &apos;print encode_base64(&quot;myusername&quot;);&apos;
bXl1c2VybmFtZQ==

$ perl -MMIME::Base64 -le &apos;print encode_base64(&quot;MyPassword&quot;);&apos;
TXlQYXNzd29yZA==
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ perl -MMIME::Base64 -le &apos;print decode_base64(&quot;bXl1c2VybmFtZQ==&quot;);&apos;
myusername
 
$ perl -MMIME::Base64 -le &apos;print decode_base64(&quot;TXlQYXNzd29yZA==&quot;);&apos;
MyPassword
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;testing&quot;&gt;Testing&lt;/h2&gt;

&lt;h3 id=&quot;testing-a-ruleset-with-sendmails-address-test-mode-sendmail--bt&quot;&gt;Testing a Ruleset With Sendmail’s Address Test Mode, sendmail -bt&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;root@fbsd1:/etc/mail # sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To see a complete list of debugging commands available, type ?&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; ?
Help for test mode:
?                :this help message.
.Dmvalue         :define macro `m&apos; to `value&apos;.
.Ccvalue         :add `value&apos; to class `c&apos;.
=Sruleset        :dump the contents of the indicated ruleset.
=M               :display the known mailers.
-ddebug-spec     :equivalent to the command-line -d debug flag.
$m               :print the value of macro $m.
$=c              :print the contents of class $=c.
/mx host         :returns the MX records for `host&apos;.
/parse address   :parse address, returning the value of crackaddr, and
                  the parsed address.
/try mailer addr :rewrite address into the form it will have when
                  presented to the indicated mailer.
/tryflags flags  :set flags used by parsing.  The flags can be `H&apos; for
                  Header or `E&apos; for Envelope, and `S&apos; for Sender or `R&apos;
                  for Recipient.  These can be combined, `HR&apos; sets
                  flags for header recipients.
/canon hostname  :try to canonify hostname.
/map mapname key :look up `key&apos; in the indicated `mapname&apos;.
/quit            :quit address test mode.
rules addr       :run the indicated address through the named rules.
                  Rules can be a comma separated list of rules.
End of HELP info
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Reference:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.harker.com/sendmail/rules-overview.html&quot;&gt;Understanding Sendmail Address Rewriting Rules&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;appendix&quot;&gt;Appendix&lt;/h2&gt;

&lt;h3 id=&quot;brief-dtrace1-and-dwatch1-intro&quot;&gt;Brief dtrace(1) and dwatch(1) Intro&lt;/h3&gt;

&lt;h3 id=&quot;--use-this-1-of-2--&quot;&gt;—»&amp;gt;  USE THIS 1 OF 2!  «&amp;lt;—&lt;/h3&gt;

&lt;h4 id=&quot;dtrace1---system-calls&quot;&gt;dtrace(1) - System Calls&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;syscall::open*:entry { printf(&quot;%s %s&quot;, execname, copyinstr(arg0)); }&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From  &lt;br /&gt;
&lt;a href=&quot;https://klarasystems.com/articles/freebsd-performance-observability/&quot;&gt;FreeBSD Performance Observability - Learn what’s happening in your FreeBSD system and alter the way the system behaves in real time&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -l | sed 1d | awk &apos;{print $2}&apos; | sort -u
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace file opens with process and filename:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X open
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Find the parent of a process calling a syscall&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dwatch -R syscall::read:entry
[ . . . ] 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace TCP accepted connections by remote IP address:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X tcp-accept-established
INFO Sourcing tcp-accept-established profile [found in /usr/libexec/dwatch]
INFO Watching &apos;tcp:::accept-established&apos; ...
2022 Nov 26 15:16:50 0.0 intr[12]: 127.0.0.1:25 &amp;lt;- 127.0.0.1:19231
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace TCP active opens by remote IP address:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X tcp-connect-established
INFO Sourcing tcp-connect-established profile [found in /usr/libexec/dwatch]
INFO Watching &apos;tcp:::connect-established&apos; ...
2022 Nov 26 15:18:10 0.0 intr[12]: 127.0.0.1:13729 -&amp;gt; 127.0.0.1:25
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace TCP sent messages by remote IP address:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X tcp-send
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace TCP received messages by remote IP address:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X tcp-receive
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace TCP activity while given nc command runs:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X tcp -- -c &apos;mail -v -s &quot;Test&quot; dusko&apos;
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;trace-vfs-lookup-events-by-path&quot;&gt;Trace VFS lookup events by path:&lt;/h1&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X vop_lookup
INFO Sourcing vop_lookup profile [found in /usr/libexec/dwatch]
INFO Watching &apos;vfs:vop:vop_lookup:entry&apos; ...
2022 Nov 26 19:02:44 1001.1001 mail[70112]: /tmp/mail.RsW228Y8ZvvR
2022 Nov 26 19:02:44 1001.1001 mail[70112]: /tmp/mail.RsW228Y8ZvvR
2022 Nov 26 19:02:44 1001.1001 mail[70112]: /tmp/mail.RsW228Y8ZvvR
2022 Nov 26 19:02:44 1001.1001 mail[70112]: /tmp/mail.RsylzXOLZtiD
2022 Nov 26 19:02:44 1001.1001 mail[70112]: /tmp/mail.RsylzXOLZtiD
2022 Nov 26 19:02:44 1001.1001 mail[70112]: /tmp/mail.RsylzXOLZtiD
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/.
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/ 
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/.
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/.
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/qf
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/df
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/xf
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/.
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./xf2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/xf2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/.
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/.
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/.
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/df2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./qf2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/qf2AR32ig9070113
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /dev/crypto
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /dev/crypto
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/df2AR32ii1070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/qf2AR32ii1070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/xf2AR32ii1070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/xf2AR32ii2070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/df2AR32ii2070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/df2AR32ii2070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/df2AR32ii2070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/qf2AR32ii2070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/xf2AR32ii2070114
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/sm-client.st
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/sm-client.st
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./df2AR32ig9070113
2022 Nov 26 19:02:44 0.0 sendmail[70115]: /dev/null
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/df2AR32ig9070113
2022 Nov 26 19:02:44 0.0 sendmail[70115]: /dev/null
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./qf2AR32ig9070113
2022 Nov 26 19:02:44 0.0 sendmail[70115]: /dev/null
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/qf2AR32ig9070113
2022 Nov 26 19:02:44 0.0 sendmail[70115]: /dev/null
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/./xf2AR32ig9070113
2022 Nov 26 19:02:44 0.0 sendmail[70115]: /var/spool/mqueue/xf2AR32ii2070114
2022 Nov 26 19:02:44 1001.25 sendmail[70113]: /var/spool/clientmqueue/xf2AR32ig9070113
2022 Nov 26 19:02:44 0.0 sendmail[70115]: /var/spool/mqueue/qf2AR32ii2070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /dev/null
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /dev/null
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /dev/null
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /dev/null
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/df2AR32ii3070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/qf2AR32ii3070114
2022 Nov 26 19:02:44 0.0 sendmail[70114]: /var/spool/mqueue/xf2AR32ii3070114
2022 Nov 26 19:02:44 0.25 sendmail[70115]: /var/spool/mqueue/tf2AR32ii2070114
2022 Nov 26 19:02:44 0.25 sendmail[70115]: /var/spool/mqueue/tf2AR32ii2070114
2022 Nov 26 19:02:44 0.25 sendmail[70115]: /var/spool/mqueue/qf2AR32ii2070114
2022 Nov 26 19:02:44 0.0 mail.local[70116]: /tmp/local.HnQB1H
2022 Nov 26 19:02:44 0.0 mail.local[70116]: /tmp/local.HnQB1H
2022 Nov 26 19:02:44 0.0 mail.local[70116]: /var/mail/dusko.lock
2022 Nov 26 19:02:44 0.0 mail.local[70116]: /var/mail/dusko.lock
2022 Nov 26 19:02:44 0.25 sendmail[70115]: /var/spool/mqueue/df2AR32ii2070114
2022 Nov 26 19:02:44 0.25 sendmail[70115]: /var/spool/mqueue/qf2AR32ii2070114
2022 Nov 26 19:02:44 0.25 sendmail[70115]: /var/spool/mqueue/xf2AR32ii2070114
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace VFS create events by path:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X vop_create
INFO Sourcing vop_create profile [found in /usr/libexec/dwatch]
INFO Watching &apos;vfs:vop:vop_create:entry&apos; ...
2022 Nov 26 19:09:14 1001.1001 mail[70625]: /tmp/mail.RshkOoUT6V9r
2022 Nov 26 19:09:14 1001.1001 mail[70625]: /tmp/mail.RsxKgOHLGsmf
2022 Nov 26 19:09:14 1001.25 sendmail[70626]: /var/spool/clientmqueue/df2AR39EnD070626
2022 Nov 26 19:09:14 1001.25 sendmail[70626]: /var/spool/clientmqueue/qf2AR39EnD070626
2022 Nov 26 19:09:14 0.0 sendmail[70627]: /var/spool/mqueue/df2AR39Elv070627
2022 Nov 26 19:09:14 0.0 sendmail[70627]: /var/spool/mqueue/qf2AR39Elv070627
2022 Nov 26 19:09:14 0.25 sendmail[70628]: /var/spool/mqueue/tf2AR39Elv070627
2022 Nov 26 19:09:14 0.0 mail.local[70629]: /tmp/local.5vsbk5
2022 Nov 26 19:09:14 0.0 mail.local[70629]: /var/mail/dusko.lock
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace VFS remove events by path:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X vop_remove
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace VFS readdir events by path:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X vop_readdir
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace VFS rename events by path and destination:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X vop_rename
INFO Sourcing vop_rename profile [found in /usr/libexec/dwatch]
INFO Watching &apos;vfs:vop:vop_rename:entry&apos; ...
2022 Nov 26 19:19:39 0.25 sendmail[71356]: /var/spool/mqueue/tf2AR3Jd5P071355 -&amp;gt; /var/spool/mqueue/qf2AR3Jd5P071355
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace processes performing writes with small buffers but ignore dtrace executable:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dwatch -X write -t &apos;execname != &quot;dtrace&quot; &amp;amp;&amp;amp; this-&amp;gt;nbytes &amp;lt; 10&apos;
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;--use-this-2-of-2--&quot;&gt;—»&amp;gt;  USE THIS 2 OF 2!  «&amp;lt;—&lt;/h3&gt;

&lt;p&gt;From Systems Performance: Enterprise and the Cloud - By Brendan 
Gregg - Appendix D. DTrace One-Liners:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;syscall::open:entry { printf(&quot;%s %s&quot;, execname, copyinstr(arg0)); }&apos;
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace new processes with process name and arguments:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;proc:::exec-success { trace(curpsinfo-&amp;gt;pr_psargs); }&apos;
dtrace: description &apos;proc:::exec-success &apos; matched 1 probe
CPU     ID                    FUNCTION:NAME
  5  88556                none:exec-success   printf %s\n Testing.
  1  88556                none:exec-success   mail -v -s Test 6 dusko
  2  88556                none:exec-success   sendmail -i -v dusko
  2  88556                none:exec-success   sendmail -i -v dusko
  6  88556                none:exec-success   mail.local -l
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace new processes with arguments and time:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -qn &apos;syscall::exec*:return { printf(&quot;%Y %s\n&quot;,walltimestamp,curpsinfo-&amp;gt;pr_psargs); }&apos;
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace inbound TCP connections by remote address:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;tcp:::accept-established { trace(args[3]-&amp;gt;tcps_raddr); }&apos;
dtrace: description &apos;tcp:::accept-established &apos; matched 1 probe
CPU     ID                    FUNCTION:NAME
  4  88667          none:accept-established   127.0.0.1
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace files opened/created by process name:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;syscall::openat*:entry { printf(&quot;%s %s&quot;,execname,copyinstr(arg1)); }&apos;
dtrace: description &apos;syscall::openat*:entry &apos; matched 2 probes
CPU     ID                    FUNCTION:NAME
  2  91306                     openat:entry mail /tmp/mail.RsdZQ34D6FcS
  2  91306                     openat:entry mail /tmp/mail.Rs0owR9iO4WP
  7  91306                     openat:entry sendmail /etc/mail/submit.cf
  7  91306                     openat:entry sendmail ./df2AQMK5BV055327
  7  91306                     openat:entry sendmail ./df2AQMK5BV055327
  7  91306                     openat:entry sendmail ./qf2AQMK5BV055327
  7  91306                     openat:entry sendmail /dev/crypto
  3  91306                     openat:entry sendmail /var/log/sendmail.st
  3  91306                     openat:entry sendmail ./df2AQMK5wg055328
  6  91306                     openat:entry sendmail ./df2AQMK5wg055328
  6  91306                     openat:entry sendmail ./qf2AQMK5wg055328
  7  91306                     openat:entry sendmail /var/spool/clientmqueue/sm-client.st
  3  91306                     openat:entry sendmail /dev/null
  3  91306                     openat:entry sendmail /dev/null
  3  91306                     openat:entry sendmail ./qf2AQMK5wg055328
  6  91306                     openat:entry sendmail /dev/null
  6  91306                     openat:entry sendmail /dev/null
  6  91306                     openat:entry sendmail /var/log/sendmail.st
  3  91306                     openat:entry sendmail ./df2AQMK5wg055328
  3  91306                     openat:entry sendmail ./tf2AQMK5wg055328
  3  91306                     openat:entry mail.local /tmp/local.iD5X5s
  3  91306                     openat:entry mail.local /var/mail/dusko.lock
  3  91306                     openat:entry mail.local /var/mail/dusko
  2  91306                     openat:entry sendmail /var/log/sendmail.st
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;syscall::open:entry { printf(&quot;At %Y %s file opened by PID %d UID %d using %s\n&quot;, walltimestamp, copyinstr(arg0), pid, uid, execname); }&apos;
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace inbound TCP connections by local address:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;tcp:::accept-established { trace(args[3]-&amp;gt;tcps_laddr); }&apos;
dtrace: description &apos;tcp:::accept-established &apos; matched 1 probe
CPU     ID                    FUNCTION:NAME
  0  88667          none:accept-established   127.0.0.1
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trace inbound TCP connections by local port:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;tcp:::accept-established { trace(args[3]-&amp;gt;tcps_lport); }&apos;
dtrace: description &apos;tcp:::accept-established &apos; matched 1 probe
CPU     ID                    FUNCTION:NAME
  7  88667          none:accept-established     25
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Other DTrace One-Liners:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;tcp:::accept-refused { trace(args[4]-&amp;gt;tcp_dport); }&apos;
dtrace: description &apos;tcp:::accept-refused &apos; matched 1 probe
CPU     ID                    FUNCTION:NAME
  1  88668              none:accept-refused  40691
  6  88668              none:accept-refused     25
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;tcp:::accept-established { trace(args[3]-&amp;gt;tcps_lport); }&apos;
dtrace: description &apos;tcp:::accept-established &apos; matched 1 probe
CPU     ID                    FUNCTION:NAME
  7  88667          none:accept-established     25
^C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;tcp:::receive { trace(args[3]-&amp;gt;tcps_lport); }&apos;

# dtrace -n &apos;tcp:::receive { trace(args[3]-&amp;gt;tcps_lport); }&apos;

# dtrace -n &apos;tcp:::receive { trace(args[2]-&amp;gt;ip_daddr); }&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat dtrace-ex1.d
syscall::open:entry
{
    printf(&quot;%s, %s\n&quot;, execname, copyinstr(arg0));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -q -s dtrace-ex1.d 
printf, /etc/libmap.conf
[ . . . ]
mail, /etc/libmap.conf
mail, /usr/local/etc/libmap.d
mail, /usr/local/etc/libmap.d/mesa.conf
mail, /var/run/ld-elf.so.hints
mail, /lib/libc.so.7
mail, /usr/share/misc/mail.rc
mail, /usr/local/etc/mail.rc
mail, /etc/mail.rc
mail, /home/dusko/.mailrc
mail, /home/dusko/.mail_aliases
mail, /etc/localtime
mail, /usr/share/zoneinfo/posixrules
mail, /tmp/mail.Rs6miNZyD4Du
mailwrapper, /etc/libmap.conf
mailwrapper, /usr/local/etc/libmap.d
mailwrapper, /usr/local/etc/libmap.d/mesa.conf
mailwrapper, /var/run/ld-elf.so.hints
mailwrapper, /lib/libutil.so.9
mailwrapper, /lib/libc.so.7
mailwrapper, /usr/local/etc/mail/mailer.conf
sendmail, /etc/libmap.conf
sendmail, /usr/local/etc/libmap.d
sendmail, /usr/local/etc/libmap.d/mesa.conf
sendmail, /var/run/ld-elf.so.hints
sendmail, /lib/libwrap.so.6
sendmail, /usr/lib/libwrap.so.6
sendmail, /lib/libsasl2.so.3
sendmail, /usr/lib/libsasl2.so.3
sendmail, /usr/lib/compat/libsasl2.so.3
sendmail, /usr/local/lib/libsasl2.so.3
sendmail, /lib/libblacklist.so.0
sendmail, /usr/lib/libblacklist.so.0
sendmail, /lib/libssl.so.111
sendmail, /usr/lib/libssl.so.111
sendmail, /lib/libcrypto.so.111
sendmail, /lib/libutil.so.9
sendmail, /lib/libc.so.7
sendmail, /lib/libdl.so.1
sendmail, /usr/lib/libdl.so.1
sendmail, /lib/libthr.so.3
sendmail, /etc/nsswitch.conf
sendmail, /etc/pwd.db
sendmail, /etc/pwd.db
sendmail, /etc/resolv.conf
sendmail, /etc/hosts
sendmail, /etc/hosts
sendmail, /etc/localtime
sendmail, /usr/share/zoneinfo/posixrules
sendmail, /usr/share/zoneinfo/UTC
sendmail, /usr/share/zoneinfo/posixrules
sendmail, /etc/pwd.db
sendmail, /etc/pwd.db
sendmail, /lib/libcrypto.so.111
sendmail, /etc/pwd.db
sendmail, /etc/pwd.db
sendmail, /etc/services
sendmail, /etc/hosts
sendmail, /etc/hosts
sendmail, /etc/hosts
sendmail, /etc/hosts
sendmail, /etc/services
sendmail, /etc/hosts.allow
sendmail, /etc/ssl/openssl.cnf
sendmail, /usr/lib/libssl.so.111
sendmail, /etc/spwd.db
sendmail, /etc/mail/aliases.db
sendmail, /etc/spwd.db
sendmail, /etc/shells
sendmail, /etc/spwd.db
sendmail, /etc/mail/aliases.db
sendmail, /etc/spwd.db
sendmail, /etc/shells
sendmail, /etc/group
sendmail, /etc/group
sendmail, /etc/group
sendmail, /etc/group
mail.local, /etc/libmap.conf
mail.local, /usr/local/etc/libmap.d
mail.local, /usr/local/etc/libmap.d/mesa.conf
mail.local, /var/run/ld-elf.so.hints
mail.local, /lib/libutil.so.9
mail.local, /lib/libc.so.7
mail.local, /etc/nsswitch.conf
mail.local, /etc/services
mail.local, /etc/resolv.conf
mail.local, /etc/hosts
mail.local, /etc/spwd.db
mail.local, /etc/localtime
mail.local, /usr/share/zoneinfo/posixrules
mail.local, /etc/spwd.db
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat dtrace-ex2.d
syscall::write:entry
{
        printf(&quot;%s&quot;, stringof(copyin(arg1, arg2)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -q -s dtrace-ex2.d &amp;gt; sendmailTRACE
^C#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# file sendmailTRACE
sendmailTRACE: data

# wc -l sendmailTRACE
     791 sendmailTRACE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat sendmailTRACE
  
Received: from fbsd1.home.arpa (localhost [127.0.0.1])
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# strings sendmailTRACE | wc -l
     898
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# strings sendmailTRACE
0.re\
|Testing.
Testing.
To: dusko
Subject: Test 01
[ . . . ]
1 sendmail[51179]: 2AO3Up92051179: SMTP outgoing connect on localhost
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep 2AO3Up92051179 /var/log/maillog
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tail -21 ~/mbox
 
From dusko@fbsd1.home.arpa Wed Nov 23 19:30:52 2022
Return-Path: &amp;lt;dusko@fbsd1.home.arpa&amp;gt;
Received: from fbsd1.home.arpa (localhost [127.0.0.1])
        by fbsd1.home.arpa (8.17.1/8.17.1) with ESMTPS id 2AO3UpXe051180
        (version=TLSv1.3 cipher=TLS_AES_256_GCM_SHA384 bits=256 verify=NO)
        for &amp;lt;dusko@fbsd1.home.arpa&amp;gt;; Wed, 23 Nov 2022 19:30:51 -0800 (PST)
        (envelope-from dusko@fbsd1.home.arpa)
Received: (from dusko@localhost)
        by fbsd1.home.arpa (8.17.1/8.17.1/Submit) id 2AO3Up92051179
        for dusko; Wed, 23 Nov 2022 19:30:51 -0800 (PST)
        (envelope-from dusko)
Date: Wed, 23 Nov 2022 19:30:51 -0800 (PST)
From: dusko &amp;lt;dusko@fbsd1.home.arpa&amp;gt;
Message-Id: &amp;lt;202211240330.2AO3Up92051179@fbsd1.home.arpa&amp;gt;
To: dusko@fbsd1.home.arpa
Subject: Test 01
Status: RO

Testing.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;dtrace1---counts-statistics-and-such&quot;&gt;dtrace(1) - Counts, Statistics and Such&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtrace -n &apos;syscall:::entry { @[execname, probefunc] = count(); }&apos;

# dtrace -n &apos;syscall::read:return /execname == &quot;sshd&quot;/ { @ = quantize(arg0); }&apos;

# dtrace -n &apos;syscall::read:entry { self-&amp;gt;ts = timestamp; } syscall::read:return /self-&amp;gt;ts / \
 { @ = quantize(timestamp - self-&amp;gt;ts); self-&amp;gt;ts = 0; }&apos;

# dtrace -n &apos;syscall::read:entry { self-&amp;gt;vts = vtimestamp; } syscall::read:return /self-&amp;gt;vts/ \
 { @[&quot;On-CPU us:&quot;] = lquantize((vtimestamp - self-&amp;gt;vts) / 1000, 0, 10000, 10); self-&amp;gt;vts = 0; }&apos;

# dtrace -n &apos;proc::: { @[probename] = count(); } tick-5s { exit(0); }&apos;

# dtrace -x stackframes=100 -n &apos;profile-99 /arg0/ { @[stack()] = count(); }&apos;

# dtrace -n &apos;sched:::off-cpu { @[stack(8)] = count(); }&apos;

# dtrace -n &apos;tcp:::accept-established { @[args[3]-&amp;gt;tcps_raddr] = count(); }&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;REFERENCES:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.freebsd.org/DTrace/One-Liners&quot;&gt;DTraceOne-Liners - FreeBSD Wiki&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;trace-the-flow-with-dtruss1m&quot;&gt;Trace the Flow with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dtruss(1m)&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Examine all processes called “sendmail”:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtruss -n sendmail
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run and examine the following command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtruss &apos;printf %s\\n &quot;Hello&quot; | mail -v -s &quot;Test&quot; dusko&apos;
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dtruss -a mail -v dusko
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;trace-the-flow-with-truss1&quot;&gt;Trace the Flow with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;truss(1)&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# truss mail -v dusko
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;trace-the-flow-with-ktrace1&quot;&gt;Trace the Flow with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ktrace(1)&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ktrace -i mail -v dusko
[ . . . ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# kdump -f ktrace.out
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# strings ktrace.out
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;how-do-i-see-how-sendmail-will-deliver-a-message&quot;&gt;How do I see how sendmail will deliver a message?&lt;/h2&gt;

&lt;p&gt;Based on &lt;a href=&quot;http://www.harker.com/sendmail/debug.deliver.html&quot;&gt;How do I see how sendmail will deliver a message?&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ hostname
fbsd1.home.arpa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For a local mailbox:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; /parse dusko@fbsd1.home.arpa
Cracked address = $g
Parsing envelope recipient address
canonify           input: dusko @ fbsd1 . home . arpa
.
.   (output deleted)
.
final            returns: dusko
mailer local, user dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For an external (nonlocal) mailbox:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; /parse testuser1@yahoo.com 
Cracked address = $g
Parsing envelope recipient address
canonify           input: testuser1 @ yahoo . com
.
.   (output deleted)
.
final            returns: testuser1 @ yahoo . com
mailer esmtp, host yahoo.com., user testuser1@yahoo.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The “mailer” is the delivery agent that will do the actual delivery.
You can find it in your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail.cf&lt;/code&gt; file by looking for the line starting
with “Mmailername”, in this case “Mesmtp”.  The &lt;em&gt;esmtp&lt;/em&gt; delivery agent is
the same as &lt;em&gt;smtp&lt;/em&gt; mailer (the &lt;em&gt;smtp&lt;/em&gt; mailer includes support for sending
email to other hosts on the Internet) but also speaks ESMTP (Extended SMTP).
This is the preferred delivery agent for delivery over networks.&lt;/p&gt;

&lt;p&gt;The “host” is the host that &lt;em&gt;sendmail&lt;/em&gt; will connect to, in this case
“yahoo.com”.&lt;/p&gt;

&lt;p&gt;The “user” is the actual recipient address that will be passed to the next
host for delivery, in this case “testuser1@yahoo.com”.&lt;/p&gt;

&lt;h2 id=&quot;the-r-configuration-command&quot;&gt;The R Configuration Command&lt;/h2&gt;

&lt;p&gt;Rules are declared in the configuration file with the R configuration command. Like all configuration commands, the R rule configuration command must begin a line. The general form consists of an R command followed by three parts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Rlhs    rhs   comment
    ↑       ↑
    tabs    tabs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lhs&lt;/code&gt; stands for &lt;em&gt;lefthand&lt;/em&gt; side and is most commonly expressed
as LHS.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rhs&lt;/code&gt; stands for &lt;em&gt;righthand&lt;/em&gt; side and is expressed as RHS.
The LHS and RHS are mandatory.  The third part (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;comment&lt;/code&gt;) is optional.
The three parts must be separated from each other by one or more tab
characters (space characters will &lt;em&gt;not&lt;/em&gt; work).&lt;/p&gt;

&lt;p&gt;Space characters between the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; and the LHS are optional.  If there is
a tab between the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; and the LHS, &lt;em&gt;sendmail&lt;/em&gt; prints and logs the
following error:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;configfile: line number: R line: null LHS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Space characters can be used inside any of the three parts: the LHS, RHS,
or comment.  They are often used in those parts to make rules clearer and
easier to parse visually.&lt;/p&gt;

&lt;p&gt;The tabs leading to the comment and the comment itself are optional and
can be omitted.  If the RHS is absent, &lt;em&gt;sendmail&lt;/em&gt; prints the following
warning and ignores that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; line:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;invalid rewrite line &quot;bad rule here&quot; (tab expected)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This error is printed when the RHS is absent, even if there are tabs
following the LHS.  (This warning is usually the result of tabs being
converted to spaces when text is copied from one window to another in
a windowing system using cut and paste.)&lt;/p&gt;

&lt;h2 id=&quot;o--set-option&quot;&gt;O – Set Option&lt;/h2&gt;

&lt;p&gt;From &lt;em&gt;Sendmail Installation and Operation Guide, No. 8, SMM&lt;/em&gt; (on FreeBSD 13, location: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/sendmail/op.ps&lt;/code&gt; (PostScript version) &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/sendmail/op.txt&lt;/code&gt; (plain text version)):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;5.7.  O – Set Option&lt;/p&gt;

  &lt;p&gt;There are a number of global options that can be set from a configuration file.
Options are represented by full words; some are also representable as single characters for back compatibility. 
The syntax of this line is:&lt;/p&gt;
  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;O  option=value
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;This sets option option to be value.
Note that there must be a space between the letter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;O&lt;/code&gt; and the name of the option.
An older version is:&lt;/p&gt;
  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Oovalue
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;where the option &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;o&lt;/code&gt; is a single character.
Depending on the option, value may be a string, an integer, a boolean (with legal values “t”, “T”, “f”, or “F”; the default is TRUE), or a time interval.&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;The options supported (with the old, one character names in brackets) are:&lt;/p&gt;

  &lt;p&gt;. . .&lt;/p&gt;

  &lt;p&gt;AliasFile=spec, spec, …  &lt;br /&gt;
[A]  Specify possible alias file(s).   &lt;br /&gt;
. . .&lt;/p&gt;

  &lt;p&gt;All options can be specified on the command line using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-O&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-o&lt;/code&gt; flag, but most will cause &lt;em&gt;sendmail&lt;/em&gt; to relinquish its  &lt;em&gt;set-user-ID&lt;/em&gt;  permissions.&lt;/p&gt;

  &lt;p&gt;The options that will not cause this are SevenBitInput [7], EightBitMode [8], MinFreeBlocks [b], CheckpointInterval [C], DeliveryMode [d], ErrorMode [e], IgnoreDots [i], SendMimeErrors [j], LogLevel [L], MeToo [m], OldStyleHeaders [o], PrivacyOptions [p], SuperSafe [s], Verbose [v], Que
ueSortOrder, MinQueueAge, DefaultCharSet, DialDelay, NoRecipientAction, ColonOkInAddr, MaxQueueRunSize, SingleLineFromHeader, and AllowBogusHELO.&lt;/p&gt;

  &lt;p&gt;Actually, PrivacyOptions [p] given on the command line are added to those already specified in  the sendmail.cf  file, i.e., they can’t be reset.&lt;/p&gt;

  &lt;p&gt;Also, M(define macro) when defining the r or s macros is also considered “safe”.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;comments&quot;&gt;Comments&lt;/h2&gt;

&lt;p&gt;Comments provide you with the documentation necessary to maintain the
configuration file.  Because comments slow down &lt;em&gt;sendmail&lt;/em&gt; by only
a negligible amount, and only at startup, it is better to overcomment
than to undercomment.&lt;/p&gt;

&lt;p&gt;Blank lines and lines that begin with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; character are considered
comments and are ignored.  A blank line is one that contains no characters
at all (except for its terminating newline).  Indentation characters
(spaces and tabs) are invisible and can turn an apparently blank line into
an empty-looking line, which is not ignored:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# text            ← a comment
tabtext            ← a continuation line
            ← a blank line
tab            ← an &quot;empty-looking line&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n 4647,4672p /usr/local/share/sendmail/cf/README 

+--------------------------+
| FORMAT OF FILES AND MAPS |
+--------------------------+

Files that define classes, i.e., F{classname}, consist of lines
each of which contains a single element of the class.  For example,
/etc/mail/local-host-names may have the following content:

my.domain
another.domain

Maps must be created using makemap(8) , e.g.,

        makemap hash MAP &amp;lt; MAP

In general, a text file from which a map is created contains lines
of the form

key     value

where &apos;key&apos; and &apos;value&apos; are also called LHS and RHS, respectively.
By default, the delimiter between LHS and RHS is a non-empty sequence
of white space characters.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;v8-comments&quot;&gt;V8 Comments&lt;/h2&gt;

&lt;p&gt;Beginning with V8 &lt;em&gt;sendmail&lt;/em&gt;, all lines of configuration files of version
levels 3 and above can have optional trailing comments.  That is, all text
from the first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; character to the end of the line is ignored.
Any whitespace (space or tab characters) leading up to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; is also ignored:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CWlocalhost mailhost  # This is a comment
                    ↑
                    from here to end of line ignored
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To include a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; character in a line under V8 &lt;em&gt;sendmail&lt;/em&gt;, precede it with
a backslash:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DM16\#megs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that you do not need to escape the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#&lt;/code&gt; operator.
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&lt;/code&gt; has a higher precedence, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$#&lt;/code&gt; is interpreted correctly.&lt;/p&gt;

&lt;h2 id=&quot;continuation-lines&quot;&gt;Continuation Lines&lt;/h2&gt;

&lt;p&gt;A line that begins with either a tab or a space character is considered
a continuation of the preceding line.  Internally, such continuation lines
are joined to the preceding line, and the newline character of that
preceding line is retained.  Thus, for example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DZzoos
       lions and bears
↑
line begins with a tab character
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is internally joined by &lt;em&gt;sendmail&lt;/em&gt; to form:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DZzoos\n       lions and bears
       ↑
       newline and tab retained
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Both the newline (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\n&lt;/code&gt;) and the tab are retained.  When such a joined line
is later used (as in a header), the joined line is split at the newline
and prints as two separate lines again.&lt;/p&gt;

&lt;h2 id=&quot;pitfalls&quot;&gt;Pitfalls&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Avoid accidentally creating an empty-looking line (one that contains only
invisible space and tab characters) in the &lt;em&gt;sendmail.cf&lt;/em&gt; file when you
really intend to create a blank line (one that contains only the newline
character).  The empty-looking line is joined by &lt;em&gt;sendmail&lt;/em&gt; to the line
above it and is likely to cause mysterious problems that are difficult
to debug.  One way to find such lines is to run a command such as the
following, where there is a single space between the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^&lt;/code&gt; and the dot:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep &apos;^ .*$&apos; /etc/mail/sendmail.cf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;The listening daemon and the submission &lt;em&gt;msp sendmail&lt;/em&gt; use two different
configuration files (i.e., &lt;em&gt;sendmail.cf&lt;/em&gt; and &lt;em&gt;submit.cf&lt;/em&gt;).  Unless you
specify a specific configuration file with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C&lt;/code&gt;, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Am&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Ac&lt;/code&gt;
switches determine which of the two configuration files is used.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;pitfalls-1&quot;&gt;Pitfalls&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;The use of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; to place comments into a &lt;em&gt;.mc&lt;/em&gt; file for eventual
transfer to your configuration file might not work as expected.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; is
not special to the &lt;em&gt;m4&lt;/em&gt; processor, so &lt;em&gt;m4&lt;/em&gt; continues to process a line even
though that line is intended to be a comment.  So, instead of:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;# Here we define $m as our domain&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;(which would see &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;define&lt;/code&gt; as an &lt;em&gt;m4&lt;/em&gt; keyword), use single quotes to
insulate all such comments from &lt;em&gt;m4&lt;/em&gt; interpretation:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# `Here we define $m as our domain&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Never blindly overwrite your &lt;em&gt;sendmail.cf&lt;/em&gt; file with a new one.
Always compare the new version to the old first:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff /etc/mail/sendmail.cf oursite.cf
19c19
&amp;lt; ##### built by you@oursite.com on Sat Nov  3  11:26:39 PDT 2007
---
&amp;gt; ##### built by you@oursite.com on Fri Dec 14 04:14:25 PDT 2007
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the only change was the date the files were built, but if you had
expected some other change, this would tell you the change had failed.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Never edit your &lt;em&gt;sendmail.cf&lt;/em&gt; file directly.  If you do, you will never
be able to generate a duplicate or update from your mc file.  This is an
especially serious problem when upgrading from one release of &lt;em&gt;sendmail&lt;/em&gt;
to a newer release.  Should you make this mistake, reread the appropriate
sections in this book and the documentation supplied with the &lt;em&gt;sendmail&lt;/em&gt;
source.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Don’t assume that UUCP support and UUCP relaying are turned off by default.
Always use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FEATURE(nouucp)&lt;/code&gt; to disable UUCP unless you actually support UUCP:&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FEATURE(`nouucp&apos;)               ← recommended through V8.9
FEATURE(`nouucp&apos;,`reject&apos;)      ← recommended with V8.10 and later
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;syntax&quot;&gt;Syntax&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt; prompt expects rule sets and addresses to be specified like this:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt; ident,ident,ident ...   address&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Each &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ident&lt;/code&gt; is a rule set name or number.  When there is more than one
rule set, they must be separated from each other by commas (with no spaces
between them).&lt;/p&gt;

&lt;p&gt;For numbered rule sets, the number must be in the range of 0 through the
highest number allowed.  A number that is too large causes &lt;em&gt;sendmail&lt;/em&gt; to
print the following two errors:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bad rule set number (max max)
Undefined rule set number
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A rule set whose number is below the maximum but was never defined will
act as though it was defined but lacks rules.&lt;/p&gt;

&lt;p&gt;Named rule sets must exist in the symbol table. If the name specified was
never defined, the following error is printed:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Undefined rule set ident&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If any rule set number in the comma-separated list of rule sets is omitted
(e.g., &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ident,,ident&lt;/code&gt;), &lt;em&gt;sendmail&lt;/em&gt; interprets the second comma as part of
the second identifier, thus producing this error:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Undefined rule set ,identifier&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;address&lt;/code&gt; is everything following the first whitespace (space and tab
characters) to the end of the line.  If whitespace characters appear
anywhere in the list of rule sets, the rule sets to the right of the
whitespace are interpreted as part of the address.&lt;/p&gt;

&lt;p&gt;We show named rule sets in our examples, even though numbered rule sets
will work just as well.  But by using named rule sets, the examples will
still work even if the corresponding numbers change in the future.&lt;/p&gt;

&lt;h2 id=&quot;the-configuration-file&quot;&gt;The Configuration File&lt;/h2&gt;

&lt;p&gt;The configuration file contains all the information &lt;em&gt;sendmail&lt;/em&gt; needs to do
its job.  Within it you provide information, such as file locations,
permissions, and modes of operation.&lt;/p&gt;

&lt;p&gt;Rewriting rules and rule sets also appear in the configuration file.
They transform a mail address into another form that might be required for
delivery.  They are perhaps the single most confusing aspect of the
configuration file.  Because the configuration file is designed to be fast
for sendmail to read and parse, rules can look cryptic to humans:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;R $+ @ $+		$: $1 &amp;lt; @ $2 &amp;gt;	focus on domain
R $+ &amp;lt; $+ @ $+ &amp;gt;	$1 $2 &amp;lt; @ $3 &amp;gt;	move gaze right
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But what appears to be complex is really just succinct.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; at the
beginning of each line, for example, labels a rewrite rule.  And the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$+&lt;/code&gt;
expressions mean to match one or more parts of an address.  With experience,
such expressions (and indeed the configuration file as a whole) soon
become meaningful.&lt;/p&gt;

&lt;p&gt;Fortunately, you don’t need to learn the details of rule sets to configure
and install sendmail.  The &lt;em&gt;mc&lt;/em&gt; form of configuration insulates you from
such details, and allows you to perform very complex tasks easily.&lt;/p&gt;

&lt;h2 id=&quot;configuration-commands&quot;&gt;Configuration Commands&lt;/h2&gt;

&lt;p&gt;The &lt;em&gt;sendmail.cf&lt;/em&gt; configuration file is line-oriented.&lt;br /&gt;
A configuration command, composed of a single letter, begins each line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;V10/Berkeley                       ← good
V10/Berkeley                       ← bad, does not begin a line
V10/Berkeley Fw/etc/mail/mxhosts   ← bad, two commands on one line
Fw/etc/mail/mxhosts                ← good
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Each configuration command is followed by parameters that are specific
to it.  For example, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt; command is followed by an ASCII representation
of an integer value, a slash, and a vendor name.  Whereas the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F&lt;/code&gt; command
is followed by a letter (a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;w&lt;/code&gt; in the example), then the full pathname of
a file.  The complete list of configuration commands is shown in
Footnotes  &lt;strong&gt;&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;[2]&lt;/a&gt;&lt;/sup&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Some commands, such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt;, should appear only once in your &lt;em&gt;sendmail.cf&lt;/em&gt;
file.  Others, such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt;, can appear often.&lt;/p&gt;

&lt;p&gt;Blank lines and lines that begin with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; character are considered
comments and are ignored.  A line that begins with either a tab or a space
character is a continuation of the preceding line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# a comment
V10
     /Berkeley  ← continuation of V line above
  ↑ tab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that anything other than a command, a blank line, a space, a tab,
or a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; character causes an error.  If the &lt;em&gt;sendmail&lt;/em&gt; program finds such
a character, it prints the following warning, ignores that line, and
continues to read the configuration file:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mail/sendmail.cf: line 15: unknown configuration line &quot;v9&quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Here, &lt;em&gt;sendmail&lt;/em&gt; found a line in its &lt;em&gt;sendmail.cf&lt;/em&gt; file that began with
the letter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt;.  Because a lowercase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt; is not a legal command, &lt;em&gt;sendmail&lt;/em&gt;
printed a warning.  The line number in the warning is that of the line in
the &lt;em&gt;sendmail.cf&lt;/em&gt; file that began with the illegal character.&lt;/p&gt;

&lt;h2 id=&quot;rules&quot;&gt;Rules&lt;/h2&gt;

&lt;p&gt;At the heart of the &lt;em&gt;sendmail.cf&lt;/em&gt; file are sequences of rules that
rewrite (transform) mail addresses from one form to another.  This is
necessary chiefly because addresses must conform to many differing
standards.  The R command is used to define a rewriting rule:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R$-	$@ $1 @ $R     user -&amp;gt;  user @ remote &lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Mail addresses are compared to the rule on the left (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$-&lt;/code&gt;).  If they match
that rule, they are rewritten on the basis of the rule on the right
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$@ $1 @ $R&lt;/code&gt;).  The text at the far right is a comment (that doesn’t
require a leading &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Use of multicharacter macros and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; comments (V8 configuration files and
above) can make rules appear a bit less cryptic:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;R$-				# If a plain username
	$@ $1 @ ${REMOTE}	#    append &quot;@&quot; remote host
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;rule-sets&quot;&gt;Rule sets&lt;/h2&gt;

&lt;p&gt;Because rewriting can require several steps, rules are organized into sets,
which can be thought of as subroutines.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt; command begins a rule set:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S3&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This particular &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt; command begins rule set 3.  Beginning with V8.7 &lt;em&gt;sendmail&lt;/em&gt;,
rule sets can be given symbolic names as well as numbers:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SHubset&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This particular &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt; command begins a rule set named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Hubset&lt;/code&gt;.  Named rule
sets are automatically assigned numbers by &lt;em&gt;sendmail&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;All the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; commands (rules) that follow an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt; command belong to that
rule set.  A rule set ends when another &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt; command appears to define
another rule set.&lt;/p&gt;

&lt;h2 id=&quot;chapter-18-the-r-rules-configuration-command&quot;&gt;Chapter 18. The R (Rules) Configuration Command&lt;/h2&gt;

&lt;p&gt;Rules are like little if-then or while-do clauses, existing inside rule
sets, that test a pattern against an address and change the address if the
two match.  The process of converting one form of an address into another
is called &lt;strong&gt;rewriting&lt;/strong&gt;.  Most rewriting requires a sequence of many rules
because an individual rule is relatively limited in what it can do.
This need for many rules, combined with the &lt;em&gt;sendmail&lt;/em&gt; program’s need for
succinct expressions, can make sequences of rules dauntingly cryptic.&lt;/p&gt;

&lt;h2 id=&quot;the-r-configuration-command-1&quot;&gt;The R Configuration Command&lt;/h2&gt;

&lt;p&gt;Rules are declared in the configuration file with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; configuration
command.  Like all configuration commands, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; rule configuration
command must begin a line.  The general form consists of an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; command
followed by three parts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Rlhs    rhs   comment
    ↑       ↑
    tabs    tabs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lhs&lt;/code&gt; stands for &lt;strong&gt;lefthand side&lt;/strong&gt; and is most commonly expressed
as &lt;strong&gt;LHS&lt;/strong&gt;.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rhs&lt;/code&gt; stands for &lt;strong&gt;righthand side&lt;/strong&gt; and is expressed
as &lt;strong&gt;RHS&lt;/strong&gt;.  The LHS and RHS are mandatory. The third part (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;comment&lt;/code&gt;)
is optional.  The three parts must be separated from each other by one or
more &lt;strong&gt;tab&lt;/strong&gt; characters (space characters will not work).&lt;/p&gt;

&lt;p&gt;Space characters between the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; and the LHS are optional.  If there is
a tab between the R and the LHS, &lt;em&gt;sendmail&lt;/em&gt; prints and logs the following
error:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;configfile: line number: R line: null LHS&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Space characters can be used inside any of the three parts: the LHS, RHS,
or comment.  They are often used in those parts to make rules clearer and
easier to parse visually.&lt;/p&gt;

&lt;p&gt;The tabs leading to the comment and the comment itself are optional and
can be omitted.  If the RHS is absent, &lt;em&gt;sendmail&lt;/em&gt; prints the following
warning and ignores that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; line:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;invalid rewrite line &quot;bad rule here&quot; (tab expected)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This error is printed when the RHS is absent, even if there are tabs
following the LHS.  (This warning is usually the result of tabs being
converted to spaces when text is copied from one window to another in
a windowing system using cut and paste.)&lt;/p&gt;

&lt;h2 id=&quot;macros-in-rules&quot;&gt;Macros in Rules&lt;/h2&gt;

&lt;p&gt;Each noncomment part of a rule is expanded as the configuration file
is read.  (Actually, the comment part is expanded too, but with no effect
other than a tiny expenditure of time.)  Thus, any references to defined
macros are replaced with the value that the macro has at that point in the
configuration file.  To illustrate, consider the following mini
configuration file (which is named &lt;em&gt;test.cf&lt;/em&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;V10
Stest
DAvalue1
R $A	$A.new
DAvalue2
R $A	$A.new
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;First, note that as of V8.10 &lt;em&gt;sendmail&lt;/em&gt;, rules (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; lines) cannot exist
outside of rule sets (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S&lt;/code&gt; line).  If you omit a rule set declaration,
the following error will be printed and logged:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;configfile: line number: missing valid ruleset for &quot;bad rule here&quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Second, note that beginning with V8.9, &lt;em&gt;sendmail&lt;/em&gt; will complain if the
configuration file lacks a correct version number (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;V&lt;/code&gt; line).
Had you omitted that line, &lt;em&gt;sendmail&lt;/em&gt; would have printed and logged the
following warning:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Warning: .cf file is out of date: sendmail 8.12.6 supports version 10,
.cf file is version 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;D&lt;/code&gt; line assigns the value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;value1&lt;/code&gt; to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$A&lt;/code&gt; &lt;em&gt;sendmail&lt;/em&gt; macro.
The second &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;D&lt;/code&gt; line replaces the value assigned to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$A&lt;/code&gt; in the first line
with the new value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;value2&lt;/code&gt;.  Thus, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$A&lt;/code&gt; will have the value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;value1&lt;/code&gt; when
the first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; line is expanded and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;value2&lt;/code&gt; when the second is expanded.
Prove this to yourself by running &lt;em&gt;sendmail&lt;/em&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-bt&lt;/code&gt; rule-testing mode to
test that file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf =Stest | sendmail -bt -Ctest.cf
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; Rvalue1               value1 . new 
Rvalue2                 value2 . new 
&amp;gt; $ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, you used the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;=S&lt;/code&gt; command to show each rule after it has been read
and expanded.&lt;/p&gt;

&lt;p&gt;Another property of macros is that an undefined macro expands to an empty
string.  Consider this rewrite of the previous &lt;em&gt;test.cf&lt;/em&gt; file in which you
use a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$B&lt;/code&gt; macro that was never defined:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;V10
Stest
DAvalue1
R $A	$A.$B
DAvalue2
R $A	$A.$B
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run &lt;em&gt;sendmail&lt;/em&gt; again, in rule-testing mode, to see the result:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf =Stest | sendmail -bt -Ctest.cf
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; Rvalue1               value1 . 
Rvalue2                 value2 . 
&amp;gt; $ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Beginning with V8.7, &lt;em&gt;sendmail&lt;/em&gt; macros can be either single-character or
multicharacter.  Both forms are expanded when the configuration file is read:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;D{YOURDOMAIN}us.edu
R ${YOURDOMAIN}    localhost.${YOURDOMAIN}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Multicharacter macros can be used in the LHS and in the RHS.
When the configuration file is read, the previous example is expanded
to look like this:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R us . edu               localhost . us . edu&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;It is critical to remember that macros are expanded when the
configuration file is read.  If you forget, you might discover that
your configuration file is not doing what you expect.&lt;/p&gt;

&lt;h2 id=&quot;rules-are-treated-like-addresses&quot;&gt;Rules Are Treated Like Addresses&lt;/h2&gt;

&lt;p&gt;After each side (LHS and RHS) is expanded, each is then normalized just
as though it were an address.  A check is made for any &lt;strong&gt;tabs&lt;/strong&gt; that might
have been introduced during expansion.  If any are found, everything from
the first tab to the end of the string is discarded.&lt;/p&gt;

&lt;p&gt;Then, if the version of the configuration file you are running is less
than 9 (that is, if the version of &lt;em&gt;sendmail&lt;/em&gt; you are running is less
than V8.10), RFC2822-style comments are removed.  An RFC2822 comment is
anything between and including an unquoted pair of parentheses:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DAroot@my.site (Operator)
R $A  &amp;lt;tab&amp;gt;RHS
   ↓
R root@my.site (Operator)  &amp;lt;tab&amp;gt;RHS        ← expanded
   ↓
R root@my.site  &amp;lt;tab&amp;gt;RHS      ← comment stripped prior to version 8 configs only
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Finally, prior to V8.13 (as of V8.13, rules no longer need to balance),
a check was made for balanced quotation marks, and for right angle brackets
balanced by left (The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&amp;gt;&lt;/code&gt; operator isn’t counted in checking balance.)
If any righthand character appeared without a corresponding lefthand
character, &lt;em&gt;sendmail&lt;/em&gt; printed one of the following errors (where
&lt;em&gt;configfile&lt;/em&gt; is the name of the configuration file that was being read,
&lt;em&gt;number&lt;/em&gt; shows the line number in that file, and &lt;em&gt;expression&lt;/em&gt; is the part
of the rule that was unbalanced) and attempted to make corrections:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;configfile : line number: expression  ...Unbalanced &apos;&quot;&apos;
configfile : line number: expression ...Unbalanced &apos;&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that prior to V8.13, an unbalanced quotation mark was corrected by
appending a second quotation mark, and an unbalanced angle bracket was
corrected by removing it.  Consider the following &lt;em&gt;test.cf&lt;/em&gt; confirmation file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;V8
Stest
R x      RHS&quot;
R y      RHS&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you ran pre-V8.13 &lt;em&gt;sendmail&lt;/em&gt; in rule-testing mode on this file, the
following errors and rules would be printed:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf =Stest | sendmail -bt -Ctest.cf
test.cf: line 3: RHS&quot;... Unbalanced &apos;&quot;&apos;
test.cf: line 4: RHS&amp;gt;... Unbalanced &apos;&amp;gt;&apos;
R x              RHS &quot;&quot;
R y              RHS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;as-of-v813-rules-no-longer-need-to-balance&quot;&gt;As of V8.13, rules no longer need to balance&lt;/h3&gt;

&lt;p&gt;Prior to V8.13, special characters in rules were required to balance.
If they didn’t, &lt;em&gt;sendmail&lt;/em&gt; would issue a warning and try to make them balance:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SCheck_Subject
R ----&amp;gt; test &amp;lt;----         $#discard $: discard
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;-operators-are-tokens&quot;&gt;$-operators Are Tokens&lt;/h3&gt;

&lt;p&gt;As we progress into the details of rules, you will see that certain
characters become operators when prefixed with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&lt;/code&gt; character.
Operators cause &lt;em&gt;sendmail&lt;/em&gt; to perform actions, such as looking for
a match (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$*&lt;/code&gt; is a wildcard operator) or replacing tokens with others by
position (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$1&lt;/code&gt; is a replacement operator).&lt;/p&gt;

&lt;p&gt;For tokenizing purposes, operators always divide one token from another,
just as the characters in the master list did.  For example:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxx$*zzz    becomes  →   xxx  $*  zzz&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;the-space-character-is-special&quot;&gt;The Space Character Is Special&lt;/h3&gt;

&lt;p&gt;The space character is special for two reasons.  First, although the space
character is not in the master list, it &lt;em&gt;always&lt;/em&gt; separates one token from
another:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxx zzz    becomes →  xxx  zzz&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Second, although the space character separates tokens, it is not itself
a token.  That is, in this example the seven characters on the left
(the fourth is the space in the middle) become two tokens of three
letters each, not three tokens.  Therefore, the space character can be
used inside the LHS or RHS of rules for improved clarity but does not
itself become a token or change the meaning of the rule.&lt;/p&gt;

&lt;h3 id=&quot;the-workspace&quot;&gt;The Workspace&lt;/h3&gt;

&lt;p&gt;As was mentioned, rules exist to rewrite addresses.  We won’t cover the
reasons this rewriting needs to be done just yet, but we will concentrate
on the general behavior of rewriting.&lt;/p&gt;

&lt;p&gt;Before any rules are called to perform rewriting, a temporary buffer called
the “workspace” is created.  The address to be rewritten is then tokenized
and placed into that workspace.  The process of tokenizing addresses in the
workspace is exactly the same as the tokenizing of rules that you saw before:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gw@wash.dc.gov    becomes  →   gw  @  wash  .  dc  . gov&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Here, the tokenizing characters defined by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OperatorChars&lt;/code&gt; option and
those defined internally by &lt;em&gt;sendmail&lt;/em&gt; caused the address to be broken into
seven tokens.  The process of rewriting changes the tokens in the workspace:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                       ← workspace is &quot;gw&quot; &quot;@&quot; &quot;wash&quot; &quot;.&quot; &quot;dc&quot; &quot;.&quot; &quot;gov&quot;
R &amp;lt;lhs&amp;gt; &amp;lt;rhs&amp;gt;  R &amp;lt;lhs&amp;gt; &amp;lt;rhs&amp;gt;                ← rules rewrite the workspace
R &amp;lt;lhs&amp;gt; &amp;lt;rhs&amp;gt;                        ← workspace is &quot;gw&quot; &quot;.&quot; &quot;LOCAL&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the workspace began with seven tokens.  The three hypothetical rules
recognized that this was a local address (in token form) and rewrote it so
that it became three tokens.&lt;/p&gt;

&lt;h2 id=&quot;the-lhs&quot;&gt;The LHS&lt;/h2&gt;

&lt;p&gt;The LHS of any rule is compared to the current contents of the workspace
to determine whether the two match.  Table LHS Operators Table
&lt;strong&gt;&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;[3]&lt;/a&gt;&lt;/sup&gt;&lt;/strong&gt; displays a variety of special operators
offered by &lt;em&gt;sendmail&lt;/em&gt; that make comparisons easier and more versatile.&lt;/p&gt;

&lt;h2 id=&quot;the-rhs&quot;&gt;The RHS&lt;/h2&gt;

&lt;p&gt;The purpose of the RHS in a rule is to rewrite the workspace.  To make this
rewriting more versatile, &lt;em&gt;sendmail&lt;/em&gt; offers several special RHS operators.
The complete list is shown in Table RHS Operators Table
&lt;strong&gt;&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;[4]&lt;/a&gt;&lt;/sup&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;debuggingtroubleshooting-check_-in-sendmail&quot;&gt;Debugging/Troubleshooting check_* in sendmail&lt;/h2&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.sendmail.org/~ca/email/chk-dbg.h
tml&quot;&gt;Debugging check_* in sendmail 8.8/8.9 and later&lt;/a&gt; (By: Claus Aßmann - Last Update 2006-03-31)
(Retrieved on 2022-11-02)&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;sendmail, 4th Edition (a.k.a. Bat Book), Published by O’Reilly Media, Inc.,
Publication Date: October 2007 (Chapter 7. How to Handle Spam, 
Subchapter “The Local_check_ Rule Sets” - Section “Local_check_relay and check_relay”)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;After you have installed the new &lt;a href=&quot;https://www.sendmail.org/~ca/email/check.html&quot;&gt;check_* rules&lt;/a&gt;
or you
use &lt;a href=&quot;https://www.sendmail.org/~ca/email/chk-89.html&quot;&gt;sendmail 8.9 (and later) standard FEATUREs&lt;/a&gt;
to avoid misuse of your system and spam from well-known
sites, you need to test them.  Or you can blindly trust the guys who wrote
them… (never do that, someone may have made a mistake!).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;First, you can use conventional debugging by testing the rewrite rules
directly with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sendmail -bt&lt;/code&gt;.  If you want to test those rulesets
(&lt;a href=&quot;https://www.sendmail.org/~ca/email/check.html#check_relay&quot;&gt;check_relay&lt;/a&gt;,
&lt;a href=&quot;https://www.sendmail.org/~ca/email/check.html#check_compat&quot;&gt;check_compat&lt;/a&gt;)
which use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$|&lt;/code&gt; token, you should introduce the following ruleset first:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;STranslate
R $* $$| $*	$: $1 $| $2	fake for -bt mode, remove for real version
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:  There are two &lt;strong&gt;tab&lt;/strong&gt; characters, one before  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$:&lt;/code&gt; and the other
before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fake for -bt mode, remove for real version&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This rule set changes a literal &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;|&lt;/code&gt; into a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$|&lt;/code&gt; operator so that
you can test rule sets such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Local_check_relay&lt;/code&gt; from rule-testing mode:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo su

# sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &amp;lt;ruleset&amp;gt; &amp;lt;address&amp;gt;
&amp;gt; Translate,Local_check_relay bogus.host.domain $| 123.45.67.89
Translate          input: bogus . host . domain $| 123 . 45 . 67 . 89
Translate        returns: bogus . host . domain $| 123 . 45 . 67 . 89
Local_check_rela   input: bogus . host . domain $| 123 . 45 . 67 . 89
Local_check_rela returns: bogus . host . domain $| 123 . 45 . 67 . 89
&amp;gt; 
&amp;gt; /quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, see:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n 2910,2950p /usr/local/share/sendmail/cf/README
Header Checks
-------------

You can also reject mail on the basis of the contents of headers.
This is done by adding a ruleset call to the &apos;H&apos; header definition command
in sendmail.cf.  For example, this can be used to check the validity of
a Message-ID: header:

        LOCAL_CONFIG
        HMessage-Id: $&amp;gt;CheckMessageId

        LOCAL_RULESETS
        SCheckMessageId
        R&amp;lt; $+ @ $+ &amp;gt;            $@ OK
        R$*                     $#error $: 553 Header Error


The alternative format:

        HSubject: $&amp;gt;+CheckSubject

that is, $&amp;gt;+ instead of $&amp;gt;, gives the full Subject: header including
comments to the ruleset (comments in parentheses () are stripped
by default).

A default ruleset for headers which don&apos;t have a specific ruleset
defined for them can be given by:

        H*: $&amp;gt;CheckHdr

Notice:
1. All rules act on tokens as explained in doc/op/op.{me,ps,txt}.
That may cause problems with simple header checks due to the
tokenization.  It might be simpler to use a regex map and apply it
to $&amp;amp;{currHeader}.
2. There are no default rulesets coming with this distribution of
sendmail.  You can write your own, can search the WWW for examples,
or take a look at cf/cf/knecht.mc.
3. When using a default ruleset for headers, the name of the header
currently being checked can be found in the $&amp;amp;{hdr_name} macro.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] If you depended on the old behavior where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Family&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;family&lt;/code&gt; both
worked, rebuild &lt;em&gt;sendmail&lt;/em&gt; with the &lt;em&gt;Build&lt;/em&gt;-time macro &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_FFR_DPO_CS&lt;/code&gt; defined.
Note that beginning with V8.15, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Addr&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Family&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Listen&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Modifier&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Name&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SendBufferSize&lt;/code&gt; became case-insensitive, all the others
remained case-sensitive.&lt;/p&gt;

&lt;p&gt;[2] The &lt;em&gt;sendmail.cf&lt;/em&gt; file’s configuration commands&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+---------+------------------------------------------------------------+
| Command | Description                                                |
+---------+------------------------------------------------------------+
| C       | Define a class macro.                                      |
+---------+------------------------------------------------------------+
| D       | Define a macro.                                            |
+---------+------------------------------------------------------------+
| E       | Define an environment variable (beginning with V8.7).      |
+---------+------------------------------------------------------------+
| F       | Define a class macro from a file, pipe, or database map.   |
+---------+------------------------------------------------------------+
| H       | Define a header.                                           |
+---------+------------------------------------------------------------+
| K       | Declare a keyed database (beginning with V8.1).            |
+---------+------------------------------------------------------------+
| L       | Include extended load average support (contributed         |
|         | software, not covered).                                    |
+---------+------------------------------------------------------------+
| M       | Define a mail delivery agent.                              |
+---------+------------------------------------------------------------+
| O       | Define an option.                                          |
+---------+------------------------------------------------------------+
| P       | Define delivery priorities.                                | 
+---------+------------------------------------------------------------+
| Q       | Define a queue (beginning with V8.12).                     |
+---------+------------------------------------------------------------+
| R       | Define a rewriting rule.                                   |
+---------+------------------------------------------------------------+
| S       | Declare a rule-set start.                                  |
+---------+------------------------------------------------------------+
| T       | Declare trusted users (ignored in V8.1, restored in V8.7). | 
+---------+------------------------------------------------------------+
| V       | Define configuration file version (beginning with V8.1).   |
+---------+------------------------------------------------------------+
| X       | Define a mail filter (beginning with V8.12).               | 
+---------+------------------------------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[3]  LHS Operators Table&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+----------+-------------------------+---------------------------------------+
| Operator | §                       | Description or use                    |
+----------+-------------------------+---------------------------------------+
| $*       |                         | Match zero or more tokens.            |
+----------+-------------------------+---------------------------------------+
| $+       |                         | Match one or more tokens.             |
+----------+-------------------------+---------------------------------------+
| $-       |                         | Match exactly one token.              |
+----------+-------------------------+---------------------------------------+
| $@       |                         | Match exactly zero tokens (V8 only).  |
+----------+-------------------------+---------------------------------------+
| $=       | Matching Any in         | Match any tokens in                   |
|          | a Class: $=             | a class.  [a]                         |
+----------+-------------------------+---------------------------------------+
| $˜       | Matching Any Token Not  | Match any single token not            |
|          | in a Class: $~          | in a class.                           |
+----------+-------------------------+---------------------------------------+
| $#       |                         | Match a literal $#.                   |
+----------+-------------------------+---------------------------------------+
| $|       |                         | Match a literal $|.                   |
+----------+-------------------------+---------------------------------------+
| $&amp;amp;       | Use Value As Is with $&amp;amp; | Delay macro expansion until runtime.  |
+----------+-------------------------+---------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[a]&lt;/strong&gt; Class matches either a single token or multiple tokens, depending on
        the version of &lt;em&gt;sendmail&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;The first three operators in the LHS Operators Table are wildcard operators,
which can be used to match arbitrary sequences of tokens in the workspace. 
Consider the following rule, which employs the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$-&lt;/code&gt; operator (match any
single token):&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R $-	fred.local&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Here, a match is found only if the workspace contains a single token
(such as tom).  If the workspace contains multiple tokens (such as
&lt;em&gt;tom@host&lt;/em&gt;), the LHS does not match.  A match causes the workspace to be
rewritten by the RHS to become &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fred.local&lt;/code&gt;.  The rewritten workspace is
then compared again to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$-&lt;/code&gt;, but this time there is no match because
the workspace contains three tokens (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fred&lt;/code&gt;, a dot [&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt;], and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;local&lt;/code&gt;).
Because there is no match, the &lt;em&gt;current&lt;/em&gt; workspace (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fred.local&lt;/code&gt;) is
carried down to the next rule (if there is one).&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$@&lt;/code&gt; operator (introduced in V8 &lt;em&gt;sendmail&lt;/em&gt;) matches an empty workspace.
Merely omitting the LHS won’t work:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;R&amp;lt;tab&amp;gt;RHS                ← won&apos;t work
R $@&amp;lt;tab&amp;gt;RHS                ← will work
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you merely omit the LHS in a mistaken attempt to match an empty LHS,
you will see the following error when sendmail starts up:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;configfile: line number: R line: null LHS&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Note that all comparisons of tokens in the LHS to tokens in the workspace
are done in a case-insensitive manner.  That is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tom&lt;/code&gt; in the LHS matches
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TOM&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Tom&lt;/code&gt;, and even &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ToM&lt;/code&gt; in the workspace.&lt;/p&gt;

&lt;p&gt;[4]  RHS Operators Table&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+----------+-------------------------+---------------------------------------+
| RHS      | §                       | Description or use                    |
+----------+-------------------------+---------------------------------------+
| $ digit  | Copy by Position:       | Copy by position.                     | 
|          | $digit                  |                                       |
+----------+-------------------------+---------------------------------------+
| $:       | Rewrite Once Prefix: $: | Rewrite once (when used as a prefix), |
|          |                         | or specify the user in a delivery     |
|          |                         | agent &quot;triple,&quot; or specify the        |
|          |                         | default value to return on a failed   |
|          |                         | database-map lookup.                  | 
+----------+-------------------------+---------------------------------------+
| $@       | Rewrite-and-Return      | Rewrite and return (when used as a    |
|          | Prefix: $@              | prefix), or specify the host in a     |
|          |                         | delivery-agent &quot;triple,&quot; or specify   |
|          |                         | an argument to pass in a database-map |
|          |                         | lookup or action.                     | 
+----------+-------------------------+---------------------------------------+
| $&amp;gt; set   | Rewrite Through a Rule  | Rewrite through another rule set      |
|          | Set: $&amp;gt;set              | (such as a subroutine call that       |  
|          |                         | returns to the current position).     | 
+----------+-------------------------+---------------------------------------+
| $#       | Return a Selection: $#  | Specify a delivery agent or choose an |
|          |                         | action, such as to reject or discard  |
|          |                         | a recipient, sender, connection, or   |
|          |                         | message.                              |
+----------+-------------------------+---------------------------------------+
| $[ $]    | Canonicalize Hostname:  | Canonicalize the hostname.            | 
|          | $[ and $]               |                                       |
+----------+-------------------------+---------------------------------------+
| $( $)    | Use $( and $) in Rules  | Perform a lookup in an external       |
|          |                         | database, file, or network service,   |
|          |                         | or perform a change (such as          |
|          |                         | dequoting), or store a value into     |
|          |                         | a macro.                              |
+----------+-------------------------+---------------------------------------+
| $&amp;amp;       | Use Value As Is with $&amp;amp; | Delay conversion of a macro until     |
|          |                         | runtime.                              |
+----------+-------------------------+---------------------------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;http://www.harker.com/sendmail/check_compat.in.check_rcpt.html&quot;&gt;Using “env_sender $| env_rcpt” check_compat rules in the check_rcpt ruleset&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://groups.google.com/g/comp.mail.sendmail/c/1WfyI-e0nHU/m/xkdi2LcNjG4J&quot;&gt;Auth to ISP - comp.mail.sendmail news group&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Sat, 22 Oct 2022 09:50:18 -0700</pubDate>
        <link>http://localhost:4000/sendmail/smtp/mta/mailserver/cli/terminal/shell/freebsd/sysadmin/reference/2022/10/22/sendmail-notes.html</link>
        <guid isPermaLink="true">http://localhost:4000/sendmail/smtp/mta/mailserver/cli/terminal/shell/freebsd/sysadmin/reference/2022/10/22/sendmail-notes.html</guid>
        
        
        <category>sendmail</category>
        
        <category>smtp</category>
        
        <category>mta</category>
        
        <category>mailserver</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>freebsd</category>
        
        <category>sysadmin</category>
        
        <category>reference</category>
        
      </item>
    
      <item>
        <title>Time Management with Graphviz</title>
        <description>&lt;p&gt;OS: FreeBSD 13, Shell: csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat timegraph.gv
/*
  Colours:
    green = done
    orange = in progress
    red = not started
 */ 

digraph timegraph
{

  /*
    Graphviz - FaqClusterEdge - How can I create edges between cluster
  boxes? http://www.graphviz.org/content/FaqClusterEdge
  */
  compound = true; 

  graph [newrank = true]; 
  node [fontsize=10, shape = box];
  splines = &quot;line&quot;; // Force edges to be straight, no curves or angles

  subgraph clusterToday 
  {
    label = &quot;Today&quot;;
    style = &quot;filled&quot;;
    color = &quot;#91cf60&quot;;

    &quot;Inspect HP server fans&quot;;
  }

  subgraph clusterTomorrow
  {
    label = &quot;Tomorrow&quot;;

    //{ rank = same; &quot;Email backupmap&quot; ; }
  }

  subgraph clusterWeek1
  {
    label = &quot;1st Week of Oct&quot;;
  }

  subgraph clusterWeek2
  {
    label = &quot;2nd Week of Oct&quot;;
  }

  subgraph clusterWeek3
  {
    label = &quot;3rd Week of Oct&quot;;

    CVM [label = &quot;Clone groups2 VM&quot;]; 
    SVM [label = &quot;Stop KVM VM&quot;, color = &quot;red&quot;];
    EXVM [label = &quot;Export KVM VM&quot;, color = &quot;red&quot;];

    /*
      Group these three nodes - to keep the edges straight.

      From Graphviz documentation:  Attributes - group:
        Name for a group of nodes, for bundling edges avoiding crossings.
        If the end points of an edge belong to the same group, i.e., have the 
        same group attribute, parameters are set to avoid crossings and keep 
        the edges straight.
    */
    CVRT [group = gConvert, label = &quot;Convert QCOW2 to VMDK image&quot;, color = &quot;red&quot;];
    CNO [group = gConvert, label = &quot;Reqeust a new org in VMware Cloud Director&quot;, color = &quot;orange&quot;];
    IMPIMG [group = gConvert, label = &quot;Import VMDK image in VMware Cloud Director&quot;, color = &quot;red&quot;];
  
    CVM -&amp;gt; SVM -&amp;gt; EXVM -&amp;gt; CVRT; 
    CVM -&amp;gt; CNO;
    CNO -&amp;gt; IMPIMG;

    CVRT -&amp;gt; IMPIMG;
  }

  subgraph clusterWeek4
  {
    label = &quot;4th Week of Oct&quot;;
    &quot;Install SSL certs&quot;;
    &quot;Email reviews to Jill&quot;;
  }

  subgraph clusterWeek5
  {
    label = &quot;5th Week of Oct&quot;;
    &quot;Install git&quot;;   
  }

  subgraph clusterFuture
  {
    label = &quot;Future&quot;;

    &quot;Clone NE1032T switch\n
     Install Nagios\n
     Configure an automation system\n
     Backup QCOW2 images for all VMs&quot;;
  }

  label = &quot;Updated on Oct 19, 2022&quot;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Command to generate diagram:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dot -Tpng timemgraph.gv -o timemgraph.png 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Command to view the graph:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xv timegraph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Command to generate diagram with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make(1)&lt;/code&gt; tool.&lt;/p&gt;

&lt;p&gt;First create the Makefile file.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  Each of the lines with target in the Makefile must be
           preceded by a tab (in this case, lines with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dot&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rm&lt;/code&gt;,
           and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xv&lt;/code&gt; commands).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat Makefile
timegraph.png timegraph.pdf: timegraph.gv
	dot -Tpng timegraph.gv -o timegraph.png
	dot -Tpdf timegraph.gv -o timegraph.pdf
	xv timegraph.png
clean:
	rm -i *png *pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use the make(1):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you want to delete generated PDF and PNG files:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ make clean
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv timegraph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/timegraph.png&quot; alt=&quot;Displaying a time management diagram png image created by Grapvhiz&quot; title=&quot;Displaying a time management diagram png image created by Grapvhiz&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; To see the image in full size in a web browser, right-click on it and select “Open Image in New Tab”.&lt;/p&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://zwischenzugs.com/2017/12/18/project-management-as-code-with-graphviz/&quot;&gt;Project Management as Code with Graphviz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=15950325&quot;&gt;HackerNews Discussion&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ianmiell/pm-as-code&quot;&gt;Graphviz Source Code&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.graphviz.org/documentation/TSE93.pdf&quot;&gt;A Technique for Drawing Directed Graphs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Manpages for: make(1), style.Makefile(5) (on FreeBSD)&lt;/p&gt;

</description>
        <pubDate>Wed, 19 Oct 2022 08:03:09 -0700</pubDate>
        <link>http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/10/19/timemanagement-graphviz.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/10/19/timemanagement-graphviz.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>Using Graphviz Clusters</title>
        <description>&lt;p&gt;Host OS: FreeBSD 13, Shell: csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat backupmap.dot
/*
   Command to create the graph (when splines = &quot;line&quot;;): 
       dot -Tpng backupmap.dot -o backupmap.png

   Command to create the graph (when splines = &quot;ortho&quot;; in the dot file): 
       dot -Gsplines=none backupmap.dot | neato -n -Gsplines=ortho -Tpng -o backupmap.png
   ---&amp;gt; https://stackoverflow.com/questions/7922960/block-diagram-layout-with-dot-graphviz

   To view the graph:
   Install image viewer and cataloguer; for example:
       xv backupmap.png &amp;amp;
   Or: 
       feh backupmap.png &amp;amp;
*/

/*
  From:
    https://stackoverflow.com/questions/7586376/graphviz-subgraph-doesnt-get-visualized

  From the graphiz documentation, section &quot;Subgraphs and Clusters&quot;:

  The third role for subgraphs directly involves how the graph will be laid 
  out by certain layout engines.  

  From the graphviz documentation:
    https://graphviz.org/docs/attrs/cluster/

  If the name of the subgraph begins with &quot;cluster&quot;, Graphviz notes the 
  subgraph as a special cluster subgraph. 

  Alternatively, you can use
    cluster=true;
  within a cluster.
*/

digraph backupMap {
  /* 
     http://graphs.grevian.org/reference
     Used to influence the &apos;spring&apos; used in the layout. 
     Can be used to push nodes further apart, which is especially useful 
     for twopi and sfdp layouts
  */
  K = 0.6;
  
  /*
     Graphviz - FaqClusterEdge - How can I create edges between cluster boxes?
     http://www.graphviz.org/content/FaqClusterEdge
  */ 
  compound = true; 

  splines = &quot;line&quot;; // Force edges to be straight, no curves or angles
  //splines = &quot;ortho&quot;; 
  rankdir = &quot;LR&quot;;   // NOTE: rankdir can be used only once
  //rankdir = &quot;TB&quot;;
  graph [newrank = true]; 
  // To get the list of fonts:  fc-list
  node[fontname = &quot;Hermit-Bold&quot;, width = 1.5, height = 0.45, fontsize=9];
  nodesep = 0.14;

  /*  Subgraph Clusters
  
      Graphviz cluster alignment
        https://stackoverflow.com/questions/67295008/graphviz-cluster-alignment
  */

  subgraph clusterMain
  {
    style = &quot;dashed&quot;; 
    color = &quot;#625a5a&quot;;
    //peripheries = 0;  // To remove border around the cluster

    //label = &quot;MAIN CLUSTER&quot;;
    //graph[rankdir = &quot;LR&quot;];
    node [shape = box, style = filled, color = black, fillcolor = &quot;#91cf60&quot;];

    node [group = vert];
    a[group = g1, label = &quot;Servers&quot;];
    nfsServer [group = g1, label = &quot;NFS Servers&quot;]; 
    b[group = g1, label = &quot;Backup Destinations&quot;];

    // Added minlen in order to push the three &quot;Backup Destination&quot; clusters further away
    // NOTE:  This is the first  minlen; there&apos;s another one further below
    a -&amp;gt; nfsServer [minlen = 2.7, style = invis]; 
    nfsServer -&amp;gt; b [style = invis];
  }

  subgraph clusterA
  {
    color = &quot;#625a5a&quot;;
    node [shape = box, style = filled, color = black, fillcolor = &quot;#fee08b&quot;];
    peripheries = 0;  // To remove border around the cluster

    a15[label = &quot;redwood&quot;];
    a14[label = &quot;chestnut&quot;];
    a13[label = &quot;neon&quot;];
    a12[label = &quot;www&quot;];
    a11[label = &quot;xenon&quot;];
    a10[label = &quot;mail&quot;];
    a9[label  = &quot;mailx&quot;];
    a8[label  = &quot;groups&quot;];
    a7[label  = &quot;titanium&quot;];
    a6[label  = &quot;chemapps&quot;];
    a5[label  = &quot;wapps&quot;];
    a4[label  = &quot;www5&quot;];
    a3[label  = &quot;abacus&quot;];
    a2[label  = &quot;kvmhost3&quot;];
    a1[label  = &quot;ost&quot;];
  }

  {rank = same a -&amp;gt; {a1 a2 a3 a4 a5 a6 a7 a8 a9 a10 a11 a12 a13 a14 a15} [style = invis] };
  {rank = same b -&amp;gt; {LenovoDS2200 dcds1821 zfs} [ style = invis ] };  


  subgraph clusterBackupToLenovoSANds2200
  {
    //label = &quot;Backup Destination 1&quot;;
    label = &quot;                    &quot;;

    node [fillcolor = &quot;#F5F5F5&quot;, style = filled, shape = &quot;rectangle&quot;]; 

    /*
      Group these two nodes - to keep the edges straight.

      From Graphviz documentation:  Attributes - group:

        Name for a group of nodes, for bundling edges avoiding crossings.

        If the end points of an edge belong to the same group, i.e., have the 
        same group attribute, parameters are set to avoid crossings and keep 
        the edges straight.
    */
    kvmhost2 [group = gLenovoSAN, height = 0.10];
    LenovoDS2200 [group = gLenovoSAN, penwidth=5.0, shape = &quot;cylinder&quot;, label = &quot;Lenovo DS2200\n\nSAN Array&quot;]; 

    kvmhost2 -&amp;gt; LenovoDS2200 [label = &quot;iSCSI&quot;]; 
  }


  {rank = same kvmhost2 -&amp;gt; legend [style = invis] };


  subgraph clusterBackupToDcDs1821NAS
  {
    //label = &quot;Backup Destination 2&quot;;
    label = &quot;                   &quot;;

    node [fillcolor = &quot;#F5F5F5&quot;, style = filled, shape = &quot;rectangle&quot;];
    dummy1821 [style = invis];
    dcds1821 [penwidth = 5.0, shape = &quot;cylinder&quot;, label = &quot;dc-ds1821\n\nSynology NAS&quot;];

    // To force the subgraph to be similar size to the other two Backup Destinations subgraphs
    dummy1821 -&amp;gt; dcds1821 [style = invis]; 
  }

  subgraph clusterBackupToKrypton
  {
    //label = &quot;Backup Destination 3&quot;;
    label = &quot;                    &quot;;

    node [fillcolor=&quot;#F5F5F5&quot;, style=filled, shape=&quot;rectangle&quot;]; 

    krypton [group = gKrypton, height = 0.10];
    zfs [group = gKrypton, penwidth = 5.0, shape = &quot;cylinder&quot;, label = &quot;napp-it Appliance\nZFS\nOpenIndiana&quot;];

    krypton -&amp;gt; zfs [label = &quot;iSCSI&quot;];
  } 

  subgraph clusterLegend
  {
    dLC [ style = invis ];
    peripheries = 0;  // To remove border around the cluster

    legend
    [shape=none, margin=0, label=
      &amp;lt;
        &amp;lt;table border=&quot;0&quot; cellborder=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;4&quot;&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td colspan=&quot;2&quot;&amp;gt;Legend&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;red&quot;&amp;gt;red&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;red&quot;&amp;gt;Nightly rsync via NFS&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;green&quot;&amp;gt;green&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;green&quot;&amp;gt;tar via NFS&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;blue&quot;&amp;gt;blue&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;font color=&quot;blue&quot;&amp;gt;Nightly rsync&amp;lt;/font&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;D&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;Databases&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;W&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;/web or /www or /var/www dir&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;H&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;/home dir&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;G&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;/global dir&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
          &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;E&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;/etc, /opt, /root, /usr, /var directories&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
        &amp;lt;/table&amp;gt;
      &amp;gt;];

      dLC -&amp;gt; legend [style = invis];
  }

  edge [fontsize=9.0];

  a1:e  -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;green&quot;];                  // ost
  a2:e  -&amp;gt; kvmhost2 [taillabel=&quot;E&quot;, color=&quot;red&quot;];                       // kvmhost3
  a3:e  -&amp;gt; kvmhost2 [taillabel=&quot;G, H, E&quot;, color=&quot;red&quot;];                 // abacus 
  a4:e  -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;green&quot;];                  // www5
  a5:e  -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;red&quot;];                    // wapps
  a6:e  -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;red&quot;];                    // chemapps
  // Added minlen in order to push the three &quot;Backup Destination&quot; clusters further away
  // NOTE:  This is the second minlen; the first one is around 200 lines above
  a7:e  -&amp;gt; kvmhost2 [taillabel=&quot;E, W, H&quot;, minlen = 2.7, color=&quot;green&quot;]; // titanium 
  a8:e  -&amp;gt; kvmhost2 [taillabel=&quot;H, D&quot;, color=&quot;red&quot;];                    // groups
  a9:n  -&amp;gt; kvmhost2 [taillabel=&quot;H&quot;, color=&quot;red&quot;];                       // mailx
  a9:e  -&amp;gt; zfs      [taillabel=&quot;H&quot;, color=&quot;blue&quot;];                      // mailx
  a9    -&amp;gt; dcds1821 [taillabel=&quot;H, E&quot;, color=&quot;blue&quot;];                   // mailx
  a10:e -&amp;gt; kvmhost2 [taillabel=&quot;H&quot;, color=&quot;red&quot;];                       // mail
  a11:e -&amp;gt; kvmhost2 [taillabel=&quot;H, D, W&quot;, color=&quot;green&quot;];               // xenon 
  a12:e -&amp;gt; kvmhost2 [taillabel=&quot;D, W&quot;, color=&quot;green&quot;];                  // www
  a13:e -&amp;gt; zfs [taillabel=&quot;D, W&quot;, color=&quot;green&quot;];                       // neon
  a14:e -&amp;gt; dcds1821 [taillabel=&quot;E&quot;, color=&quot;blue&quot;];                      // chestnut
  a15:e -&amp;gt; dcds1821 [taillabel=&quot;E&quot;, color=&quot;blue&quot;];                      // redwood

/*
   Graphiz FAQ
     https://graphviz.org/faq/#FaqGraphLabel
   Q: How can I set a graph or cluster label without its propagating to all sub-clusters?
   A: Set the label at the end of the graph (before the closing brace), 
      after all its contents have been defined. (We admit it seems desirable 
      to define some special syntax for non-inherited attribute settings.)
*/
  label = &quot;Backup Map\nUpdated on: Sep 24, 2022&quot;;

}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% dot -Tpng backupmap.dot -o backupmap.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv backupmap.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/backupmap.png&quot; alt=&quot;Displaying a backup diagram png image created by Grapvhiz&quot; title=&quot;Displaying a backup diagram png image created by Grapvhiz&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; To see the image in full size in a web browser, right-click on it and select “Open Image in New Tab”.&lt;/p&gt;

</description>
        <pubDate>Sat, 24 Sep 2022 09:13:07 -0700</pubDate>
        <link>http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/09/24/graphviz-clusters.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/09/24/graphviz-clusters.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>How To Run diagrams.net (aka draw.io or drawio) Locally with Docker on FreeBSD 13 with vm-bhyve and Debian GNU/Linux</title>
        <description>&lt;p&gt;Host OS: FreeBSD 13, Shell: csh  &lt;br /&gt;
Guest OS: Debian GNU/Linux, Shell: bash&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Prerequsites:&lt;/p&gt;

&lt;p&gt;In Debian GNU/Linux VM guest (running inside bhyve):&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Docker installed&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker.service&lt;/code&gt; running&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;containerd.service&lt;/code&gt; running&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You can follow instructions outlined here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/freebsd/docker/vm/virtualization/howto/diagram/2022/02/24/freebsd-docker-linux-kroki-diagrams.html&quot;&gt;How to Run Kroki on FreeBSD 13 with vm-bhyve and Debian GNU/Linux VM&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm list
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    2048M   -    No         Stopped 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm start debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm console debianvm1
---- snip ----

debianvm1 login: dusko
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
docker run -d -p 9000:9000 -v \
/var/run/docker.sock:/var/run/docker.sock -v \
portainer_data:/data portainer/portainer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ss -an | grep 9000
tcp   LISTEN 0      4096    0.0.0.0:9000             0.0.0.0:*
tcp   LISTEN 0      4096    [::]:9000                [::]:*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
docker \
run -it --rm --name=&quot;draw&quot; \
-p 8080:8080 -p 8443:8443 \
jgraph/drawio
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;IP address of the guest VM (GNU/Linux Debian) is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.8.18&lt;/code&gt;.
The network interface name assigned by the OS is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enp0s5&lt;/code&gt;, and 
when you run the following inside the guest, you get its IP address:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show dev enp0s5 | grep -w inet 
    inet 192.168.8.18/24 brd 192.168.8.255 scope global dynamic enp0s5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use a Web browser on the FreeBSD host and open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://192.168.8.18:8080/&lt;/code&gt; 
or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://192.168.8.18:8443/&lt;/code&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jgraph.github.io/drawio/&quot;&gt;drawio&lt;/a&gt;
(Source to app.diagrams.net, &lt;a href=&quot;https://www.diagrams.net/&quot;&gt;www.diagrams.net&lt;/a&gt;) 
(Retrieved on Aug 28, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;draw.io, this project, is a configurable diagramming/whiteboarding 
visualization application. draw.io is owned and developed by JGraph Ltd, 
a UK based software company.&lt;/p&gt;

  &lt;p&gt;As well as running this project, we run a production-grade deployment 
of the diagramming interface at https://app.diagrams.net.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Scope of the Project&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;draw.io is a diagramming or whiteboarding application, depending on 
which theme is selected.  It is not an SVG editing app, the SVG export 
is designed only for embedding in web pages, not for further editing 
in other tools.&lt;/p&gt;

  &lt;p&gt;The application is designed to be used largely as-is.  It’s possible to 
alter the major parts of the interface, but if you’re looking for an 
editor with very specific editing features, the project is likely not 
a good base to use.&lt;/p&gt;

  &lt;p&gt;That is to say, if you wanted to create/deploy a whiteboard or 
diagramming application where the functionality in the main canvas is 
as this project provides, it more likely to be a good base to use. 
The default libraries, the menus, the toolbar, the default colours, 
the storage location, these can all be changed.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Running&lt;/strong&gt;&lt;/p&gt;

  &lt;p&gt;One way to run diagrams.net is to fork this project, &lt;a href=&quot;https://help.github.com/categories/github-pages-basics/&quot;&gt;publish the master 
branch to GitHub pages&lt;/a&gt; and the &lt;a href=&quot;https://jgraph.github.io/drawio/src/main/webapp/index.html&quot;&gt;pages sites&lt;/a&gt; will have the full editor 
functionality (sans the integrations).&lt;/p&gt;

  &lt;p&gt;Another way is to use &lt;a href=&quot;https://github.com/jgraph/docker-drawio&quot;&gt;the recommended Docker project&lt;/a&gt; or to download &lt;a href=&quot;https://get.diagrams.net/&quot;&gt;draw.io Desktop&lt;/a&gt;.&lt;/p&gt;

  &lt;p&gt;The full packaged .war of the client and servlets is built when the 
project is tagged and available on the &lt;a href=&quot;https://github.com/jgraph/draw.io/releases&quot;&gt;releases page&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        <pubDate>Sun, 28 Aug 2022 11:27:04 -0700</pubDate>
        <link>http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/08/28/run-diagrams-dot-net-aka-drawio-locally.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/08/28/run-diagrams-dot-net-aka-drawio-locally.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>java</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>How To Run diagrams.net (aka draw.io or drawio) Locally with a Java war File on FreeBSD 13</title>
        <description>&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From the draw.io project’s 
&lt;a href=&quot;https://github.com/jgraph/drawio#readme&quot;&gt;Readme&lt;/a&gt; file:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The full packaged .war of the client and servlets is built when the 
project is tagged and available on the &lt;a href=&quot;https://github.com/jgraph/draw.io/releases&quot;&gt;releases page&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;As of Aug 27, 2022, the latest draw.io version is 20.2.6.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir drawio
% cd drawio
% fetch https://github.com/jgraph/drawio/releases/download/v20.2.6/draw.war
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file draw.war
draw.war: Zip archive data, at least v1.0 to extract, compression method=store
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% unzip draw.war 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pwd
/usr/home/dusko/drawio
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ifconfig
---- snip ----
ue0: flags=8843&amp;lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500 
  options=68009b&amp;lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,VLAN_HWCSUM,
  LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6&amp;gt;
---- snip ----
        inet 192.168.1.9 netmask 0xffffff00 broadcast 192.168.1.255
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example, to run it with python3 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http.server&lt;/code&gt; module on port &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;8081&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.9 -m http.server 8081
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use a Web browser and open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://localhost:8081&lt;/code&gt; or
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://127.0.0.1:8081/&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://192.168.1.9:8081/&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Alternatively, on this system I could also run it with 
python 3.8. &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.8 -m http.server 8081
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;   If you use python2, to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SimpleHTTPServer&lt;/code&gt; module, 
you need to run this command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python2 -m SimpleHTTPServer 8081
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] About Python versions on this system:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg info --regex python 
python38-3.8.13_2
python39-3.9.13
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python; type python; whereis python; which python
python: not found
python:
python: Command not found.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python3.8; type python3.8; whereis python3.8; which python3.8
/usr/local/bin/python3.8
python3.8 is /usr/local/bin/python3.8
python3.8: /usr/local/bin/python3.8 /usr/local/man/man1/python3.8.1.gz
/usr/local/bin/python3.8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python3.9; type python3.9; whereis python3.9; which python3.9
/usr/local/bin/python3.9
python3.9 is /usr/local/bin/python3.9
python3.9: /usr/local/bin/python3.9 /usr/local/man/man1/python3.9.1.gz
/usr/local/bin/python3.9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/bin/python*
-r-xr-xr-x  1 root  wheel   5.1K Jul  3 05:11 /usr/local/bin/python3.8
-r-xr-xr-x  1 root  wheel   3.1K Jul  3 05:11 /usr/local/bin/python3.8-config
-r-xr-xr-x  1 root  wheel   5.1K Jul  2 18:17 /usr/local/bin/python3.9
-r-xr-xr-x  1 root  wheel   3.1K Jul  2 18:18 /usr/local/bin/python3.9-config
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 27 Aug 2022 10:34:06 -0700</pubDate>
        <link>http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/08/27/run-diagrams-dot-net-aka-drawio-with-java-war-image.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/08/27/run-diagrams-dot-net-aka-drawio-with-java-war-image.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>java</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>Fonts in X11 - aka Fonts in X (Xorg)</title>
        <description>&lt;p&gt;OS: FreeBSD 13   &lt;br /&gt;
Shell: csh &lt;br /&gt;
Window Manager: FVWM&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;iconv&lt;/li&gt;
  &lt;li&gt;python; e.g.:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;print(b.decode(&quot;utf8&quot;))&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Perl&lt;/li&gt;
  &lt;li&gt;Also, basically all or most from here:
&lt;a href=&quot;https://charbase.com/02b7-unicode-modifier-letter-small-w&quot;&gt;https://charbase.com/02b7-unicode-modifier-letter-small-w&lt;/a&gt;:  &lt;strong&gt;Decomposition&lt;/strong&gt;, Index, Class, Block, Java escape, Javascript escape, Python escape, HTML escapes, URL encoded, UTF8, UTF16&lt;/li&gt;
  &lt;li&gt;xterm tests - from e.g. Thomas E. Dickey &lt;a href=&quot;http://invisible-island.net/ncurses/&quot;&gt;http://invisible-island.net/ncurses/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;fonts-in-x11-x-window-system-aka-x&quot;&gt;Fonts in X11 (X Window System, aka X)&lt;/h2&gt;

&lt;p&gt;From “Linux in a Windows World” by Roderick W Smith
(O’Reilly Media, Inc. February 2005) and
“X Logical Font Description”
(archlinux Wiki, Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;p&gt;Two font systems:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The X core fonts; a.k.a. X fonts, a.k.a. XLFD (X Logical Font Description)
    &lt;ul&gt;
      &lt;li&gt;XLFD was originally designed for bitmap fonts and support for scalable
fonts (Type1, TrueType and OpenType) was added later.
XLFD does not support anti‑aliasing and sub‑pixel rasterization.&lt;/li&gt;
      &lt;li&gt;Designed with bitmap fonts in mind, meaning that individual characters
were designed for display at a specific size in pixels.
        &lt;ul&gt;
          &lt;li&gt;To support scaleable fonts, which can be resized, multiple bitmap
font files are required, one for each size. X servers ship with
several bitmap fonts in a variety of sizes, designed for both
72 dots per inch (dpi) and 100-dpi displays.&lt;/li&gt;
          &lt;li&gt;Most modern fonts, though, use scaleable font (a.k.a. outline font)
technologies, in which the font is described in terms of mathematical
descriptions of lines and curves.  These descriptions provide an
outline of a character, which the font renderer can scale to any
desired resolution and fill in.
            &lt;ul&gt;
              &lt;li&gt;The two most common scaleable font formats today are
&lt;strong&gt;PostScript Type 1&lt;/strong&gt; (a.k.a. Adobe Type Manager or ATM) fonts and
&lt;strong&gt;TrueType&lt;/strong&gt; fonts (TTF).&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Xft fonts (aka outline fonts or scalable fonts)
    &lt;ul&gt;
      &lt;li&gt;Designed around the FreeType library, which was originally a tool for
rendering TrueType fonts.  Today, though, Xft supports both TrueType
and Type 1 fonts.&lt;/li&gt;
      &lt;li&gt;Xft uses the FreeType and Fontconfig libraries and is more suitable
when the smooth appearance of fonts is desired.&lt;/li&gt;
      &lt;li&gt;Improved limitations in the X core fonts:
        &lt;ul&gt;
          &lt;li&gt;X core fonts can’t readily handle more than two colors per font
(Required a font technology known as font smoothing or anti-aliasing.
 Font smoothing uses shades of gray to deliberately blur fonts,
 which has the subjective effect of improving the appearance of
 fonts because it tends to hide the jagged edges along diagonal
 lines and curves.)&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Installing the X core fonts can be tricky.&lt;/li&gt;
      &lt;li&gt;X core fonts were not designed with printing in mind, and coordinating
the display and print fonts can be a challenge when using these fonts.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;
Individual X-based programs sometimes employ their own font-handling systems.&lt;/p&gt;

&lt;h2 id=&quot;installing-x-core-fonts-aka-traditional-x-fonts-aka-xlfd&quot;&gt;Installing X Core Fonts (aka “Traditional” X Fonts, aka XLFD)&lt;/h2&gt;

&lt;p&gt;KEYWORDS: core X X11 Xorg fonts monospaced bitmap pcf dpi dots per inch
          xdpyinfo resolution&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Download and install the font; that is, copy its files&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfontdir&lt;/code&gt; to recreate the font database&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfontscale&lt;/code&gt; to recreate an index of scalable font files for X&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xset fp+ /path/to/the/new/font&lt;/code&gt;  to append it to the font path&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xset fp rehash&lt;/code&gt; to  reread the font databases in the font path&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Environment:  FreeBSD 13.1, Shell: csh, WM: FVWM&lt;/p&gt;

&lt;h3 id=&quot;0-before-font-installation&quot;&gt;0. Before Font Installation&lt;/h3&gt;

&lt;p&gt;In this example, font to install will be:  &lt;strong&gt;Raize&lt;/strong&gt; monospaced bitmap font:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Tecate/bitmap-fonts&quot;&gt;https://github.com/Tecate/bitmap-fonts&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://github.com/Tecate/bitmap-fonts/blob/master/archives/raize.tar.gz&quot;&gt;https://github.com/Tecate/bitmap-fonts/blob/master/archives/raize.tar.gz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;XLD:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Xft:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list | grep -i raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;1-download-font-files&quot;&gt;1. Download Font Files&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir tmpuntar
% cd tmpuntar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pwd
/usr/home/dusko/tmpuntar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch https://github.com/Tecate/bitmap-fonts/raw/master/archives/raize.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% tar xf raize.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls
raize-bold-14.pcf.gz    raize-normal-14.pcf.gz  raize.tar.gz
raize-bold-17.pcf.gz    raize-normal-17.pcf.gz
raize-bold-19.pcf.gz    raize-normal-19.pcf.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -F /usr/local/share/fonts
100dpi/                 encodings/              OTF/
75dpi/                  firacode/               profont/
adobe-cmaps/            GentiumBasic/           raize/
atkinson-hyperlegible/  hermit/                 SourceCodePro/
b612/                   jmk-x11-fonts/          symbola/
Caladea/                Liberation/             terminus-font/
Carlito/                libertinus/             TerminusTTF/
courier-prime/          LinLibertineG/          TTF/
courierprimesans/       lucida/                 twemoji-color-font-ttf/
cyrillic/               misc/                   Type1/
dejavu/                 noto/                   xscreensaver/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo mkdir /usr/local/share/fonts/raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i /usr/home/dusko/tmpuntar/*.pcf.gz /usr/local/share/fonts/raize/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;2-run-mkfontdir-and-mkfontscale-to-recreate-the-font-database&quot;&gt;2. Run mkfontdir and mkfontscale to recreate the font database&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /usr/local/share/fonts/raize

% pwd
/usr/local/share/fonts/raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo mkfontdir
% sudo mkfontscale
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls /usr/local/share/fonts/raize/
fonts.dir               raize-bold-17.pcf.gz    raize-normal-17.pcf.gz
fonts.scale             raize-bold-19.pcf.gz    raize-normal-19.pcf.gz
raize-bold-14.pcf.gz    raize-normal-14.pcf.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pwd
/usr/home/dusko/tmpuntar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;3-run-xset-fp-pathtothenewfont-to-append-it-to-the-font-path&quot;&gt;3. Run xset fp+ /path/to/the/new/font to Append it to the Font Path&lt;/h3&gt;

&lt;h4 id=&quot;add-fontpath-to-the-fontsconf-or-xorgconf&quot;&gt;Add FontPath to the fonts.conf (or xorg.conf)&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/fontpath.d/fonts.conf
Section &quot;Files&quot;
    FontPath &quot;/usr/local/share/fonts/dejavu/&quot;
    ---- snip ---- 
    FontPath &quot;/usr/local/share/fonts/lucida/&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% tail -2 /usr/local/etc/X11/fontpath.d/fonts.conf
    FontPath &quot;/usr/local/share/fonts/lucida/&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo sed -i&apos;.SEDBAK&apos; &apos;/lucida/a \\
    FontPath &quot;/usr/local/share/fonts/raize/&quot; \
&apos; /usr/local/etc/X11/fontpath.d/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% tail -2 /usr/local/etc/X11/fontpath.d/fonts.conf
    FontPath &quot;/usr/local/share/fonts/raize/&quot; 
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset q | grep -i raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset fp+ /usr/local/share/fonts/raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Refresh (rehash) the font databases.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset fp rehash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset q | grep -i raize
  /usr/local/share/fonts/misc/,/usr/local/share/fonts/TTF/, [ ... ]
---- snip ----
[ ... ],/usr/local/share/fonts/lucida,/usr/local/share/fonts/lucida,/usr/local/sh
are/fonts/raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xset(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;fp rehash
        The rehash argument resets the font path to its current value,
        causing the server to reread the font databases in the current
        font path.  This is generally only used when adding new fonts
        to a font directory (after running mkfontdir to recreate the
        font database).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
To reset the font path to the server’s (that is, X server’s) default:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset fp default
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;4-xlsfonts1---list-the-new-font&quot;&gt;4. xlsfonts(1) - List the New Font&lt;/h3&gt;
&lt;h3 id=&quot;xlsfonts1---server-font-list-displayer-for-x&quot;&gt;xlsfonts(1) - Server Font List Displayer for X&lt;/h3&gt;

&lt;p&gt;List all X core fonts on the system:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | wc -l
   25462
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo xlsfonts | wc -l
Password:
   25462
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The newly installed ‘raize’ font is now displayed in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xlsfonts&lt;/code&gt; output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i raize
-fontforge-raize-bold-r-normal--0-0-75-75-m-0-iso8859-1
-fontforge-raize-bold-r-normal--14-130-75-75-m-80-iso8859-1
-fontforge-raize-bold-r-normal--17-160-75-75-m-90-iso8859-1
-fontforge-raize-bold-r-normal--19-180-75-75-m-110-iso8859-1
-fontforge-raize-normal-r-normal--0-0-75-75-m-0-iso8859-1
-fontforge-raize-normal-r-normal--17-160-75-75-m-90-iso8859-1
-fontforge-raize-normal-r-normal--19-180-75-75-m-110-iso8859-1
-fontforge-raize-regular-r-normal--0-0-75-75-m-0-iso8859-1
-fontforge-raize-regular-r-normal--14-130-75-75-m-80-iso8859-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To see all the characters in the newly installed font; for example, 
with Bold weight, pixel size 14, point size 130, dpi 75:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fn -fontforge-raize-bold-r-normal--14-130-75-75-m-80-iso8859-1 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: Also see the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfontsel(1)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Similarly, to start &lt;strong&gt;xterm&lt;/strong&gt; with the newly installed font:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fn -fontforge-raize-bold-r-normal--19-180-75-75-m-110-iso8859-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: If the value for the ‘-fn’ option has white spaces, enclose it in 
      quotes (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;NOTE: For Xft fonts, the option to use for specifying the font in xterm
      is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fa&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;NOTE: Usually you don’t need to refresh Xft cache (by running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache -fv&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list | grep -i raize
/usr/local/share/fonts/raize/raize-bold-17.pcf.gz: FontForge Raize:style=Bold
/usr/local/share/fonts/raize/raize-bold-14.pcf.gz: FontForge Raize:style=Bold
/usr/local/share/fonts/raize/raize-normal-17.pcf.gz: FontForge Raize:style=Regular
/usr/local/share/fonts/raize/raize-bold-19.pcf.gz: FontForge Raize:style=Bold
/usr/local/share/fonts/raize/raize-normal-14.pcf.gz: FontForge Raize:style=Regular
/sr/local/shame/fonts/raize/raize-normal-19.pcf.gz: FontForge Raize:style=Regular
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list : fullname | grep -i raize
:fullname=FontForge Raize Bold
:fullname=FontForge Raize Regular
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list : postscriptname | grep -i raize
:postscriptname=FontForge-Raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fa &quot;FontForge Raize Regular&quot;

% xterm -fa &quot;FontForge Raize Regular&quot; -fs 12
 
% xterm -fa &quot;FontForge-Raize&quot;

% xterm -fa &quot;FontForge-Raize&quot; -fs 12
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match(1)&lt;/code&gt;:  It best matches the whole pattern you are looking for:&lt;/p&gt;

&lt;p&gt;On this system, the default font is DejaVuSans.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match default
DejaVuSans.ttf: &quot;DejaVu Sans&quot; &quot;Book&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When the fc-match doesn’t find the font, it displays the default, which on this
system is DejaVuSans:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match raize
DejaVuSans.ttf: &quot;DejaVu Sans&quot; &quot;Book&quot;

% fc-match Raize
DejaVuSans.ttf: &quot;DejaVu Sans&quot; &quot;Book&quot;

% fc-match &quot;FontForge Raize Regular&quot;
DejaVuSans.ttf: &quot;DejaVu Sans&quot; &quot;Book&quot;

% fc-match &quot;FontForge Raize Bold&quot;
DejaVuSans.ttf: &quot;DejaVu Sans&quot; &quot;Book&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Only this works:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match &quot;FontForge Raize&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;raize-normal-14.pcf.gz: &quot;FontForge Raize&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list : family&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list : family | grep -i raize
FontForge Raize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list &quot;FontForge Raize&quot;
/usr/local/share/fonts/raize/raize-bold-17.pcf.gz: FontForge Raize:style=Bold
/usr/local/share/fonts/raize/raize-bold-14.pcf.gz: FontForge Raize:style=Bold
/usr/local/share/fonts/raize/raize-normal-17.pcf.gz: FontForge Raize:style=Regular
/usr/local/share/fonts/raize/raize-bold-19.pcf.gz: FontForge Raize:style=Bold
/usr/local/share/fonts/raize/raize-normal-14.pcf.gz: FontForge Raize:style=Regular
/usr/local/share/fonts/raize/raize-normal-19.pcf.gz: FontForge Raize:style=Regular
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;using-style&quot;&gt;Using :style=&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fa &quot;FontForge-Raize:style=Regular&quot; -fs 10
% xterm -fa &quot;FontForge-Raize:style=Bold&quot; -fs 10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For other options (for example, antialias or autohint), use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match --verbose &quot;FontForge Raize&quot;
Pattern has 43 elts (size 48)
        family: &quot;FontForge Raize&quot;(s)
        familylang: &quot;en&quot;(s)
        style: &quot;Regular&quot;(s)
        stylelang: &quot;en&quot;(s)
        fullname: &quot;FontForge Raize Regular&quot;(w)
        fullnamelang: &quot;en&quot;(s)
        slant: 0(i)(s)
        weight: 80(f)(s)
        width: 100(f)(s)
        size: 13.44(f)(w)
        pixelsize: 14(f)(s)
        spacing: 100(i)(s)
        foundry: &quot;FontForge&quot;(s)
        antialias: True(w)
        hintstyle: 0(i)(w)
        hinting: False(w)
        verticallayout: False(s)
        autohint: False(s)
        globaladvance: True(s)
        file: &quot;/usr/local/share/fonts/raize/raize-normal-14.pcf.gz&quot;(s)
        index: 0(i)(w)
        outline: False(s)
        scalable: False(s)
        dpi: 100(f)(w)
        rgba: 5(i)(w)
        scale: 1(f)(s)
        matrix: [0.892857 0; 0 0.892857](w)
        charset: 
        0000: 00000000 ffffffff ffffffff ffffffff 00000000 ffffffff ffffffff ffffffff
(s)
        lang: aa|ay|bi|br|ch|da|de|en|es|eu|fj|fo|fur|fy|gd|gl|gv|ho|ia|id|ie|io|is|it|lb|mg|nb|nds|nl|nn|no|nr|oc|om|pt|rm|sma|smj|so|sq|ss|st|sv|sw|tl|ts|uz|vo|wa|xh|yap|zu|an|fil|ht|jv|kj|kwm|li|ms|ng|pap-an|pap-aw|rn|rw|sc|sg|sn|su|za(s)
        fontversion: 0(i)(s)
        fontformat: &quot;PCF&quot;(s)
        embeddedbitmap: False(w)
        decorative: False(s)
        lcdfilter: 1(i)(w)
        namelang: &quot;en&quot;(s)
        prgname: &quot;fc-match&quot;(s)
        postscriptname: &quot;FontForge-Raize&quot;(s)
        color: False(s)
        symbol: False(s)
        variable: False(s)
        fonthashint: False(s)
        order: 0(i)(s)
        pixelsizefixupfactor: 0.892857(f)(w)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, for example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match --verbose &quot;Monoid&quot;
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fa &quot;Monoid:style=Regular:antialias=false&quot; -fs 12
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fa &quot;Monoid:style=Bold:autohint=true:antialias=false&quot; -fs 12
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For further customization (&lt;strong&gt;Xft&lt;/strong&gt; so not aplicable for the Raize font)
refer to Fontconfig rules, which are on FreeBSD 13 found in
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/fonts/&lt;/code&gt; directory:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -F /usr/local/etc/fonts/
conf.avail/             fonts.conf              fonts.dtd
conf.d/                 fonts.conf.sample
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls /usr/local/etc/fonts/conf.avail/
05-reset-dirs-sample.conf               30-metric-aliases.conf
09-autohint-if-no-hinting.conf          35-lang-normalize.conf
10-autohint.conf                        40-nonlatin.conf
10-hinting-full.conf                    42-luxi-mono.conf
10-hinting-medium.conf                  45-generic.conf
10-hinting-none.conf                    45-latin.conf
10-hinting-slight.conf                  48-spacing.conf
10-no-antialias.conf                    49-sansserif.conf
10-scale-bitmap-fonts.conf              50-user.conf
10-sub-pixel-bgr.conf                   51-local.conf
10-sub-pixel-none.conf                  57-dejavu-sans-mono.conf
10-sub-pixel-rgb.conf                   57-dejavu-sans.conf
10-sub-pixel-vbgr.conf                  57-dejavu-serif.conf
10-sub-pixel-vrgb.conf                  60-generic.conf
10-unhinted.conf                        60-latin.conf
10-yes-antialias.conf                   65-fonts-persian.conf
11-lcdfilter-default.conf               65-khmer.conf
11-lcdfilter-legacy.conf                65-nonlatin.conf
11-lcdfilter-light.conf                 69-unifont.conf
20-unhint-small-dejavu-sans-mono.conf   70-no-bitmaps.conf
20-unhint-small-dejavu-sans.conf        70-yes-bitmaps.conf
20-unhint-small-dejavu-serif.conf       80-delicious.conf
20-unhint-small-vera.conf               90-synthetic.conf
25-unhint-nonlatin.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;otfinfo(1)&lt;/code&gt; is also useful &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;otfinfo(1)&lt;/code&gt; but not in the case of
a monspaced bitmap font, such as in the above examle (Raize font) as
otfinfo reports information about OpenType fonts.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% otfinfo --help
‘Otfinfo’ reports information about an OpenType font to standard output.
Options specify what information to print.

Usage: otfinfo [-sfzpg | OPTIONS] [OTFFILES...]

Query options:
  -s, --scripts                Report font’s supported scripts.
  -f, --features               Report font’s GSUB/GPOS features.
  -z, --optical-size           Report font’s optical size information.
  -p, --postscript-name        Report font’s PostScript name.
  -a, --family                 Report font’s family name.
  -v, --font-version           Report font’s version information.
  -i, --info                   Report font’s names and designer/vendor info.
  -g, --glyphs                 Report font’s glyph names.
  -t, --tables                 Report font’s OpenType tables.
  -T, --dump-table NAME        Output font’s ‘NAME’ table.

Other options:
      --script=SCRIPT[.LANG]   Set script used for --features [latn].
  -V, --verbose                Print progress information to standard error.
  -h, --help                   Print this message and exit.
  -q, --quiet                  Do not generate any error messages.
      --version                Print version number and exit.

Report bugs to &amp;lt;ekohler@gmail.com&amp;gt;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;tip---dpi&quot;&gt;Tip - DPI&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts -fn &quot;-*-*-*-*-*-*-*-*-96-96-*-*-iso8859-1&quot; | wc -l
     371
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts -fn &quot;-*-*-*-*-*-*-*-*-96-96-*-*-*-1&quot; | wc -l
     783
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts -fn &quot;-*-*-*-*-*-*-*-*-96-96-*-*-*-*&quot; | wc -l
    4528
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr | grep -w connected
eDP-1 connected primary 1920x1080+0+0 (normal left inverted right x axis y axis) 276mm x 155mm
HDMI-2 connected 2560x1080+0+0 (normal left inverted right x axis y axis) 798mm x 334mm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;eDP-1 is my laptop’s screen. &lt;br /&gt;
HDMI-2 is my external monitor’s screen.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr | grep -w disconnected
DP-1 disconnected (normal left inverted right x axis y axis)
HDMI-1 disconnected (normal left inverted right x axis y axis)
DP-2 disconnected (normal left inverted right x axis y axis)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;scaling---aka-dpi-scaling&quot;&gt;Scaling - aka DPI Scaling&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr --output eDP-1 --scale 0.8x0.8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;my-distraction-free-writing-app&quot;&gt;My Distraction-Free Writing App&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fn &quot;-*-dejavu sans mono-*-*-*-*-*-280-*-*-*-*-*-*&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fn -xos4-terminus-medium-r-normal--32-320-72-72-c-316-iso8859-1 \
 -geometry 80x33
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;EXPLANATION:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | wc -l
   13812
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i terminus | wc -l
     380
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i terminus | grep iso8859 | wc -l
     208
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i terminus | grep &quot;iso8859-1&quot; | wc -l
     100
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i terminus | grep -w &quot;iso8859-1&quot; | wc -l
      24
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i terminus | grep -w &quot;iso8859-1&quot; | tail -1
-xos4-terminus-medium-r-normal--32-320-72-72-c-160-iso8859-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test the last one:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fn -xos4-terminus-medium-r-normal--32-320-72-72-c-160-iso8859-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This one works:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fn -xos4-terminus-medium-r-normal--32-320-72-72-c-316-iso8859-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Launch &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfontsel(1)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I use a dark Nord theme (configured in my &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.Xresources&lt;/code&gt;) so
my xfontsel window has a dark background.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.nordtheme.com&quot;&gt;Nord - An arctic, north-bluish color palette&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://www.nordtheme.com/ports/xresources&quot;&gt;Nord - Xresources port&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://github.com/nordtheme/xresources/blob/develop/src/nord&quot;&gt;The content of the nord file to be copied into the ```~/.Xresources&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfontsel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xfontsel_nordic_theme.jpg&quot; alt=&quot;Displaying xfontsel with a dark Nordic theme&quot; title=&quot;Displaying xfontsel with a dark Nordic theme&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To launch xfontsel with its usual colours:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfontsel -bg white -fg black
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xfontsel.jpg&quot; alt=&quot;Displaying xfontsel&quot; title=&quot;Displaying xfontsel&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For example, to list all monospaced fonts; that is, all X core monospaced
(XLFD) fonts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts -fn &quot;-*-*-*-*-*-*-*-*-*-*-m-*-*-*&quot; | wc -l
    3918
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts -fn &quot;-*-*-*-*-*-*-*-*-*-*-m-*-*-*&quot;
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test changing the value of the &lt;strong&gt;avgWdth&lt;/strong&gt; XLFD field name.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts -fn &quot;-xos4-terminus-medium-*-*--*-*-*-*-*-*-*-*&quot; | wc -l
     154
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts -fn &quot;-xos4-terminus-medium-*-*--*-*-*-*-*-*-*-*&quot; | grep -w &apos;iso8859-1&apos; | wc -l
      11
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts -fn &quot;-xos4-terminus-medium-*-*--*-*-*-*-*-*-*-*&quot; | grep -w &apos;iso8859-1&apos; 
-xos4-terminus-medium-r-normal--0-0-72-72-c-0-iso8859-1
-xos4-terminus-medium-r-normal--12-120-72-72-c-60-iso8859-1
-xos4-terminus-medium-r-normal--14-140-72-72-c-80-iso8859-1
-xos4-terminus-medium-r-normal--16-160-72-72-c-80-iso8859-1
-xos4-terminus-medium-r-normal--17-120-100-100-c-0-iso8859-1
-xos4-terminus-medium-r-normal--18-180-72-72-c-100-iso8859-1
-xos4-terminus-medium-r-normal--20-200-72-72-c-100-iso8859-1
-xos4-terminus-medium-r-normal--22-220-72-72-c-110-iso8859-1
-xos4-terminus-medium-r-normal--24-240-72-72-c-120-iso8859-1
-xos4-terminus-medium-r-normal--28-280-72-72-c-140-iso8859-1
-xos4-terminus-medium-r-normal--32-320-72-72-c-160-iso8859-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;converting-a-file-from-an-8-bit-character-set-for-example-iso_8859-1-to-utf-8-without-posting-the-file-to-a-remote-server&quot;&gt;Converting a File from an 8-bit Character Set (For Example ISO_8859-1) to UTF-8 without POSTing the File to a Remote server&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://www.acc.umu.se/~saasha/charconv/&quot;&gt;Converting a file from an 8-bit character set (for example ISO_8859-1) to UTF-8 without POSTing the file to a remote server&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt; In many cases, the most obvious way to solve such a problem is to save 
the file, open a terminal, move to the directory where the file resides 
(with cd …) and use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv&lt;/code&gt; similarly to:&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iconv -f iso88591 -t utf8 fileToConvert.txt &amp;gt; convertedFile.txt&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;Unfortunately, finding out how to start a terminal is not always easy 
in today’s GUI’s!&lt;/p&gt;

  &lt;p&gt;Here, you are given the opportunity to achieve such a conversion locally. 
Choose a character set (charset, encoding) in the list below and choose 
the file you wish to convert.  The JavaScript program linked to by this 
page will try to make your browser convert the file to UTF-8. 
If the conversion succeeds, you will be given the opportunity to save 
the converted file.&lt;/p&gt;

  &lt;p&gt;You do not need any Internet connection to achieve this conversion. 
You can save this page locally together with (in the same directory than) 
the JavaScript program it is linked to and open it in a browser to 
achieve the conversions even without any Internet connection.&lt;/p&gt;

  &lt;p&gt;Comments and suggestions may be sent to saasha@acc.umu.se.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;references&quot;&gt;References&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;XLFD&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/X_Logical_Font_Description&quot;&gt;X Logical Font Description (XLFD) - archlinux Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/x_resources&quot;&gt;X resources (Xresources) - archlinux Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.x.org/archive/X11R7.5/doc/fonts/fonts.html&quot;&gt;Fonts in X11R7.5 - x.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.x.org/releases/X11R7.5/doc/fonts/fonts.pdf&quot;&gt;Fonts in X11R7.5 (PDF) - x.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.faqs.org/docs/Linux-HOWTO/Font-HOWTO.html&quot;&gt;Font HOWTO - faqs.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.math.utah.edu/~beebe/fonts/X-Window-System-fonts.html&quot;&gt;Fonts in the X Window System&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tobiasjung.name/profont/&quot;&gt;ProFont&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.x.org/archive/X11R6.8.0/doc/fonts2.html&quot;&gt;Fonts in X11R6.8 - x.org – Section 2. Installing fonts&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bitsavers.org/pdf/hp/9000_hpux/9.x/B1171-90043_Using_the_X_Window_System_Nov91.pdf&quot;&gt;Using the X Window System - HP (Hewlett Packard Manual)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.oracle.com/cd/E19641-01/802-2011/802-2011.pdf&quot;&gt;Solaris X Window System Reference Manual&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://forum.tinycorelinux.net/index.php?topic=22967.0&quot;&gt;Change font size - Tiny Core Linux Forums&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Tecate/bitmap-fonts&quot;&gt;Tecate/bitmap-fonts: Monospaced bitmap fonts for X11, good for terminal use&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://forums.debian.net/viewtopic.php?t=136305&quot;&gt;Bitmap fonts - Debian User Forums&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://forums.debian.net/viewtopic.php?t=103877&quot;&gt;Dejavu Sans not listed by xlsfonts and missing in xfontsel - Debian User Forums&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://weirdfellow.wordpress.com/2010/07/25/valid-autohinting-hinting-style-options/&quot;&gt;Valid autohinting / hinting style options&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Xft&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://keithp.com/~keithp/render/Xft.tutorial&quot;&gt;An Xft Tutorial - Keith Packard - XFree86 Core Team, SuSE Inc.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.tcl-lang.org/page/Xft+support&quot;&gt;XFT Support - What is XFT? - Tcler’s Wiki (Tcl/Tk Wiki)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://twiserandom.com/unix/x11-fonts-a-tutorial/index.html&quot;&gt;X11 fonts - a tutorial&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20160303172834/http://www.antigrain.com/research/font_rasterization/index.html&quot;&gt;Texts Rasterization Exposures by Maxim Shemanarev (from archive.org)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://vector-agg-general.narkive.com/1wMI33Jj/agg-r-i-p-maxim-shemanarev&quot;&gt;https://vector-agg-general.narkive.com/1wMI33Jj/agg-r-i-p-maxim-shemanarev&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://weirdfellow.wordpress.com/2010/06/27/creature-of-habbit/&quot;&gt;Creature of habit&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;DPI&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.linuxquestions.org/questions/slackware-14/dpi-issues-on-high-resolution-screen-mainly-xterm-4175470553/&quot;&gt;[SOLVED] Dpi issues on high resolution screen, mainly XTerm - linuxquestions.org Forums&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/HiDPI&quot;&gt;HiDPI (High Dots Per Inch) Displays - archlinux Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/Xorg#Display_size_and_DPI&quot;&gt;Display size and DPI - archlinux Wiki&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;installing-xft-fonts-aka-fontconfig&quot;&gt;Installing Xft Fonts (aka Fontconfig)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/share/fonts/ | wc -l
      42

% ls -lh /usr/local/share/fonts/ | wc -l
      40
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /usr/local/etc/fonts/
drwxr-xr-x  4 root  wheel  7 Feb  3  2022 /usr/local/etc/fonts/

% ls -alh /usr/local/etc/fonts/ | wc -l
       8

% ls -lh /usr/local/etc/fonts/ | wc -l
       6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/fonts/
total 79
drwxr-xr-x  2 root  wheel    51B Feb  3  2022 conf.avail
drwxr-xr-x  2 root  wheel    33B Feb  3  2022 conf.d
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 fonts.conf
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 fonts.conf.sample
-rw-r--r--  1 root  wheel   8.1K Dec  3  2020 fonts.dtd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/fonts/conf.avail/ | wc -l
      52

% ls -lh /usr/local/etc/fonts/conf.avail/ | wc -l
      50
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/fonts/conf.d/ | wc -l
      34

% ls -lh /usr/local/etc/fonts/conf.d/ | wc -l
      32
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/fonts/conf.d/README
conf.d/README

Each file in this directory is a fontconfig configuration file.  Fontconfig
scans this directory, loading all files of the form [0-9][0-9]*.conf.
These files are normally installed in /usr/local/etc/fonts/conf.avail
and then symlinked here, allowing them to be easily installed and then
enabled/disabled by adjusting the symlinks.

The files are loaded in numeric order, the structure of the configuration
has led to the following conventions in usage:

 Files beginning with:  Contain:

 00 through 09          Font directories
 10 through 19          system rendering defaults (AA, etc)
 20 through 29          font rendering options
 30 through 39          family substitution
 40 through 49          generic identification, map family-&amp;gt;generic
 50 through 59          alternate config file loading
 60 through 69          generic aliases, map generic-&amp;gt;family
 70 through 79          select font (adjust which fonts are available)
 80 through 89          match target=&quot;scan&quot; (modify scanned patterns)
 90 through 99          font synthesis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/fonts/fonts.conf*
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 /usr/local/etc/fonts/fonts.conf
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 /usr/local/etc/fonts/fonts.conf.sample
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff /usr/local/etc/fonts/fonts.conf.sample /usr/local/etc/fonts/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file /usr/local/etc/fonts/fonts.conf
/usr/local/etc/fonts/fonts.conf: XML 1.0 document, ASCII text
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l /usr/local/etc/fonts/fonts.conf
     103 /usr/local/etc/fonts/fonts.conf

% sed &apos;/^[[:space:]]*$/d&apos; /usr/local/etc/fonts/fonts.conf | grep -v \# | wc -l
      87
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed &apos;/^[[:space:]]*$/d&apos; /usr/local/etc/fonts/fonts.conf | grep -v \#
&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;
&amp;lt;!DOCTYPE fontconfig SYSTEM &quot;urn:fontconfig:fonts.dtd&quot;&amp;gt;
&amp;lt;!-- /etc/fonts/fonts.conf file to configure system font access --&amp;gt;
&amp;lt;fontconfig&amp;gt;
        &amp;lt;description&amp;gt;Default configuration file&amp;lt;/description&amp;gt;
&amp;lt;!--
        DO NOT EDIT THIS FILE.
        IT WILL BE REPLACED WHEN FONTCONFIG IS UPDATED.
        LOCAL CHANGES BELONG IN &apos;local.conf&apos;.
        The intent of this standard configuration file is to be adequate for
        most environments.  If you have a reasonably normal environment and
        have found problems with this configuration, they are probably
        things that others will also want fixed.  Please submit any
        problems to the fontconfig bugzilla system located at fontconfig.org
        Note that the normal &apos;make install&apos; procedure for fontconfig is to
        replace any existing fonts.conf file with the new version.  Place
        any local customizations in local.conf which this file references.
        Keith Packard
--&amp;gt;
&amp;lt;!-- Font directory list --&amp;gt;
        &amp;lt;dir&amp;gt;/usr/local/share/fonts&amp;lt;/dir&amp;gt;
        &amp;lt;dir&amp;gt;/usr/local/lib/X11/fonts&amp;lt;/dir&amp;gt;
        &amp;lt;dir prefix=&quot;xdg&quot;&amp;gt;fonts&amp;lt;/dir&amp;gt;
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;dir&amp;gt;~/.fonts&amp;lt;/dir&amp;gt;
&amp;lt;!--
  Accept deprecated &apos;mono&apos; alias, replacing it with &apos;monospace&apos;
--&amp;gt;
        &amp;lt;match target=&quot;pattern&quot;&amp;gt;
                &amp;lt;test qual=&quot;any&quot; name=&quot;family&quot;&amp;gt;
                        &amp;lt;string&amp;gt;mono&amp;lt;/string&amp;gt;
                &amp;lt;/test&amp;gt;
                &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&amp;gt;
                        &amp;lt;string&amp;gt;monospace&amp;lt;/string&amp;gt;
                &amp;lt;/edit&amp;gt;
        &amp;lt;/match&amp;gt;
&amp;lt;!--
  Accept alternate &apos;sans serif&apos; spelling, replacing it with &apos;sans-serif&apos;
--&amp;gt;
        &amp;lt;match target=&quot;pattern&quot;&amp;gt;
                &amp;lt;test qual=&quot;any&quot; name=&quot;family&quot;&amp;gt;
                        &amp;lt;string&amp;gt;sans serif&amp;lt;/string&amp;gt;
                &amp;lt;/test&amp;gt;
                &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&amp;gt;
                        &amp;lt;string&amp;gt;sans-serif&amp;lt;/string&amp;gt;
                &amp;lt;/edit&amp;gt;
        &amp;lt;/match&amp;gt;
&amp;lt;!--
  Accept deprecated &apos;sans&apos; alias, replacing it with &apos;sans-serif&apos;
--&amp;gt;
        &amp;lt;match target=&quot;pattern&quot;&amp;gt;
                &amp;lt;test qual=&quot;any&quot; name=&quot;family&quot;&amp;gt;
                        &amp;lt;string&amp;gt;sans&amp;lt;/string&amp;gt;
                &amp;lt;/test&amp;gt;
                &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&amp;gt;
                        &amp;lt;string&amp;gt;sans-serif&amp;lt;/string&amp;gt;
                &amp;lt;/edit&amp;gt;
        &amp;lt;/match&amp;gt;
&amp;lt;!--
  Accept alternate &apos;system ui&apos; spelling, replacing it with &apos;system-ui&apos;
--&amp;gt;
        &amp;lt;match target=&quot;pattern&quot;&amp;gt;
                &amp;lt;test qual=&quot;any&quot; name=&quot;family&quot;&amp;gt;
                        &amp;lt;string&amp;gt;system ui&amp;lt;/string&amp;gt;
                &amp;lt;/test&amp;gt;
                &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&amp;gt;
                        &amp;lt;string&amp;gt;system-ui&amp;lt;/string&amp;gt;
                &amp;lt;/edit&amp;gt;
        &amp;lt;/match&amp;gt;
&amp;lt;!--
  Load local system customization file
--&amp;gt;
        &amp;lt;include ignore_missing=&quot;yes&quot;&amp;gt;conf.d&amp;lt;/include&amp;gt;
&amp;lt;!-- Font cache directory list --&amp;gt;
        &amp;lt;cachedir&amp;gt;/var/db/fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;cachedir prefix=&quot;xdg&quot;&amp;gt;fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;cachedir&amp;gt;~/.fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;config&amp;gt;
&amp;lt;!--
  Rescan configuration every 30 seconds when FcFontSetList is called
 --&amp;gt;
                &amp;lt;rescan&amp;gt;
                        &amp;lt;int&amp;gt;30&amp;lt;/int&amp;gt;
                &amp;lt;/rescan&amp;gt;
        &amp;lt;/config&amp;gt;
&amp;lt;/fontconfig&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /etc/fonts/fonts.conf
ls: /etc/fonts/fonts.conf: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;font-directory-list&quot;&gt;Font Directory List&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n &apos;Font directory list&apos; /usr/local/etc/fonts/fonts.conf
25:&amp;lt;!-- Font directory list --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 25,35p /usr/local/etc/fonts/fonts.conf
&amp;lt;!-- Font directory list --&amp;gt;

        &amp;lt;dir&amp;gt;/usr/local/share/fonts&amp;lt;/dir&amp;gt;
        &amp;lt;dir&amp;gt;/usr/local/lib/X11/fonts&amp;lt;/dir&amp;gt;


        &amp;lt;dir prefix=&quot;xdg&quot;&amp;gt;fonts&amp;lt;/dir&amp;gt;
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;dir&amp;gt;~/.fonts&amp;lt;/dir&amp;gt;

&amp;lt;!--
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.fonts&lt;/code&gt; directory will be removed in the future:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n removed /usr/local/etc/fonts/fonts.conf
32:     &amp;lt;!-- the following element will be removed in the future --&amp;gt;
91:     &amp;lt;!-- the following element will be removed in the future --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 32,34p /usr/local/etc/fonts/fonts.conf
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;dir&amp;gt;~/.fonts&amp;lt;/dir&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/share/fonts/ | wc -l
      42

% ls -lh /usr/local/share/fonts/ | wc -l
      40
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls /usr/local/share/fonts/
100dpi                  gnu-unifont             SourceHanSansK
75dpi                   ipamjm                  SourceHanSansSC
adobe-cmaps             jmk-x11-fonts           SourceHanSansTC
bitstream-vera          Liberation              SourceSansPro
Caladea                 LinLibertineG           symbola
cantarell               misc                    terminus-font
Carlito                 Monoid                  TerminusTTF
ChromeOS                nanum-coding-ttf        TTF
comic-neue              nanum-ttf               twemoji-color-font-ttf
cyrillic                noto                    Type1
dejavu                  OTF                     uw-ttyp0
encodings               SourceCodePro           vlgothic
GentiumBasic            SourceHanSans           wqy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /usr/local/lib/X11/fonts
ls: /usr/local/lib/X11/fonts: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld ~/.fonts/
drwxr-xr-x  3 dusko  dusko  214 Nov 22  2021 /home/dusko/.fonts/

% ls -alh ~/.fonts/ | wc -l
     215

% ls -lh ~/.fonts/ | wc -l
     213
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;font-cache-directory-list&quot;&gt;Font Cache Directory List&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n -i list /usr/local/etc/fonts/fonts.conf
25:&amp;lt;!-- Font directory list --&amp;gt;
87:&amp;lt;!-- Font cache directory list --&amp;gt;
96:  Rescan configuration every 30 seconds when FcFontSetList is called
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 87,94p /usr/local/etc/fonts/fonts.conf
&amp;lt;!-- Font cache directory list --&amp;gt;

        &amp;lt;cachedir&amp;gt;/var/db/fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;cachedir prefix=&quot;xdg&quot;&amp;gt;fontconfig&amp;lt;/cachedir&amp;gt;
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;cachedir&amp;gt;~/.fontconfig&amp;lt;/cachedir&amp;gt;

        &amp;lt;config&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.fontconfig&lt;/code&gt; directory will be removed in the future:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n removed /usr/local/etc/fonts/fonts.conf
32:     &amp;lt;!-- the following element will be removed in the future --&amp;gt;
91:     &amp;lt;!-- the following element will be removed in the future --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 91,92p /usr/local/etc/fonts/fonts.conf
        &amp;lt;!-- the following element will be removed in the future --&amp;gt;
        &amp;lt;cachedir&amp;gt;~/.fontconfig&amp;lt;/cachedir&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /var/db/fontconfig/
drwxr-xr-x  2 root  wheel  57 Mar 31 13:49 /var/db/fontconfig/

% ls -alh /var/db/fontconfig/ | wc -l
      58

% ls -lh /var/db/fontconfig/ | wc -l
      56
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /var/db/fontconfig/CACHEDIR.TAG
Signature: 8a477f597d28d172789f06886806bc55
# This file is a cache directory tag created by fontconfig.
# For information about cache directory tags, see:
#       http://www.brynosaurus.com/cachedir/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld ~/.fontconfig
ls: /home/dusko/.fontconfig: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;file--fontsalias&quot;&gt;File:  fonts.alias&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo locate fonts.alias
/usr/local/share/fonts/100dpi/fonts.alias
/usr/local/share/fonts/75dpi/fonts.alias
/usr/local/share/fonts/cyrillic/fonts.alias
/usr/local/share/fonts/misc/fonts.alias
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;list-information-about-current-fonts-configuration-font-path&quot;&gt;List Information about Current Fonts Configuration, Font Path&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xset -q | grep -n Font
22:Font Path:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xset -q | sed -n 22,23p
Font Path:
  /usr/local/share/fonts/misc/,/usr/local/share/fonts/TTF/,/usr/local/share/fonts/OTF/,/usr/local/share/fonts/Type1/,/usr/local/share/fonts/100dpi/,/usr/local/share/fonts/75dpi/,catalogue:/usr/local/etc/X11/fontpath.d,built-ins,/usr/local/share/fonts/100dpi,/usr/local/share/fonts/75dpi,/usr/local/share/fonts/adobe-cmaps,/usr/local/share/fonts/bitstream-vera,/usr/local/share/fonts/Caladea,/usr/local/share/fonts/cantarell,/usr/local/share/fonts/Carlito,/usr/local/share/fonts/ChromeOS,/usr/local/share/fonts/comic-neue,/usr/local/share/fonts/cyrillic,/usr/local/share/fonts/dejavu,/usr/local/share/fonts/GentiumBasic,/usr/local/share/fonts/gnu-unifont,/usr/local/share/fonts/ipamjm,/usr/local/share/fonts/jmk-x11-fonts,/usr/local/share/fonts/Liberation,/usr/local/share/fonts/LinLibertineG,/usr/local/share/fonts/misc,/usr/local/share/fonts/Monoid,/usr/local/share/fonts/nanum-coding-ttf,/usr/local/share/fonts/nanum-ttf,/usr/local/share/fonts/noto,/usr/local/share/fonts/OTF,/usr/local/share/fonts/SourceCodePro,/usr/local/share/fonts/SourceHanSans,/usr/local/share/fonts/SourceHanSansK,/usr/local/share/fonts/SourceHanSansSC,/usr/local/share/fonts/SourceHanSansTC,/usr/local/share/fonts/SourceSansPro,/usr/local/share/fonts/symbola,/usr/local/share/fonts/terminus-font,/usr/local/share/fonts/TerminusTTF,/usr/local/share/fonts/TTF,/usr/local/share/fonts/twemoji-color-font-ttf,/usr/local/share/fonts/Type1,/usr/local/share/fonts/uw-ttyp0,/usr/local/share/fonts/vlgothic,/usr/local/share/fonts/wqy,/usr/home/dusko/.fonts/knxt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;fc-cache1---build-font-information-cache-files&quot;&gt;fc-cache(1) - Build Font Information Cache Files&lt;/h3&gt;

&lt;p&gt;To refresh only system fonts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-cache -sv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DESCRIPTION
       fc-cache scans the font directories on the system and builds font
       information cache files for applications using fontconfig for their
       font handling.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-s     Only scan system-wide directories, omitting the places located
       in the user&apos;s home directory.

-v     Display status information while busy.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To force refresh fonts cache:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-cache -fv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-f     Force re-generation of apparently up-to-date cache files,
       overriding the timestamp checking.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Erase all existing cache files and rescan:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-cache -rv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;fc-list1---list-available-fonts&quot;&gt;fc-list(1) - List Available Fonts&lt;/h3&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DESCRIPTION
       fc-list lists fonts and styles available on the system for applications
       using fontconfig.  If any elements are specified, only those are
       printed.  Otherwise family and style are printed, unless verbose output
       is requested.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Number of &lt;strong&gt;fontconfig&lt;/strong&gt; fonts available to the user (lists all font faces):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list | wc -l
    3182
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Number of &lt;strong&gt;fontconfig&lt;/strong&gt; fonts available to root user (lists all font faces):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo fc-list | wc -l
Password:
    2966
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;fc-conflist1---show-the-ruleset-files-information-on-the-system&quot;&gt;fc-conflist(1) - Show the ruleset files information on the system&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-conflist | wc -l
      51

% sudo fc-conflist | wc -l
      50
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-conflist | grep dusko
+ /home/dusko/.config/fontconfig/fonts.conf: No description
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo fc-conflist | grep dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /home/dusko/.config/fontconfig/fonts.conf
-rw-r--r--  1 dusko  dusko   1.8K Oct 21  2021 /home/dusko/.config/fontconfig/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;: Courtesy of &lt;strong&gt;vermaden&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l /home/dusko/.config/fontconfig/fonts.conf
      52 /home/dusko/.config/fontconfig/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /home/dusko/.config/fontconfig/fonts.conf
&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;
&amp;lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&amp;gt;

&amp;lt;fontconfig&amp;gt;

  &amp;lt;!-- ANTIALIAS ALL FONTS --&amp;gt;
  &amp;lt;match target=&quot;font&quot;&amp;gt;
    &amp;lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;bool&amp;gt;true&amp;lt;/bool&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;edit name=&quot;hinting&quot;   mode=&quot;assign&quot;&amp;gt;&amp;lt;bool&amp;gt;false&amp;lt;/bool&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;edit name=&quot;hintstyle&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;int&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;edit name=&quot;dpi&quot;       mode=&quot;assign&quot;&amp;gt;&amp;lt;double&amp;gt;75&amp;lt;/double&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;edit name=&quot;rgba&quot;      mode=&quot;assign&quot;&amp;gt;&amp;lt;const&amp;gt;none&amp;lt;/const&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;!-- REPLACE THESE WITH A BETTER LOOKING FONT (MONO) --&amp;gt;
  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;Courier [Adobe]&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;Courier 10 Pitch&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;Fixed&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;Courier 10 Pitch&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;courier&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;Courier 10 Pitch&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;!-- REPLACE THESE WITH A BETTER LOOKING FONT (SANS) --&amp;gt;
  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;helvetica&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;arial&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;times&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;garamond&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;match target=&quot;pattern&quot;&amp;gt;
    &amp;lt;test name=&quot;family&quot;    qual=&quot;any&quot;&amp;gt;&amp;lt;string&amp;gt;lucida&amp;lt;/string&amp;gt;&amp;lt;/test&amp;gt;
    &amp;lt;edit name=&quot;family&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;string&amp;gt;trebuchet ms&amp;lt;/string&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

  &amp;lt;!-- DISABLE EMBEDDED BITMAPS --&amp;gt;
  &amp;lt;match target=&quot;font&quot; &amp;gt;
    &amp;lt;edit name=&quot;embeddedbitmap&quot; mode=&quot;assign&quot;&amp;gt;&amp;lt;bool&amp;gt;false&amp;lt;/bool&amp;gt;&amp;lt;/edit&amp;gt;
    &amp;lt;/match&amp;gt;

&amp;lt;/fontconfig&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;useful-tools-commands-and-code-snippets-for-exploring-fonts-in-x11&quot;&gt;Useful Tools, Commands and Code Snippets for Exploring Fonts in X11&lt;/h2&gt;

&lt;p&gt;Start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm&lt;/code&gt; with red cursor, font Source Code Pro and font size 18:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -cr red -fa &apos;Source Code Pro&apos; -fs 18
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fa&lt;/code&gt; option enables &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm&lt;/code&gt; to render &lt;strong&gt;Xft&lt;/strong&gt; fonts 
(a.k.a. fontconfig).&lt;/p&gt;

&lt;p&gt;The venerable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;file(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file /usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf
/usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf: TrueType Font data, digitally signed, 15 tables, 1st &quot;BASE&quot;, 72 names, Microsoft, language 0x408, type 256 string, \261\300\273\314 a\261\300\273\314 gi &amp;amp; l \274\265 \261\272\301\265\274\314\275\265\302\243\254\
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Report information about OpenType fonts with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;otfinfo(1)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% otfinfo --info /usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% otfinfo --features /usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print supported scripts and languages:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% otfinfo --scripts /usr/local/share/fonts/SourceCodePro/SourceCodePro-Regular.ttf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DFLT            Default
cyrl            Cyrillic
cyrl.SRB        Cyrillic/Serbian
grek            Greek
latn            Latin
latn.ATH        Latin/Athapaskan
latn.NSM        Latin/Northern Sami
latn.SKS        Latin/Skolt Sami
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Other interesting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;otfinfo&lt;/code&gt;’s options:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-g, --glyphs
     Print the name of every glyph in each font, one per line.

-u, --unicode
     Print each Unicode code point supported by the font, followed by
     the glyph number representing that code point (and, if present,
     the name of the corresponding glyph).

-t, --tables
     Print the size and name of every OpenType table in the font.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-z, --optical-size
     Print optical size information.

-p, --postscript-name
      Print each font&apos;s PostScript name.

-a, --family
     Print each font&apos;s family name.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xset -q
Keyboard Control:
  auto repeat:  on    key click percent:  0    LED mask:  00000000
  XKB indicators:
    00: Caps Lock:   off    01: Num Lock:    off    02: Scroll Lock: off
    03: Compose:     off    04: Kana:        off    05: Sleep:       off
    06: Suspend:     off    07: Mute:        off    08: Misc:        off
    09: Mail:        off    10: Charging:    off    11: Shift Lock:  off
    12: Group 2:     off    13: Mouse Keys:  off
  auto repeat delay:  660    repeat rate:  25
  auto repeating keys:  00ffffffdffffbbf
                        fadfffefffedffff
                        9fffffffffffffff
                        fff7ffffffffffff
  bell percent:  0    bell pitch:  400    bell duration:  100
Pointer Control:
  acceleration:  2/1    threshold:  4
Screen Saver:
  prefer blanking:  yes    allow exposures:  yes
  timeout:  600    cycle:  600
Colors:
  default colormap:  0x22    BlackPixel:  0x0    WhitePixel:  0xffffff
Font Path:
  /usr/local/share/fonts/misc/,/usr/local/share/fonts/TTF/,/usr/local/share/fonts/OTF/,/usr/local/share/fonts/Type1/,/usr/local/share/fonts/100dpi/,/usr/local/share/fonts/75dpi/,catalogue:/usr/local/etc/X11/fontpath.d,built-ins,/usr/local/share/fonts/100dpi,/usr/local/share/fonts/75dpi,/usr/local/share/fonts/adobe-cmaps,/usr/local/share/fonts/bitstream-vera,/usr/local/share/fonts/Caladea,/usr/local/share/fonts/cantarell,/usr/local/share/fonts/Carlito,/usr/local/share/fonts/ChromeOS,/usr/local/share/fonts/comic-neue,/usr/local/share/fonts/cyrillic,/usr/local/share/fonts/dejavu,/usr/local/share/fonts/GentiumBasic,/usr/local/share/fonts/gnu-unifont,/usr/local/share/fonts/ipamjm,/usr/local/share/fonts/jmk-x11-fonts,/usr/local/share/fonts/Liberation,/usr/local/share/fonts/LinLibertineG,/usr/local/share/fonts/misc,/usr/local/share/fonts/Monoid,/usr/local/share/fonts/nanum-coding-ttf,/usr/local/share/fonts/nanum-ttf,/usr/local/share/fonts/noto,/usr/local/share/fonts/OTF,/usr/local/share/fonts/politika-otf,/usr/local/share/fonts/politika-ttf,/usr/local/share/fonts/SourceCodePro,/usr/local/share/fonts/SourceHanSans,/usr/local/share/fonts/SourceHanSansK,/usr/local/share/fonts/SourceHanSansSC,/usr/local/share/fonts/SourceHanSansTC,/usr/local/share/fonts/SourceSansPro,/usr/local/share/fonts/symbola,/usr/local/share/fonts/terminus-font,/usr/local/share/fonts/TerminusTTF,/usr/local/share/fonts/TTF,/usr/local/share/fonts/twemoji-color-font-ttf,/usr/local/share/fonts/Type1,/usr/local/share/fonts/uw-ttyp0,/usr/local/share/fonts/vlgothic,/usr/local/share/fonts/wqy,/usr/home/dusko/.fonts/knxt
DPMS (Energy Star):
  Standby: 600    Suspend: 600    Off: 600
  DPMS is Enabled
  Monitor is On
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt; the content of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Font Path:&lt;/code&gt; line.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xrdb -query
! screen-independent resources
XTerm*saveLines:        1048576
XTerm*loginShell:       true
XTerm*charClass:        33:48,35:48,37:48,43:48,45-47:48,64:48,95:48,126:48
XTerm*eightBitInput:    false
XTerm*borderWidth:      4
Xcursor.theme:  Vanilla-DMZ
XTerm*cursorBlink:      true
XTerm*scrollKey:        true
XTerm*colorUL:  Yellow
XTerm*colorULMode:      true
XTerm*cursorColor:      Cyan
XTerm*background:       Black
XTerm*foreground:       White
XTerm*locale:   UTF-8
XTerm*faceNameDoublesize:       Noto Serif CJK JP
XTerm*scrollTtyOutput:  false
XTerm*selectToClipboard:        true
Xft.autohint:   0
Xft.antialias:  1
Xft.hinting:    1
Xft.rgba:       rgb
Xft.hintstyle:  hintlight
Xft.lcdfilter:  lcddefault
*VT100.Translations:    #override Button1 &amp;lt;Btn3Down&amp;gt;: select-end(PRIMARY,CUT_BUFFER0,CLIPBOARD) \n !Shift &amp;lt;Btn2Up&amp;gt;: insert-selection(CLIPBOARD) \n ~Shift ~Ctrl ~Meta &amp;lt;Btn2Up&amp;gt;: insert-selection(PRIMARY,CUT_BUFFER0) \n &amp;lt;Key&amp;gt;F3: string(&quot;cd ~/scratch/tmpscratch2&quot;) string(0x0d) \n Alt &amp;lt;Key&amp;gt;t: string(&quot;date | dzen2 -xs 2 -p 5 -bg blue&quot;) string(0x0d)
Xmessage*Scrollbar.thumb:       vlines2
Xmessage*Scrollbar.width:       2

! screen 0 resources
#if SCREEN_NUM == 0
#endif

! screen 1 resources
#if SCREEN_NUM == 1
#endif
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; This environment has two monitors so there are references to 
both of them: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#if SCREEN_NUM == 0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#if SCREEN_NUM == 1&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*VT100.Translations:&lt;/code&gt; is my own customization.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;List all monospaced fonts:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ fc-list | cut -f2 -d: | sort -u | grep -i Mono&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Print out the fixed width fonts that are available:&lt;/strong&gt; 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ fc-list :scalable=true:spacing=mono:&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Print out the fixed width fonts that are available with their family name:&lt;/strong&gt; 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ fc-list :scalable=true:spacing=mono: family&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Sort and page through the available fonts - not only fixed width fonts:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ fc-list | cut -f2 -d: | sort -u | less&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;To test the status of your colour support in XTerm:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tput colors
80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References: &lt;br /&gt;
(Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.futurile.net/2016/06/14/xterm-setup-and-truetype-font-configuration/&quot;&gt;XTerm introduction and TrueType fonts configuration&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.futurile.net/2016/06/15/xterm-256color-themes-molokai-terminal-theme/&quot;&gt;XTerm colour set-up and Molokai theme&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;installing-an-xft-font-aka-fontconfig---a-full-example&quot;&gt;Installing an Xft Font (aka Fontconfig) - A Full Example&lt;/h3&gt;

&lt;p&gt;OS:  FreeBSD 13.0 &lt;br /&gt;
Shell:  csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | wc -l
    3186
 
$ sudo fc-list | wc -l
    2968
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | grep -i hermit
$ sudo fc-list | grep -i hermit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsfonts | wc -l
   25462
 
$ sudo xlsfonts | wc -l
   25462
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsfonts | grep -i hermit
$ sudo xlsfonts | grep -i hermit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg search hermit
hermit-font-2.0_1      Monospaced font for programmers by a programmer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install hermit-font
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | wc -l
    3192
 
$ sudo fc-list | wc -l
    2974
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | grep -i hermit | wc -l
       6

$ sudo fc-list | grep -i hermit | wc -l
       6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list | grep -i hermit
/usr/local/share/fonts/hermit/Hermit-LightItalic.otf: Hermit,Hermit LightItalic:style=LightItalic,Regular
/usr/local/share/fonts/hermit/Hermit-Bold.otf: Hermit:style=Bold
/usr/local/share/fonts/hermit/Hermit-Regular.otf: Hermit:style=Regular
/usr/local/share/fonts/hermit/Hermit-RegularItalic.otf: Hermit:style=RegularItalic,Italic
/usr/local/share/fonts/hermit/Hermit-Light.otf: Hermit,Hermit Light:style=Light,Regular
/usr/local/share/fonts/hermit/Hermit-BoldItalic.otf: Hermit:style=BoldItalic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsfonts | wc -l
   25462

$ sudo xlsfonts | wc -l
   25462
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xlsfonts | grep -i hermit
$ sudo xlsfonts | grep -i hermit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list : fullname | grep -i hermit | wc -l
       6

$ fc-list : fullname | grep -i hermit
:fullname=Hermit Bold
:fullname=Hermit Light
:fullname=Hermit RegularItalic
:fullname=Hermit BoldItalic
:fullname=Hermit LightItalic
:fullname=Hermit Regular
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list : postscriptname | grep -i hermit | wc -l
       6

$ fc-list : postscriptname | grep -i hermit
:postscriptname=Hermit-Regular
:postscriptname=Hermit-RegularItalic
:postscriptname=Hermit-LightItalic
:postscriptname=Hermit-Bold
:postscriptname=Hermit-Light
:postscriptname=Hermit-BoldItalic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-match hermit 
Hermit-Regular.otf: &quot;Hermit&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-match Hermit
Hermit-Regular.otf: &quot;Hermit&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-query /usr/local/share/fonts/hermit/Hermit-Regular.otf | wc -l
      41
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-query /usr/local/share/fonts/hermit/Hermit-Regular.otf 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ file /usr/local/share/fonts/hermit/Hermit-Regular.otf
/usr/local/share/fonts/hermit/Hermit-Regular.otf: OpenType font data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --info /usr/local/share/fonts/hermit/Hermit-Regular.otf
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --features /usr/local/share/fonts/hermit/Hermit-Regular.otf
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --scripts /usr/local/share/fonts/hermit/Hermit-Regular.otf
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --glyphs /usr/local/share/fonts/hermit/Hermit-Regular.otf | wc -l
     393
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --glyphs /usr/local/share/fonts/hermit/Hermit-Regular.otf | wc -l
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --unicode /usr/local/share/fonts/hermit/Hermit-Regular.otf | wc -l
     391
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --unicode /usr/local/share/fonts/hermit/Hermit-Regular.otf 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --font-version /usr/local/share/fonts/hermit/Hermit-Regular.otf
Version 2.000;PS 002.000;hotconv 1.0.88;makeotf.lib2.5.64775
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --optical-size /usr/local/share/fonts/hermit/Hermit-Regular.otf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ otfinfo --postscript-name /usr/local/share/fonts/hermit/Hermit-Regular.otf
Hermit-Regular
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list -v Hermit-Regular charset 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-list -v Hermit-Regular
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xfd -fa Hermit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa Hermit -fs 14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa &apos;Hermit:light&apos; -fs 14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Font face size (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fs&lt;/code&gt; option for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm&lt;/code&gt;) and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pixelsize&lt;/code&gt; are 
not the same so the following two are different:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa &apos;Hermit:light:pixelsize=14:antialias=true:autohint=true&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa &apos;Hermit:light:antialias=true:autohint=true&apos; -fs 14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This table gives an approximate conversion between points and pixels:&lt;br /&gt;
&lt;a href=&quot;https://reeddesign.co.uk/test/points-pixels.html&quot;&gt;Approximate conversion from points to pixels - ReedDesign&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Here’s a chart that converts points to pixels (and ems and %). 
It’s an approximation, which will depend on font, browser and OS, but 
it’s a good starting point.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;As per that table, 14pt is approximately 19px:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xterm -fa &apos;Hermit:light:pixelsize=19:antialias=true:autohint=true&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and that’s the same (similar) to the font face size of 14: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ xterm -fa &apos;Hermit:light:antialias=true:autohint=true&apos; -fs 14&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Hermit font setup reference: &lt;br /&gt;
&lt;a href=&quot;http://eradman.com/posts/openbsd-workstation.html&quot;&gt;Eric Radman - Workstation Notes&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;h2 id=&quot;converting-unicode-to-utf-8&quot;&gt;Converting Unicode to UTF-8&lt;/h2&gt;

&lt;h3 id=&quot;a-short-introduction&quot;&gt;A Short Introduction&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Not going into details about different operating systems, 
different shells, different fonts, locales, different editors, 
different ordering and byte format (7-bit, 8-bit, single byte, 
double byte, multi-byte), double-wide characters, collation, 
endianness, composing &amp;amp; decomposing, UTF-8 vs. UTF-16 vs. UTF-32
&lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, etc.&lt;/p&gt;

&lt;p&gt;Here’s just a few references to illustrate how complex this area is:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;amp;id=UnicodeSupport&quot;&gt;Software requirements for different levels of Unicode Support&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Vim supports editing Unicode in the GUI version and in terminals that 
support UTF-8.  Double-wide characters can be used, and up to two 
composing characters are supported.  When reading a file, Vim can often 
detect how it is encoded and convert the text when necessary. 
UTF-8 files are edited without conversion.  Other Unicode formats 
(16 bit and 32 bit) are converted internally.  Conversion is also used 
to edit files in just about any encoding, using an external converter.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://invisible-island.net/ncurses/ncurses.faq.html&quot;&gt;About Vim’s Unicode support - from What is ncurses? - by Thomas E. Dickey, developer and maintainer of xterm&lt;/a&gt; &lt;br /&gt;
(Updated on Mar 16, 2022) (Retrieved on Apr 17, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Vim &lt;br /&gt;
Vim’s developers provide their own termcap definitions, just in case 
there is nothing good enough on the system, and provide features for 
overriding the system’s termcap capabilities even when using the system 
definition as a starting point.  Because of this, vim has had little 
impact on ncurses development; the change-log does not mention vim. 
On the other hand, unlike screen, the source-code for vim still contains 
a comment about a bug in ncurses which was addressed in late 1997, 
before ncurses 4.2 was released.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://vi.stackexchange.com/questions/341/what-is-the-relation-between-vi-nvi-and-vim&quot;&gt;History of - What is the relation between vi, nvi and vim? - Vi and Vim Stack Exchange&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;http://ex-vi.sourceforge.net/&quot;&gt;The Traditional Vi&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;This port of vi has generally preserved the original style, terminal 
control, and feature set.  It adds &lt;strong&gt;support for international character 
sets, including multibyte encodings such as UTF-8&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;), 
and some minor enhancements that were not present in BSD vi 3.7, but had 
been included in later vi versions for System V or in POSIX.2.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;http://ex-vi.sourceforge.net/README&quot;&gt;The Traditional Vi README&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Welcome to the ex/vi port!
==========================

This implementation is derived from ex/vi 3.7 of 6/7/85 and the BSD
termcap library, originally from the 2.11BSD distribution. All of them
were changed to compile and run on newer POSIX compatible Unix systems.
Support for international character sets was added, including support
for multibyte locales (based on UTF-8 or East Asian encodings), and some
changes were made to get closer to the POSIX.2 guidelines for ex and
vi. Some issues that were clearly bugs and not features have also been
resolved; see the Changes file for details.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On FreeBSD 13.1 - RELEASE:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v vi; type vi; whereis vi; which vi
/usr/bin/vi
vi is /usr/bin/vi
vi: /usr/bin/vi /usr/share/man/man1/vi.1.gz
/usr/bin/vi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/bin/vi
-r-xr-xr-x  6 root  wheel   463K Jul 27 11:06 /usr/bin/vi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v nvi; type nvi; whereis nvi; which nvi
/usr/bin/nvi
nvi is /usr/bin/nvi
nvi: /usr/bin/nvi /usr/share/man/man1/nvi.1.gz
/usr/bin/nvi
 
% ls -lh /usr/bin/nvi
-r-xr-xr-x  6 root  wheel   463K Jul 27 11:06 /usr/bin/nvi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff /usr/bin/vi /usr/bin/nvi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference:  &lt;br /&gt;
From a FreeBSD Forum post started on Dec 24, 2014 &lt;br /&gt;
&lt;a href=&quot;https://forums.freebsd.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/&quot;&gt;How do I type in special characters, such as ∞ in the terminal in vi?&lt;/a&gt;, 
post #3 &lt;a href=&quot;https://forums.FreeBSD.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/post-277491&quot;&gt;https://forums.FreeBSD.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/post-277491&lt;/a&gt; (Retrieved on Apr 17, 2022): &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;For a complete and detailed list of differences and improvements, 
here’s the official &lt;a href=&quot;https://vimhelp.org/vi_diff.txt.html#vi-differences&quot;&gt;Differences between Vim and Vi&lt;/a&gt; document at the &lt;a href=&quot;https://vimhelp.org/&quot;&gt;Vim help files&lt;/a&gt; site (an HTML version of the Vim help pages).&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;converting-unicode-to-utf-8-when-you-know-unicode-code-point&quot;&gt;Converting Unicode to UTF-8 When You Know Unicode Code Point&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  Code point is also known as codepoint or code position.&lt;/p&gt;

&lt;h4 id=&quot;converting-with-od1&quot;&gt;Converting with od(1)&lt;/h4&gt;

&lt;p&gt;OS: FreeBSD 13.1 &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;p&gt;For example, use the character U+02B7: MODIFIER LETTER SMALL W for testing: &lt;br /&gt;
&lt;a href=&quot;https://charbase.com/02b7-unicode-modifier-letter-small-w&quot;&gt;U+02B7: MODIFIER LETTER SMALL W&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://charbase.com/&quot;&gt;Charbase - A visual Unicode database&lt;/a&gt;
(Retrieved on Apr 17, 2022)&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Charbase is a visual database of characters from the Unicode 6.1 
standard, made available without clutter.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni.pl&lt;/code&gt; Perl script, obtained from Leah Neukirchen’s dotfiles and bin section:  &lt;br /&gt;
&lt;a href=&quot;https://leahneukirchen.org/dotfiles/bin/uni&quot;&gt;uni PATTERN - list unicode symbols matching PATTERN&lt;/a&gt;) (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl ʷ
ʷ       02B7    MODIFIER LETTER SMALL W
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ʷ &amp;gt; chartest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat chartest
ʷ% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -ac chartest
0000000   ca  b7
           ʷ  **
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n ʷ &amp;gt; chartest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat chartest
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -ac chartest
0000000   ca  b7  nl
           ʷ  **  \n
0000003
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 1 -ac chartest
0000000   ca
         312
0000001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a 2-byte character:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 2 -ac chartest
0000000   ca  b7
           ʷ  **
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In &lt;strong&gt;UTF-8&lt;/strong&gt;, this character is  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CA B7&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 2 -t x1 chartest
0000000    ca  b7
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 2 -c -t x1 chartest
0000000    ʷ  **
           ca  b7
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -N 2 -ab chartest
0000000   ca  b7
          312 267
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;TIP:&lt;/strong&gt;&lt;br /&gt;
For POSIX compliance, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/65803/why-is-printf-better-than-echo&quot;&gt;Why is printf better than echo?&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.in-ulm.de/%7Emascheck/various/echo+printf/&quot;&gt;echo(1) and printf(1)&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.etalabs.net/sh_tricks.html&quot;&gt;Rich’s sh (POSIX shell) tricks&lt;/a&gt; (Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;For POSIX compliance, for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; you need &lt;strong&gt;octal&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Not going into details about different operating systems, 
different shells, different fonts, locales, etc.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\312\267&apos;
ʷ%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\312\267\n&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  On FreeBSD 13.1-RELEASE in csh:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v printf; type printf; whereis printf; which printf
printf
printf is a shell builtin
printf: /usr/bin/printf /usr/share/man/man1/printf.1.gz
/usr/bin/printf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version
13.1-RELEASE

% ps $$
  PID TT  STAT    TIME COMMAND
22492  9  Ss   0:00.17 -csh (csh)

% printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;TIP:&lt;/strong&gt;  You can use the Posix-standard &lt;a href=&quot;https://pubs.opengroup.org/onlinepubs/9699919799/utilities/command.html&quot;&gt;command&lt;/a&gt; command to avoid the use of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; builtin: &lt;br /&gt;
  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;command printf&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;You can also do it directly by specifying the complete path to the 
non-builtin &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt;:  &lt;br /&gt;
  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/bin/printf&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Discussion about this (retrieved on Apr 17, 2022): &lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/27652458/whats-the-best-way-to-embed-a-unicode-character-in-a-posix-shell-script&quot;&gt;What’s the best way to embed a Unicode character in a POSIX shell script?&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Per this reference (retrieved on Apr 17, 2022):  &lt;br /&gt;
&lt;a href=&quot;https://askubuntu.com/questions/601137/how-to-print-an-octal-values-corresponding-utf-8-character-in-bash&quot;&gt;https://askubuntu.com/questions/601137/how-to-print-an-octal-values-corresponding-utf-8-character-in-bash&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%b\n&quot; &apos;\312\267&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% awk &apos;BEGIN {print &quot;\312\267&quot;}&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;converting-unicode-to-utf-8-when-you-dont-know-unicode-code-point&quot;&gt;Converting Unicode to UTF-8 When You Don’t Know Unicode Code Point&lt;/h3&gt;

&lt;p&gt;From 
&lt;a href=&quot;https://unix.stackexchange.com/questions/55770/does-hexdump-respect-the-endianness-of-its-system&quot;&gt;Does hexdump respect the endianness of its system?&lt;/a&gt; 
(Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The traditional BSD hexdump utility uses the platform’s endianness so 
the output you see means your machine is little-endian.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;TIP:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump -C&lt;/code&gt; (or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od -t x1&lt;/code&gt;) to get &lt;strong&gt;consistent byte-by-byte output 
irrespective of the platform’s endianness&lt;/strong&gt; (&lt;em&gt;emphasis mine&lt;/em&gt;).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Therefore:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ʷ | hexdump -C
00000000  ca b7                                             |..|
00000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ʷ | od -t x1
0000000    ca  b7
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From here, follow the instructions above for:  &lt;br /&gt;
&lt;a href=&quot;#converting-unicode-to-utf-8-when-you-know-unicode-code-point&quot;&gt;Converting Unicode to UTF-8 When You Know Unicode Code Point&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also, from the same question - different answer:  &lt;br /&gt;
&lt;a href=&quot;https://unix.stackexchange.com/questions/55770/does-hexdump-respect-the-endianness-of-its-system/55771#55771&quot;&gt;https://unix.stackexchange.com/questions/55770/does-hexdump-respect-the-endianness-of-its-system/55771#55771&lt;/a&gt;
(Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;p&gt;Your output is little-endian (least significant byte first), which is also the endianness of the x86 and x86_64 architectures, which you are probably using.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  If no format strings are specified, the default display 
in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump(1)&lt;/code&gt; is equivalent to specifying the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-x&lt;/code&gt; option – From the 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump(1)&lt;/code&gt; manpage:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-x      Two-byte hexadecimal display.  Display the input offset in hexa‐
        decimal, followed by eight, space separated, four column, zero-
        filled, two-byte quantities of input data, in hexadecimal, per
        line.

... 

If no format strings are specified, the default display is equivalent 
to specifying the -x option.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ʷ | hexdump
0000000 b7ca
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;troubleshooting-fonts&quot;&gt;Troubleshooting Fonts&lt;/h2&gt;

&lt;h3 id=&quot;try-a-different-application&quot;&gt;Try a Different Application&lt;/h3&gt;

&lt;p&gt;Even though you can list a font with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list(1)&lt;/code&gt; and then grep for it,
sometimes it will not be available in some applications, or if it’s
available it will not work.&lt;/p&gt;

&lt;p&gt;Possible fix: try a different app.
For example, I had a problem with a font in TEA &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;
and LibreOffice &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; – The fix was to use
AbiWord &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;, which worked fine with that font.&lt;/p&gt;

&lt;h3 id=&quot;useful-tools-commands-and-code-snippets-for-troubleshooting-fonts-in-x11&quot;&gt;Useful Tools, Commands and Code Snippets for Troubleshooting Fonts in X11&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Search for a font by its name:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list : fullname | grep -i FontNameHere&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Search for a font by its PostScript name:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list : postscriptname | grep -i FontNameHere&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Show the list of supported characters in a font:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list -v &apos;FontName: style=Regular&apos; charset&lt;/code&gt;   &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list -v &apos;FontName&apos; charset&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Query the font:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-query /usr/local/share/fonts/FontNameHere/FontFile.ttf&lt;/code&gt;
Number of elts (size) that pattern has, family, style (e.g. Regular),
fullname, slant, weight, width, foundry, is it outline, is it scalable,
charset, lang (supported languages), fontversion, postscriptname,
is it color.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Display the font (display all the characters) in an X core font:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd -fn FontName&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Display the font (display all the characters) in an Xft font:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd -fa FontName&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Check if the current terminal and font support a Unicode character
(with Perl) (e.g. “ʷ” U+02B7: Modifier Letter Small W):&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perl -C -e &apos;print chr 0x02B7&apos;&lt;/code&gt;
    or
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perl -C -e &apos;print pack(&quot;U&quot;,0x02b7).&quot;\n&quot;&apos;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Reference:  Create unicode character with pack &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;A simple Perl one-liner:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;print chr(0x02b7); print &quot;\n&quot;&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Wide character in print at -e line 1.
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;print &quot;\x{02b7}\n&quot;&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Wide character in print at -e line 1.
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  “Wide character in print at …”
Perl warns you if you print a string that has a character with an ordinal
value greater than 255 (hence it is a “wide” character that requires more
than one byte of storage).
Explicitly &lt;a href=&quot;https://en.wikibooks.org/wiki/Perl_Programming/Unicode_UTF-8#3._Encoding_and_output&quot;&gt;encode your output&lt;/a&gt; to avoid this warning:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;binmode STDOUT, &quot;:encoding(utf8)&quot;; print &quot;\x{02b7}\n&quot;&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;binmode STDOUT, &quot;:encoding(utf8)&quot;; print chr(0x02b7); print &quot;\n&quot;&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From &lt;a href=&quot;https://stackoverflow.com/questions/31198425/perl-pack-a-utf-8-chinese-character-how-to-unpack-to-get-this-character&quot;&gt;perl pack a utf-8 Chinese Character how to unpack to get this Character?&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat unpack.pl
#!/usr/local/bin/perl

use utf8;
binmode STDOUT,&quot;:utf8&quot;;

my $packed = pack(&quot;U*&quot;, 0x02b7);
print &quot;$packed\n&quot;;  # ʷ

my $unpacked = unpack(&quot;U*&quot;, &quot;ʷ&quot;);
printf &quot;0x%X\n&quot;, $unpacked;  # 0x02b7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% chmod 0744 unpack.pl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./unpack.pl
ʷ
0x2B7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another useful Perl Unicode code snippet:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -MDevel::Peek -e &apos;Dump(pack(&quot;U&quot;, 0x02b7));&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SV = PV(0x800e28060) at 0x800e5f7b0
  REFCNT = 1
  FLAGS = (PADTMP,POK,READONLY,PROTECT,pPOK,UTF8)
  PV = 0x800f16480 &quot;\312\267&quot;\0 [UTF8 &quot;\x{2b7}&quot;]
  CUR = 2
  LEN = 32
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Check if the current terminal and font support a Unicode character
(with Python):&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python; which python
python: Command not found.

% command -v python2; which python2
python2: Command not found.

% command -v python3; which python3
python3: Command not found.

% command -v python3.7; which python3.7
python3.7: Command not found.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python3.8; which python3.8
/usr/local/bin/python3.8
/usr/local/bin/python3.8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.8 -c &apos;print(u&quot;\u02B7&quot;)&apos;
ʷ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.8 -c &apos;print(u&quot;\u02B7\n&quot;)&apos;
ʷ

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From “Beyond Linux® From Scratch (System V Edition) - Version r11.1-906 - Chapter 24. Graphical Environments”, &lt;a href=&quot;https://www.linuxfromscratch.org/blfs/view/svn/x/tuning-fontconfig.html&quot;&gt;Tuning Fontconfig&lt;/a&gt;
(retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list | less&lt;/code&gt;: show a list of all available fonts (/path/to/filename:
Font Name:style).  If you installed a font more than 30 seconds ago but
it does not show, then it or one of its directories is not readable by
your user.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match &apos;Font Name&apos;&lt;/code&gt;: will tell you which font will be used if the named
font is requested.  Typically you would use this to see what happens if a
font you have not installed is requested, but you can also use it if the
system is giving you a different font from what you expected (perhaps
because fontconfig does not agree that the font supports your language).&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match -a &apos;Type&apos; | less&lt;/code&gt;: will provide a list of all fonts which can be
used for that type (Monospace, Sans, Serif).  Note that in-extremis
fontconfig will take a glyph from any available font, even if it is not of
the specified type, and unless it knows about the font’s type it will
assume it is Sans.&lt;/p&gt;

&lt;p&gt;If you wish to know which font will be used for a string of text (i.e. one
or more glyphs, preceded by a space), paste the following command and
replace the xyz by the text you care about:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FC_DEBUG=4 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;: this requires
&lt;a href=&quot;https://www.linuxfromscratch.org/blfs/view/svn/x/pango.html&quot;&gt;Pango-1.50.8&lt;/a&gt;
and &lt;a href=&quot;https://www.linuxfromscratch.org/blfs/view/svn/general/imagemagick.html&quot;&gt;ImageMagick-7.1.0-25&lt;/a&gt; - it will invoke display to show the
text in a tiny window, and after closing that the last line of the output
will show which font was chosen.  This is particularly useful for CJK
languages, and you can also pass a language,
e.g. PANGO_LANGUAGE=en;ja (English, then assume Japanese) or
just zh-cn (or other variants - ‘zh’ on its own is not valid). – My Note:
This works in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bash&lt;/code&gt; and compatible shells.
For &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh/tcsh&lt;/code&gt;, use:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env DISPLAY=:0 FC_DEBUG=4 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;
    or
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env FC_DEBUG=4 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;
    or (for no output, reduce debugging level to zero):
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env FC_DEBUG=0 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;previewing-an-xft-font&quot;&gt;Previewing an Xft Font&lt;/h3&gt;
&lt;h3 id=&quot;--can-also-be-used-for-previewing-xlfd-x-logical-font-description-fonts&quot;&gt;- Can also be used for Previewing XLFD (X Logical Font Description) Fonts&lt;/h3&gt;

&lt;p&gt;For example, to preview a font named Blippo:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fc-match Blippo
Blippo Bold.ttf: &quot;Blippo&quot; &quot;Bold&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pango-view --font=Blippo --text &quot;My test text&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OR:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pango-view --font=Blippo -t &quot;My test text&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For different font sizes, use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--dpi&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pango-view --font=Blippo --text &quot;My test text&quot; --dpi 72
$ pango-view --font=Blippo --text &quot;My test text&quot; --dpi 96
$ pango-view --font=Blippo --text &quot;My test text&quot; --dpi 120
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;tools-and-test-pages-available-online-unicode-utf-8-encodings&quot;&gt;Tools and Test Pages Available Online: Unicode, UTF-8, Encodings&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://jkorpela.fi/chars/test8.htm&quot;&gt;Test page for 8-bit encodings&lt;/a&gt; &lt;br /&gt;
(Created on May 11, 2005 - Retrieved on Apr 17, 2022)
    &lt;blockquote&gt;
      &lt;p&gt;The table contains alternating rows with octets in the range 
128–255 (decimal) and ISO 8859-1 characters with the same code numbers. 
The first two rows for ISO 8859-1 have been greyed out, since those 
code positions do not contain printable characters but are reserved 
for control character purposes.&lt;/p&gt;

      &lt;p&gt;This document has no character encoding information.  This allows you 
to view it using various 8-bit encodings.  On Internet Explorer, 
&amp;lt; for example, select View, then Encoding, and then for example 
Baltic (Windows) in order to compare Windows Baltic with ISO 8859-1.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jkorpela.fi/fui.html8&quot;&gt;Full Unicode Input utility (for Unicode version 14)&lt;/a&gt; &lt;br /&gt;
(Created on Oct 2, 2012 - Retrieved on Apr 17, 2022)
    &lt;blockquote&gt;
      &lt;p&gt;This utility can be characterized as an online extended character map 
oriented towards writing characters.  It displays a table that looks 
like a set of keyboard buttons, and clicking on a button you enter the 
character in question.  The characters will be appended to the text 
input area on the right.&lt;/p&gt;

      &lt;p&gt;You can also type the Unicode number of a character in the box prefixed 
by “U+” and press Enter or click on the Add button.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;And, of course, have in mind:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://eev.ee/blog/2015/05/20/i-stared-into-the-fontconfig-and-the-fontconfig-stared-back-at-me/&quot;&gt;I stared into the fontconfig, and the fontconfig stared back at me&lt;/a&gt; - Posted: May 20, 2015 – Retrieved: Apr 17, 2022&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/linux/comments/97z73q/i_stared_into_the_fontconfig_and_the_fontconfig/&quot;&gt;I stared into the fontconfig, and the fontconfig stared back at me / fuzzy notepad - r/linux&lt;/a&gt; – Retrieved: Apr 17, 2022&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/programming/comments/36wcu7/i_stared_into_the_fontconfig_and_the_fontconfig/&quot;&gt;I stared into the fontconfig, and the fontconfig stared back at me - r/programming&lt;/a&gt; – Retrieved: Apr 17, 2022&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From blog post:
&lt;a href=&quot;https://eev.ee/blog/2015/05/20/i-stared-into-the-fontconfig-and-the-fontconfig-stared-back-at-me/&quot;&gt;I stared into the fontconfig, and the fontconfig stared back at me&lt;/a&gt; - Posted: May 20, 2015 – Retrieved: Apr 17, 2022:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Some hot parting tips&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache&lt;/code&gt; will force fontconfig to pick up any changes.  There’s a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-f&lt;/code&gt;,
but in all my fighting with fontconfig it never once made a difference.&lt;/p&gt;

&lt;p&gt;As far as I can tell, there is no reason to ever run sudo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache -vf&lt;/code&gt;.
This has been floating around the Internet for years, but it seems to be
apocryphal copy/paste.  You don’t need to flush root’s fontconfig cache
unless you’re running GUI stuff as root.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match &amp;lt;font&amp;gt;&lt;/code&gt; will tell you what font will be used in practice.
You might think that’s what &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-query&lt;/code&gt; does, and you’d be wrong.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-query&lt;/code&gt;’s primary use is to produce bizarre error messages when you
accidentally use it instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;It is really fxxxing difficult to figure out what font will be used for
a specific glyph.  There are two approaches:&lt;/p&gt;

&lt;p&gt;1. Do it in a [web] browser.  Make a URL like this (that is, enter it in the
browser’s address bar):
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data:text/html,&amp;lt;meta charset=&quot;utf8&quot;&amp;gt;&amp;lt;p style=&quot;font-family: monospace;&quot;&amp;gt;☺&amp;lt;/p&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Then pop open your dev tools, and look for where it tells you the fonts
that are actually being used.  Firefox’s Inspector has a dedicated “fonts”
tab in the panel on the right; Chromium’s Elements lists fonts at the
bottom of the “computed” tab.&lt;/p&gt;

&lt;p&gt;Fair warning: this is one level removed from fontconfig, because CSS font
rules may interfere.  This bit me above when I tried to confirm my new
cursive font in Firefox!&lt;/p&gt;

&lt;p&gt;Another warning: while Firefox picks up fontconfig changes more or less
instantly (after an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-cache&lt;/code&gt;), Chromium does not.  Worse, Chromium seems
to outright ignore fontconfig when it feels like it, such as when it used
a sans serif Japanese font for text styled as serif.&lt;/p&gt;

&lt;p&gt;2. You can also do this nonsense in a terminal:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DISPLAY=:0 FC_DEBUG=4 pango-view --font=monospace -t ☺ | grep family:&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;My note:&lt;/strong&gt; -&amp;gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh/tcsh&lt;/code&gt;:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env DISPLAY=:0 FC_DEBUG=4 pango-view --font=monospace -t ☺ | grep family:&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pango-view&lt;/code&gt; is a tiny program that just pops open a window containing
some text in a particular font.  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FC_DEBUG&lt;/code&gt; is an environment variable to
make fontconfig spit out mountains of fxxxing text on stdout.  The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grep&lt;/code&gt;
cuts it down to something a little more manageable.  Most likely the last
family you see listed is the font actually being used to render your
favourite glyph.&lt;/p&gt;

&lt;p&gt;If you’re really curious how the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;match&amp;gt;&lt;/code&gt; blocks work, good news:
they are the one thing the &lt;a href=&quot;http://www.freedesktop.org/software/fontconfig/fontconfig-user.html&quot;&gt;fontconfig docs&lt;/a&gt; actually kind of explain.
And of course your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/fonts/conf.d&lt;/code&gt;
(&lt;strong&gt;my note:&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/fonts/conf.d&lt;/code&gt; on FreeBSD) is probably full
of real-world practical examples.&lt;/p&gt;

&lt;p&gt;…&lt;/p&gt;

&lt;p&gt;From the same blog:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;I haven’t put my fontconfig font config (…) in my
&lt;a href=&quot;https://github.com/eevee/rc/&quot;&gt;rc.git&lt;/a&gt;; it seems pretty specific to my
desktop’s particular setup.
But here’s &lt;a href=&quot;https://gist.github.com/eevee/ba231c1b9b64e6ced70d&quot;&gt;the whole thing in a gist&lt;/a&gt;, if you’re interested.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] A nice overview and discussion about UTF-8, UTF-16 and UTF-32 on StackOverflow:  &lt;a href=&quot;https://stackoverflow.com/questions/496321/utf-8-utf-16-and-utf-32&quot;&gt;UTF-8, UTF-16, and UTF-32&lt;/a&gt; (Posted on Jan 30, 2009; Retrieved on Apr 17, 2022)&lt;/p&gt;

&lt;p&gt;[2] From a FreeBSD Forum post started on Dec 24, 2014 &lt;a href=&quot;https://forums.freebsd.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/&quot;&gt;How do I type in special characters, such as ∞ in the terminal in vi?&lt;/a&gt;, 
post #3 &lt;a href=&quot;https://forums.FreeBSD.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/post-277491&quot;&gt;https://forums.FreeBSD.org/threads/how-do-i-type-in-special-characters-such-as-in-the-terminal-in-vi.49659/post-277491&lt;/a&gt; (Retrieved on Apr 17, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Which vi?  vi on Linux is just a soft link to Vim.  On BSDs vi is 
symbolic link to nvi (new vi) which is a re-implementation of the 
“classic Berkeley vi”.  “Classical Berkeley vi” has multiple versions 
IIRC one of which is personal copy of Bill Joy.  Solaris’ version of vi 
could also be considered classical as well as traditional vi 
&lt;a href=&quot;http://ex-vi.sourceforge.net/&quot;&gt;http://ex-vi.sourceforge.net/&lt;/a&gt;. 
Reading documentation of traditional vi project is a good start.&lt;/p&gt;

  &lt;p&gt;To make matters more confusing BSD projects continue to use nvi 
version 1.79 due to licensing issues between Berkeley Database 1.85 and 
the later versions by Sleepycat Software.  nvi has a support for Unicode 
but I am not sure if the version 1.79 includes or not as I have never 
used Unicode with nvi.
Now &lt;a href=&quot;https://forums.freebsd.org/members/scottro.1587/&quot;&gt;scottro&lt;/a&gt; made 
a major mistake mentioning Unicode as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$\infty$&lt;/code&gt; as written in TeX is 
extended ASCII character and one doesn’t need Unicode to type it. 
I do not know how would you type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$\infty$&lt;/code&gt; in nvi as a professional 
mathematician I have never seen any mathematical symbols or mathematical 
text typing without serious text typing system such as TeX or Troff. 
TeX is de-facto standard for typing mathematics adopted since 
1979 by AMS.  Troff uses mathematical pre-processor and is definitely 
able to produce all special mathematical characters.  On the web we use 
MathJax, a cross-browser JavaScript library that displays in web, 
using MathML, LaTeX and ASCIIMathML markup to write mathematics.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[3] Retrieved on Apr 17, 2022: &lt;br /&gt;
    &lt;a href=&quot;https://tea.ourproject.org/&quot;&gt;TEA - text editor&lt;/a&gt;    &lt;br /&gt;
    &lt;a href=&quot;https://en.wikipedia.org/wiki/TEA_%28text_editor%29&quot;&gt;TEA (text editor) - Wikipedia&lt;/a&gt;   &lt;br /&gt;
    &lt;a href=&quot;https://www.linuxinsider.com/story/tea-a-smooth-text-editor-that-hits-the-sweet-spot-74677.html&quot;&gt;TEA: A Smooth Text Editor That Hits the Sweet Spot&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[4] Retrieved on Apr 17, 2022:  &lt;br /&gt;
    &lt;a href=&quot;https://www.libreoffice.org/&quot;&gt;LibreOffice&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[5] Retrieved on Apr 17, 2022:  &lt;br /&gt;
    &lt;a href=&quot;http://www.abisource.com/&quot;&gt;AbiWord&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[6] Retrieved on Apr 17, 2022:  &lt;br /&gt;
    &lt;a href=&quot;https://stackoverflow.com/questions/30851728/create-unicode-character-with-pack&quot;&gt;Create unicode character with pack&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sun, 17 Apr 2022 09:14:33 -0700</pubDate>
        <link>http://localhost:4000/font/freebsd/unix/x11/xorg/dotfiles/2022/04/17/x-fonts.html</link>
        <guid isPermaLink="true">http://localhost:4000/font/freebsd/unix/x11/xorg/dotfiles/2022/04/17/x-fonts.html</guid>
        
        
        <category>font</category>
        
        <category>freebsd</category>
        
        <category>unix</category>
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>dotfiles</category>
        
      </item>
    
      <item>
        <title>FVWM - F Virtual Window Manager</title>
        <description>&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install fvwm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;About FVWM - from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg info --regex --full fvwm&lt;/code&gt; 3 &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;/&lt;sub&gt;4&lt;/sub&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt; &lt;br /&gt;
Replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mydotfiles...&lt;/code&gt; with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fetch https://zensites.net/fvwm/guide/fvwm-guide-icons.tar.bz2&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cp -rf \
 /mnt/usbflashdrive/mydotfiles/FVWM.freebsd.lenovo.x280.2022_07_10_2200/THEME-2-ARCTIC/.fvwm/* \
 ~/.fvwm/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -n icons ~/.fvwm/config
36:#   2. Place all icons in this directory:
37:#        /usr/local/share/icons/gnant
38:#   3. It might take a couple of minutes for some icons in the dock
40:#      clock icons.
49:SetEnv  fvwm_icon               /usr/local/share/icons/$[fvm_gnome_icon_theme]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -n fvm_gnome_icon_theme ~/.fvwm/config
48:SetEnv  fvm_gnome_icon_theme    gnant
49:SetEnv  fvwm_icon               /usr/local/share/icons/$[fvm_gnome_icon_theme]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://strog.org/files/gnant-0.2.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tar xf gnant-0.2.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mv gnant /usr/local/share/icons/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ rm -i gnant-0.2.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://zensites.net/fvwm/guide/fvwm-guide-icons.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tar xf fvwm-guide-icons.tar.bz2 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh
total 198
drwxr-xr-x   3 dusko  wheel     4B Apr 16 08:25 .
drwxrwxrwt  37 root   wheel   570B Apr 16 08:23 ..
drwxr-xr-x   7 dusko  wheel     8B Aug  5  2004 .fvwm
-rw-r--r--   1 dusko  wheel    73K Jan 14  2008 fvwm-guide-icons.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh .fvwm/
total 20
drwxr-xr-x  7 dusko  wheel     8B Aug  5  2004 .
drwxr-xr-x  3 dusko  wheel     4B Jul 11 19:25 ..
-rw-r--r--  1 dusko  wheel    17K Aug  5  2004 fvwm2rc-guide
drwxr-xr-x  5 dusko  wheel     5B Aug  5  2004 icons
drwxr-xr-x  5 dusko  wheel     5B Aug  5  2004 images
drwxr-xr-x  2 dusko  wheel     2B Aug  4  2004 screenshot
drwxr-xr-x  2 dusko  wheel     2B Aug  4  2004 scripts
drwxr-xr-x  2 dusko  wheel     2B Aug  4  2004 tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh .fvwm/icons/
total 35
drwxr-xr-x  5 dusko  wheel     5B Aug  5  2004 .
drwxr-xr-x  7 dusko  wheel     8B Aug  5  2004 ..
drwxr-xr-x  2 dusko  wheel    10B Aug  5  2004 48x48
drwxr-xr-x  2 dusko  wheel    28B Aug  5  2004 menu
drwxr-xr-x  2 dusko  wheel     7B Aug  5  2004 mini
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo cp -rf .fvwm/icons/menu /usr/local/share/icons/gnant/
$ sudo cp -rf .fvwm/icons/mini /usr/local/share/icons/gnant/
$ sudo cp -rf .fvwm/icons/48x48/* /usr/local/share/icons/gnant/48x48/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ rm -rf .fvwm/
$ rm -i fvwm-guide-icons.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install rox-filer
% sudo pkg install 3ddesktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;pre&gt;&lt;code class=&quot;language-`&quot;&gt;% pkill Xorg
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Start X:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec xinit 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ exec startx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;my-customizations&quot;&gt;My Customizations&lt;/h2&gt;

&lt;h3 id=&quot;install-blippo-bold-font&quot;&gt;Install Blippo Bold Font&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Install Blippo Bold font: 
&lt;a href=&quot;https://freefonts.co/fonts/blippo-bold&quot;&gt;Blippo Bold font&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Installation log:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2024_04_29_1100_freebsd_work_desktop_installed_blippo_font.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;clocks-and-xload---from-dotxinitrc&quot;&gt;Clocks and Xload - From dot.xinitrc&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l ~/.xinitrc
     196 /home/dusko/.xinitrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without comments and without blank lines:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed &apos;/^[[:space:]]*$/d&apos; ~/.xinitrc | grep -v \^# | wc -l
      20
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed &apos;/^[[:space:]]*$/d&apos; ~/.xinitrc | grep -v \^#
xrdb load $HOME/.Xresources
xset b off
for m in `ls /usr/local/share/fonts/`; do
    if [ -d &quot;/usr/local/share/fonts/$m&quot; ]; then
        xset fp+ &quot;/usr/local/share/fonts/$m&quot;
     fi
done
for m in `ls /usr/home/dusko/.fonts/`; do
    if [ -d &quot;/usr/home/dusko/.fonts/$m&quot; ]; then
        xset fp+ &quot;/usr/home/dusko/.fonts/$m&quot;
    fi
done
exec /usr/local/bin/xclock -digital -strftime &quot;Vancouver: %a - %b %e, %Y - %l:%M:%S %p (%H:%M:%S)&quot; -face mono:size=10 -bg &quot;#002020&quot; -fg &quot;#aaaaaa&quot; -update 1 -geometry -0-0 &amp;amp;
exec env TZ=Europe/Belgrade xclock -digital -strftime &quot;Belgrade: %a %d %b %H:%M&quot; -face mono:size=10 -bg &quot;#002020&quot; -fg &quot;gold&quot; -geometry -452-0 &amp;amp;
exec env TZ=UTC /usr/local/bin/xclock -digital -strftime &apos;UTC: %a %d %b %H:%M&apos; -face mono:size=10 -bg &apos;#002020&apos; -fg &apos;#f6eabe&apos; -geometry -680-0 &amp;amp;
exec env TZ=GMT /usr/local/bin/xclock -digital -strftime &apos;GMT: %a %d %b %H:%M&apos; -face mono:size=10 -bg &apos;#002020&apos; -fg &apos;#f6eabe&apos; -geometry -868-0 &amp;amp;
exec xload -bg steelblue -fg &apos;#001013&apos; -nolabel -geometry 224x33-1056-0 &amp;amp;
/usr/local/bin/xterm -bg black -fg white -geometry 80x24+0+0 &amp;amp;
/usr/local/bin/xterm -bg white -fg black -geometry 80x24+1440+0 &amp;amp;
fvwm &amp;gt; /tmp/fvwmlog 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] From &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg info --regex --full fvwm&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;WWW            : http://www.fvwm.org/
Comment        : Popular virtual window manager for X

Description    :
Fvwm is a very famous window manager for X, which provides a
virtual/multiple disjoint desktop, a 3-D look for windows decorations,
shaped/color icons. It gives a very good emulation of mwm. A nice
button-bar can be used to provide convenient access to frequently used
functions or programs.

WWW: http://www.fvwm.org/

Jason C. Wells
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.fvwm.org/&quot;&gt;https://www.fvwm.org/&lt;/a&gt; (Retrieved on Apr 16, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Fvwm is a virtual window manager for the X windows system. It was 
originally a feeble fork of TWM by Robert Nation in 1993 (fvwm history), 
and has evolved into the fantastic, fabulous, famous, flexible, and so on, 
window manager we have today.

Fvwm is ICCCM-compliant and highly configurable. Starting from a minimal 
configuration, Fvwm can be configured with both internal tools and third 
party software to customize most aspects of a desktop.

This site is an archive of documentation for Fvwm version 2.6.x, which is 
the current frozen release. For information about the development of Fvwm 
version 3, check out fvwmorg/fvwm3 on GitHub.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Apr 16, 2022)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://fvwmforums.org/t/pems-stuff/134&quot;&gt;PEM’s stuff - FVWM Forums – FVWM Themes - Config Archive&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://fvwmforums.org/t/pems-stuff/134/221?page=12&quot;&gt;PEM’s stuff - FVWM Forums – FVWM Themes - Config Archive - mail.plx script doesn’t work for POP3S&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;http://pemarchandet.free.fr/fvwm/002/Artic_clean.jpg&quot;&gt;Screenshot 1&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://pemarchandet.free.fr/fvwm/002/Artic_messy.jpg&quot;&gt;Screenshot 2&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;http://pemarchandet.free.fr/fvwm/001/fvwm.tbz2&quot;&gt;Config files&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.gentoo.org/viewtopic.php?t=80517&quot;&gt;The F? Virtual Window Manager - Gentoo Discussion Forums - Part 1 of 2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.gentoo.org/viewtopic-t-225192-postdays-0-postorder-asc-start-0.html&quot;&gt;The F? Virtual Window Manager - Gentoo Discussion Forums - Part 2 of 2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.gentoo.org/viewtopic-p-1998087.html?sid=308ace18fd90eb093e4b6475a63622b6&quot;&gt;The F? Virtual Window Manager - Gentoo Discussion Forums - Part 2 of 2 - Page 13 of 30&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.gentoo.org/viewtopic-t-225192-start-300-postdays-0-postorder-asc-highlight-.html&quot;&gt;The F? Virtual Window Manager (part 2) - Gentoo Discsussion Forums&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.gentoo.org/viewtopic-t-189895-start-475.html&quot;&gt;[FVWM] Configuration - Gentoo French Forums&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forum.ubuntu-fr.org/viewtopic.php?id=97234&quot;&gt;Autres environnements et personnalisations d’Ubuntu &amp;gt; Fvwm - Page 1 of 2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forum.ubuntu-fr.org/viewtopic.php?id=97234&amp;amp;p=2&quot;&gt;Autres environnements et personnalisations d’Ubuntu &amp;gt; Fvwm - Page 2 of 2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20090121184348/www.quebecos.com/modules/wiwimod/index.php?page=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Wiki - Fvwm : Guide du débutant sur QuebecOS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20070317081535/http://www.quebecos.com/modules/wiwimod/index.php?page=Les+fonctions&amp;amp;back=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Les fonctions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20070317082004/http://www.quebecos.com/modules/wiwimod/index.php?page=Raccourcis+(Bindings)&amp;amp;back=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Raccourcis (Bindings)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20070317081455/http://www.quebecos.com/modules/wiwimod/index.php?page=Les+menus&amp;amp;back=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Les menus&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20070317081516/http://www.quebecos.com/modules/wiwimod/index.php?page=Les+modules&amp;amp;back=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Les modules&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20070317081508/http://www.quebecos.com/modules/wiwimod/index.php?page=Conclusion&amp;amp;back=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20070319053034/http://www.quebecos.com/modules/wiwimod/index.php?page=Notions+avanc%E9es+:+fonctions&amp;amp;back=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Notions avancées : fonctions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20070319053044/http://www.quebecos.com/modules/wiwimod/index.php?page=Notions+avanc%E9es+:+FvwmButtons&amp;amp;back=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Notions avancées : FvwmButtons&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://web.archive.org/web/20070319052039/http://www.quebecos.com/modules/wiwimod/index.php?page=Autres+ressources&amp;amp;back=Fvwm+:+Guide+du+d%E9butant&quot;&gt;Autres ressources&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://fvwmforums.org/t/a-way-to-read-messages-to-tty-within-fvwm/4388&quot;&gt;A way to read messages to TTY within fvwm - FVWM Forums - Configuration - General Questions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://fvwmforums.org/t/fvwm-title-bar/149/&quot;&gt;FVWM title bar - FVWM Forums - Configuration - General Questions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.gentoo.org/viewtopic.php?t=80517l&quot;&gt;The F? Virtual Window Manager - Page 1 of 67 - Gentoo Discussion Forums&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.gentoo.org/viewtopic-p-1998087.html?sid=308ace18fd90eb093e4b6475a63622b6&quot;&gt;The F? Virtual Window Manager (part 2) - Page 13 of 30 - Gentoo Discussion Forums&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 16 Apr 2022 08:12:34 -0700</pubDate>
        <link>http://localhost:4000/2022/04/16/fvwm.html</link>
        <guid isPermaLink="true">http://localhost:4000/2022/04/16/fvwm.html</guid>
        
        
      </item>
    
      <item>
        <title>Converting Traditional sysV Init Scripts to systemd Unit Files</title>
        <description>&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;(All references retrieved on Apr 9, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://0pointer.de/blog/projects/systemd-for-admins-3.html&quot;&gt;How Do I Convert A SysV Init Script Into A systemd Service File? (systemd for Administrators, Part III)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.redhat.com/en/blog/converting-traditional-sysv-init-scripts-red-hat-enterprise-linux-7-systemd-unit-files&quot;&gt;Converting traditional sysV init scripts to Red Hat Enterprise Linux 7 systemd unit files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.golinuxcloud.com/create-systemd-service-example/&quot;&gt;Create systemd service in Linux [Explained with Example]&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 09 Apr 2022 09:03:31 -0700</pubDate>
        <link>http://localhost:4000/systemd/linux/howto/cli/terminal/shell/rhel/centos/sysadmin/2022/04/09/convert-sysvinit-to-systemd-service.html</link>
        <guid isPermaLink="true">http://localhost:4000/systemd/linux/howto/cli/terminal/shell/rhel/centos/sysadmin/2022/04/09/convert-sysvinit-to-systemd-service.html</guid>
        
        
        <category>systemd</category>
        
        <category>linux</category>
        
        <category>howto</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>rhel</category>
        
        <category>centos</category>
        
        <category>sysadmin</category>
        
      </item>
    
      <item>
        <title>TWM - Tab Window Manager for the X Window System</title>
        <description>&lt;p&gt;OS: FreeBSD 13.0  &lt;br /&gt;
Shell: csh/tcsh&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat ~/.twmrc
RestartPreviousState      # Reiconify iconified windows on startup
UsePPosition        &quot;on&quot;  # Use program-specified size hints accepted
NoTitle                   # No titlebars
BorderWidth         1     # Number of pixels for border around entire window
DontMoveOff               # Disallow moving windows off the visible screen
IconifyByUnmapping        # Iconifying a window sends it to the Icon Manager
AutoRelativeResize        # Don&apos;t wait until the window edge is crossed
NoGrabServer
RandomPlacement

IconManagerFont           &quot;a14&quot;
IconRegion                &quot;90x44-0+0&quot; North East 40 30 
IconManagerGeometry       &quot;90x44-0+0&quot; 1

IconManagerDontShow
{
  &quot;xclock&quot; &quot;xload&quot;
}

Color
{
    BorderColor &quot;red&quot;
    {
      &quot;XTerm&quot; &quot;red&quot;       # Active xterm window border: red
    }

    BorderColor           &quot;yellow&quot;
    BorderTileBackground  &quot;yellow&quot;
    BorderTileForeground  &quot;yellow&quot;

    DefaultBackground     &quot;rgb:2/a/9&quot;
    DefaultForeground     &quot;gray85&quot;
    TitleBackground       &quot;rgb:2/a/9&quot;
    TitleForeground       &quot;gray85&quot;
    MenuBackground        &quot;rgb:2/a/9&quot;
    MenuForeground        &quot;gray85&quot;
    MenuBorderColor       &quot;slategrey&quot;
    MenuTitleBackground   &quot;gray70&quot;
    MenuTitleForeground   &quot;rgb:2/a/9&quot;
    IconBackground        &quot;rgb:2/a/9&quot;
    IconForeground        &quot;gray85&quot;
    IconBorderColor       &quot;gray85&quot;

    IconManagerHighlight  &quot;white&quot;

    IconManagerBackground &quot;rgb:2/a/9&quot;
    {
      &quot;XTerm&quot;             &quot;#ff595e&quot;
      &quot;tea&quot;               &quot;#1982c4&quot;
      &quot;KeePassXC&quot;         &quot;#ffca3a&quot;
      &quot;Thunderbird&quot;       &quot;#6a4c93&quot;
      &quot;Firefox&quot;           &quot;#8ac926&quot; 
      &quot;LibreOffice&quot;       &quot;#deff0a&quot;
      &quot;soffice.bin&quot;       &quot;#deff0a&quot;
      &quot;Zathura&quot;           &quot;#be0aff&quot;
    }

    IconManagerForeground &quot;gray85&quot;
    {
      &quot;XTerm&quot;             &quot;#fae0e4&quot;
      &quot;tea&quot;               &quot;#84DE02&quot;
      &quot;KeePassXC&quot;         &quot;#219ebc&quot; 
      &quot;Thunderbird&quot;       &quot;#ff595e&quot;
      &quot;Firefox&quot;           &quot;#ffff3f&quot;
      &quot;LibreOffice&quot;       &quot;#ff595e&quot;
      &quot;soffice.bin&quot;       &quot;#ff595e&quot;
      &quot;Zathura&quot;           &quot;#0aff99&quot;
    }
}

Cursors
{
  Frame     &quot;left_ptr&quot;
  Title     &quot;left_ptr&quot;
  Icon      &quot;left_ptr&quot;
  IconMgr   &quot;left_ptr&quot;
  Move      &quot;fleur&quot;
  Resize    &quot;fleur&quot;
  Menu      &quot;hand1&quot;
  Button    &quot;hand2&quot;
  Wait      &quot;clock&quot;
  Select    &quot;dot&quot;
  Destroy   &quot;pirate&quot;
}

# ----  Mouse and keyboard bindings  ----
# Mouse:     Button1=left, Button2=middle, Button3=right
# Keyboard:  m=meta (alt), c=ctrl, s=shift, m4=mod4 (Win)

Button1 =   : root    : f.menu &quot;defops&quot;
Button1 =   : iconmgr : f.iconify
Button1 = m : window  : f.move      # Alt + left mouse button
Button3 = m : window  : f.resize    # Alt + right mouse button

&quot;s&quot; =     m : all : f.showiconmgr   # Show the Icon Manager  (Alt + s)
&quot;s&quot; = s | m : all : f.hideiconmgr   # Hide the Icon Manager  (Alt + Shift + s)
&quot;r&quot; =     m : all : f.raiselower    # Raise window if behind (Alt + r)
&quot;v&quot; =     m : all : f.iconify       # &quot;Minimize&quot; window      (Alt + v)

# Cycle through windows with vi(1)-style key bindings 
# NOTE: For best results, make sure that the Icon Manager is *not* hidden
#       when the Icon Manager is hidden, only &quot;l&quot; and &quot;j&quot; work 
&quot;h&quot; =     m : all : f.backiconmgr  # previous column
&quot;l&quot; =     m : all : f.forwiconmgr  # next column
&quot;k&quot; =     m : all : f.upiconmgr    # previous row
&quot;j&quot; =     m : all : f.downiconmgr  # next row

# Use keyboard arrow keys to change the input focus between windows
# NOTE: For best results, make sure that the Icon Manager is *not* hidden
&quot;Left&quot;  = m : all : f.backiconmgr  # previous column
&quot;Right&quot; = m : all : f.forwiconmgr  # next column
&quot;Up&quot;    = m : all : f.upiconmgr    # previous row
&quot;Down&quot;  = m : all : f.downiconmgr  # next row

# Show time and date (local and UTC):  Press Ctrl + Alt + t
&quot;t&quot; =  m | c: all : f.exec &quot;(date; echo &apos;&apos;; date -u) | \
/usr/local/bin/xmessage -bg \&quot;#DE3163\&quot; -fg \&quot;#F6EABE\&quot; -rv -fn \
\&quot;-b&amp;amp;h-lucidatypewriter-bold-r-normal-sans-26-190-100-100-m-159-iso10646-1\&quot; \
-geometry -0+0 -buttons OK:1 -default OK -file - &amp;amp;&quot;

# Display virtual desktop number:      Press Ctrl + Alt + d
&quot;d&quot; =  m | c: all : f.exec &quot;(vdesk) | \
/usr/local/bin/xmessage -bg \&quot;#DE3163\&quot; -fg \&quot;#F6EABE\&quot; -rv -fn \
\&quot;-b&amp;amp;h-lucidatypewriter-bold-r-normal-sans-26-190-100-100-m-159-iso10646-1\&quot; \
-geometry -0+0 -buttons &apos; &apos; -default OK -file - &amp;amp;&quot;

# Launch dmenu with Alt + p
&quot;p&quot; = m      : all : f.exec &quot;/usr/local/bin/dmenu_run&quot;

&quot;i&quot; = m      : all : f.identify   # Alt + i
&quot;d&quot; = m      : all : f.delete     # For closing e.g. &quot;About&quot; windows
&quot;h&quot; = s | m4 : all : f.leftzoom   # [Shift + mod4 (Win)] + h
&quot;l&quot; = s | m4 : all : f.rightzoom  # [Shift + mod4 (Win)] + l
&quot;k&quot; = s | m4 : all : f.topzoom    # [Shift + mod4 (Win)] + k
&quot;j&quot; = s | m4 : all : f.bottomzoom # [Shift + mod4 (Win)] + j
&quot;f&quot; = s | m4 : all : f.fullzoom   # [Shift + mod4 (Win)] + o
&quot;m&quot; = s | m4 : all : f.zoom       # [Shift + mod4 (Win)] + m &amp;lt;- Zoom vertically
&quot;c&quot; = s | m4 : all : f.circledown # [Shift + mod4 (Win)] + c
&quot;u&quot; = s | m4 : all : f.circleup   # [Shift + mod4 (Win)] + u

# QUIT menu
# Defined here, used in the &quot;Main Menu&quot; (below),
#      i.e.  it&apos;s a sub-menu of the Main Menu
menu &quot;quitmenu&quot;
{
 &quot;Really Quit?&quot;   f.title
 &quot;No&quot;             f.nop
 &quot;Yes&quot;            f.quit
}

# Add a menu with the usual things
menu &quot;defops&quot;
{
  &quot;Twm&quot;           f.title
  &quot;Iconify&quot;       f.iconify
  &quot;Resize&quot;        f.resize
  &quot;Move&quot;          f.move
  &quot;Raise&quot;         f.raise
  &quot;Lower&quot;         f.lower
  &quot;&quot;              f.nop
  &quot;Focus&quot;         f.focus
  &quot;Unfocus&quot;       f.unfocus
  &quot;Show Iconmgr&quot;  f.showiconmgr
  &quot;Hide Iconmgr&quot;  f.hideiconmgr
  &quot;&quot;              f.nop
  &quot;Xterm&quot;         f.exec &quot;exec xterm &amp;amp;&quot;
  &quot;&quot;              f.nop
  &quot;Kill&quot;          f.destroy
  &quot;Delete&quot;        f.delete
  &quot;&quot;              f.nop
  &quot;Restart&quot;       f.restart
  &quot;Exit&quot;          f.menu &quot;quitmenu&quot;
}

# Virtual desktops with vdesk  ---- http://offog.org/code/vdesk.html -----

function &quot;set-desktop-1&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 1&quot;
}
    
function &quot;set-desktop-2&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 2&quot;
}
  
function &quot;set-desktop-3&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 3&quot;
}

function &quot;set-desktop-4&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 4&quot;
}

function &quot;set-desktop-5&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 5&quot;
}

function &quot;set-desktop-6&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 6&quot;
}

function &quot;set-desktop-7&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 7&quot;
}

function &quot;set-desktop-8&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 8&quot;
}

function &quot;set-desktop-9&quot;
{
   f.exec &quot;/usr/local/bin/vdesk 0 `xwininfo -tree -root | grep xclock | awk &apos;{print $1}&apos;`&quot;
   f.exec &quot;vdesk 9&quot;
}

function &quot;desktop-back&quot;
{
   f.exec &quot;A=$((`vdesk`-1)); if [ $A = 0 ] ; then A=9 ; fi ; vdesk $A&quot;
}

# To switch to one of nine virtual desktop: Alt + [1-9]:
&quot;1&quot;     =     m : all : f.function &quot;set-desktop-1&quot;
&quot;2&quot;     =     m : all : f.function &quot;set-desktop-2&quot;
&quot;3&quot;     =     m : all : f.function &quot;set-desktop-3&quot;
&quot;4&quot;     =     m : all : f.function &quot;set-desktop-4&quot;
&quot;5&quot;     =     m : all : f.function &quot;set-desktop-5&quot;
&quot;6&quot;     =     m : all : f.function &quot;set-desktop-6&quot;
&quot;7&quot;     =     m : all : f.function &quot;set-desktop-7&quot;
&quot;8&quot;     =     m : all : f.function &quot;set-desktop-8&quot;
&quot;9&quot;     =     m : all : f.function &quot;set-desktop-9&quot;

# To cycle forward through virtual desktops:
#     Ctrl + Meta (Win key) + right arrow key
&quot;Right&quot; = c | m : all : f.function &quot;desktop-forward&quot;
# To cycle backwards through virtual desktops:
#     Ctrl + Meta (Win key) + left arrow key
&quot;Left&quot;  = c | m : all : f.function &quot;desktop-back&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat ~/.xinitrc
xrdb -load $HOME/.Xresources 

xsetroot -solid slategrey
xset b off

# Add fonts
for m in `ls /usr/local/share/fonts/`; do
    if [ -d &quot;/usr/local/share/fonts/$m&quot; ]; then
        xset fp+ &quot;/usr/local/share/fonts/$m&quot;
    fi
done

exec twm &amp;gt; /tmp/twmrclog 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to have a clock or clocks, add one or more of the following
four lines to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.xinitrc&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;exec /usr/local/bin/xclock -digital -strftime &quot;Vancouver: %a %d %b %H:%M:%S&quot; \
  -update 1 -face mono:size=10 -bg &quot;#002020&quot; -fg &quot;red&quot; -geometry -0-2 &amp;amp;
exec env TZ=Europe/Belgrade xclock -digital -strftime \
  &quot;Belgrade: %a %d %b %H:%M&quot; -face mono:size=10 -bg &quot;#002020&quot; -fg &quot;gold&quot; \
  -geometry -256-2 &amp;amp;
exec env TZ=UTC /usr/local/bin/xclock -digital -strftime \
  &apos;UTC: %a %d %b %H:%M&apos; -face mono:size=10 -bg &apos;#002020&apos; -fg &apos;#f6eabe&apos; \
  -geometry -480-2 &amp;amp; 
exec env TZ=GMT /usr/local/bin/xclock -digital -strftime \
  &apos;GMT: %a %d %b %H:%M&apos; -face mono:size=10 -bg &apos;#002020&apos; -fg &apos;#aaaaaa&apos; \
  -geometry -664-2 &amp;amp; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to have xload, you first need to install it (with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo pkg install xload&lt;/code&gt;), and after that add this line to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.xinitrc&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;exec xload -bg steelblue -fg &apos;#001013&apos; -nolabel -geometry 224x33-840-2 &amp;amp;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;X&lt;/code&gt; with:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec startx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec xinit 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Man pages:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;twm(1) - Tab Window Manager for the X Window System&lt;/li&gt;
  &lt;li&gt;xterm(1) - terminal emulator for X&lt;/li&gt;
  &lt;li&gt;xwininfo(1) - window information utility for X&lt;/li&gt;
  &lt;li&gt;Xsecurity(7) - X display access control, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.Xauthority&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Xserver(1) - X Window System display server&lt;/li&gt;
  &lt;li&gt;X(7) - Keyboards, modifiers and keysym - section KEYBOARDS&lt;/li&gt;
  &lt;li&gt;Xorg(1) - X11R7 X server&lt;/li&gt;
  &lt;li&gt;XOrgFoundation(7) -  X.Org Foundation information&lt;/li&gt;
  &lt;li&gt;xinit(1) - X Window System initializer&lt;/li&gt;
  &lt;li&gt;x11perf(1) - X11 server performance test program&lt;/li&gt;
  &lt;li&gt;xauth(1) - X authority file utility&lt;/li&gt;
  &lt;li&gt;showrgb(1) - display an rgb color-name database&lt;/li&gt;
  &lt;li&gt;xkbwatch(1) - XKB extension user utility&lt;/li&gt;
  &lt;li&gt;xkbevd(1) - XKB event daemon&lt;/li&gt;
  &lt;li&gt;xkbvleds(1) - display the state of LEDs on an XKB keyboard&lt;/li&gt;
  &lt;li&gt;xkill(1) - kill a client by its X resource&lt;/li&gt;
  &lt;li&gt;xlsatoms(1) - list interned atoms defined on server&lt;/li&gt;
  &lt;li&gt;xprop(1) - property displayer for X&lt;/li&gt;
  &lt;li&gt;xmodmap(1) - utility for modifying keymaps and pointer button mappings in X&lt;/li&gt;
  &lt;li&gt;xrdb(1) - X server resource database utility&lt;/li&gt;
  &lt;li&gt;xset(1) - user preference utility for X&lt;/li&gt;
  &lt;li&gt;xrefresh(1) - refresh all or part of an X screen&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Retrieved on Apr 3, 2022:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.custompc.plus.com/twm/twmrc.htm&quot;&gt;Graham’s TWM Page!&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.custompc.plus.com/twm2/Grahams_TWM_page2.html&quot;&gt;Graham’s TWM Page! - Updated for 2021&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://offog.org/code/vdesk/&quot;&gt;vdesk -  a virtual desktop manager&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;word-cloud&quot;&gt;Word Cloud&lt;/h3&gt;

&lt;p&gt;X(7), libX11, modifier, keysum, the vmodmap array, locale, 
XkbLatchModifiers(3)&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sun, 03 Apr 2022 09:27:31 -0700</pubDate>
        <link>http://localhost:4000/wm/x11/xorg/freebsd/unix/dotfiles/2022/04/03/twm.html</link>
        <guid isPermaLink="true">http://localhost:4000/wm/x11/xorg/freebsd/unix/dotfiles/2022/04/03/twm.html</guid>
        
        
        <category>wm</category>
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>freebsd</category>
        
        <category>unix</category>
        
        <category>dotfiles</category>
        
      </item>
    
      <item>
        <title>How To Setup Two Separate Bridges for a QEMU Guest with Two NICs Connected to Two Different Networks</title>
        <description>&lt;hr /&gt;
&lt;p&gt;Host OS: RHEL 8.5 - Shell: csh  &lt;br /&gt;
Guest OS: CentOS Linux 7.9 - Shell: bash&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Assumptions:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The host server was already configured for virtualization.  It had the 
following packages installed on it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ipxe-roms-qemu, libvirt-daemon-driver-qemu, qemu-guest-agent, qemu-img, 
qemu-kvm, qemu-kvm-block-curl, qemu-kvm-block-gluster, qemu-kvm-block-iscsi, 
qemu-kvm-block-rbd, qemu-kvm-block-ssh, qemu-kvm-common, qemu-kvm-core,
libvirt, virt-install, virt-manager, libguestfs-tools, libguestfs-gfs2, 
libguestfs-rescue, ibguestfs-rsync libguestfs-xfs,
virt-dib, virt-v2v, virt-p2v-maker, virt-viewer, virt-who, virt-top, virtio-win

minicom 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;about-bridge-switch-bridge-mode-of-qemu-bridged-networking-tun-connection-tap-mode-tap-device-nat-mode&quot;&gt;About Bridge Switch, Bridge Mode of QEMU, Bridged Networking, TUN Connection, TAP Mode (TAP Device), NAT Mode&lt;/h3&gt;

&lt;p&gt;A &lt;strong&gt;bridge&lt;/strong&gt; is a &lt;strong&gt;network switch&lt;/strong&gt; but implemented in software.&lt;/p&gt;

&lt;p&gt;From the &lt;a href=&quot;https://wiki.archlinux.org/index.php/Network_bridge&quot;&gt;Arch Wiki&lt;/a&gt; (Retrieved on Apr 2, 2022):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A &lt;strong&gt;bridge&lt;/strong&gt; is a piece of software used to &lt;strong&gt;unite&lt;/strong&gt; two or 
more &lt;strong&gt;network segments&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;A bridge behaves like a virtual network &lt;strong&gt;switch&lt;/strong&gt;, working 
transparently (other machines do not need to know about its 
existence).  Any real devices (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eth0&lt;/code&gt;) and virtual devices
(e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt;) can be connected to it.&lt;/p&gt;

  &lt;p&gt;[…]   &lt;br /&gt;
When the bridge is fully set up, it can be &lt;strong&gt;assigned an IP address&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Or as per &lt;a href=&quot;https://wiki.linuxfoundation.org/networking/bridge&quot;&gt;Bridge - The Linux Foundation Wiki&lt;/a&gt; (Retrieved on Apr 2, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;[…] a bridge connects two or more physical Ethernets together to 
form one &lt;strong&gt;bigger (logical) Ethernet&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;When you install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libvirt&lt;/code&gt;, a &lt;strong&gt;virtual bridge&lt;/strong&gt; (aka &lt;strong&gt;virtual network 
switch&lt;/strong&gt;), the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt;, is automatically created.  When you later 
create virtual machines, they connect to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; bridge.&lt;/p&gt;

&lt;p&gt;By default, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; uses &lt;strong&gt;NAT&lt;/strong&gt; mode and gets assigned an 
IP address 192.168.122.1.  Also, it can provide DHCP service for 
other virtual interfaces that connect to it.&lt;/p&gt;

&lt;p&gt;From the &lt;a href=&quot;https://wiki.archlinux.org/title/Network_bridge&quot;&gt;Arch Wiki&lt;/a&gt;: 
a bridge is a network switch but implemented in software.  Any real 
devices (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eth0&lt;/code&gt;) and virtual devices (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt;) can be connected 
to it.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking/NAT&quot;&gt;NAT Networking - QEMU Documentation&lt;/a&gt; (Retrieved on Apr 2, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;NAT &lt;br /&gt;
Configuring Network Address Translation (NAT) is a useful way to network 
virtual machines in a desktop environment (particularly, when using 
wireless networking).  A NAT network will allow your guests to fully 
access the network, allow networking between your host and guests, but 
&lt;strong&gt;prevent the guests&lt;/strong&gt; from being directly &lt;strong&gt;visible&lt;/strong&gt; on the physical network.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;References:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/523245/whats-the-function-of-virbr0-and-virbr0-nic&quot;&gt;What’s the function of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0-nic&lt;/code&gt;?&lt;/a&gt; &lt;br /&gt;
(Retrieved on Apr 2, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://listman.redhat.com/archives/libvirt-users/2012-September/msg00038.html&quot;&gt;[libvirt-users] virtual networking - virbr0-nic interface&lt;/a&gt; &lt;br /&gt;
(Retrieved on Apr 2, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/378264/what-is-virtual-bridge-with-nic-in-the-end-of-name/444863#444863&quot;&gt;What is virtual bridge with -nic in the end of name&lt;/a&gt; &lt;br /&gt;
(Retrieved on Apr 2, 2022)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli
eno1: connected to eno1
[...]
eno2: connected to eno2
[...]
virbr0: connected (externally) to virbr0
        &quot;virbr0&quot;
        bridge, 52:54:00:11:22:33, sw, mtu 1500
        inet4 192.168.122.1/24
        route4 192.168.122.0/24
eno3: disconnected
[...]
eno4: disconnected
[...]
lo: unmanaged
        &quot;lo&quot;
        loopback (unknown), 00:00:00:00:00:00, sw, mtu 65536

virbr0-nic: unmanaged
        &quot;virbr0-nic&quot;
        tun, 52:54:00:11:22:33, sw, mtu 1500

DNS configuration:
        servers: 208.67.222.222, 208.67.220.220  &amp;lt;-- Will list your DNS servers
        interface: eno1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0
GENERAL.DEVICE:               virbr0
GENERAL.TYPE:                 bridge
[...]
GENERAL.STATE:                100 (connected (externally))
GENERAL.CONNECTION:           virbr0
[...]
IP4.ADDRESS[1]:               192.168.122.1/24
IP4.GATEWAY:                  --
IP4.ROUTE[1]:                 dst = 192.168.122.0/24, nh = 0.0.0.0, mt = 0
IP6.GATEWAY:                  --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The network &lt;strong&gt;interface&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0-nic&lt;/code&gt; (virtual network interface) is not 
a bridge.  It is a regular Ethernet interface (although a virtual one, 
created with ip add type &lt;a href=&quot;https://man7.org/linux/man-pages/man4/veth.4.html&quot;&gt;veth&lt;/a&gt;).  It’s there so that the bridge has at least one interface beneath it to 
use its MAC address from.  It doesn’t pass real traffic since it’s not 
really connected to any physical device.
The bridge would work without it but then it could change its MAC address 
as interfaces enter and exit the bridge, and when the MAC of the bridge 
changes, external switches may be confused, making the host lose network 
for some time.&lt;/p&gt;

&lt;p&gt;According to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli device show&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip -details link show&lt;/code&gt; commands, 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0-nic&lt;/code&gt; virtual network interface is a &lt;strong&gt;TUN&lt;/strong&gt; device:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GENERAL.DEVICE:               virbr0-nic
GENERAL.TYPE:                 tun
GENERAL.HWADDR:               52:54:00:11:22:33
GENERAL.MTU:                  1500
GENERAL.STATE:                10 (unmanaged)
GENERAL.CONNECTION:           --
GENERAL.CON-PATH:             --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip -details link show virbr0-nic | \
egrep -woi &quot;tun|tap|bridge|bridge_slave|vlan_tunnel&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tun
tap
bridge_slave
vlan_tunnel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;IP forwarding &lt;a href=&quot;#footnotes&quot;&gt;¹&lt;/a&gt; was already enabled on this server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo /sbin/sysctl --all | grep &apos;net.ipv4.ip_forward&apos;
net.ipv4.ip_forward = 1
net.ipv4.ip_forward_update_priority = 1
net.ipv4.ip_forward_use_pmtu = 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Additional package that you need to install is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bridge-utils&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install bridge-utils
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It provides &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl&lt;/code&gt; tool.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf whatprovides /usr/sbin/brctl
[...]
bridge-utils-1.5-9.el7.x86_64 : Utilities for configuring the linux 
                              : ethernet bridge
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -V brctl; type brctl; which brctl; whereis brctl
brctl is /usr/sbin/brctl
brctl is /usr/sbin/brctl
/usr/sbin/brctl
brctl: /usr/sbin/brctl /usr/share/man/man8/brctl.8.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl(8)&lt;/code&gt; tool is used for the Ethernet bridge administration. 
From its man page:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[...]
DESCRIPTION
    brctl is used to set up, maintain, and inspect the ethernet bridge 
    configuration in the linux kernel.

    An ethernet bridge is a device commonly used to connect different  
    networks of ethernets together, so that these ethernets will appear 
    as one ethernet to the participants.

    Each of the ethernets being connected corresponds to one physical
    interface in the bridge.  These individual ethernets are bundled into
    one bigger (&apos;logical&apos;) ethernet, this bigger ethernet corresponds to
    the bridge network interface.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently, this server has one bridge device (named virbr0) installed by 
the libvirt library so the output of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl show&lt;/code&gt; and  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl show virbr0&lt;/code&gt; 
is the same.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show 
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show virbr0
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;qemu-networking&quot;&gt;QEMU Networking&lt;/h2&gt;

&lt;p&gt;Two parts:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The front-end.  The virtual network device; e.g. a PCI network card
(aka NIC - network interface controller) that the guest sees.&lt;/li&gt;
  &lt;li&gt;The network back-end on the host side; that is, the interface that QEMU uses 
to exchange network packets with the outside (like other QEMU instances
or other real hosts in your intranet or the internet).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;QEMU supports networking by emulating some popular network cards
(aka NICs - network interface controllers) and establishing virtual
LANs (VLAN). There are four ways that QEMU guests can be connected:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;User mode (SLiRP)&lt;/li&gt;
  &lt;li&gt;Tap&lt;/li&gt;
  &lt;li&gt;Socket redirection&lt;/li&gt;
  &lt;li&gt;VDE networking&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;References:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.qemu.org/2018/05/31/nic-parameter/&quot;&gt;QEMU’s new -nic command line option&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking&quot;&gt;Networking - QEMU Documentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikibooks.org/wiki/QEMU/Networking&quot;&gt;Networking - QEMU on wikibooks.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The difference between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-nic&lt;/code&gt; options of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu&lt;/code&gt; command:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt; option can create either a front-end or a back-end (and also does other things)&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; can only create a back-end&lt;/li&gt;
  &lt;li&gt;a single occurrence of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-nic&lt;/code&gt; creates both a front-end and a back-end&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;slirp-user-networking&quot;&gt;SLiRP (user networking)&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Provides access to the host’s network via NAT&lt;/li&gt;
  &lt;li&gt;It doesn’t support protocols other than TCP and UDP so e.g. ping and other ICMP utilities won’t work from the guest&lt;/li&gt;
  &lt;li&gt;A virtual DHCP server on 10.0.2.2&lt;/li&gt;
  &lt;li&gt;A virtual DNS server on 10.0.2.3&lt;/li&gt;
  &lt;li&gt;Gateway: 10.0.2.3&lt;/li&gt;
  &lt;li&gt;An IP address starting from 10.0.2.15&lt;/li&gt;
  &lt;li&gt;NO tap0 on the host&lt;/li&gt;
  &lt;li&gt;ssh from the guest to the host&lt;/li&gt;
  &lt;li&gt;By default it acts as a firewall and does not permit any incoming traffic&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;starting-a-qemu-vm-with-slirp-user-networking&quot;&gt;Starting a QEMU VM with SLiRP (User Networking)&lt;/h4&gt;

&lt;p&gt;With the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev user,id=network0 \
-device e1000,netdev=network0 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you don’t specify any network configuration options, then QEMU creates 
a SLiRP user network back-end and an appropriate virtual network device 
for the guest (e.g. an E1000 PCI card for most x86 PC guests):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, you can use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt; (&lt;a href=&quot;https://www.qemu.org/2018/05/31/nic-parameter/&quot;&gt;QEMU’s new -nic command line option&lt;/a&gt;) instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-net nic \
-net user \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;tap&quot;&gt;Tap&lt;/h3&gt;

&lt;h4 id=&quot;how-to-create-a-bridged-networking-tun-device-in-tap-mode-for-qemu-with-an-ip-address-provided-by-libvirts-bridge-virbr0&quot;&gt;How To Create a Bridged Networking (Tun Device in Tap Mode) for QEMU with an IP Address Provided by libvirt’s Bridge virbr0&lt;/h4&gt;

&lt;p&gt;References: &lt;br /&gt;
&lt;a href=&quot;https://wiki.qemu.org/Features/HelperNetworking&quot;&gt;Helper Networking&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Allows the guest to directly access the host’s network&lt;/li&gt;
  &lt;li&gt;ICMP utilities (e.g. ping) working&lt;/li&gt;
  &lt;li&gt;192.168.122.x (gw: 192.168.122.254)&lt;/li&gt;
  &lt;li&gt;tap0 on the host&lt;/li&gt;
  &lt;li&gt;IP address visible on the host’s network -&amp;gt; ssh from the guest to the host&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When you install the libvirt &lt;a href=&quot;#footnotes&quot;&gt;²&lt;/a&gt; package, a virtual network 
switch named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; is created.&lt;/p&gt;

&lt;p&gt;To allow unprivileged user access to the bridge from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt;
tool, create or modify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/qemu-kvm/bridge.conf&lt;/code&gt; (in other Linux 
distributions, the location of this configuration file might be different, 
for example, /etc/qemu/bridge.conf).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;allow virbr0&quot; | sudo tee -a /etc/qemu-kvm/bridge.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bridge.conf&lt;/code&gt; are in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-kvm-common&lt;/code&gt; package:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dnf repoquery --file /etc/qemu-kvm/bridge.conf 
[...]
qemu-kvm-common-15:2.12.0-63.module+el8+2833+c7d6d092.x86_64

$ dnf repoquery --file /usr/libexec/qemu-bridge-helper
[...]
qemu-kvm-common-15:2.12.0-63.module+el8+2833+c7d6d092.x86_64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Both examples below use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option for the back-end, together 
with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-device&lt;/code&gt; for the front-end.  That combination configures a network 
connection where the emulated NIC is directly connected to a host network
back-end, without a hub in between (as opposed to a network connection 
created with the legacy &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt; option).&lt;/p&gt;

&lt;h4 id=&quot;tap-with-virbr0-default-virtual-network-switch-created-by-the-libvirt-library---method-1&quot;&gt;Tap with virbr0 (Default Virtual Network Switch Created by the libvirt Library) - Method 1&lt;/h4&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br=&amp;lt;bridge name&amp;gt;&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev bridge,br=virbr0,id=hn0 \
-device virtio-net-pci,netdev=hn0,id=nic1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;tap-with-virbr0-default-virtual-network-switch-created-by-the-libvirt-library---method-2&quot;&gt;Tap with virbr0 (Default Virtual Network Switch Created by the libvirt Library) - Method 2&lt;/h4&gt;

&lt;p&gt;In the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; option, for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap&lt;/code&gt; specify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;helper&lt;/code&gt; and point &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--br&lt;/code&gt; to 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; because by default the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; expects that the 
bridge name is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=virbr0&quot;,id=hn0 \
-device virtio-net-pci,netdev=hn0,id=nic1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;how-to-create-a-bridged-networking-tun-device-in-tap-mode-for-qemu-with-an-ip-address-visible-on-the-hosts-network-and-via-a-bridge-interface-you-created&quot;&gt;How To Create a Bridged Networking (Tun Device in Tap Mode) for QEMU with an IP Address Visible on the Host’s Network and via a Bridge Interface You Created&lt;/h3&gt;

&lt;p&gt;When you don’t want to use the [default] bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; provided by the 
libvirt library, you need to configure the new bridge &lt;em&gt;before&lt;/em&gt; running qemu.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Steps:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Create a network bridge device and bind your default-route NIC to it.&lt;/li&gt;
  &lt;li&gt;Create a tap device attached to the bridge for QEMU to use.
    &lt;ul&gt;
      &lt;li&gt;Instead of setting it up manually, you can let QEMU to set up
the necessary &lt;strong&gt;tap&lt;/strong&gt; device using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool
(location on this host with the operating system RHEL 8.5:
 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/libexec/qemu-bridge-helper&lt;/code&gt;).  This example shows this, that is,
it leaves the tap device creation and deletion to QEMU.&lt;/li&gt;
      &lt;li&gt;To set up a bridge as a regular user, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool 
must be run as root so you have to add the setuid bit; that is, 
permission (access) needs to be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(4755/-rwsr-xr-x)&lt;/code&gt;.  On this system
I didn’t have to do it as the helper was already configured with the setuid.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Configure the host’s firewall to allow packets to move across the bridge.
I didn’t have to make changes for this item because IP forwarding
&lt;a href=&quot;#footnotes&quot;&gt;¹&lt;/a&gt; was already enabled on this host.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lsmod | grep ^bridge
bridge                192512  0

$ lsmod | grep ^tun
tun                    53248  1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip tuntap list
virbr0-nic: tap persist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:  &lt;br /&gt;
I haven’t tried network bridging with wireless interface.&lt;/p&gt;

&lt;p&gt;As per &lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configure_network_bridging&quot;&gt;Configure Network Bridging - Red Hat Product Documentation (RHEL 7)&lt;/a&gt; (Retrieved on Apr 2, 2022), network bridging doesn’t work with Wi-Fi in Ad-Hoc or Infrastructure modes:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Note that a bridge cannot be established over Wi-Fi networks operating 
in Ad-Hoc or Infrastructure modes.  This is due to the IEEE 802.11 
standard that specifies the use of 3-address frames in Wi-Fi for the 
efficient use of airtime.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;To configure bridged networking with a wireless adapter on the host, use NAT:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking#How_to_use_tap_with_a_wireless_adapter_on_the_host&quot;&gt;How to use tap with a wireless adapter on the host&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking/NAT&quot;&gt;QEMU Documentation - Networking - NAT&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bbs.archlinux.org/viewtopic.php?id=207907&quot;&gt;[SOLVED] qemu vm tap networking with internet via host wifi&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;create-a-new-bridge-connection&quot;&gt;Create a New Bridge Connection&lt;/h4&gt;

&lt;p&gt;This new bridge connection will be linked to the eno1 network interface.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 08:94:ef:f4:00:04 brd ff:ff:ff:ff:ff:ff
    inet 123.12.23.148/24 brd 123.12.23.254 scope global noprefixroute eno1
       valid_lft forever preferred_lft forever
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a new bridge connection named br0.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add type bridge con-name br0 ifname br0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | grep -w br0
br0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.000000000000       yes
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eno1&lt;/code&gt; network interface to the bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add type bridge-slave ifname eno1 master br0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli -f bridge connection show br0
bridge.mac-address:                     --
bridge.stp:                             yes
bridge.priority:                        32768
bridge.forward-delay:                   15
bridge.hello-time:                      2
bridge.max-age:                         20
bridge.ageing-time:                     300
bridge.group-forward-mask:              0
bridge.multicast-snooping:              yes
bridge.vlan-filtering:                  no
bridge.vlan-default-pvid:               1
bridge.vlans:                           --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;convert-settings-from-nic-network-interface-controller-to-bridge-interface&quot;&gt;Convert Settings from NIC (Network Interface Controller) to Bridge Interface&lt;/h5&gt;

&lt;p&gt;Allocate a static IP address to the new br0 interface.  (If the DHCP server 
is available, it would provide IP addresses and other settings but since 
this is a server, I chose a set up with a static IP address.)&lt;/p&gt;

&lt;p&gt;In this example, network settings of the existing network interface 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eno1&lt;/code&gt; are converted to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; bridge settings.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show eno1 | grep &apos;ipv4.addresses&apos;
ipv4.addresses:   123.12.23.148/24

$ nmcli connection show eno1 | grep gateway
ipv4.gateway:     123.12.23.254

$ nmcli connection show eno1 | grep &apos;ipv4.dns&apos;
ipv4.dns:         208.67.222.222,208.67.220.220  &amp;lt;-- Will show your DNS servers

$ nmcli connection show eno1 | grep &apos;ipv4.method&apos;
ipv4.method:                            manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection modify br0 ipv4.addresses &apos;123.12.23.148/24&apos;
$ sudo nmcli connection modify br0 ipv4.gateway &apos;123.12.23.254&apos;
$ sudo nmcli connection modify br0 ipv4.dns &apos;208.67.222.222,208.67.220.220&apos;
$ sudo nmcli connection modify br0 ipv4.method manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection up br0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Connection successfully activated (master waiting for slaves) 
(D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/28)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.0894eff40004       yes             eno1
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show
NAME               UUID                                  TYPE      DEVICE 
eno1               4d928341-...........................  ethernet  eno1   
eno2               e94a2707-...........................  ethernet  eno2   
br0                07d25404-...........................  bridge    br0    
virbr0             3216d7f0-...........................  bridge    virbr0 
bridge-slave-eno1  02132481-...........................  ethernet  --     
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show br0
40: br0: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu 1500 qdisc noqueue 
      state DOWN group default qlen 1000
      link/ether 5a:18:0d:a2:18:26 brd ff:ff:ff:ff:ff:ff
      inet 123.12.23.148/24 brd 123.12.23.255 scope global noprefixroute br0
      valid_lft forever preferred_lft forever
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eno1&lt;/code&gt; network interface because now the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; bridge 
has a static IP address and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eno1&lt;/code&gt; will be in forwarding state.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection delete eno1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Allow a regular user access to the new bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; from 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt;.  Add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;allow br0&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bridge.conf&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;allow br0&quot; | sudo tee -a /etc/qemu-kvm/bridge.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/qemu-kvm/bridge.conf
allow virbr0
allow br0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
You don’t need to create a tap device (a.k.a. a tap interface) manually 
because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool (location on the host’s OS, RHEL 8.5: 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/libexec/qemu-bridge-helper&lt;/code&gt;) creates it automatically when you 
start a guest VM.  By default the helper assumes that the bridge name 
is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;.  Also, the name of a tap device that the helper automatically 
creates when the guest VM is started is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev bridge,br=br0,id=hn0 \
-device virtio-net-pci,netdev=hn0,id=nic1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(NOTE:   You can skip &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br=br0&lt;/code&gt; because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool assumes that the name of the bridge is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;.   Also, you can skip &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id=nic1&lt;/code&gt;.)&lt;/p&gt;

&lt;p&gt;Explanation for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;device&lt;/code&gt; options:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-netdev bridge,br=br0,id=hn0&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create a bridge network back-end (with id hn0) via bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt;. 
This will connect to a tap interface tap0 device (aka tap0 interface), 
which will be automatically setup with the helper &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-device virtio-net-pci,netdev=hn0,id=nic1&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create a NIC (of a model &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virtio-net-pci&lt;/code&gt; and with id nic1) and connect 
to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hn0&lt;/code&gt; back-end created by the previous parameter.&lt;/p&gt;

&lt;p&gt;NOTE:  To list all devices, including network devices, 
run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/libexec/qemu-kvm -device help&lt;/code&gt;, which shows help on possible 
drivers and properties (in this case, since you’d be interested in network devices, you’d look under the section titled “Network devices”).&lt;/p&gt;

&lt;p&gt;While the guest VM is running, start another shell on the host.
Run the following set of commands on the host system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | egrep &quot;^br|^virbr|^tap&quot;
br0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
tap0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a | egrep &quot;^br|^virbr|^tap&quot;
br0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
tap0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
virbr0-nic: flags=4098&amp;lt;BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection | egrep -i &quot;bridge|tun|tap|type&quot;
NAME               UUID                                  TYPE      DEVICE 
br0                07d25404-5b85-4006-bdbc-272c63b9aaf0  bridge    br0    
virbr0             3216d7f0-124e-4c66-a6de-5b218d18377c  bridge    virbr0 
bridge-slave-eno1  02132481-584a-413d-97f5-46b161a4de9f  ethernet  eno1   
tap0               37ddcf4a-1105-4ab4-b076-0b62f87df4a8  tun       tap0   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show br0 | egrep -wi &quot;type|mode|name|master|slave&quot;
connection.type:                    bridge
connection.interface-name:          br0
connection.master:                  --
connection.slave-type:              --
ipv6.addr-gen-mode:                 stable-privacy
GENERAL.NAME:                       br0
GENERAL.MASTER-PATH:                --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show tap0 | egrep -wi &quot;type|mode|name|master|slave&quot;
connection.type:                    tun
connection.interface-name:          tap0
connection.master:                  br0
connection.slave-type:              bridge
bridge-port.hairpin-mode:           no
tun.mode:                           2 (tap)
GENERAL.NAME:                       tap0
GENERAL.MASTER-PATH:                /org/freedesktop/NetworkManager/Devices/34
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device | egrep -i &quot;bridge|tun|type&quot;
DEVICE      TYPE      STATE                   CONNECTION        
br0         bridge    connected               br0               
virbr0      bridge    connected (externally)  virbr0            
eno1        ethernet  connected               bridge-slave-eno1 
tap0        tun       connected (externally)  tap0              
virbr0-nic  tun       unmanaged               --                
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show br0
GENERAL.DEVICE:         br0
GENERAL.TYPE:           bridge
GENERAL.HWADDR:         08:94:EF:F4:00:04
GENERAL.MTU:            1500
GENERAL.STATE:          100 (connected)
GENERAL.CONNECTION:     br0
GENERAL.CON-PATH:       /org/freedesktop/NetworkManager/ActiveConnection/28
IP4.ADDRESS[1]:         123.12.23.148/24 
IP4.GATEWAY:            123.12.23.254
IP4.ROUTE[1]:           dst = 123.12.23.0/24, nh = 0.0.0.0, mt = 426
IP4.ROUTE[2]:           dst = 0.0.0.0/0, nh = 123.12.23.254, mt = 426
IP4.DNS[1]:             208.67.222.222
IP4.DNS[2]:             208.67.220.220
IP6.ADDRESS[1]:         fe80::c929:3169:74dd:2429/64
IP6.GATEWAY:            fe80::a68c:dbff:fede:1301
IP6.ROUTE[1]:           dst = fe80::/64, nh = ::, mt = 426
IP6.ROUTE[2]:           dst = ::/0, nh = fe80::a68c:dbff:fede:1301, mt = 426
IP6.ROUTE[3]:           dst = ff00::/8, nh = ::, mt = 256, table=255
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show tap0
GENERAL.DEVICE:         tap0
GENERAL.TYPE:           tun
GENERAL.HWADDR:         FE:90:76:81:BE:CF
GENERAL.MTU:            1500
GENERAL.STATE:          100 (connected (externally))
GENERAL.CONNECTION:     tap0
GENERAL.CON-PATH:       /org/freedesktop/NetworkManager/ActiveConnection/30
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.0894eff40004       yes             eno1
                                                        tap0
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip link show master br0
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq master br0 
    state UP mode DEFAULT group default qlen 1000
    link/ether 08:94:ef:f4:00:04 brd ff:ff:ff:ff:ff:ff
44: tap0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc fq_codel 
    master br0 state UNKNOWN mode DEFAULT group default qlen 1000
    link/ether fe:90:76:81:be:cf brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bridge link show
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 
     state forwarding priority 32 cost 100 
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 hwmode VEPA 
[...]
44: tap0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 
      state forwarding priority 32 cost 100 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show br0 | grep -i type
GENERAL.TYPE:                           bridge

$ nmcli device show tap0 | grep -i type
GENERAL.TYPE:                           tun

$ nmcli device show eno1 | grep -i type
GENERAL.TYPE:                           ethernet
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Return to the first shell, and in the guest VM, power off the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back on the host system, after the VM is powered off:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | egrep &quot;^br|^virbr|^tap&quot;
br0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a | egrep &quot;^br|^virbr|^tap&quot;
br0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
virbr0-nic: flags=4098&amp;lt;BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection | egrep -i &quot;bridge|tun|tap|type&quot;
NAME               UUID                                  TYPE      DEVICE 
br0                07d25404-5b85-4006-bdbc-272c63b9aaf0  bridge    br0    
virbr0             3216d7f0-124e-4c66-a6de-5b218d18377c  bridge    virbr0 
bridge-slave-eno1  02132481-584a-413d-97f5-46b161a4de9f  ethernet  eno1   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device | egrep -i &quot;bridge|tun|tap|type&quot;
DEVICE      TYPE      STATE                   CONNECTION        
br0         bridge    connected               br0               
virbr0      bridge    connected (externally)  virbr0            
eno1        ethernet  connected               bridge-slave-eno1 
virbr0-nic  tun       unmanaged               --                
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.0894eff40004       yes             eno1
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip link show master br0
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq master br0 
    state UP mode DEFAULT group default qlen 1000
    link/ether 08:94:ef:f4:00:04 brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bridge link show
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 
     state forwarding priority 32 cost 100 
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master br0 hwmode VEPA 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-a-second-bridge-connection&quot;&gt;Create a Second Bridge Connection&lt;/h3&gt;

&lt;p&gt;This new bridge connection will be linked to the eno2 network interface, 
which is used for a non-routable private network (for a cluster of compute 
nodes).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show
[...]
5: eno2: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq state UP 
      group default qlen 1000
    link/ether 08:94:ef:00:11:22 brd ff:ff:ff:ff:ff:ff
    inet 192.168.80.210/24 brd 192.168.80.255 scope global noprefixroute eno2
       valid_lft forever preferred_lft forever
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a new bridge connection named br1 on the host system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add type bridge con-name br1 ifname br1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;convert-settings-from-nic-network-interface-controller-to-bridge-interface-1&quot;&gt;Convert Settings from NIC (Network Interface Controller) to Bridge Interface&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show eno2 | grep &apos;ipv4.addresses&apos;
ipv4.addresses :                  192.168.80.210/24

$ nmcli connection show eno2 | grep &apos;ipv4.gateway&apos; 
ipv4.gateway:                     --

$ nmcli connection show eno2 | grep &apos;ipv4.dns&apos;
ipv4.dns:                         --

$ nmcli connection show eno2 | grep &apos;ipv4.method&apos;
ipv4.method:                      manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add type bridge-slave ifname eno2 master br1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection modify br1 ipv4.addresses &apos;192.168.80.210/24&apos;
$ sudo nmcli connection modify br1 ipv4.method manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection delete eno2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip address show br1
53: br1: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu 1500 qdisc noqueue 
      state DOWN group default qlen 1000
    link/ether 52:c3:05:11:22:33 brd ff:ff:ff:ff:ff:ff
    inet 192.168.80.210/24 brd 192.168.80.255 scope global noprefixroute br1
       valid_lft forever preferred_lft forever
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show
NAME               UUID                                  TYPE      DEVICE
br0                07d25404-...........................  bridge    br0
br1                1f0c11be-...........................  bridge    br1
virbr0             3216d7f0-...........................  bridge    virbr0
bridge-slave-eno1  02132481-...........................  ethernet  eno1
bridge-slave-eno2  6f94adf1-...........................  ethernet  eno2
eno3               70568f00-...........................  ethernet  --
eno4               39d9c6c1-...........................  ethernet  --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device
DEVICE      TYPE      STATE                   CONNECTION
br0         bridge    connected               br0
br1         bridge    connected               br1
virbr0      bridge    connected (externally)  virbr0
eno1        ethernet  connected               bridge-slave-eno1
eno2        ethernet  connected               bridge-slave-eno2
eno3        ethernet  disconnected            --
eno4        ethernet  disconnected            --
lo          loopback  unmanaged               --
virbr0-nic  tun       unmanaged               --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;allow br1&quot; | sudo tee  -a /etc/qemu-kvm/bridge.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/qemu-kvm/bridge.conf
allow virbr0
allow br0
allow br1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl restart NetworkManager
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You might need to restart dhcpd service too.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl restart dhcpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After you launch an instance of QEMU guest VM that uses the both bridge 
devices (br0 and br1) you’ve created (see section below), QEMU automatically
creates TUN devices named tun0 and tun1.  Run the following three commands
on the host while the guest virtual machine is running.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection
NAME               UUID                                  TYPE      DEVICE
br0                07d25404-...........................  bridge    br0
br1                1f0c11be-...........................  bridge    br1
virbr0             3216d7f0-...........................  bridge    virbr0
bridge-slave-eno1  02132481-...........................  ethernet  eno1
bridge-slave-eno2  6f94adf1-...........................  ethernet  eno2
tap0               4da9861f-...........................  tun       tap0
tap1               9837b7c2-...........................  tun       tap1
eno3               70568f00-...........................  ethernet  --
eno4               39d9c6c1-...........................  ethernet  --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device
DEVICE      TYPE      STATE                   CONNECTION
br0         bridge    connected               br0
br1         bridge    connected               br1
virbr0      bridge    connected (externally)  virbr0
eno1        ethernet  connected               bridge-slave-eno1
eno2        ethernet  connected               bridge-slave-eno2
tap0        tun       connected (externally)  tap0
tap1        tun       connected (externally)  tap1
eno3        ethernet  disconnected            --
eno4        ethernet  disconnected            --
lo          loopback  unmanaged               --
virbr0-nic  tun       unmanaged               --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.0894eff40004       yes             eno1
                                                        tap0
br1             8000.0894eff40005       yes             eno2
                                                        tap1
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;how-to-launch-a-qemu-instance-in-bridge-network-with-two-nics-in-two-separate-networks-via-tap-network-connections---aka-configure-host-tap-network-backendshost-tap-interfaces&quot;&gt;How To Launch a QEMU Instance in Bridge Network with Two NICs in Two Separate Networks via TAP Network Connections - aka Configure Host TAP Network Backends/Host TAP Interfaces&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
You can use the same bridge on the host for connecting two guest NICs to it,
in which case the both guest network connections get IP address assigned from
the host’s bridge subnet.&lt;/p&gt;

&lt;p&gt;This example shows a different configuration, where the guest VM needs to 
be connected to two different networks so one of two guest NICs is 
connected to one bridge and the other guest NIC is connected to the other 
bridge on the host side.&lt;/p&gt;

&lt;h4 id=&quot;two-bridges---method-1&quot;&gt;Two Bridges - Method 1&lt;/h4&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;Launch a QEMU instance with two NICs, each connected to a TAP device.
Use the default network script but instead of using the script’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; 
bridge, connect the both TAP devices to bridgess &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;br1&lt;/code&gt;,
respectively:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br0&quot;,id=hn0 \
-netdev tap,helper=&quot;/usr/libexec/qemu-bridge-helper --br=br1&quot;,id=hn1 \
-device virtio-net-pci,netdev=hn0 \
-device virtio-net-pci,netdev=hn1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When it starts the guest VM, QEMU automatically creates two &lt;strong&gt;TUN&lt;/strong&gt;
connections (aka tun devices) of type &lt;strong&gt;TAP&lt;/strong&gt;.  In this case QEMU names
these two devices tap0 and tap1.  You can obtain the details by starting
a separate shell (while the guest VM is running) and by using the 
following commands: 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip --details address show&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip --details link show&lt;/code&gt;, 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip --details tuntap&lt;/code&gt;, 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli connection&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli device&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nmcli device show&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brctl show&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&quot;two-bridges---method-2&quot;&gt;Two Bridges - Method 2&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-netdev bridge,br=br0,id=hn0 \
-netdev bridge,br=br1,id=hn1 \
-device virtio-net-pci,netdev=hn0 \
-device virtio-net-pci,netdev=hn1 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;vde-networking&quot;&gt;VDE Networking&lt;/h3&gt;

&lt;p&gt;From &lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking&quot;&gt;Networking - QEMU Wiki - Documentation&lt;/a&gt; (Retrieved on Apr 2, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;VDE&lt;/p&gt;

  &lt;p&gt;The VDE networking backend uses the &lt;a href=&quot;https://github.com/virtualsquare/vde-2&quot;&gt;Virtual Distributed Ethernet&lt;/a&gt; infrastructure to network guests. 
Unless you specifically know that you want to use VDE, it is probably 
not the right backend to use.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;redirecting-ports&quot;&gt;Redirecting Ports&lt;/h3&gt;

&lt;h4 id=&quot;how-to-get-ssh-access-to-a-guest-with-port-forwarding&quot;&gt;How to Get SSH Access to a Guest with Port Forwarding&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;No tap0 on the guest.&lt;/li&gt;
  &lt;li&gt;IP address in the guest:  10.0.2.x  (gw: 10.0.2.254)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-m 4G \
-device e1000,netdev=net0 \
-netdev user,id=net0,hostfwd=tcp::5555-:22 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first line creates a virtual e1000 network device, while the second 
line created one user typed backend, forwarding local port 5555 to guest 
port 22.  Then from the host:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh -p 5555 username@localhost
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to have SSH access to guest after its network setup (if there are any 
firewalls in the guest or host, disable them or allow the needed ports).&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;how-to-start-a-qemu-vm-with-bridged-networking-with-the-legacy--net-option-aka-via-hub&quot;&gt;How To Start a QEMU VM with Bridged Networking (with the Legacy -net Option, aka via Hub)&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Task:&lt;/em&gt;  Start a guest VM with the virtual network bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; 
(installed by the libvirt).&lt;/p&gt;

&lt;p&gt;When QEMU starts (e.g. when you invoke it by starting a VM via QEMU), 
it runs the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-bridge-helper&lt;/code&gt; tool, which automatically creates 
a new tap device, which is effectively a virtual NIC (network interface
controller) with its own MAC address, and connects that device to the bridge.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;NOTE:&lt;/em&gt; &lt;br /&gt;
This example shows the use of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt; &lt;a href=&quot;#footnotes&quot;&gt;³&lt;/a&gt; legacy option.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Possible to ping from the guest VM&lt;/li&gt;
  &lt;li&gt;The NIC is an e1000 by default on the PC target so if you want to emulate 
an e1000 NIC in the guest you can skip &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-model=e1000&lt;/code&gt; in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic&lt;/code&gt; option.
As such, in the example below, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic,model=e1000&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;The emulated NIC and the host back-end are not &lt;em&gt;directly&lt;/em&gt; connected.
They are rather both connected to an emulated &lt;strong&gt;hub&lt;/strong&gt; (called “vlan” in older versions of QEMU).&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-drive format=raw,file=xcatmn.img \
-global ide-hd.physical_block_size=4096 \
-m 4G \
-net nic,model=e1000 \
-net bridge,br=virbr0 \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  CentOS Linux (3.10.0-1160.el7.x86_64) 7 (Core)
  CentOS Linux (0-rescue-d01c41227ec248b983c9ea19758c73b0) 7 (Core)


  Use the ↑ and ↓ keys to change the selection.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to the guest VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

xcatmn login: root
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Networking information in the guest VM:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ifconfig | grep -w inet
    inet 192.168.122.76  netmask 255.255.255.0  broadcast 192.168.122.255
    inet 127.0.0.1  netmask 255.0.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli connection 
NAME  UUID                                  TYPE      DEVICE 
ens3  e5ec08b7-...........................  ethernet  ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip address show ens3 | grep -w inet
    inet 192.168.122.76/24 brd 192.168.122.255 scope global noprefixroute dynam3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/sysconfig/network-scripts/ifcfg-ens3
TYPE=&quot;Ethernet&quot;
PROXY_METHOD=&quot;none&quot;
BROWSER_ONLY=&quot;no&quot;
BOOTPROTO=&quot;dhcp&quot;
DEFROUTE=&quot;yes&quot;
IPV4_FAILURE_FATAL=&quot;no&quot;
IPV6INIT=&quot;no&quot;
IPV6_AUTOCONF=&quot;yes&quot;
IPV6_DEFROUTE=&quot;yes&quot;
IPV6_FAILURE_FATAL=&quot;no&quot;
IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;
NAME=&quot;ens3&quot;
UUID=&quot;e5ec08b7-...........................&quot;
DEVICE=&quot;ens3&quot;
ONBOOT=&quot;yes&quot;
DNS1=&quot;208.67.222.222&quot;  &amp;lt;-- Will list your DNS1 server
DNS2=&quot;208.67.220.220&quot;  &amp;lt;-- Will list your DNS2 server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# nmcli device show ens3 | grep DNS
IP4.DNS[1]:         192.168.122.1  
IP4.DNS[2]:         208.67.222.222    &amp;lt;-- Will show your DNS2 server
IP4.DNS[3]:         208.67.220.220    &amp;lt;-- Will show your DNS3 server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The kernel routing tables:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# netstat -rn
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
0.0.0.0         192.168.122.1   0.0.0.0         UG        0 0          0 ens3
192.168.122.0   0.0.0.0         255.255.255.0   U         0 0          0 ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# route -e
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         gateway         0.0.0.0         UG        0 0          0 ens3
192.168.122.0   0.0.0.0         255.255.255.0   U         0 0          0 ens3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or with the new tool &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip(8)&lt;/code&gt;, from the iproute2 package (a collection of 
userspace utilities for controlling and monitoring various aspects of 
networking in the Linux kernel):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ip route
default via 192.168.122.1 dev ens3 proto dhcp metric 100 
192.168.122.0/24 dev ens3 proto kernel scope link src 192.168.122.76 metric 100 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf 
# Generated by NetworkManager
search yourdomain.org
nameserver 192.168.122.1
nameserver 208.67.222.222   &amp;lt;-- Will list your nameserver1
nameserver 208.67.220.220   &amp;lt;-- Will list your nameserver2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;virbr0-nic-ethernet-interface-and-tap0-device-are-created-automatically-when-guest-vm-is-running&quot;&gt;virbr0-nic Ethernet Interface and tap0 Device are Created Automatically when Guest VM is Running&lt;/h4&gt;

&lt;p&gt;While the guest VM is running, start another shell on the host.&lt;/p&gt;

&lt;p&gt;On the host system, run the following commands, which show that 
the &lt;strong&gt;tun&lt;/strong&gt; device named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt; (a.k.a. network interface of type 
&lt;strong&gt;tun&lt;/strong&gt; - tun mode &lt;strong&gt;tap&lt;/strong&gt; ) is created automatically (as a slave 
of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; bridge) when the guest VM is powered on.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | egrep -i &quot;virbr|tap&quot;
tap0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a | egrep -i &quot;virbr|tap&quot;
tap0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
virbr0-nic: flags=4098&amp;lt;BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection | egrep -i &quot;bridge|tun|tap|type&quot;
NAME    UUID                                  TYPE      DEVICE
virbr0  3216d7f0-124e-4c66-a6de-5b218d18377c  bridge    virbr0
tap0    72e1da4b-5a73-40ec-9cce-c480078f3c68  tun       tap0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show virbr0 | egrep -wi &quot;type|mode|name|master|slave&quot;
connection.type:                    bridge
connection.interface-name:          virbr0
connection.master:                  --
connection.slave-type:              --
ipv6.addr-gen-mode:                 stable-privacy
GENERAL.NAME:                       virbr0
GENERAL.MASTER-PATH:                --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show tap0 | egrep -wi &quot;type|mode|name|master|slave&quot;
connection.type:                    tun
connection.interface-name:          tap0
connection.master:                  virbr0
connection.slave-type:              bridge
bridge-port.hairpin-mode:           no
tun.mode:                           2 (tap)
GENERAL.NAME:                       tap0
GENERAL.MASTER-PATH:                /org/freedesktop/NetworkManager/Devices/6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device | egrep -i &quot;bridge|tun|type&quot;
DEVICE      TYPE      STATE                   CONNECTION
virbr0      bridge    connected (externally)  virbr0
tap0        tun       connected (externally)  tap0
virbr0-nic  tun       unmanaged               --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0
GENERAL.DEVICE:           virbr0
GENERAL.TYPE:             bridge
[...]
GENERAL.STATE:            100 (connected (externally))
GENERAL.CONNECTION:       virbr0
[...]
IP4.ADDRESS[1]:           192.168.122.1/24
IP4.GATEWAY:              --
IP4.ROUTE[1]:             dst = 192.168.122.0/24, nh = 0.0.0.0, mt = 0
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0-nic
GENERAL.DEVICE:           virbr0-nic
GENERAL.TYPE:             tun
[...]
GENERAL.STATE:            10 (unmanaged)
GENERAL.CONNECTION:       --
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show tap0
GENERAL.DEVICE:           tap0
GENERAL.TYPE:             tun
[...]
GENERAL.STATE:            100 (connected (externally))
GENERAL.CONNECTION:       tap0
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             tap0
                                                        virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;verification-of-bridge-creation-and-network-connection&quot;&gt;Verification of Bridge Creation and Network Connection&lt;/h4&gt;

&lt;p&gt;Use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip&lt;/code&gt; utility to display the link status of Ethernet devices that 
are ports of the bridge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip link show master virbr0
7: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 qdisc fq_codel master 
      virbr0 state DOWN mode DEFAULT group default qlen 1000
      link/ether 52:54:00:a7:c2:ab brd ff:ff:ff:ff:ff:ff
33: tap0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc fq_codel master 
      virbr0 state UNKNOWN mode DEFAULT group default qlen 1000
      link/ether fe:0e:7b:05:f6:b1 brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can also use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bridge&lt;/code&gt; utility to display the status of Ethernet 
devices that are ports of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; bridge device.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bridge link show 
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 hwmode VEPA 
5: eno2: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 hwmode VEPA 
7: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 master virbr0 state disabled 
     priority 32 cost 100 
33: tap0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 master virbr0 state 
     forwarding priority 32 cost 100
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device show virbr0 | grep -i type
GENERAL.TYPE:                           bridge

$ nmcli device show virbr0-nic | grep -i type
GENERAL.TYPE:                           tun

$ nmcli device show tap0 | grep -i type
GENERAL.TYPE:                           tun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Back in the first shell, in the guest VM, power off the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;virbr0-nic-network-interface-and-tap0-device-are-automatically-removed-when-guest-vm-is-powered-down&quot;&gt;virbr0-nic Network Interface and tap0 Device are Automatically Removed when Guest VM is Powered Down&lt;/h4&gt;

&lt;p&gt;Back on the host system, after the VM is powered off, run the following 
set of commands.  They show that the the &lt;strong&gt;tun&lt;/strong&gt; device named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tap0&lt;/code&gt; 
(network interface of type &lt;strong&gt;tun&lt;/strong&gt; - tun mode &lt;strong&gt;tap&lt;/strong&gt; ) is automatically 
removed after the guest VM is powered off.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig | egrep -i &quot;virbr|tap&quot;
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ifconfig -a | egrep -i &quot;virbr|tap&quot;
virbr0: flags=4099&amp;lt;UP,BROADCAST,MULTICAST&amp;gt;  mtu 1500
virbr0-nic: flags=4098&amp;lt;BROADCAST,MULTICAST&amp;gt;  mtu 1500
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection | egrep -i &quot;bridge|tun|tap|type&quot;
NAME    UUID                                  TYPE      DEVICE
virbr0  3216d7f0-124e-4c66-a6de-5b218d18377c  bridge    virbr0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli device | egrep -i &quot;bridge|tun|tap|type&quot;
DEVICE      TYPE      STATE                   CONNECTION
virbr0      bridge    connected (externally)  virbr0
virbr0-nic  tun       unmanaged               --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ brctl show
bridge name     bridge id               STP enabled     interfaces
virbr0          8000.525400a7c2ab       yes             virbr0-nic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip link show master virbr0
7: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 qdisc fq_codel master virbr0 
      state DOWN mode DEFAULT group default qlen 1000
      link/ether 52:54:00:a7:c2:ab brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bridge link show
[...]
4: eno1: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 hwmode VEPA 
5: eno2: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 hwmode VEPA 
7: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 master virbr0 state disabled 
      priority 32 cost 100 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;appendix&quot;&gt;Appendix&lt;/h2&gt;

&lt;p&gt;This section shows how the guest VM used in the examples was created.&lt;/p&gt;

&lt;h3 id=&quot;create-a-customized-centosrhel-dvd-iso-for-installation-in-text-mode-via-serial-console&quot;&gt;Create a Customized CentOS/RHEL DVD ISO for Installation in Text Mode via Serial Console&lt;/h3&gt;

&lt;p&gt;Download CentOS 7.9 DVD ISO image and verify the SHA256 checksum 
of the ISO image file to ensure its integrity – Verify that the SHA256 
checksum of the downloaded file matches that of the SHA256 checksum listed 
at the CentOS.org official download site.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd /tmp/

$ wget https://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Everything-2009.iso

$ wget https://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/sha256sum.txt

$ ls -lh sha256sum.txt
-rw-rw-r-- 1 dusko dusko 398 Nov  4  2020 sha256sum.txt

$ wc -l sha256sum.txt
4 sha256sum.txt

$ grep -n &apos;CentOS-7-x86_64-Everything-2009.iso&apos; sha256sum.txt
1:689531cce9cf484378481ae762fae362791a9be078fda10e4f6977bf8fa71350  CentOS-7-x86_64-Everything-2009.iso

$ grep CentOS-7-x86_64-Everything-2009.iso sha256sum.txt &amp;gt; /tmp/sha256sum.txt.tmp

$ mv /tmp/sha256sum.txt.tmp /tmp/sha256sum.txt

$ cat /tmp/sha256sum.txt
689531cce9cf484378481ae762fae362791a9be078fda10e4f6977bf8fa71350  CentOS-7-x86_64-Everything-2009.iso

$ sha256sum --check sha256sum.txt
CentOS-7-x86_64-Everything-2009.iso: OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Customize the DVD ISO image so that the installer redirects its text output 
to the serial console, specifically to the first serial device (ttyS0), 
with baud rate of 19200. (This is to meet the requirement of the system 
that this VM is going to replicate.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir -p /mnt/{dvd,customdvd}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
mount \
-t iso9660 \
/tmp/CentOS-7-x86_64-Everything-2009.iso \
/mnt/dvd/
mount: /mnt/dvd: WARNING: device write-protected, mounted read-only.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rsync -a /mnt/dvd/ /mnt/customdvd/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /mnt/customdvd/isolinux/
total 60M
drwxr-xr-x 2 root root  198 Oct 26  2020 .
drwxr-xr-x 8 root root  254 Oct 29  2020 ..
-r--r--r-- 1 root root 2.0K Nov  2  2020 boot.cat
-rw-r--r-- 1 root root   84 Oct 26  2020 boot.msg
-rw-r--r-- 1 root root  281 Oct 26  2020 grub.conf
-rw-r--r-- 1 root root  53M Oct 26  2020 initrd.img
-rw-r--r-- 1 root root  24K Oct 26  2020 isolinux.bin
-rw-r--r-- 1 root root 3.0K Oct 26  2020 isolinux.cfg
-rw-r--r-- 1 root root 187K Nov  5  2016 memtest
-rw-r--r-- 1 root root  186 Sep 30  2015 splash.png
-r--r--r-- 1 root root 2.2K Nov  2  2020 TRANS.TBL
-rw-r--r-- 1 root root 150K Oct 30  2018 vesamenu.c32
-rwxr-xr-x 1 root root 6.5M Oct 19  2020 vmlinuz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/isolinux/boot.msg


splash.lss

 -  Press the 01&amp;lt;ENTER&amp;gt;07 key to begin the installation process.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Delete the line with ‘splash.lss’ from the ‘boot.msg’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sed -i.bkp &apos;/splash.lss/d&apos; /mnt/customdvd/isolinux/boot.msg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
--unified=0 \
/mnt/customdvd/isolinux/boot.msg.bkp \
/mnt/customdvd/isolinux/boot.msg
--- /mnt/customdvd/isolinux/boot.msg.bkp      2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/boot.msg    2022-04-02 08:09:31.109458847 -0700
@@ -2 +1,0 @@
-splash.lss
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/isolinux/boot.msg



 -  Press the 01&amp;lt;ENTER&amp;gt;07 key to begin the installation process.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rm -i /mnt/customdvd/isolinux/boot.msg.bkp
rm: remove regular file &apos;/mnt/customdvd/isolinux/boot.msg.bkp&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove ‘boot.cat’. It will be regenerated in a later step.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rm -i /mnt/customdvd/isolinux/boot.cat
rm: remove regular file &apos;/mnt/customdvd/isolinux/boot.cat&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tell ISOLINUX to use a serial port as the console. “port” is a number
(0 = /dev/ttyS0 = COM1, etc.) or an I/O port address (e.g. 0x3F8)
(&lt;a href=&quot;https://www.syslinux.org/old/faq.php&quot;&gt;https://www.syslinux.org/old/faq.php&lt;/a&gt;,
&lt;a href=&quot;https://wiki.syslinux.org/wiki/index.php?title=SYSLINUX&quot;&gt;https://wiki.syslinux.org/wiki/index.php?title=SYSLINUX&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Here I want to use the port 0 so the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console&lt;/code&gt; statement uses tty0 and ttyS0.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /mnt/customdvd/isolinux/isolinux.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
--unified=0 \
/mnt/dvd/isolinux/isolinux.cfg \
/mnt/customdvd/isolinux/isolinux.cfg
--- /mnt/dvd/isolinux/isolinux.cfg      2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/isolinux.cfg        2022-04-02 08:12:12.604830661 -0700
@@ -64 +64 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet console=tty0 console=ttyS0,19200
@@ -70 +70 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet console=tty0 console=ttyS0,19200
@@ -86 +86 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet console=tty0 console=ttyS0,19200
@@ -96 +96 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet console=tty0 console=ttyS0,19200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /mnt/customdvd/EFI/BOOT/
total 6.0M
-rwxr--r-- 1 root root 978K Jul 31  2020 BOOTIA32.EFI
-rwxr--r-- 1 root root 1.2M Jul 31  2020 BOOTX64.EFI
drwxr-xr-x 2 root root   42 Oct 26  2020 fonts
-rw-r--r-- 1 root root 1.3K Oct 26  2020 grub.cfg
-rwxr--r-- 1 root root 745K Jul 28  2020 grubia32.efi
-rwxr--r-- 1 root root 1.1M Jul 28  2020 grubx64.efi
-rwxr--r-- 1 root root 898K Jul 31  2020 mmia32.efi
-rwxr--r-- 1 root root 1.2M Jul 31  2020 mmx64.efi
-r--r--r-- 1 root root 1.8K Nov  2  2020 TRANS.TBL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /mnt/customdvd/EFI/BOOT/grub.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff --unified=0 /mnt/dvd/EFI/BOOT/grub.cfg /mnt/customdvd/EFI/BOOT/grub.cfg
--- /mnt/dvd/EFI/BOOT/grub.cfg  2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/EFI/BOOT/grub.cfg    2022-04-02 08:23:17.334493194 -0700
@@ -16,0 +17,4 @@
+serial --unit=0 --speed=19200 --word=8 --parity=no --stop=1
+terminal_input serial console=tty0 console=ttyS0,19200
+terminal_output serial console=tty0 console=ttyS0,19200
+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/EFI/BOOT/grub.cfg
set default=&quot;1&quot;

function load_video {
  insmod efi_gop
  insmod efi_uga
  insmod video_bochs
  insmod video_cirrus
  insmod all_video
}

load_video
set gfxpayload=keep
insmod gzio
insmod part_gpt
insmod ext2

serial --unit=0 --speed=19200 --word=8 --parity=no --stop=1
terminal_input serial console=tty0 console=ttyS0,19200
terminal_output serial console=tty0 console=ttyS0,19200

set timeout=60
### END /etc/grub.d/00_header ###

search --no-floppy --set=root -l &apos;CentOS 7 x86_64&apos;

### BEGIN /etc/grub.d/10_linux ###
menuentry &apos;Install CentOS 7&apos; --class fedora --class gnu-linux --class gnu --class os {
        linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet
        initrdefi /images/pxeboot/initrd.img
}
menuentry &apos;Test this media &amp;amp; install CentOS 7&apos; --class fedora --class gnu-linux --class gnu --class os {
        linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet
        initrdefi /images/pxeboot/initrd.img
}
submenu &apos;Troubleshooting --&amp;gt;&apos; {
        menuentry &apos;Install CentOS 7 in basic graphics mode&apos; --class fedora --class gnu-linux --class gnu --class os {
                linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet
                initrdefi /images/pxeboot/initrd.img
        }
        menuentry &apos;Rescue a CentOS system&apos; --class fedora --class gnu-linux --class gnu --class os {
                linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet
                initrdefi /images/pxeboot/initrd.img
        }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ isoinfo -d -i /tmp/CentOS-7-x86_64-Everything-2009.iso | grep &quot;Volume id&quot;
Volume id: CentOS 7 x86_64

$ isoinfo -d -i /tmp/CentOS-7-x86_64-Everything-2009.iso | grep Joliet
Joliet with UCS level 3 found

$ isoinfo -d -i /tmp/CentOS-7-x86_64-Everything-2009.iso | grep prepare
Data preparer id:

$ isoinfo -d -i /tmp/CentOS-7-x86_64-Everything-2009.iso | grep Torito
El Torito VD version 1 found, boot catalog is in sector 1430
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ blkid /tmp/CentOS-7-x86_64-Everything-2009.iso
/tmp/CentOS-7-x86_64-Everything-2009.iso: BLOCK_SIZE=&quot;2048&quot; 
  UUID=&quot;2020-11-02-15-15-23-00&quot; LABEL=&quot;CentOS 7 x86_64&quot; TYPE=&quot;iso9660&quot; 
  PTUUID=&quot;6b8b4567&quot; PTTYPE=&quot;dos&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
mkisofs \
-o /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso \
-b isolinux/isolinux.bin \
-J \
-R \
-l \
-c isolinux/boot.cat \
-no-emul-boot \
-boot-load-size 4 \
-boot-info-table \
-eltorito-alt-boot \
-e images/efiboot.img \
-no-emul-boot \
-graft-points \
-input-charset utf-8 \
-output-charset utf-8 \
-V &quot;CentOS 7 x86_64&quot; \
/mnt/customdvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo chown dusko:dusko /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ blkid /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso
/tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso: BLOCK_SIZE=&quot;2048&quot; 
  UUID=&quot;2022-04-02-08-31-52-00&quot; LABEL=&quot;CentOS 7 x86_64&quot; TYPE=&quot;iso9660&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Implant an MD5 checksum in the ISO image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ implantisomd5 /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check an MD5 checksum implanted by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;implantisomd5&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ checkisomd5 --verbose /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso
[...]
The media check is complete, the result is: PASS.

It is OK to use this media.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a raw image of 60 GB in size. Using seek option creates 
a sparse file, which saves space.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dd if=/dev/null of=xcatmn.img bs=1M seek=61440
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh xcatmn.img
-rw-rw-r-- 1 dusko dusko 60G Mar 2 08:36 xcatmn.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -V qemu-kvm; type qemu-kvm; which qemu-kvm; whereis qemu-kvm
/usr/bin/command: line 2: command: qemu-kvm: not found
/usr/bin/type: line 2: type: qemu-kvm: not found
qemu-kvm: Command not found.
qemu-kvm: /usr/lib64/qemu-kvm /etc/qemu-kvm /usr/libexec/qemu-kvm 
          /usr/share/qemu-kvm /usr/share/man/man1/qemu-kvm.1.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;install-centos-linux-79-on-qemu-guest-vm-image&quot;&gt;Install CentOS Linux 7.9 on QEMU Guest VM Image&lt;/h3&gt;

&lt;p&gt;Create a QEMU virtual machine with the following properties:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;for the VM’s disk use the 60GB image created in the previous step&lt;/li&gt;
  &lt;li&gt;configure the disk with the physical sector size of 4096 bytes (4 K)
(this is to meet the requirement of the system that this VM is going 
 to replicate)&lt;/li&gt;
  &lt;li&gt;4 GB RAM&lt;/li&gt;
  &lt;li&gt;virtual machine booting on the first serial device (ttyS0)&lt;/li&gt;
  &lt;li&gt;VM booting from the first CD-ROM/DVD drive&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
-cdrom /tmp/CentOS-7-x86_64-Everything-CUSTOM-2009.iso \
-drive format=raw,file=xcatmn.img \
-global ide-hd.physical_block_size=4096 \
-m 4G \
-boot d \
-serial pty \
-nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This opens QEMU monitor (aka QEMU console):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;QEMU 4.2.0 monitor - type &apos;help&apos; for more information
(qemu) char device redirected to /dev/pts/1 (label serial0)
(qemu)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open a new shell and start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom&lt;/code&gt; to connect to the installer, whose 
output is redirected to the first serial device (ttyS0) to /dev/pts/1. 
(Baud rate of 19200 was configured earlier in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grub.cfg&lt;/code&gt;, when you 
customized the installation DVD ISO image.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ minicom --baudrate=19200 --ptty=/dev/pts/1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install CentOS 7.9 Linux.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[  OK  ] Started Media check on /dev/sr0.
[  OK  ] Started Show Plymouth Boot Screen.
[  OK  ] Reached target Paths.
[...]
Starting installer, one moment...
anaconda 21.48.22.159-1 for CentOS 7 started.
 * installation log files are stored in /tmp during the installation
 * shell is available on TTY2
 * when reporting a bug add logs from /tmp as separate text/plain attachments
15:43:19 Not asking for VNC because we don&apos;t have a network
=============================================================================
=============================================================================
Installation

 1) [x] Language settings                 2) [!] Time settings
        (English (United States))                (Timezone is not set.)
 3) [!] Installation source               4) [!] Software selection
        (Processing...)                          (Processing...)
 5) [!] Installation Destination          6) [x] Kdump
        (No disks selected)                      (Kdump is enabled)
 7) [ ] Network configuration             8) [!] Root password
        (Not connected)                          (Password is not set.)
 9) [!] User creation
        (No user will be created)
  Please make your choice from above [&apos;q&apos; to quit | &apos;b&apos; to begin installation |
  &apos;r&apos; to refresh]:

[anaconda] 1:main* 2:shell  3:log  4:storage-lo&amp;gt; Switch tab: Alt+Tab | Help: F1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2: Time settings &amp;gt; America/Vancouver timezone
NTP servers:
ntp1.serverinyourregion.org
ntp2.serverinyourregion.org

4: Software selection &amp;gt; Compute Node

5: Installation Destination
QEMU HARDDISK 60 GiB (sda) &amp;gt; Use All Space &amp;gt; LVM

7: Network configuration
Host name:  xcatmn.yourdomain.org

Wired (ens3)
Device configuration
DHCP
IPv6:  ignore
Nameservers:  208.67.222.222, 208.67.220.220  &amp;lt;&amp;lt;-- Use your nameservers 
[x] Connect automatically after reboot
[x] Apply configuration in installer

8: Root password

9: User creation
Create user
Fullname: dusko
Username: dusko
Use password
[X] Administrator
Groups: wheel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;=============================================================================
=============================================================================
Installation
  
 1) [x] Language settings                 2) [x] Time settings
        (English (United States))                (America/Vancouver timezone)
 3) [x] Installation source               4) [x] Software selection
        (Local media)                            (Compute Node)
 5) [x] Installation Destination          6) [x] Kdump
        (Automatic partitioning                  (Kdump is enabled)
        selected)                         8) [x] Root password
 7) [x] Network configuration                    (Password is set.)
        (Wired (ens3) connected)
 9) [x] User creation
        (Administrator dusko will be
        created)

Please make your choice from above [&apos;q&apos; to quit | &apos;b&apos; to begin installation |
&apos;r&apos; to refresh]:  b

=============================================================================
=============================================================================
Progress
Setting up the installation environment
.
Creating disklabel on /dev/sda
Creating xfs on /dev/sda1
Creating lvmpv on /dev/sda2
Creating swap on /dev/mapper/centos-swap
Creating xfs on /dev/mapper/centos-home
Creating xfs on /dev/mapper/centos-root
.
Running pre-installation scripts
.
Starting package installation process
Preparing transaction from installation source
Installing libgcc (1/483)
[...]
Installing iwl6000g2a-firmware (482/483)
Installing words (483/483)
Performing post-installation setup tasks
Installing boot loader
.
Performing post-installation setup tasks

Configuring installed system
Writing network configuration
Creating users
Configuring addons
Generating initramfs
Running post-installation scripts
.
    Use of this product is subject to the license agreement found at
      /usr/share/centos-release/EULA

     Installation complete.  Press return to quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press Ctr+b 2&lt;/p&gt;

&lt;p&gt;Power off the virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[anaconda root@localhost ~]# poweroff

[  OK  ] Started Show Plymouth Power Off Screen.
[  OK  ] Stopped Anaconda.
[  OK  ] Stopped target Anaconda System Services.
[...]
[  OK  ] Reached target Shutdown.
dracut Warning: Killing all remaining processes
Powering off.
[ 1909.085711] Power down.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not shown here:  QEMU console (in the first shell) automatically exits.&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h4&gt;

&lt;p&gt;[¹] IP Forwarding and libvirt Networking&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;libvirt’s default network configures an isolated bridge device to be
used by guest domains.  This default bridge creates a private network
for the virtual machines but does not connect that private network to
your physical network.  The simplest way to complete that connection is
to enable IP Forwarding in the kernel.  You can quickly enable IP
Forwarding using sysctl:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sysctl -w net.ipv4.ip_forward=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;p&gt;[²] A library providing a simple virtualization API - a C toolkit to 
interact with the virtualization capabilities of Linux. It includes the 
libvrtd server exporting the virtualization support.&lt;/p&gt;

&lt;p&gt;[³]  From &lt;a href=&quot;https://www.qemu.org/2018/05/31/nic-parameter/&quot;&gt;QEMU’s new -nic command line option&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The legacy -net option&lt;/p&gt;

  &lt;p&gt;QEMU’s initial way of configuring the network for the guest was the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net&lt;/code&gt;
option.  The emulated NIC hardware can be chosen with the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic,model=xyz,...&lt;/code&gt; parameter, and the host back-end with the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net &amp;lt;backend&amp;gt;,...&lt;/code&gt; parameter (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net user&lt;/code&gt; for the SLIRP back-end).
However, the emulated NIC and the host back-end are &lt;em&gt;not directly connected&lt;/em&gt;.
They are rather both connected to an emulated &lt;strong&gt;hub&lt;/strong&gt; (called “vlan” in older
versions of QEMU).  Therefore, if you start QEMU with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-net nic,model=e1000 -net user -net nic,model=virtio -net tap&lt;/code&gt; for example,
you get a setup where all the front-ends and back-ends are connected
together via a hub.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;(All references retrieved on Apr 2, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/523245/whats-the-function-of-virbr0-and-virbr0-nic&quot;&gt;What’s the function of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;virbr0-nic&lt;/code&gt;?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://listman.redhat.com/archives/libvirt-users/2012-September/msg00038.html&quot;&gt;[libvirt-users] virtual networking - virbr0-nic interface&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/378264/what-is-virtual-bridge-with-nic-in-the-end-of-name/444863#444863&quot;&gt;What is virtual bridge with -nic in the end of name&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://code.lardcave.net/2019/07/20/1/&quot;&gt;Bridged networking with qemu on Linux&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/Network_bridge&quot;&gt;Network bridge - Arch Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.linuxfoundation.org/networking/bridge&quot;&gt;Bridge - The Linux Foundation Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bsdwiki.reedmedia.net/wiki/networking_qemu_virtual_bsd_systems.html&quot;&gt;Networking QEMU Virtual BSD Systems&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.christophersmart.com/2016/08/31/configuring-qemu-bridge-helper-after-access-denied-by-acl-file-error/&quot;&gt;Configuring QEMU bridge helper after “access denied by acl file” error&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.linux-kvm.org/page/Networking&quot;&gt;Configuring Guest Networking - KVM&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Guest (VM) networking in kvm is the same as in qemu, so it is possible 
to refer to other documentation about networking in qemu.  This page will 
try to explain how to configure the most frequent types of networking needed.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://www.qemu.org/2018/05/31/nic-parameter/&quot;&gt;QEMU’s new -nic command line option&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cyberciti.biz/faq/centos-8-add-network-bridge-br0-with-nmcli-command/&quot;&gt;CentOS 8 add network bridge (br0) with nmcli command&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cyberciti.biz/faq/how-to-add-network-bridge-with-nmcli-networkmanager-on-linux/&quot;&gt;How to add network bridge with nmcli (NetworkManager) on Linux&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/discussions/5996181&quot;&gt;Qemu bridge/tap adapter - Red Hat Customer Portal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/configuring-virtual-machine-network-connections_configuring-and-managing-virtualization#virtual-networking-bridged-mode_types-of-virtual-machine-network-connections&quot;&gt;Virtual networking in bridged mode&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/configuring-a-network-bridge_configuring-and-managing-networking#configuring-a-network-bridge-using-nmcli-commands_configuring-a-network-bridge&quot;&gt;Configuring a network bridge using nmcli commands&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/extremecoders-re/e8fd8a67a515fee0c873dcafc81d811c&quot;&gt;Setting up Qemu with a tap interface&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bbs.archlinux.org/viewtopic.php?id=261207&quot;&gt;[SOLVED] KVM/QEMU - Ethernet will not bridge&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ahelpme.com/linux/howto-do-qemu-full-virtualization-with-bridged-networking/&quot;&gt;Howto do QEMU full virtualization with bridged networking&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://qemu.readthedocs.io/en/latest/system/devices/net.html&quot;&gt;Network emulation - QEMU Documentation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stty.io/2019/05/13/qemu-vm-wireguard-vpn-tun-tap-networking/&quot;&gt;Setting up TUN/TAP networking for QEMU VM’s (and bonus wireguard)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.linux-kvm.org/page/Networking&quot;&gt;Configuring Guest Networking - KVM Documentation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.kaizou.org/2018/06/qemu-bridge.html&quot;&gt;Bridging two Qemu guests&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://lists.gnu.org/archive/html/qemu-discuss/2014-06/msg00059.html&quot;&gt;[Qemu-discuss] Using multiple network interfaces on a guest&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 02 Apr 2022 08:11:22 -0700</pubDate>
        <link>http://localhost:4000/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/networking/vm/qemu/kvm/linux/unix/2022/04/02/qemu-networking.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/networking/vm/qemu/kvm/linux/unix/2022/04/02/qemu-networking.html</guid>
        
        
        <category>howto</category>
        
        <category>virtualization</category>
        
        <category>rs232serial</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>console</category>
        
        <category>sysadmin</category>
        
        <category>server</category>
        
        <category>hardware</category>
        
        <category>networking</category>
        
        <category>vm</category>
        
        <category>qemu</category>
        
        <category>kvm</category>
        
        <category>linux</category>
        
        <category>unix</category>
        
      </item>
    
      <item>
        <title>Configure IP Addressing with NetworkManager (nmcli) in RHEL 8/CentOS 8</title>
        <description>&lt;p&gt;OS: RHEL 8 &lt;br /&gt;
Shell:  bash&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;static-addressing&quot;&gt;Static Addressing&lt;/h3&gt;

&lt;p&gt;For example, create a new connection named ‘eno1’. &lt;br /&gt;
Specify a name for the connection profile (con-name), the interface the 
profile should be applied to (ifname), the IP address (ip4) and optionally, 
the gateway (gw4). The IP address must be specified with the network prefix. 
The connection profile name can match the interface name. 
The connection will be activated as soon as it is created.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection add \
con-name eno1 ifname eno1 type ethernet \
ip4 123.12.23.34/24 gw4 123.12.23.254
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set up DNS servers. For example, use recursive nameservers by OpenDNS, 
208.67.222.222, 208.67.220.220.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection modify eno1 \ 
ipv4.dns &quot;208.67.222.222,208.67.220.220&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:  Some other options that you can use for your DNS resolver:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Cloudflare’s public DNS server 1.1.1.1&lt;/li&gt;
  &lt;li&gt;Google’s DNS servers 4.4.8.8, 4.4.4.4, 8.8.8.8&lt;/li&gt;
  &lt;li&gt;In Canada, &lt;a href=&quot;https://www.cira.ca/cybersecurity-services/canadian-shield&quot;&gt;CIRA Canada Shield&lt;/a&gt;:
    &lt;ul&gt;
      &lt;li&gt;Private - DNS resolution only: 149.112.121.10, 149.112.122.10&lt;/li&gt;
      &lt;li&gt;Protected - Malware and phishing protection: 149.112.121.20, 149.112.122.20&lt;/li&gt;
      &lt;li&gt;Family - Protected + blocking offensive content: 149.112.121.30, 149.112.122.30&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection modify eno1 ipv4.method manual
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli connection reload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nmcli connection show
NAME  UUID               TYPE      DEVICE 
eno1  4d928341-........  ethernet  eno1   
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm the system is using NetworkManager.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl restart NetworkManager.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl status NetworkManager.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo nmcli networking connectivity check
full
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Sun, 27 Mar 2022 09:48:33 -0700</pubDate>
        <link>http://localhost:4000/rhel/centos/linux/networking/howto/2022/03/27/rhel8-centos8-linux-setup-static-ip-address.html</link>
        <guid isPermaLink="true">http://localhost:4000/rhel/centos/linux/networking/howto/2022/03/27/rhel8-centos8-linux-setup-static-ip-address.html</guid>
        
        
        <category>rhel</category>
        
        <category>centos</category>
        
        <category>linux</category>
        
        <category>networking</category>
        
        <category>howto</category>
        
      </item>
    
      <item>
        <title>How to Setup an External GELI Encrypted USB Hard Drive as a ZFS Backup Disk in FreeBSD</title>
        <description>&lt;ul&gt;
  &lt;li&gt;OS:  FreeBSD 13.0&lt;/li&gt;
  &lt;li&gt;Shell:  csh&lt;/li&gt;
  &lt;li&gt;External hard disk drive: WD (WesternDigital) Easystore 14TB USB 3.0 Desktop External Hard Drive, Model:  &lt;a href=&quot;https://www.bestbuy.ca/en-ca/product/wd-easystore-14tb-usb-3-0-desktop-external-hard-drive-wdbama0140hbk-nese-black-only-at-best-buy/14936770&quot;&gt;WDBAMA0140HBK-NESE&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Possibly, a variation of a model &lt;a href=&quot;https://www.westerndigital.com/products/portable-drives/wd-easystore-desktop-usb-3-0-hdd#WDBAMA0140HBK-NESN&quot;&gt;WDBAMA0140HBK-NESN&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;preparation&quot;&gt;Preparation&lt;/h2&gt;

&lt;p&gt;Install packages &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zxfer&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfstools&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install zxfer zfstools
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The zfstools package has the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs-auto-snapshot&lt;/code&gt; tool that creates and 
manages ZFS snapshots.&lt;/p&gt;

&lt;p&gt;The zxfer package is a shell script that uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs-send(8)&lt;/code&gt; for sending 
snapshots and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs-receive(8)&lt;/code&gt; for receiving them in the external USB hard 
disk drive.&lt;/p&gt;

&lt;h2 id=&quot;enabling-automatic-zfs-filesystem-snapshotting&quot;&gt;Enabling Automatic ZFS Filesystem Snapshotting&lt;/h2&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs list&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zpool list&lt;/code&gt; to check the ZFS filesystems in your pool.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list
NAME                 USED  AVAIL     REFER  MOUNTPOINT
zroot                189G   710G       88K  /zroot
zroot/ROOT          58.5G   710G       88K  none
zroot/ROOT/default  58.5G   710G     52.6G  /
zroot/tmp           24.4G   710G     24.4G  /tmp
zroot/usr            101G   710G       88K  /usr
zroot/usr/home       101G   710G      101G  /usr/home
zroot/usr/ports       88K   710G       88K  /usr/ports
zroot/usr/src         88K   710G       88K  /usr/src
zroot/var           2.81M   710G       88K  /var
zroot/var/audit       88K   710G       88K  /var/audit
zroot/var/crash       88K   710G       88K  /var/crash
zroot/var/log       1.47M   710G     1.47M  /var/log
zroot/var/mail       144K   710G      144K  /var/mail
zroot/var/tmp        964K   710G      964K  /var/tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list
NAME   SIZE  ALLOC  FREE CKPOINT EXPANDSZ  FRAG  CAP DEDUP  HEALTH  ALTROOT
zroot  928G   189G  739G       -        -    6%  20% 1.00x  ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The default ZFS layout with a fresh FreeBSD 13 sets up the 
following filesystems in the pool (not counting zroot, zroot/ROOT, 
zroot/usr, and zroot/var, which are containers for children filesystems, 
not used directly for data storage):&lt;/p&gt;

&lt;p&gt;zroot/ROOT/default &lt;br /&gt;
zroot/tmp &lt;br /&gt;
zroot/usr/home &lt;br /&gt;
zroot/usr/ports &lt;br /&gt;
zroot/usr/src &lt;br /&gt;
zroot/var/audit &lt;br /&gt;
zroot/var/crash &lt;br /&gt;
zroot/var/log &lt;br /&gt;
zroot/var/mail &lt;br /&gt;
zroot/var/tmp&lt;/p&gt;

&lt;p&gt;Filesystems and their content: &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;zroot/ROOT/default: Configurations and root’s home directory.&lt;/li&gt;
  &lt;li&gt;zroot/usr/home: User home directory.&lt;/li&gt;
  &lt;li&gt;zroot/var/log: System log files.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;zroot/var/mail: Mail spools for your user account and root.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;zroot/tmp: Temporary files, which are usually not preserved across 
           a system reboot.&lt;/li&gt;
  &lt;li&gt;zroot/usr/ports: FreeBSD Ports Collection.&lt;/li&gt;
  &lt;li&gt;zroot/usr/src:   FreeBSD source code for both the kernel and the userland.&lt;/li&gt;
  &lt;li&gt;zroot/var/audit: Audit logging not enabled by default.&lt;/li&gt;
  &lt;li&gt;zroot/var/crash: Kernel core dumps.&lt;/li&gt;
  &lt;li&gt;zroot/var/tmp: Temporary files, which are usually preserved across 
               a system reboot, unless /var is a memory-based file system.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Based on that, I chose to snapshot:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;zroot/ROOT/default&lt;/li&gt;
  &lt;li&gt;zroot/usr/home&lt;/li&gt;
  &lt;li&gt;zroot/var/log&lt;/li&gt;
  &lt;li&gt;zroot/var/mail&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Zfstools looks at the ZFS user property &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.sun:auto-snapshot&lt;/code&gt; to 
determine whether to snapshot a filesystem or not.  On a new 
system, this property is unset, neither true nor false, neither 
local nor inherited.&lt;/p&gt;

&lt;p&gt;From the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/doc/zfstools/README.md&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#### Dataset setup

Only datasets with the `com.sun:auto-snapshot` property set to `true` will 
be snapshotted.

    zfs set com.sun:auto-snapshot=true DATASET
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs get com.sun:auto-snapshot&lt;/code&gt; to see its status for all ZFS 
filesystems.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs get -r com.sun:auto-snapshot zroot
NAME                     PROPERTY               VALUE   SOURCE
zroot                    com.sun:auto-snapshot  -       -
zroot/ROOT               com.sun:auto-snapshot  -       -
zroot/ROOT/default       com.sun:auto-snapshot  -       -
zroot/tmp                com.sun:auto-snapshot  -       -
zroot/usr                com.sun:auto-snapshot  -       -
zroot/usr/home           com.sun:auto-snapshot  -       -
zroot/usr/ports          com.sun:auto-snapshot  -       -
zroot/usr/src            com.sun:auto-snapshot  -       -
zroot/var                com.sun:auto-snapshot  -       -
zroot/var/audit          com.sun:auto-snapshot  -       -
zroot/var/crash          com.sun:auto-snapshot  -       -
zroot/var/log            com.sun:auto-snapshot  -       -
zroot/var/mail           com.sun:auto-snapshot  -       -
zroot/var/tmp            com.sun:auto-snapshot  -       -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set the ZFS property &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.sun:auto-snapshot&lt;/code&gt; to false on ZFS filesystems 
that you don’t want &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfstools&lt;/code&gt; to snapshot.  In this example, 
the command is:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zfs set \
com.sun:auto-snapshot=false \
zroot/tmp \
zroot/usr/ports \
zroot/usr/src \
zroot/var/audit \
zroot/var/crash \
zroot/var/tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;See &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs-set(8)&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs-inherit(8)&lt;/code&gt;, and the “User Properties” section 
of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfsprops(8)&lt;/code&gt; for details.&lt;/p&gt;

&lt;p&gt;Next, turn on snapshotting for the rest of the pool:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zfs set com.sun:auto-snapshot=true zroot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.sun:auto-snapshot&lt;/code&gt; property for all ZFS filesystems looks like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs get -r com.sun:auto-snapshot zroot
NAME                     PROPERTY               VALUE   SOURCE
zroot                    com.sun:auto-snapshot  true    local
zroot/ROOT               com.sun:auto-snapshot  true    inherited from zroot
zroot/ROOT/default       com.sun:auto-snapshot  true    inherited from zroot
zroot/tmp                com.sun:auto-snapshot  false   local
zroot/usr                com.sun:auto-snapshot  true    inherited from zroot
zroot/usr/home           com.sun:auto-snapshot  true    inherited from zroot
zroot/usr/ports          com.sun:auto-snapshot  false   local
zroot/usr/src            com.sun:auto-snapshot  false   local
zroot/var                com.sun:auto-snapshot  true    inherited from zroot
zroot/var/audit          com.sun:auto-snapshot  false   local
zroot/var/crash          com.sun:auto-snapshot  false   local
zroot/var/log            com.sun:auto-snapshot  true    inherited from zroot
zroot/var/mail           com.sun:auto-snapshot  true    inherited from zroot
zroot/var/tmp            com.sun:auto-snapshot  false   local
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfstools&lt;/code&gt; relies on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs-auto-snapshot&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs-cleanup-snapshots&lt;/code&gt;, 
which are located in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/sbin/&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -v zfs-auto-snapshot; type zfs-auto-snapshot; \
whereis zfs-auto-snapshot; which zfs-auto-snapshot
/usr/local/sbin/zfs-auto-snapshot
zfs-auto-snapshot is /usr/local/sbin/zfs-auto-snapshot
zfs-auto-snapshot: /usr/local/sbin/zfs-auto-snapshot
/usr/local/sbin/zfs-auto-snapshot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ command -v zfs-cleanup-snapshots; type zfs-cleanup-snapshots \
? whereis zfs-cleanup-snapshots; which zfs-cleanup-snapshots
/usr/local/sbin/zfs-cleanup-snapshots
zfs-cleanup-snapshots is /usr/local/sbin/zfs-cleanup-snapshots
whereis is /usr/bin/whereis
zfs-cleanup-snapshots is a tracked alias for /usr/local/sbin/zfs-cleanup-snapshots
/usr/local/sbin/zfs-cleanup-snapshots
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get a brief usage message for these two tools:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/local/sbin/zfs-auto-snapshot usage
Usage: /usr/local/sbin/zfs-auto-snapshot [-dknpuv] &amp;lt;INTERVAL&amp;gt; &amp;lt;KEEP&amp;gt;
    -d              Show debug output.
    -k              Keep zero-sized snapshots.
    -n              Do a dry-run. Nothing is committed. Only show what would be done.
    -p              Create snapshots in parallel.
    -P pool         Act only on the specified pool.
    -u              Use UTC for snapshots.
    -v              Show what is being done.
    INTERVAL        The interval to snapshot.
    KEEP            How many snapshots to keep.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/local/sbin/zfs-cleanup-snapshots usage
Usage: /usr/local/sbin/zfs-cleanup-snapshots [-dnv]
    -d              Show debug output.
    -n              Do a dry-run. Nothing is committed. Only show what would be done.
    -p              Create snapshots in parallel.
    -P pool         Act only on the specified pool.
    -v              Show what is being done.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The pkg-message for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfstools&lt;/code&gt; gives an example for enabling automatic 
snapshots by placing a set of cron commands into &lt;strong&gt;/etc/crontab&lt;/strong&gt;, which 
is the system crontab.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg info --pkg-message --regex zfstools
zfstools-0.3.6_2:
On install:
To enable automatic snapshots, place lines such as these into /etc/crontab:

    PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin
    15,30,45 * * * * root /usr/local/sbin/zfs-auto-snapshot frequent  4
    0        * * * * root /usr/local/sbin/zfs-auto-snapshot hourly   24
    7        0 * * * root /usr/local/sbin/zfs-auto-snapshot daily     7
    14       0 * * 7 root /usr/local/sbin/zfs-auto-snapshot weekly    4
    28       0 1 * * root /usr/local/sbin/zfs-auto-snapshot monthly  12

This will keep 4 15-minutely snapshots, 24 hourly snapshots, 7 daily snapshots,
4 weekly snapshots and 12 monthly snapshots. Any resulting zero-sized snapshots
will be automatically cleaned up.

Enable snapshotting on a dataset or top-level pool with:

    zfs set com.sun:auto-snapshot=true DATASET

Children datasets can be disabled for snapshot with:

    zfs set com.sun:auto-snapshot=false DATASET

Or for specific intervals:

    zfs set com.sun:auto-snapshot:frequent=false DATASET

See website and command usage output for further details.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The FreeBSD Handbook, Section &lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/config/#configtuning-cron&quot;&gt;12.3. Configuring cron(8)&lt;/a&gt; (retrieved on Mar 19, 2022) advises against modifying the system crontab.  Instead, it recommends using user crontabs.&lt;/p&gt;

&lt;p&gt;Order of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crontab&lt;/code&gt; fields (also see &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;man 5 crontab&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep command /etc/crontab
#minute hour    mday    month   wday    who     command
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;
From the FreeBSD Handbook:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The format of the system crontab, &lt;strong&gt;/etc/crontab&lt;/strong&gt; includes a &lt;strong&gt;who&lt;/strong&gt; column 
which does not exist in user crontabs.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Create a user crontab for the root user.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo crontab -e -u root
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check the root user crontab schedule:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo crontab -l
SHELL=/bin/sh
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin

#minute  hour mday month wday command
15,30,45 *    *    *     *    /usr/local/sbin/zfs-auto-snapshot frequent  4
0        *    *    *     *    /usr/local/sbin/zfs-auto-snapshot hourly   24
7        0    *    *     *    /usr/local/sbin/zfs-auto-snapshot daily     7
14       0    *    *     7    /usr/local/sbin/zfs-auto-snapshot weekly    4
28       0    1    *     *    /usr/local/sbin/zfs-auto-snapshot monthly  12
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;preparing-the-backup-drive&quot;&gt;Preparing the Backup Drive&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ freebsd-version
13.0-RELEASE-p7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Connect one end of the USB cable to your system and the other end to 
the hard drive.&lt;/p&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dmseg&lt;/code&gt; to find the external drive’s device node name (in this 
example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;da0&lt;/code&gt;) and use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart destroy&lt;/code&gt; to remove any old partition 
table that might be on the drive.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dmesg | tail -25
[...]
ugen0.4: &amp;lt;Western Digital easystore 264D&amp;gt; at usbus0
umass0 on uhub0
umass0: &amp;lt;Western Digital easystore 264D, class 0/0, rev 3.10/30.12, addr 58&amp;gt; on usbus0
umass0:  SCSI over Bulk-Only; quirks = 0xc001
umass0:7:0: Attached to scbus7
da0 at umass-sim0 bus 0 scbus7 target 0 lun 0
da0: &amp;lt;WD easystore 264D 3012&amp;gt; Fixed Direct Access SPC-4 SCSI device
da0: Serial Number 123D45678901234B
da0: 400.000MB/s transfers
da0: 13351936MB (27344764928 512 byte sectors)
da0: quirks=0x2&amp;lt;NO_6_BYTE&amp;gt;
ses1 at umass-sim0 bus 0 scbus7 target 0 lun 1
ses1: &amp;lt;WD SES Device 3012&amp;gt; Fixed Enclosure Services SPC-4 SCSI device
ses1: Serial Number 123D45678901234B
ses1: 400.000MB/s transfers
ses1: SES Device
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dmesg | grep -i easy | grep -i store
ugen0.4: &amp;lt;Western Digital easystore 264D&amp;gt; at usbus0
umass0: &amp;lt;Western Digital easystore 264D, class 0/0, rev 3.10/30.12, addr 3&amp;gt; on usbus0
da0: &amp;lt;WD easystore 264D 3012&amp;gt; Fixed Direct Access SPC-4 SCSI device
ugen0.4: &amp;lt;Western Digital easystore 264D&amp;gt; at usbus0
umass0: &amp;lt;Western Digital easystore 264D, class 0/0, rev 3.10/30.12, addr 3&amp;gt; on usbus0
da0: &amp;lt;WD easystore 264D 3012&amp;gt; Fixed Direct Access SPC-4 SCSI device
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo usbconfig show_ifdrv | grep umass0
ugen0.4.0: umass0: &amp;lt;Western Digital easystore 264D, class 0/0, rev 3.10/30.12, addr 58&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo usbconfig dump_info | grep ugen0.4
ugen0.4: &amp;lt;Western Digital easystore 264D&amp;gt; at usbus0, cfg=0 md=HOST spd=SUPER (5 Gbps) pwr=ON (2mA)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo usbconfig list | grep ugen0.4
ugen0.4: &amp;lt;Western Digital easystore 264D&amp;gt; at usbus0, cfg=0 md=HOST spd=SUPER (5 Gbps) pwr=ON (2mA)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo camcontrol devlist
---- snip ----
&amp;lt;WD easystore 264D 3012&amp;gt;           at scbus7 target 0 lun 0 (da0,pass3)
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geom disk list
---- snip ----
Geom name: da0
Providers:
1. Name: da0
   Mediasize: 14000519643136 (13T)
   Sectorsize: 512
   Stripesize: 4096
   Stripeoffset: 0
   Mode: r0w0e0
   descr: WD easystore 264D
   lunname: WD      easystore 264D  9MH60Y1K
   lunid: 5000cca290d0d53f
   ident: 394D48363059314B
   rotationrate: 7200
   fwsectors: 63
   fwheads: 255
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart list | grep -w da0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart list da0
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart show | grep -w da0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart show da0
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ glabel list | grep da0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a brand new disk so &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart list &amp;lt;geom_name&amp;gt;&lt;/code&gt; complains:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ glabel list da0
glabel: Class &apos;LABEL&apos; does not have an instance named &apos;da0&apos;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart destroy&lt;/code&gt; complains too:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo gpart destroy -F da0
gpart: arg0 &apos;da0&apos;: Invalid argument
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  If the disk was previously configured and in use
(that is, it had a partitioning scheme on it),
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart destroy -F &amp;lt;geom_name&amp;gt;&lt;/code&gt; command 
would destroy the geom and report &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;geom_name&amp;gt; destroyed&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
Q: Why the use of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart destroy -F &amp;lt;geom_name&amp;gt;&lt;/code&gt; command? &lt;br /&gt;
A: From the manpage for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart(8)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Rather than deleting each partition and then destroying the partitioning
scheme, the -F option can be given with destroy to delete all of the
partitions before destroying the partitioning scheme.  This is equivalent
to the previous example:
  
      /sbin/gpart destroy -F da0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart destroy&lt;/code&gt; (or with a brand new hard disk drive):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart show da0
gpart: No such geom: da0.
 
$ gpart list da0
gpart: Class &apos;PART&apos; does not have an instance named &apos;da0&apos;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;First, create a GPT partition table (partition table with &lt;strong&gt;gpt&lt;/strong&gt; partitioning 
scheme) on disk &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;da0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo gpart create -s gpt da0
da0 created
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart show da0
=&amp;gt;         40  27344764848  da0  GPT  (13T)
           40  27344764848       - free -  (13T)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart list da0 | wc -l
      17
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart list da0
Geom name: da0
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Having created a partitioning scheme on the disk, you now can create 
a new ZFS partition (on disk &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;da0&lt;/code&gt;, on 1MB boundaries).  In this example, 
I decided to use a label named &lt;strong&gt;external&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo gpart add -a 1m -l external -t freebsd-zfs da0
da0p1 added
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explanation:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;The FreeBSD Handbook, Section &lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/disks/#disks-adding&quot;&gt;18.2. Adding Disks&lt;/a&gt; (retrieved on Mar 19, 2022) recommends alignment on 1MB boundaries:&lt;/p&gt;

    &lt;blockquote&gt;
      &lt;p&gt;To improve performance on newer disks with larger hardware block sizes, 
the partition is aligned to one megabyte boundaries.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;From the manpage for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart(8)&lt;/code&gt;, under section PARTITION TYPES:&lt;/p&gt;

    &lt;blockquote&gt;
      &lt;p&gt;freebsd-zfs:    A FreeBSD partition that contains a ZFS volume.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart show da0
=&amp;gt;         40  27344764848  da0  GPT  (13T)
           40         2008       - free -  (1.0M)
         2048  27344760832    1  freebsd-zfs  (13T)
  27344762880         2008       - free -  (1.0M)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart list da0 | wc -l
      34
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gpart list da0
Geom name: da0
---- snip ----
scheme: GPT
Providers:
1. Name: da0p1
   Mediasize: 14000517545984 (13T)
   Sectorsize: 512
   Stripesize: 4096
---- snip ----
   label: external
---- snip -----
   type: freebsd-zfs
---- snip ----
Consumers:
1. Name: da0
   Mediasize: 14000519643136 (13T)
   Sectorsize: 512
   Stripesize: 4096
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /dev/gpt/external
crw-r-----  1 root  operator  0x1dd Mar 19 15:53 /dev/gpt/external 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ date
Sat 19 Mar 2022 15:53:28 PDT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;geli(8)&lt;/code&gt; utility, you first need to load the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GEOM_ELI&lt;/code&gt; module.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo geli load
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To load the GEOM_ELI module at boot time, add the following line to your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;loader.conf(5)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &apos;geom_eli_load=&quot;YES&quot;&apos; | sudo tee -a /boot/loader.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create an encrypted provider (initialize a provider which is going to be 
encrypted with a passphrase) on the disk. &lt;br /&gt;
Use the AES-XTS encryption algorithm (the default and recommended by the 
manpage for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;geli(8)&lt;/code&gt; - here used explicitely for the sake of this example), 
key length of 256, and 4kB sector size.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo geli init -e AES-XTS -l 256 -s 4096 &quot;/dev/gpt/external&quot;
Enter new passphrase:
Reenter new passphrase:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Metadata backup for provider /dev/gpt/external can be found in 
  /var/backups/gpt_external.eli
and can be restored with the following command:

        # geli restore /var/backups/gpt_external.eli /dev/gpt/external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Attach the provider (in this example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/gpt/external&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo geli attach /dev/gpt/external
Enter passphrase:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
            Name  Status  Components
gpt/external.eli  ACTIVE  gpt/external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all available ZFS pools on the system before adding a new zpool:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list
NAME    SIZE  ALLOC   FREE  CKPOINT  EXPANDSZ   FRAG    CAP  DEDUP    HEALTH  ALTROOT
zroot   928G   189G   739G        -         -     6%    20%  1.00x    ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a new zpool in the geli partition called &lt;strong&gt;external&lt;/strong&gt;. 
Name the new pool &lt;strong&gt;external&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool create external gpt/external.eli
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It’s possible to use the pool named &lt;strong&gt;external&lt;/strong&gt; as the destination for 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zxfer&lt;/code&gt; directly; however, in this example create a new dataset inside 
the pool, and name it after the source machine’s hostname.  This will 
help identify backup data and allow multiple hosts to back up to the 
same drive.  Since the source machine’s hostname in this example 
is &lt;strong&gt;fbsd1&lt;/strong&gt;, the backup destination for zxfer will be &lt;strong&gt;backup/fbsd1&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ hostname
fbsd1.mydomain.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trim off any domain information from the printed name of the current host:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ hostname -s
fbsd1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The list of all available ZFS pools on the system now includes the new 
zpool (named &lt;strong&gt;external&lt;/strong&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list
NAME       SIZE  ALLOC   FREE  CKPOINT  EXPANDSZ   FRAG    CAP  DEDUP    HEALTH  ALTROOT
external  12.7T   468K  12.7T        -         -     0%     0%  1.00x    ONLINE  -
zroot      928G   189G   739G        -         -     6%    20%  1.00x    ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list
NAME                 USED  AVAIL     REFER  MOUNTPOINT
external             372K  12.3T       96K  /external
zroot                176G   723G       88K  /zroot
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a ZFS dataset (file system) named &lt;strong&gt;external/fbsd1&lt;/strong&gt;. &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zfs create external/fbsd1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list
NAME                 USED  AVAIL     REFER  MOUNTPOINT
external             504K  12.3T       96K  /external
external/fbsd1        96K  12.3T       96K  /external/fbsd1
zroot                189G   710G       88K  /zroot
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import
no pools available to import
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zpool export&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;geli detach&lt;/code&gt; to simulate the drive removal from 
the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool export external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that the zpool named &lt;strong&gt;external&lt;/strong&gt; has been exported:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list
NAME    SIZE  ALLOC   FREE  CKPOINT  EXPANDSZ   FRAG    CAP  DEDUP    HEALTH  ALTROOT
zroot   928G   189G   739G        -         -     6%    20%  1.00x    ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import
   pool: external
     id: 1234567890123456789
  state: ONLINE
 action: The pool can be imported using its name or numeric identifier.
 config:

        external            ONLINE
          gpt/external.eli  ONLINE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% geli status
            Name  Status  Components
gpt/external.eli  ACTIVE  gpt/external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo geli detach /dev/gpt/external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Disconnect the external drive from the system.&lt;/p&gt;

&lt;h2 id=&quot;performing-the-first-backup&quot;&gt;Performing the First Backup&lt;/h2&gt;

&lt;p&gt;Connect one end of the USB cable to your system and the other end to 
the hard drive.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Attach the provider (in this example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/gpt/external&lt;/code&gt;) with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;geli(8)&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo geli attach /dev/gpt/external
Enter passphrase: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
            Name  Status  Components
gpt/external.eli  ACTIVE  gpt/external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Import the zpool named &lt;strong&gt;external&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import
   pool: external
     id: 1234567890123456789
  state: ONLINE
 action: The pool can be imported using its name or numeric identifier.
 config:

        external            ONLINE
          gpt/external.eli  ONLINE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list
NAME       SIZE  ALLOC   FREE  CKPOINT  EXPANDSZ   FRAG    CAP  DEDUP    HEALTH  ALTROOT
external  12.7T   696K  12.7T        -         -     0%     0%  1.00x    ONLINE  -
zroot      928G   189G   739G        -         -     6%    20%  1.00x    ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list
NAME                 USED  AVAIL     REFER  MOUNTPOINT
external             588K  12.3T       96K  /external
external/fbsd1        96K  12.3T       96K  /external/fbsd1
zroot                189G   710G       88K  /zroot
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /external/
total 10
drwxr-xr-x   3 root  wheel     3B Mar 19 15:59 .
drwxr-xr-x  21 root  wheel    28B Mar 19 16:06 ..
drwxr-xr-x   2 root  wheel     2B Mar 19 15:59 fbsd1

$ ls -alh /external/fbsd1/
total 1
drwxr-xr-x  2 root  wheel     2B Mar 19 15:59 .
drwxr-xr-x  3 root  wheel     3B Mar 19 15:59 ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the manpage for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zxfer(8)&lt;/code&gt;, the first example (&lt;strong&gt;Ex1 - Backup a pool
(including snapshots and properties)&lt;/strong&gt;) offers a use case for replicating
the entire &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zroot&lt;/code&gt; pool from the host system to the backup drive.&lt;/p&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs list | awk&lt;/code&gt; to confirm that none of the dataset names 
contain spaces. &lt;sup&gt;&lt;a href=&quot;#footnotes&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list -H | \
cut -f1 | \
awk &apos;/[[:space:]]/{printf(&quot;Error! Dataset name contains spaces: %s\n&quot;,$0)}&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Switch to the root user.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ su
Password:
# 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The root user’s shell is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ps $$
  PID TT  STAT    TIME COMMAND
17578  4  S    0:00.01 _su (csh)
 
# printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, for defining shell variables, you need to use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set&lt;/code&gt; built-in shell command.&lt;/p&gt;

&lt;p&gt;As per &lt;a href=&quot;https://thornton2.com/unix/freebsd/geli-encrypted-usb-backup.html&quot;&gt;GELI Encrypted USB Backup of ZFS Filesystems in FreeBSD 13&lt;/a&gt; (Retrieved on 
Mar 19, 2022), exclude the following ZFS properties 
(note: I’m not excluding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.sun:auto-snapshot:015m&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# set exclude=&quot;com.sun:auto-snapshot&quot;
# set exclude=&quot;${exclude},objsetid&quot;
# set exclude=&quot;${exclude},keylocation&quot;
# set exclude=&quot;${exclude},keyformat&quot;
# set exclude=&quot;${exclude},pbkdf2iters&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;$exclude&quot;
com.sun:auto-snapshot,objsetid,keylocation,keyformat,pbkdf2iters
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;#enabling-automatic-zfs-filesystem-snapshotting&quot;&gt;At the beginning&lt;/a&gt;, 
you set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.sun:auto-snapshot&lt;/code&gt; property to true for any dataset that you 
want the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfstools&lt;/code&gt; to snapshot.  When running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zxfer&lt;/code&gt; to copy snapshots 
to a locally-mounted backup pool, you need to use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-I&lt;/code&gt; option for 
properties that will be ignored in order to prevent that property from 
being copied to the backup data.  If this option is not specified, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zxfer&lt;/code&gt; 
will copy the property to the data in the backup pool and the system will 
begin taking snapshots of the backup data, which can prevent files from 
replicating properly.  This option may not be necessary for replication 
to a remote server or if the backup is only applied to specific datasets 
rather than the entire &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zroot&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Confirm that the file system &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;external/fbsd1&lt;/code&gt; is mounted:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# df -hT
Filesystem      Type       Size    Used   Avail Capacity  Mounted on
[...]
external        zfs        1.8T     96K    1.8T     0%    /external
external/fbsd1  zfs        1.8T     96K    1.8T     0%    /external/fbsd1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Backup the pool &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zroot&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;external/fbsd1&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# zxfer -dFkPv -I $exclude -R zroot external/fbsd1
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the manpage for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zxfer(8)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;     Modifying an example first is a good way to start using the script, as
     there are some options (e.g. -d and -F in normal mode) that are in
     practice always used.

[...]

EXAMPLES
     Note that some of these example commands are lengthy, so be sure to fix
     the line wrapping appropriately. Also if you wonder why zxfer isn&apos;t
     transferring anything, please read the section titled SNAPSHOTS.
  
  Ex1 - Backup a pool (including snapshots and properties)
[...] 

                [-d] deleting stale snapshots that don&apos;t exist on the source
                (e.g. if using a snapshot management script such as
                zfs-snapshot-mgmt(8), snapshots are regularly taken and
                regularly deleted to leave a range of frequencies of snapshots
                at different vintages. If you are regularly backing up to
                another pool which is stored off-site as is highly recommended,
                you may want to delete the stale snapshots on the backup pool
                without having to manage the snapshots there too. This is
                especially true for those pools that are usually not connected
                to a machine, e.g. if you are using HDD as backup media. Note
                that zfs send will also refuse to work if you have newer
                snapshots on destination than the most recent common snapshot
                on both, so it&apos;s easier to just enable it.)

                [-F] forcing a rollback of destination to the most recent
                snapshot. Given even mounting the filesystem will cause a
                change and hence cause zfs receive to fail with an error,
                enabling this is the way to go. Otherwise you would be
                modifying(!) a backup, wanting to keep the changes you are
                making(!?) and also wanting to copy more stuff to the backup
                (hence it&apos;s still being used as a backup)... well if that&apos;s
                what you want then don&apos;t use this option.

                [-k] storing the original filesystem properties in the file
                external/fbsd1/.zxfer_backup_info.zroot

                [-P] copying across the properties of each filesystem

                [-v] seeing lots of output (verbose)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For this example, it took around 35 minutes to complete.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /external/fbsd1/
total 34
drwxr-xr-x  3 root  wheel     4B Mar 19 16:53 .
drwxr-xr-x  3 root  wheel     3B Mar 19 15:59 ..
-rw-r--r--  1 root  wheel    28K Mar 19 16:53 .zxfer_backup_info.zroot
drwxr-xr-x  7 root  wheel     7B Mar 19 16:53 zroot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list
NAME                                USED  AVAIL     REFER  MOUNTPOINT
external                           37.7G  12.3T       96K  /external
external/fbsd1                     37.7G  12.3T      136K  /external/fbsd1
external/fbsd1/zroot               37.7G  12.3T      152K  /external/fbsd1/zroot
---- snip ----
zroot                               189G   710G       88K  /zroot
zroot/ROOT                         58.5G   710G       88K  none
---- snip ---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ df -hT
Filesystem                         Type       Size    Used   Avail Capacity  Mounted on
zroot/ROOT/default                 zfs        763G     53G    710G     7%    /
---- snip ----
external                           zfs         12T     96K     12T     0%    /external
external/fbsd1                     zfs         12T    136K     12T     0%    /external/fbsd1
external/fbsd1/zroot               zfs         12T    152K     12T     0%    /external/fbsd1/zroot
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can now scrub the external backup drive to make sure everything is good.
(From the manpage for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zpool-scrub(8)&lt;/code&gt;: for the option &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-w&lt;/code&gt; :  Wait until 
scrub has completed before returning.  This is so you to know when you 
get the shell prompt back that the scrube is done.)  The scrub takes at least 
as long as the first backup because it examines all data in the external 
pool to verify that it checksums correctly.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool scrub -w external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zpool status&lt;/code&gt; command reports the progress of the scrub.
From a separate shell:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool status external
  pool: external
 state: ONLINE
  scan: scrub in progress since Sat Mar 19 19:42:44 2022
        69.2G scanned at 68.2M/s, 32.7G issued at 32.2M/s, 69.2G total
        0B repaired, 47.27% done, 00:19:20 to go
config:

        NAME                STATE     READ WRITE CKSUM
        external            ONLINE       0     0     0
          gpt/external.eli  ONLINE       0     0     0

errors: No known data errors
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list
NAME       SIZE  ALLOC   FREE  CKPOINT  EXPANDSZ   FRAG    CAP  DEDUP    HEALTH  ALTROOT
external  12.7T  37.7G  12.7T        -         -     0%     0%  1.00x    ONLINE  -
zroot      928G   189G   739G        -         -     6%    20%  1.00x    ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When the scrub is done:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zpool status external
  pool: external
 state: ONLINE
  scan: scrub repaired 0B in 00:35:28 with 0 errors on Sat Mar 19 20:18:12 2022
config:

        NAME                STATE     READ WRITE CKSUM
        external            ONLINE       0     0     0
          gpt/external.eli  ONLINE       0     0     0

errors: No known data errors
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;scripting-the-regular-backup&quot;&gt;Scripting the Regular Backup&lt;/h2&gt;

&lt;p&gt;Download the script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extbackup.sh&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://localhost:4000/assets/txt/extbackup.sh&quot;&gt;extbackup.sh&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Remember to edit the line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backupdev=&quot;da0&quot;&lt;/code&gt;, and replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;da0&lt;/code&gt; with the 
drive matching your system.&lt;/p&gt;

&lt;p&gt;Now when it comes time to run a backup, all you have to do is plug in the
external backup drive, get root, and run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;./extbackup.sh&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo ./extbackup.sh
[ OK ]  Attaching external backup drive.
Enter passphrase: 
[ OK ]  Importing external pool.
[ OK ]  Mounting &apos;external/fbsd1&apos;.
[ OK ]  Commencing backup.
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When it’s done, the script also unmounts the external backup drive and 
does geli detach.  After that unplug the external backup drive and put it away.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list | grep external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list | grep external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import
no pools available to import
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ df -hT | grep external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;performing-subsequent-backups&quot;&gt;Performing Subsequent Backups&lt;/h2&gt;

&lt;p&gt;Attach the external hard disk drive to the system.&lt;/p&gt;

&lt;p&gt;Run the external backup script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;./extbackup.sh&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo ./extbackup.sh
[ OK ]  Attaching external backup drive.
Enter passphrase: 
[ OK ]  Importing external pool.
[ OK ]  Mounting &apos;external/fbsd1&apos;.
[ OK ]  Commencing backup.
[...]
[ OK ]  Backup completed successfully.
[ OK ]  Unmounted &apos;external/fbsd1&apos; cleanly.
[ OK ]  Exporting external pool.
[ OK ]  Detaching external backup drive.
[ OK ]  Done.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;recovering-a-file-from-zfs-snapshot-on-the-external-usb-geli-encrypted-hard-disk-drive&quot;&gt;Recovering a File from ZFS Snapshot on the External USB Geli Encrypted Hard Disk Drive&lt;/h2&gt;

&lt;p&gt;If you now mount a file system on the external USB drive 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;external/fbsd1/somefilesystem&lt;/code&gt; and check a file on this 
filesystem’s snapshot with for example 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;less /external/fbsd1/somefilesystem/.zfs/snapshot/zfs-auto-snap_hourly-2022-03-19-20h00/somefile&lt;/code&gt;, 
you’ll see the contents of that file if it existed 
in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zroot/somefilesystem&lt;/code&gt; at that time.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo geli attach /dev/gpt/external
Enter passphrase: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
            Name  Status  Components
gpt/external.eli  ACTIVE  gpt/external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import
   pool: external
     id: 12345678901234567890
  state: ONLINE
 action: The pool can be imported using its name or numeric identifier.
 config:

        external            ONLINE
          gpt/external.eli  ONLINE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import
no pools available to import
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list | grep external
external                     1.19T  11.1T     1.02T  /external
external/fbsd1                172G  11.1T      172K  /external/fbsd1
external/fbsd1/zroot          172G  11.1T      152K  /external/fbsd1/zroot
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list | grep external
external  12.7T  1.19T  11.5T      -       -    0%    9%  1.00x    ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ df -hT | grep external
external                         zfs   12T   1.0T  11T  8%  /external
external/fbsd1                   zfs   11T   172K  11T  0%  /external/fbsd1
external/fbsd1/zroot             zfs   11T   152K  11T  0%  /external/fbsd1/zroot
external/fbsd1/zroot/usr/ports   zfs   11T    96K  11T  0%  /external/fbsd1/zroot/usr/ports
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /external/fbsd1/zroot/usr/home/
total 34
drwxr-xr-x   3 root   wheel     3B Dec 26  2021 .
drwxr-xr-x   5 root   wheel     5B Mar 18 19:26 ..
drwxr-xr-x  42 dusko  dusko   112B Mar 19 20:36 dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /external/fbsd1/zroot/usr/home/.zfs/
total 1
dr-xr-xr-x+  3 root  wheel     3B Dec 24  2021 .
drwxr-xr-x   3 root  wheel     3B Dec 26  2021 ..
dr-xr-xr-x+ 28 root  wheel    28B Mar 19 19:54 snapshot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /external/fbsd1/zroot/usr/home/.zfs/snapshot/
total 13
dr-xr-xr-x+ 28 root wheel 28B Mar 19 19:54 .
dr-xr-xr-x+  3 root wheel  3B Dec 24  2021 ..
drwxr-xr-x   3 root wheel  3B Dec 26  2021 zfs-auto-snap_daily-2022-03-19-20h07
drwxr-xr-x   3 root wheel  3B Dec 26  2021 zfs-auto-snap_frequent-2022-03-19-19h45
[...]
drwxr-xr-x   3 root wheel  3B Dec 26  2021 zfs-auto-snap_hourly-2022-03-19-20h00
[...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Unmount &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;external/fbsd1&lt;/code&gt; after you’re done with it.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import
no pools available to import
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list | grep external
external  12.7T  1.19T  11.5T      -       -    0%    9%  1.00x    ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool export external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zpool list | grep external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo zpool import
   pool: external
     id: 12345678901234567890
  state: ONLINE
 action: The pool can be imported using its name or numeric identifier.
 config:

        external            ONLINE
          gpt/external.eli  ONLINE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ zfs list | grep external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ df -hT | grep external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
            Name  Status  Components
gpt/external.eli  ACTIVE  gpt/external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo geli detach /dev/gpt/external
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ geli status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;add-a-backup-directory-for-a-new-host-that-you-dont-need-to-snapshot-automatically&quot;&gt;Add a Backup Directory for a New Host that You Don’t Need to Snapshot Automatically&lt;/h2&gt;

&lt;p&gt;Assumptions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The backup drive:
    &lt;ul&gt;
      &lt;li&gt;is big enough for backing up another computer;&lt;/li&gt;
      &lt;li&gt;stays plugged into the first computer;&lt;/li&gt;
      &lt;li&gt;is a destination for archiving regular backups from the second computer, and snapshotting those backups is not necessary.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The second computer’s name: host2.mydomain.com.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir /external/host2 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo chown dusko /external/host2/ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd /external/host2/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ scp dusko@host2.mydomain.com:/backup/stuff.tar.gz .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;p&gt;[1] For details, refer to:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;FreeBSD Handbook, Section &lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/book/#dirstructure&quot;&gt;3.5 Directory Structure&lt;/a&gt; (Retrieved on Mar 19, 2022)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hier(7)&lt;/code&gt; manpage&lt;/li&gt;
  &lt;li&gt;man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bsdinstall(8)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bsdinstall(8)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ZFSBOOT_BEROOT_NAME      Name for the boot environment parent dataset.
                         This is a non-mountable dataset meant to be a
                         parent dataset where different boot environment
                         are going to be created.  Default: &quot;ROOT&quot;

[...]

ZFSBOOT_BOOTFS_NAME      Name for the primary boot environment, which
                         will be the default boot environment for the
                         system.  Default: &quot;default&quot;

[...]

ZFSBOOT_DATASETS         ZFS datasets to be created on the root zpool, it
                         requires the following datasets: /tmp, /var/tmp,
                         /$ZFSBOOT_BEROOT_NAME/$ZFSBOOT_BOOTFS_NAME.  See
                         ZFS DATASETS for more information about who to
                         write this variable and to take a look into the
                         default value of it.

[...]

zfsboot                  Provides a ZFS-only automatic interactive disk
                         partitioner.  Creates a single zpool with
                         separate datasets for /tmp, /usr, /usr/home,
                         /usr/ports, /usr/src, and /var.  Optionally can
                         set up geli(8) to encrypt the disk.

[...]

ZFS DATASETS
  The zfsboot partitioning takes the ZFSBOOT_DATASETS variable to create
  the datasets on the base system.  This variable can get pretty huge if
  the pool contains a lot of datasets.  The default value of the
  ZFSBOOT_DATASETS looks like this:

        # DATASET       OPTIONS (comma or space separated; or both)

        # Boot Environment [BE] root and default boot dataset
        /$ZFSBOOT_BEROOT_NAME                           mountpoint=none
        /$ZFSBOOT_BEROOT_NAME/$ZFSBOOT_BOOTFS_NAME      mountpoint=/

        # Compress /tmp, allow exec but not setuid
        /tmp            mountpoint=/tmp,exec=on,setuid=off

        # Do not mount /usr so that &apos;base&apos; files go to the BEROOT
        /usr            mountpoint=/usr,canmount=off

        # Home directories separated so they are common to all BEs
        /usr/home       # NB: /home is a symlink to /usr/home

        # Ports tree
        /usr/ports      setuid=off

        # Source tree (compressed)
        /usr/src

        # Create /var and friends
        /var            mountpoint=/var,canmount=off
        /var/audit      exec=off,setuid=off
        /var/crash      exec=off,setuid=off
        /var/log        exec=off,setuid=off
        /var/mail       atime=on
        /var/tmp        setuid=off

The first column if the dataset to be created on the top of the
ZFSBOOT_POOL_NAME and the rest of the columns are the options to be set
on each dataset.  The options must be written on a coma or space
separated list, or both.  And everything behind a pound/hash character is
ignored as a comment.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[2] From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zfs(8)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DESCRIPTION
     The zfs command configures ZFS datasets within a ZFS storage pool, as
     described in zpool(8).  A dataset is identified by a unique path within
     the ZFS namespace.  For example:
             pool/{filesystem,volume,snapshot}
  
     where the maximum length of a dataset name is MAXNAMELEN (256B) and the
     maximum amount of nesting allowed in a path is 50 levels deep.

     A dataset can be one of the following:
  
           file system  Can be mounted within the standard system namespace
                        and behaves like other file systems.  While ZFS file
                        systems are designed to be POSIX-compliant, known
                        issues exist that prevent compliance in some cases.
                        Applications that depend on standards conformance
                        might fail due to non-standard behavior when checking
                        file system free space.
  
           volume       A logical volume exported as a raw or block device.
                        This type of dataset should only be used when a block
                        device is required.  File systems are typically used
                        in most environments.
  
           snapshot     A read-only version of a file system or volume at a
                        given point in time.  It is specified as
                        filesystem@name or volume@name.

           bookmark     Much like a snapshot, but without the hold on on-disk
                        data.  It can be used as the source of a send (but not
                        for a receive).  It is specified as filesystem#name or
                        volume#name.
  
    See zfsconcepts(7) for details.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[3] From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zxfer(8)&lt;/code&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Note that at present, the usage of spaces in zfs(8) filesystem names is
NOT supported. There is no plan to support it without someone else doing
the coding or a good funding proposal coming my way.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;references&quot;&gt;References&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mwl.io/archives/2140&quot;&gt;FreeBSD ZFS snapshots with zfstools&lt;/a&gt; 
(Posted on Aug 6, 2014) (Retrieved on Mar 19, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://thornton2.com/unix/freebsd/geli-encrypted-usb-backup.html&quot;&gt;GELI Encrypted USB Backup of ZFS Filesystems in FreeBSD 13&lt;/a&gt; (Posted on Dec 22, 2021 - edited on Dec 23, 2021) (Retrieved on Mar 19, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ccammack.com/posts/back-up-zfs-to-a-removable-drive-using-zxfer/&quot;&gt;Back Up ZFS to a Removable Drive Using zxfer&lt;/a&gt;
(Posted on Mar 30, 2020) (Retrieved on Mar 19, 2022)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 19 Mar 2022 10:13:21 -0700</pubDate>
        <link>http://localhost:4000/zfs/freebsd/snapshot/backup/2022/03/19/freebsd-geli-encrypted-usb-external-hdd-zfs-freebsd.html</link>
        <guid isPermaLink="true">http://localhost:4000/zfs/freebsd/snapshot/backup/2022/03/19/freebsd-geli-encrypted-usb-external-hdd-zfs-freebsd.html</guid>
        
        
        <category>zfs</category>
        
        <category>freebsd</category>
        
        <category>snapshot</category>
        
        <category>backup</category>
        
      </item>
    
      <item>
        <title>Occasionally Revisited Code and Shell Script Snippets</title>
        <description>&lt;h3 id=&quot;which-shell-im-in&quot;&gt;Which shell I’m in?&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps $$
    PID TTY      STAT   TIME COMMAND
2612401 pts/0    Ss     0:00 -csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;hr /&gt;

&lt;h3 id=&quot;how-to-set-an-environment-variable-for-just-one-command-in-cshtcsh&quot;&gt;How to Set an Environment Variable for Just One Command In csh/tcsh?&lt;/h3&gt;

&lt;p&gt;Use a subshell:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# (setenv XCATBYPASS &quot;Y&quot;; tabdump site)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/5946736/how-to-set-an-environment-variable-for-just-one-command-in-csh-tcsh&quot;&gt;How to set an environment variable for just one command in csh/tcsh&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 13, 2022)&lt;/p&gt;

&lt;h3 id=&quot;how-to-set-an-environment-variable-for-just-one-command-in-cshtcsh-and-pass-it-to-sudo&quot;&gt;How to set an Environment Variable for Just One Command in csh/tcsh and Pass It To sudo&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo &quot;XCATBYPASS=Y&quot; csh -c &apos;printf %s\\n &quot;$XCATBYPASS&quot;&apos;
Y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  This also works if you replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tcsh&lt;/code&gt;, 
or with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sh&lt;/code&gt;, or with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bash&lt;/code&gt;. (Tested on FreeBSD 13.0 and RHEL 8.4.)&lt;/p&gt;

&lt;p&gt;Reference:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/40624957/pass-environment-variable-to-sudo&quot;&gt;Pass environment variable to sudo&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 13, 2022)&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;set-the-window-title-in-xterm1&quot;&gt;Set the Window Title in xterm(1)&lt;/h3&gt;

&lt;p&gt;From the man page for xterm(1) (OS: FreeBSD 13):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[...]
For example, to set the window title to &quot;Hello world!&quot;, you could use
one of these commands in a script:

  printf &apos;\033]2;Hello world!\033\&apos; 
  printf &apos;\033]2;Hello world!\007&apos;
  printf &apos;\033]2;%s\033\&apos; &quot;Hello world!&quot; 
  printf &apos;\033]2;%s\007&apos; &quot;Hello world!&quot;

The printf command interprets the octal value &quot;\033&quot; for escape, and
(since it was not given in the format) omits a trailing newline from
the output.

Some programs (such as screen(1)) set both window- and icon-titles at
the same time, using a slightly different control sequence:

  printf &apos;\033]0;Hello world!\033\&apos;
  printf &apos;\033]0;Hello world!\007&apos;
  printf &apos;\033]0;%s\033\&apos; &quot;Hello world!&quot;
  printf &apos;\033]0;%s\007&apos; &quot;Hello world!&quot;

The difference is the parameter &quot;0&quot; in each command.  Most window
managers will honor either window title or icon title.  Some will make
a distinction and allow you to set just the icon title.  You can tell
xterm to ask for this with a different parameter in the control
sequence:

printf &apos;\033]1;Hello world!\033\&apos;      &amp;lt;- The most portable apporach, with the
printf &apos;\033]1;Hello world!\007&apos;       &amp;lt;- parameter &quot;1&quot; - asks if the WM allows
printf &apos;\033]1;%s\033\&apos; &quot;Hello world!&quot; &amp;lt;- WM allows setting only the icon title.
printf &apos;\033]1;%s\007&apos; &quot;Hello world!&quot;  &amp;lt;- (Four different ways to do it.)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
This can be useful even if you don’t use some window 
decorations (e.g.: no titlebars) in your window manager.
For example, in my current setup with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;twm(1)&lt;/code&gt; where I enabled the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NoTitle&lt;/code&gt; 
variable in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.twmrc&lt;/code&gt;, I still find it useful to sometimes set the 
window title for some xterm windows as that makes their title visible 
in TWM’s Icon Manager and that way helps with identifying which server 
I’m working on.&lt;/p&gt;

&lt;h3 id=&quot;xterm1&quot;&gt;xterm(1)&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;Fonts should be fixed width and, if both normal and bold are specified, 
should have the same size.  If only a normal font is specified, it will 
be used for both normal and bold text (by doing overstriking).&lt;br /&gt;
The -e option, if given, must appear at the end of the command line, 
otherwise the user’s default shell will be started.&lt;br /&gt;
Options that start with a plus sign (+) restore the default.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;sed1&quot;&gt;sed(1)&lt;/h3&gt;

&lt;p&gt;OS: CentOS Linux 7, Shell: bash&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -n ttyS0 /etc/securetty
24:ttyS0

$ sed -n &apos;/ttyS0/p&apos; /etc/securetty
ttyS0

$ sed -n &apos;/ttyS0/=&apos; /etc/securetty
24
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;perl&quot;&gt;Perl&lt;/h3&gt;

&lt;p&gt;OS: CentOS Linux 5, Shell: bash&lt;/p&gt;

&lt;p&gt;You need to prepend the currency symbol (a.k.a. dollar sign) with
a backslash (\) in a &lt;a href=&quot;https://en.wikipedia.org/wiki/Here_document&quot;&gt;heredoc&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat &amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; perl1.pl
#!/usr/bin/env perl
use strict;
use Getopt::Long;
use File::Basename;

my \$arguments=join(&apos;,&apos;,@ARGV);

print &quot;\$arguments\n&quot;;
EOF
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chmod 0744 perl1.pl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./perl1.pl testArg1 testArg2
testArg1,testArg2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;how-to-get-physical-block-size-in-linux&quot;&gt;How to Get Physical Block Size in Linux?&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# blockdev --getbsz /dev/sda
4096
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If filesystem is XFS (property: &lt;strong&gt;bsize&lt;/strong&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# df -hT
Filesystem              Type      Size  Used Avail Use% Mounted on
devtmpfs                devtmpfs  908M     0  908M   0% /dev
tmpfs                   tmpfs     919M     0  919M   0% /dev/shm
tmpfs                   tmpfs     919M  8.5M  911M   1% /run
tmpfs                   tmpfs     919M     0  919M   0% /sys/fs/cgroup
/dev/mapper/centos-root xfs       3.5G  1.3G  2.3G  36% /
/dev/sda1               xfs      1014M  150M  865M  15% /boot
tmpfs                   tmpfs     184M     0  184M   0% /run/user/0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xfs_info /dev/mapper/centos-root
meta-data=/dev/mapper/centos-root isize=512    agcount=4, agsize=229120 blks
         =                       sectsz=4096  attr=2, projid32bit=1
         =                       crc=1        finobt=0 spinodes=0
data     =                       bsize=4096   blocks=916480, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal               bsize=4096   blocks=2560, version=2
         =                       sectsz=4096  sunit=1 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xfs_info /dev/mapper/centos-root | grep bsize
data     =                       bsize=4096   blocks=916480, imaxpct=25
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal               bsize=4096   blocks=2560, version=2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# xfs_info /boot | grep bsize
data     =                       bsize=4096   blocks=262144, imaxpct=25
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal               bsize=4096   blocks=2560, version=2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;running-commands-on-a-remote-machine-with-ssh1&quot;&gt;Running Commands on a Remote Machine with ssh(1)&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh user@example.org &quot;df -hT&quot;
user@example.org&apos;s password: 
Filesystem    Type    Size  Used Avail Use% Mounted on
/dev/sda1     ext3    263G   26G  224G  11% /
tmpfs        tmpfs    7.9G     0  7.9G   0% /dev/shm
mgmt:/home     nfs    5.0T  1.7T  3.3T  34% /home
mgmt:/global   nfs    3.9T  636G  3.3T  16% /global
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;delete-all-hidden-files-with-rm1&quot;&gt;Delete All Hidden Files with rm(1)&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /mnt/customdvd/
total 8.0K
drwxr-xr-x  2 root root  40 Apr 23 15:54 .
drwxr-xr-x. 5 root root  50 Apr 22 16:17 ..
-rw-r--r--  1 root root  29 Oct 26  2020 .discinfo
-rw-r--r--  1 root root 354 Oct 26  2020 .treeinfo
 
$ ls -lh /mnt/customdvd/.[a-z0-9]*
-rw-r--r-- 1 root root  29 Oct 26  2020 /mnt/customdvd/.discinfo
-rw-r--r-- 1 root root 354 Oct 26  2020 /mnt/customdvd/.treeinfo

$ sudo rm -i /mnt/customdvd/.[a-z0-9]*
rm: remove regular file &apos;/mnt/customdvd/.discinfo&apos;? y
rm: remove regular file &apos;/mnt/customdvd/.treeinfo&apos;? y

$ ls -alh /mnt/customdvd/
total 0
drwxr-xr-x  2 root root  6 Apr 23 15:58 .
drwxr-xr-x. 5 root root 50 Apr 22 16:17 ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;jekyll-markdown-internal-links---aka-temporarily-disable-tag-processing&quot;&gt;Jekyll Markdown Internal Links - aka Temporarily Disable Tag Processing&lt;/h3&gt;

&lt;p&gt;How can you link to internal content in Jekyll? &lt;br /&gt;
A: You can post internal links by using the following:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[Some Link]{% post_url 2010-07-21-name-of-post %}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Other options:&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[Customize CentOS/RHEL DVD ISO for Installation in Text Mode via Serial Console and Test the Image with QEMU](http://localhost:4000/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/2022/03/12/centos-rhel-dvd-iso-customization-testing-with-qemu.html)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[Customize CentOS/RHEL DVD ISO for Installation in Text Mode via Serial Console and Test the Image with QEMU](/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/2022/03/12/centos-rhel-dvd-iso-customization-testing-with-qemu.html)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  How to actually display these code examples (with curly braces)? &lt;br /&gt;
A:  Use raw and endraw tags (see below).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/docs/liquid/tags/&quot;&gt;Jekyll Docs - Tags Filters&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Mar 13, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Jekyll processes all Liquid filters in code blocks&lt;/p&gt;

  &lt;p&gt;If you are using a language that contains curly braces, you will likely
need to place  {% raw %} 
and  {% endraw   %} 
tags around your code.&lt;/p&gt;

  &lt;p&gt;Since Jekyll 4.0, you can add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;render_with_liquid: false&lt;/code&gt; in your front 
matter to disable Liquid entirely for a particular document.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://shopify.github.io/liquid/tags/template/&quot;&gt;Liquid Documentation: Tags - Template&lt;/a&gt;: &lt;br /&gt;
(Retrieved on Mar 13, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;raw&lt;/p&gt;

  &lt;p&gt;Temporarily disables tag processing. This is useful for generating 
certain content that uses conflicting syntax, such as 
&lt;a href=&quot;https://mustache.github.io/&quot;&gt;Mustache&lt;/a&gt; or 
&lt;a href=&quot;https://handlebarsjs.com/&quot;&gt;Handlebars&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;– References:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/docs/liquid/tags/#linking-to-posts&quot;&gt;Jekyll Documentation - Linking to posts&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 13, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/4629675/jekyll-markdown-internal-links&quot;&gt;Jekyll markdown internal links&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Mar 13, 2022)&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;how-to-join-multiple-pdf-pages-into-one-pdf-document-with-ghostscript&quot;&gt;How to Join Multiple PDF Pages into One PDF Document with Ghostscript&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gs -q \
 -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=merged.pdf \
 page01.pdf page02.pdf page03.pdf page04.pdf page05.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sun, 13 Mar 2022 10:12:32 -0700</pubDate>
        <link>http://localhost:4000/unix/shell/script/cli/terminal/perl/sysadmin/2022/03/13/occasionally-revisited-code-shell-script-snippets.html</link>
        <guid isPermaLink="true">http://localhost:4000/unix/shell/script/cli/terminal/perl/sysadmin/2022/03/13/occasionally-revisited-code-shell-script-snippets.html</guid>
        
        
        <category>unix</category>
        
        <category>shell</category>
        
        <category>script</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>perl</category>
        
        <category>sysadmin</category>
        
      </item>
    
      <item>
        <title>Customize CentOS/RHEL DVD ISO for Installation in Text Mode via Serial Console and Test the Image with QEMU</title>
        <description>&lt;p&gt;OSs: RHEL 7, CentOS 7  &lt;br /&gt;
Shells:  csh, bash&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Specifically:  Customize CentOS/RHEL DVD ISO image for installation in Text 
Mode via serial console &lt;a href=&quot;#footnotes&quot;&gt;¹&lt;/a&gt; &lt;strong&gt;on IBM BladeCenter HS21 Servers&lt;/strong&gt;
and test It with QEMU&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;Task:&lt;/em&gt;    &lt;br /&gt;
Install CentOS Linux 7 in Text Mode on IBM BladeCenter HS21 blade servers 
(a.k.a blades) via serial console.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Motivation:&lt;/em&gt; &lt;br /&gt;
Could not use IBM MM (Management Module) web interface’s console 
for performing CentOS Linux installation because MM required a very old 
Java version, which proved complicated to setup.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;prepare-the-server-to-use-serial-console&quot;&gt;Prepare the Server to Use Serial Console&lt;/h3&gt;

&lt;p&gt;Server:  IBM BladeCenter HS21 (This blade is &lt;strong&gt;BIOS-based&lt;/strong&gt; and does &lt;strong&gt;not&lt;/strong&gt; 
support &lt;em&gt;EFI/UEFI&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;For SOL (Serial Over LAN) to work on this server, the following settings
of its BIOS need to be changed (the lines in bold had to be changed):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Devices and I/O Ports:
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;Serial Port A:&lt;/strong&gt; Auto-configure&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Serial Port B:&lt;/strong&gt; Auto-configure&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Remote Console Redirection:
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;Remote Console Active:&lt;/strong&gt; Enabled&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Remote Console COM Port:&lt;/strong&gt; COM 2&lt;/li&gt;
      &lt;li&gt;Remote Console Baud Rate: 19200&lt;/li&gt;
      &lt;li&gt;Remote Console Data Bits: 8&lt;/li&gt;
      &lt;li&gt;Remote Console Parity: None&lt;/li&gt;
      &lt;li&gt;Remote Console Stop Bits: 1&lt;/li&gt;
      &lt;li&gt;Remote Console Text Emulation: ANSI&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Remote Console After Boot:&lt;/strong&gt; Enabled&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Remote Console Flow Control:&lt;/strong&gt; Hardware&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;(Optional)&lt;/em&gt; &lt;br /&gt;
Before the upgrade, the OS on the blades was CentOS Linux 5.2. 
If you wanted to enable CentOS 5.2 for redirecting output to the second 
serial device ttyS1 (COM2), you would need to change the following 
configuration files on that OS:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;/etc/inittab&lt;/li&gt;
  &lt;li&gt;/etc/securetty&lt;/li&gt;
  &lt;li&gt;/boot/grub/grub.conf&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Add the following line to the end of the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;# Run gettys in standard runlevels&lt;/code&gt; section of the &lt;strong&gt;/etc/inittab&lt;/strong&gt; file. 
This enables hardware flow control and enables users to log in through 
the SOL console.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;7:2345:respawn:/sbin/agetty -h ttyS1 19200 vt102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the following line at the bottom of the &lt;strong&gt;/etc/securetty&lt;/strong&gt; file to 
enable a user to log in as the root user through the SOL console:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ttyS1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Complete the following steps to modify the &lt;strong&gt;/boot/grub/grub.conf&lt;/strong&gt; file:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Comment out the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;splashimage=...&lt;/code&gt; line by adding a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#&lt;/code&gt; at the 
beginning of this line.&lt;/li&gt;
  &lt;li&gt;Add the following line before the first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title ...&lt;/code&gt; line:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;# This will allow you to only Monitor the OS boot via SOL&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Append the following text to the first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title ...&lt;/code&gt; line:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SOL Monitor&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Append the following text to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kernel /...&lt;/code&gt; line of the 
first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title ...&lt;/code&gt; section:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console=ttyS1,19200 console=tty1&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Add the following lines between after the above &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;title ...&lt;/code&gt; section:&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# This will allow you to Interact with the OS boot via SOL 
title Red Hat Linux (2.4.9-e.12smp) SOL Interactive
    root (hd0,0)
    kernel /vmlinuz-2.4.9-e.12smp ro root=/dev/hda6 console=tty1 
console=ttyS1,19200
    initrd /initrd-2.4.9-e.12smp.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The entry beginning with kernel &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/vmlinuz...&lt;/code&gt; is shown 
with a line break after &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console=tty1&lt;/code&gt;. In your file, the entire 
entry must all be on one line.&lt;/p&gt;

&lt;p&gt;Details:
&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.advmgtmod.doc/kp1bd_pdf.pdf&quot;&gt;IBM BladeCenter - Serial Over LAN (SOL) Setup Guide&lt;/a&gt;  &lt;br /&gt;
Chapter 3. Operating system configuration &amp;gt; Linux configuration &amp;gt; 
Red Hat Enterprise Linux ES 2.1 configuration (including GRUB configuration)  &lt;br /&gt;
(Retrieved on Mar 12, 2022)&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Steps:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Download and test ISO&lt;/li&gt;
  &lt;li&gt;Mount ISO and prep for edit&lt;/li&gt;
  &lt;li&gt;Edit isolinux.cfg&lt;/li&gt;
  &lt;li&gt;Create the new ISO&lt;/li&gt;
  &lt;li&gt;Create a test QEMU image with console redirection to serial device on COM2 (ttyS1)&lt;/li&gt;
  &lt;li&gt;Test the QEMU image&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
You need to construct a command line for calling QEMU because the 
raw QEMU doesn’t have any VM management so your VM configuration is not
permanent. For the task explained on this page that’s nice since you’ll 
experiment with different VM configurations; for example, one serial 
device in the guest VM, two serial devices in the VM, no serial devices…&lt;/p&gt;

&lt;p&gt;While your VM configuration is not remembered, changes you 
make in the guest VM do get saved in the VM image. In other words, after
you boot the guest in an image, log into the OS installed on it, and 
make changes in the guest OS’ configuration files, they are saved. 
After restarting the guest on the same VM image, next time you log into 
the guest OS on it, your changes will be there.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;IBM BladeCenter HS21 does not support &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipmitool&lt;/code&gt;. &lt;br /&gt;
&lt;strong&gt;[TODO]:&lt;/strong&gt;  Check to see if it’s possible to add IPMI support in/via BIOS.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
When there are long lines in scripts, code and CLI output examples, 
they are folded and then indented to make sure they fit the page.
If there are exceptions, they are noted.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;optional-create-a-test-qemu-image-with-a-text-console-on-the-first-serial-device-ttys0-com1&quot;&gt;(Optional) Create a Test QEMU Image with a Text Console on the First Serial Device ttyS0 (COM1)&lt;/h3&gt;

&lt;p&gt;Note that this step is optional. It’s here to show the setup of packages 
needed on the host OS, the use of QEMU as a test tool for performing the 
required task, and to demonstrate how to create a test virtual machine 
that redirects text output to serial console device.&lt;/p&gt;

&lt;p&gt;The host server used as a jump box already had the following 
packages installed.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ipxe-roms-qemu, libvirt-daemon-driver-qemu, qemu-guest-agent, qemu-img, 
qemu-kvm, qemu-kvm-block-curl, qemu-kvm-block-gluster, qemu-kvm-block-iscsi, 
qemu-kvm-block-rbd, qemu-kvm-block-ssh, qemu-kvm-common, qemu-kvm-core
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install additional packages.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install libvirt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install virt-install virt-manager
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install libguestfs-tools libguestfs-gfs2 libguestfs-rescue \
 libguestfs-rsync libguestfs-xfs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install virt-dib virt-v2v virt-p2v-maker virt-viewer virt-who \
 virt-top virtio-win
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install minicom 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo dnf install isomd5sum
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;CentOS Mirror (&lt;a href=&quot;http://mirror.centos.org/&quot;&gt;http://mirror.centos.org/&lt;/a&gt;)
contains a directory tree with current CentOS Linux and Stream releases 
(as of Mar 12, 2022: CentOS 7 and CentOS 8-stream).  The last CentOS 
release before switching to CentOS Stream was CentOS 7.9: 
&lt;a href=&quot;http://mirror.centos.org/centos-7/7.9.2009/&quot;&gt;http://mirror.centos.org/centos-7/7.9.2009/&lt;/a&gt;.  In order to conserve the limited bandwidth 
available, ISO images on CentOS.org are not downloadable from 
mirror.centos.org.  The following page lists mirrors in your region that 
have the ISO images available: &lt;a href=&quot;http://isoredirect.centos.org/centos/7.9.2009/isos/x86_64/&quot;&gt;http://isoredirect.centos.org/centos/7.9.2009/isos/x86_64/&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Download and verify the CentOS DVD ISO installation image. I decided to use minimal install, CentOS-7-x86_64-Minimal-2009.iso.  (Other options were: CentOS-7-x86_64-DVD-2009.iso, CentOS-7-x86_64-Everything-2009.iso, CentOS-7-x86_64-NetInstall-2009.iso.)  For my region, download location was on mirror.esecuredata.com.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wget https://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso
$ wget https://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/sha256sum.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sha256sum CentOS-7-x86_64-Minimal-2009.iso
07b94e6b1a0b0260b94c83d6bb76b26bf7a310dc78d7a9c7432809fb9bc6194a  CentOS-7-x86_6
4-Minimal-2009.iso

$ grep &apos;CentOS-7-x86_64-Minimal-2009.iso&apos; sha256sum.txt
07b94e6b1a0b0260b94c83d6bb76b26bf7a310dc78d7a9c7432809fb9bc6194a  CentOS-7-x86_6
4-Minimal-2009.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir -p /mnt/{dvd,customdvd}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /mnt/
total 0
drwxr-xr-x 2 root root 6 Apr 16 19:57 customdvd
drwxr-xr-x 2 root root 6 Apr 16 19:57 dvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mount the DVD ISO image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 mount \ 
 -t iso9660 \
 /home/dusko/CentOS-7-x86_64-Minimal-2009.iso \ 
 /mnt/dvd/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy the content of the DVD to a separate directory.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rsync -a /mnt/dvd/ /mnt/customdvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /mnt/customdvd/
total 84K
drwxr-xr-x  8 root root  254 Nov  3  2020 .
drwxr-xr-x. 4 root root   34 Apr 17 18:39 ..
-rw-r--r--  1 root root   14 Oct 29  2020 CentOS_BuildTag
-rw-r--r--  1 root root   29 Oct 26  2020 .discinfo
drwxr-xr-x  3 root root   35 Oct 26  2020 EFI
-rw-rw-r--  1 root root  227 Aug 30  2017 EULA
-rw-rw-r--  1 root root  18K Dec  9  2015 GPL
drwxr-xr-x  3 root root   57 Oct 26  2020 images
drwxr-xr-x  2 root root  182 Apr 17 18:47 isolinux
drwxr-xr-x  2 root root   43 Oct 26  2020 LiveOS
drwxr-xr-x  2 root root  28K Nov  3  2020 Packages
drwxr-xr-x  2 root root 4.0K Nov  3  2020 repodata
-rw-rw-r--  1 root root 1.7K Dec  9  2015 RPM-GPG-KEY-CentOS-7
-rw-rw-r--  1 root root 1.7K Dec  9  2015 RPM-GPG-KEY-CentOS-Testing-7
-r--r--r--  1 root root 2.9K Nov  3  2020 TRANS.TBL
-rw-r--r--  1 root root  354 Oct 26  2020 .treeinfo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/.discinfo 
1603728831.612616
7.9
x86_64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/.treeinfo 
[general]
name = CentOS-7
family = CentOS
timestamp = 1603729576.26
variant = 
version = 7
packagedir = 
arch = x86_64

[stage2]
mainimage = LiveOS/squashfs.img

[images-x86_64]
kernel = images/pxeboot/vmlinuz
initrd = images/pxeboot/initrd.img
boot.iso = images/boot.iso

[images-xen]
kernel = images/pxeboot/vmlinuz
initrd = images/pxeboot/initrd.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /mnt/customdvd/isolinux/
total 60M
-r--r--r-- 1 root root 2.0K Nov  3  2020 boot.cat
-rw-r--r-- 2 root root   84 Oct 26  2020 boot.msg
-rw-r--r-- 2 root root  281 Oct 26  2020 grub.conf
-rw-r--r-- 4 root root  53M Oct 26  2020 initrd.img
-rw-r--r-- 2 root root  24K Nov  3  2020 isolinux.bin
-rw-r--r-- 2 root root 3.0K Oct 26  2020 isolinux.cfg
-rw-r--r-- 3 root root 187K Nov  5  2016 memtest
-rw-r--r-- 5 root root  186 Sep 30  2015 splash.png
-r--r--r-- 1 root root 2.2K Nov  3  2020 TRANS.TBL
-rw-r--r-- 3 root root 150K Oct 30  2018 vesamenu.c32
-rwxr-xr-x 4 root root 6.5M Oct 19  2020 vmlinuz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Customize the DVD ISO so that the installer redirects its text 
output to the serial console.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd /mnt/customdvd/isolinux/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove ‘boot.cat’. It will be regenerated in a later step.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rm -i boot.cat
rm: remove regular file &apos;boot.cat&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l boot.msg
5 boot.msg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Delete the line with ‘splash.lss’ from the ‘boot.msg’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat boot.msg

 
splash.lss

 -  Press the 01&amp;lt;ENTER&amp;gt;07 key to begin the installation process.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -n &apos;splash\.lss&apos; boot.msg
2:splash.lss
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sed -i.bkp &apos;/splash\.lss/d&apos; boot.msg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff boot.msg.bkp boot.msg
2d1
&amp;lt; splash.lss
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
 --unified=0 \
 /mnt/dvd/isolinux/boot.msg \
 /mnt/customdvd/isolinux/boot.msg
--- /mnt/dvd/isolinux/boot.msg  2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/boot.msg    2022-03-12 21:11:33.140839189 -0700
@@ -2 +1,0 @@
-splash.lss
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rm -i boot.msg.bkp
rm: remove regular file &apos;boot.msg.bkp&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi isolinux.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tell ISOLINUX to use a serial port as the console. 
“port” is a number (0 = /dev/ttyS0 = COM1, etc.) or an I/O port address (e.g. 0x3F8) (&lt;a href=&quot;https://www.syslinux.org/old/faq.php&quot;&gt;https://www.syslinux.org/old/faq.php&lt;/a&gt;, &lt;a href=&quot;https://wiki.syslinux.org/wiki/index.php?title=SYSLINUX&quot;&gt;https://wiki.syslinux.org/wiki/index.php?title=SYSLINUX&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Here I want to use the port 0 so the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console&lt;/code&gt; statement uses 
tty0 and ttyS0.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
 --unified=0 \
 /mnt/dvd/isolinux/isolinux.cfg \
 /mnt/customdvd/isolinux/isolinux.cfg
--- /mnt/dvd/isolinux/isolinux.cfg      2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/isolinux.cfg        2022-03-12 22:39:15.690733667 -0700
@@ -64 +64 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet console=tty0 console=ttyS0
@@ -70 +70 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet console=tty0 console=ttyS0
@@ -86 +86 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet console=tty0 console=ttyS0
@@ -96 +96 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet console=tty0 console=ttyS0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;No need to make EFI changes because in this case the guest system you are 
planning to simulate is is BIOS-based, not EFI/UEFI.&lt;/p&gt;

&lt;p&gt;Just as a reference, here’s the content of the EFI directory:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /mnt/customdvd/EFI/BOOT/
total 6.0M
-rwxr--r-- 1 root root 978K Jul 31  2020 BOOTIA32.EFI
-rwxr--r-- 1 root root 1.2M Jul 31  2020 BOOTX64.EFI
drwxr-xr-x 2 root root   42 Oct 26  2020 fonts
-rw-r--r-- 1 root root 1.3K Oct 26  2020 grub.cfg
-rwxr--r-- 1 root root 745K Jul 28  2020 grubia32.efi
-rwxr--r-- 1 root root 1.1M Jul 28  2020 grubx64.efi
-rwxr--r-- 1 root root 898K Jul 31  2020 mmia32.efi
-rwxr--r-- 1 root root 1.2M Jul 31  2020 mmx64.efi
-r--r--r-- 1 root root 1.8K Nov  3  2020 TRANS.TBL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;create-a-new-bootable-installation-dvd-iso-image&quot;&gt;Create a New Bootable Installation DVD ISO Image&lt;/h4&gt;

&lt;p&gt;For the CentOS 7 Installation DVD, the label must stay the same.&lt;/p&gt;

&lt;p&gt;Use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isoinfo&lt;/code&gt; command to find out the label of the CentOS DVD 
(an extension named “Volume id”). You can use the same command to find 
out other extensions too; for example, information about Rock Ridge, 
Joliet extensions and Eltorito boot information if present.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ isoinfo -d -i \
 ~/CentOS-7-x86_64-Minimal-2009.iso | wc -l
29
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ isoinfo -d -i \
 ~/CentOS-7-x86_64-Minimal-2009.iso | grep &quot;Volume id&quot; 
Volume id: CentOS 7 x86_64

$ isoinfo -d -i \
 ~/CentOS-7-x86_64-Minimal-2009.iso | grep Joliet
Joliet with UCS level 3 found

$ isoinfo -d -i \
 ~/CentOS-7-x86_64-Minimal-2009.iso | grep prepare
Data preparer id:

$ isoinfo -d -i \
~/CentOS-7-x86_64-Minimal-2009.iso | grep Torito
El Torito VD version 1 found, boot catalog is in sector 606
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;blkid(8)&lt;/code&gt; also shows the label:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ blkid ~/CentOS-7-x86_64-Minimal-2009.iso
/home/dusko/CentOS-7-x86_64-Minimal-2009.iso: BLOCK_SIZE=&quot;2048&quot; 
  UUID=&quot;2020-11-03-14-55-29-00&quot; LABEL=&quot;CentOS 7 x86_64&quot; TYPE=&quot;iso9660&quot; 
  PTUUID=&quot;6acc9bba&quot; PTTYPE=&quot;dos&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Recreate the DVD ISO image with the customized settings.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 mkisofs \
 -o /tmp/CentOS-7-x86_64-Minimal-2009-CUSTOM.iso \
 -b isolinux/isolinux.bin \
 -J \
 -R \
 -l \
 -c isolinux/boot.cat \
 -no-emul-boot \
 -boot-load-size 4 \
 -boot-info-table \
 -eltorito-alt-boot \
 -e images/efiboot.img \
 -no-emul-boot \
 -graft-points \
 -input-charset utf-8 \
 -output-charset utf-8 \
 -V &quot;CentOS 7 x86_64&quot; \
 /mnt/customdvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo chown dusko:dusko /tmp/CentOS-7-x86_64-Minimal-2009-CUSTOM.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Implant an MD5 checksum in the ISO image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ implantisomd5 /tmp/CentOS-7-x86_64-Minimal-2009-CUSTOM.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For systems that suport EFI/UEFI, the next step would be to run 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isohybrid&lt;/code&gt; command to make the installation ISO image 
EFI/UEFI-bootable. (In this case, do &lt;strong&gt;not&lt;/strong&gt; run the isohybrid command 
below because this server supports only BIOS.)&lt;/p&gt;

&lt;p&gt;Similarly, if you wanted to create a bootable USB drive (USB flash drive), 
you would also need to run the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isohybrid&lt;/code&gt; command.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ isohybrid --uefi \
 /tmp/CentOS-7-x86_64-Minimal-2009-CUSTOM.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check an MD5 checksum implanted by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;implantisomd5&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ checkisomd5 \
 --verbose \
 /tmp/CentOS-7-x86_64-Minimal-2009-CUSTOM.iso
---- snip ----
Checking: 100.0%

The media check is complete, the result is: PASS.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd

$ pwd
/home/dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create an image file for the guest virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ truncate --size=291999055872 abnodevm.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The created image’s format is raw.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img info abnodevm.img
image: abnodevm.img
file format: raw
virtual size: 272 GiB (291999055872 bytes)
disk size: 512 B
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Optionally, you can convert the raw image to qcow2 format. 
(Shown here as a reference. &lt;strong&gt;Don’t&lt;/strong&gt; do it now.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img \ 
 convert \ 
 -f raw \
 -O qcow2 \
 abnodevm.img \
 abnodevm.qcow2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ qemu-img info abnodevm.qcow2
image: abnodevm.qcow2
file format: qcow2
virtual size: 272 GiB (291999055872 bytes)
disk size: 16.5 KiB
cluster_size: 65536
Format specific information:
    compat: 1.1
    lazy refcounts: false
    refcount bits: 16
    corrupt: false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some useful options for QEMU’s virtual console:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm -h

---- snip ----

During emulation, the following keys are useful:
ctrl-alt-f      toggle full screen
ctrl-alt-n      switch to virtual console &apos;n&apos;
ctrl-alt        toggle mouse and keyboard grab

When using -nographic, press &apos;ctrl-a h&apos; to get some help.

See &amp;lt;https://qemu.org/contribute/report-a-bug&amp;gt; for how to report bugs.
More information on the QEMU project at &amp;lt;https://qemu.org&amp;gt;.

WARNING: 
Direct use of qemu-kvm from the command line is not supported by Red Hat.

WARNING: Use libvirt as the stable management interface.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install CentOS 7.9 on the virtual machine image by using the customized 
CentOS installation DVD image (in text mode, with output via serial 
console - in this example it’s the first serial device, ttyS0).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -cdrom /tmp/CentOS-7-x86_64-Minimal-2009-CUSTOM.iso \
 -hda abnodevm.qcow2 \
 -m 2G \
 -boot d \
 -enable-kvm \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start the OS install and finish installing CentOS Linux 7.9.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;After installation:&lt;/p&gt;

&lt;p&gt;When you want to just boot from the image file without the installation 
ISO file (after you have finished installing and now you always want to 
boot the installed system), you can just remove the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-cdrom&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -hda abnodevm.qcow2 \
 -m 2G \
 -enable-kvm \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, you can enable ssh port forwarding (with ‘-net user’, 
‘-net nic’) when starting the guest VM so this works too:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -cdrom /tmp/CentOS-7-x86_64-Minimal-2009-CUSTOM.iso \
 -hda abnodevm.qcow2 \
 -m 2G \
 -boot d \
 -enable-kvm \
 -net user,hostfwd=tcp::10022-:22 \
 -net nic \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;create-a-qemu-image-with-serial-text-console-on-ttys1-com2&quot;&gt;Create a QEMU Image with Serial Text Console on ttyS1 (COM2)&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Why redirection to ttyS1 (COM2)?:&lt;/strong&gt;  The serial console on 
&lt;strong&gt;COM2&lt;/strong&gt; (&lt;strong&gt;ttyS1&lt;/strong&gt; in Unix) is required by IBM &lt;strong&gt;MM&lt;/strong&gt; (Management Module) 
&lt;strong&gt;CLI&lt;/strong&gt; on IBM BladeCenter HS21 Blade Servers.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Details:&lt;/em&gt;  &lt;br /&gt;
Out-of-band (OOB) management interface (1) (2) on IBM BladeCenter server 
architecture is called &lt;strong&gt;MM&lt;/strong&gt; (Management Module). 
On this particular generation of BladeCenter servers, in order 
for the MM to be able to support SOL (Serial Over LAN) you have to 
redirect the serial console to &lt;strong&gt;COM2&lt;/strong&gt; (&lt;strong&gt;ttyS1&lt;/strong&gt; in Unix).&lt;/p&gt;

&lt;p&gt;(1): Sometimes called lights-out management (LOM). &lt;br /&gt;
(2): IBM MM (Management Module) interacts with a hardware module 
(a remote management card) often called BMC (Baseboard Management 
Controller) installed inside the IBM BladeCenter server chassis
(that houses multiple blades). The BMC is configured with the 
network interface controller (NIC) to use the Remote Management 
Control Protocol (RMCP), a.k.a. IPMI (Intelligent Platform Management 
Interface).&lt;/p&gt;

&lt;p&gt;Download the CentOS 7 DVD ISO image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wget https://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ file CentOS-7-x86_64-DVD-2009.iso
CentOS-7-x86_64-DVD-2009.iso: ISO 9660 CD-ROM filesystem data 
  (DOS/MBR boot sector) &apos;CentOS 7 x86_64&apos; (bootable)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wget https://mirror.esecuredata.com/centos/7.9.2009/isos/x86_64/sha256sum.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Usually I fold and then indent long lines when showing them in scripts, 
code and CLI outputs.  In this case (for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sha256sum --check&lt;/code&gt;), 
I’m making an exception.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l sha256sum.txt
4 sha256sum.txt

$ grep &apos;CentOS-7-x86_64-DVD-2009.iso&apos; sha256sum.txt
e33d7b1ea7a9e2f38c8f693215dd85254c3a4fe446f93f563279715b68d07987  CentOS-7-x86_64-DVD-2009.iso

$ grep &apos;CentOS-7-x86_64-DVD-2009.iso&apos; sha256sum.txt &amp;gt; /tmp/sha256sum.txt

$ mv /tmp/sha256sum.txt ~/sha256sum.txt

$ cat sha256sum.txt
e33d7b1ea7a9e2f38c8f693215dd85254c3a4fe446f93f563279715b68d07987  CentOS-7-x86_64-DVD-2009.iso

$ sha256sum --check sha256sum.txt
CentOS-7-x86_64-DVD-2009.iso: OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir -p /mnt/{dvd,customdvd}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 mount \
 -t iso9660 \
 ~/CentOS-7-x86_64-DVD-2009.iso \
 /mnt/dvd/
mount: /mnt/dvd: WARNING: device write-protected, mounted read-only.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rsync -a /mnt/dvd/ /mnt/customdvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ du -chs /mnt/dvd/ /mnt/customdvd/
4.5G    /mnt/dvd/
4.5G    /mnt/customdvd
8.9G    total
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -alh /mnt/customdvd/isolinux/
total 60M
drwxr-xr-x 2 root root  198 Nov  2  2020 .
drwxr-xr-x 8 root root  254 Nov  3  2020 ..
-r--r--r-- 1 root root 2.0K Nov  3  2020 boot.cat
-rw-r--r-- 1 root root   84 Oct 26  2020 boot.msg
-rw-r--r-- 1 root root  281 Oct 26  2020 grub.conf
-rw-r--r-- 1 root root  53M Oct 26  2020 initrd.img
-rw-r--r-- 1 root root  24K Nov  3  2020 isolinux.bin
-rw-r--r-- 1 root root 3.0K Oct 26  2020 isolinux.cfg
-rw-r--r-- 1 root root 187K Nov  5  2016 memtest
-rw-r--r-- 1 root root  186 Sep 30  2015 splash.png
-r--r--r-- 1 root root 2.2K Nov  3  2020 TRANS.TBL
-rw-r--r-- 1 root root 150K Oct 30  2018 vesamenu.c32
-rwxr-xr-x 1 root root 6.5M Oct 19  2020 vmlinuz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Delete the line with ‘splash.lss’ from the ‘boot.msg’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l /mnt/customdvd/isolinux/boot.msg 
5 /mnt/customdvd/isolinux/boot.msg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/isolinux/boot.msg

 
splash.lss

 -  Press the 01&amp;lt;ENTER&amp;gt;07 key to begin the installation process.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sed -i.bkp &apos;/splash.lss/d&apos; /mnt/customdvd/isolinux/boot.msg 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
 --unified=0 \
 /mnt/dvd/isolinux/boot.msg \
 /mnt/customdvd/isolinux/boot.msg
--- /mnt/dvd/isolinux/boot.msg  2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/boot.msg    2022-03-12 22:45:03.473419287 -0700
@@ -2 +1,0 @@
-splash.lss
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ wc -l /mnt/customdvd/isolinux/boot.msg
4 /mnt/customdvd/isolinux/boot.msg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /mnt/customdvd/isolinux/boot.msg

 

 -  Press the 01&amp;lt;ENTER&amp;gt;07 key to begin the installation process.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rm -i /mnt/customdvd/isolinux/boot.msg.bkp
rm: remove regular file &apos;/mnt/customdvd/isolinux/boot.msg.bkp&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove &lt;em&gt;boot.cat&lt;/em&gt;. You’ll regenerate it in later steps.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo rm -i /mnt/customdvd/isolinux/boot.cat
rm: remove regular file &apos;/mnt/customdvd/isolinux/boot.cat&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vi /mnt/customdvd/isolinux/isolinux.cfg 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Usually I fold and then indent long lines when showing them in scripts, 
code and CLI outputs. In this case, I’m making an exception.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
 --unified=0 \
 /mnt/dvd/isolinux/isolinux.cfg \
 /mnt/customdvd/isolinux/isolinux.cfg
--- /mnt/dvd/isolinux/isolinux.cfg      2020-10-26 09:25:28.000000000 -0700
+++ /mnt/customdvd/isolinux/isolinux.cfg     2022-03-12 22:46:18.607074016 -0700
@@ -64 +64 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet console=tty1 console=ttyS1,19200
@@ -70 +70 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet console=tty1 console=ttyS1,19200
@@ -86 +86 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 xdriver=vesa nomodeset quiet console=tty1 console=ttyS1,19200
@@ -96 +96 @@
-  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet
+  append initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rescue quiet console=tty1 console=ttyS1,19200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As noted in the &lt;a href=&quot;#create-a-new-bootable-installation-dvd-iso-image&quot;&gt;previous step&lt;/a&gt;, for the CentOS 7 Installation DVD the label must stay the same.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ isoinfo -d -i ~/CentOS-7-x86_64-DVD-2009.iso | wc -l
29

$ isoinfo -d -i ~/CentOS-7-x86_64-DVD-2009.iso | grep &quot;Volume id&quot;
Volume id: CentOS 7 x86_64

$ isoinfo -d -i ~/CentOS-7-x86_64-DVD-2009.iso | grep Joliet
Joliet with UCS level 3 found

$ isoinfo -d -i ~/CentOS-7-x86_64-DVD-2009.iso | grep Rock
Rock Ridge signatures version 1 found

$ isoinfo -d -i ~/CentOS-7-x86_64-DVD-2009.iso | grep preparer
Data preparer id:

$ isoinfo -d -i ~/CentOS-7-x86_64-DVD-2009.iso | grep Torito
El Torito VD version 1 found, boot catalog is in sector 606
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;blkid(8)&lt;/code&gt; also shows the label:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ blkid ~/CentOS-7-x86_64-DVD-2009.iso
/home/dusko/CentOS-7-x86_64-DVD-2009.iso: BLOCK_SIZE=&quot;2048&quot; 
  UUID=&quot;2020-11-04-11-36-43-00&quot; LABEL=&quot;CentOS 7 x86_64&quot; TYPE=&quot;iso9660&quot; 
  PTUUID=&quot;6b8b4567&quot; PTTYPE=&quot;dos&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Generate an ISO image of the customized DVD.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 mkisofs \
 -o /tmp/CentOS-7-x86_64-DVD-2009-CUSTOM.iso \
 -b isolinux/isolinux.bin \
 -J \
 -R \
 -l \
 -c isolinux/boot.cat \
 -no-emul-boot \
 -boot-load-size 4 \
 -boot-info-table \
 -eltorito-alt-boot \
 -e images/efiboot.img \
 -no-emul-boot \
 -graft-points \
 -input-charset utf-8 \
 -output-charset utf-8 \
 -V &quot;CentOS 7 x86_64&quot; \
 /mnt/customdvd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo chown dusko:dusko /tmp/CentOS-7-x86_64-DVD-2009-CUSTOM.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ implantisomd5 /tmp/CentOS-7-x86_64-DVD-2009-CUSTOM.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ checkisomd5 --verbose /tmp/CentOS-7-x86_64-DVD-2009-CUSTOM.iso
---- snip ----
The media check is complete, the result is: PASS.
It is OK to use this media.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a raw image of 20 GB in size. Using &lt;strong&gt;seek&lt;/strong&gt; option creates 
a sparse file, which saves space.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dd if=/dev/null of=ttyS1disk4k.img bs=1M seek=20480
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh ttyS1disk4k.img
-rw-rw-r-- 1 dusko dusko 20G Mar 12 22:47 ttyS1disk4k.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The image doesn’t have a filesystem yet:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ blkid ttyS1disk4k.img
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE  &lt;br /&gt;
For serial on QEMU:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;You should use pseudo-terminals (-serial pty) instead of connecting to 
“real” char-devices (-chardev tty,…).&lt;/p&gt;

  &lt;p&gt;qemu displays the pty /dev/pts/xx which it actually uses.  You can now 
use this pty as a normal serial port from your host.&lt;/p&gt;

  &lt;p&gt;You can repeat this option to get more ptys connected to /dev/ttyS[0-*] 
on the guest (if you use ‘-serial stdio’, it is /dev/ttyS0 on the guest, 
the first pty is then /dev/ttyS1). &amp;lt;— Using ‘-serial stdio’ and then
another ‘-serial pty’ did &lt;strong&gt;not&lt;/strong&gt; work in my tests. 
When I used &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-serial stdio -serial pty&lt;/code&gt;, 
qemu complained with this error:&lt;/p&gt;

  &lt;p&gt;qemu-kvm: -serial stdio: cannot use stdio by multiple character devices&lt;br /&gt;
qemu-kvm: -serial stdio: could not connect serial device to character 
                         backend ‘stdio’&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Reference: &lt;br /&gt;
&lt;a href=&quot;https://alpha.frasesdemoda.com/categories-topics-unix.stackexchange.com/questions/78511/ttyo-ports-do-not-have-the-good-port-address-on-qemu-1-4-0-running-image-for-bea&quot;&gt;ttyO ports do not have the good port address on QEMU 1.4.0 running image for beagleboard-xm&lt;/a&gt;     &lt;br /&gt;
(Retrieved on Mar 12, 2022)&lt;/p&gt;

&lt;p&gt;Next step:  install the OS.&lt;/p&gt;

&lt;p&gt;Explanation for options in the next command:&lt;/p&gt;

&lt;p&gt;The ‘-drive format=raw,file=&amp;lt;image_filename&amp;gt;’ is for a raw image.&lt;br /&gt;
(With -hda &amp;lt;image_filename&amp;gt;, qemu reports the warning below.)&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Image format was not specified for ‘image_filename’ and probing
guessed raw.  Automatically detecting the format is dangerous for
raw images, write operations on block 0 will be restricted.
Specify the ‘raw’ format explicitly to remove the restrictions.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The ‘-global ide-hd.physical_block_size=4096’ is to set disk 
block size to 4K, which is the block size on compute nodes (on the 
machine for which you are preparing and doing this test).&lt;/p&gt;

&lt;p&gt;Specifying the ‘-serial pty ‘option &lt;strong&gt;twice&lt;/strong&gt; is needed because the 
first one is for ttyS0 (COM1) and the second one is for ttyS1 (COM2). 
Similar to the block size, the second serial device (ttyS1) is required 
by the server for which this test is performed.&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;qemu-kvm&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;

  &lt;p&gt;-nographic &lt;br /&gt;
Normally, if QEMU is compiled with graphical window support, it
displays output such as guest graphics, guest console, and the
QEMU monitor in a window. With this option, you can totally
disable graphical output so that QEMU is a simple command line
application. The emulated serial port is redirected on the console
and muxed with the monitor (unless redirected elsewhere
explicitly). Therefore, you can still use QEMU to debug a Linux
kernel with a serial console.&lt;/p&gt;

  &lt;p&gt;Use C-a h for help on switching between the console and monitor.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;‘-cdrom’: Use file as CD-ROM image. &lt;br /&gt;
‘-m 2G’:  Set guest startup RAM size to 2 gigabytes.&lt;br /&gt;
‘-b d’:   Boot from CD-ROM.&lt;/p&gt;

&lt;p&gt;Note that default block size that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfs.xfs&lt;/code&gt; uses is 4096 bytes (4k).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt; &lt;br /&gt;
Would there be any (major) differences if instead of leaving it to the OS 
installer to create it, you created the filesystem first, with, 
for example: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfs.xfs /&amp;lt;image_name/&amp;gt;&lt;/code&gt;, in this case:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfs.xfs ttyS1disk4k.img&lt;/code&gt;?&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -cdrom /tmp/CentOS-7-x86_64-DVD-2009-CUSTOM.iso \ 
 -drive format=raw,file=ttyS1disk4k.img \
 -global ide-hd.physical_block_size=4096 \
 -m 2G \
 -boot d \
 -enable-kvm \ 
 -serial pty \
 -serial pty \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;QEMU 4.2.0 monitor - type &apos;help&apos; for more information
(qemu) char device redirected to /dev/pts/2 (label serial0)
char device redirected to /dev/pts/3 (label serial1)

(qemu)  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the QEMU Monitor’s output above, note where qemu
redirected two char devices. In this case:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/2&lt;/code&gt; and  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/3&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
To get help in the QEMU prompt (QEMU monitor), press  Ctrl-a h:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;C-a h    print this help
C-a x    exit emulator
C-a s    save disk data back to file (if -snapshot)
C-a t    toggle console timestamps
C-a b    send break (magic sysrq)
C-a c    switch between console and monitor
C-a C-a  sends C-a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open two new shell instances, and start minicom in both of them.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Why two shell and minicom instances?&lt;/strong&gt; &lt;br /&gt;
A:  To be sure you will not miss them:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Virtual Terminal (VT) login prompts, i.e. those on your VGA screen 
as exposed in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/tty1&lt;/code&gt; (and similar devices).&lt;/li&gt;
  &lt;li&gt;Serial port terminal (including &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/ttyS0&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/ttyS1&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;tty1&lt;/strong&gt; gets special treatment: if you boot into graphical mode, the 
display manager takes possession of this VT.  If you boot into multi-user 
(text) mode, a getty is started on it.&lt;/p&gt;

  &lt;p&gt;By default systemd will instantiate one serial-getty@.service on the 
main kernel console, if it is not a virtual terminal.  The kernel console 
is where the kernel outputs its own log messages and is usually configured 
on the kernel command line in the boot loader via an argument such as
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console=ttyS0&lt;/code&gt;.  This logic ensures that when the user asks the kernel 
to redirect its output onto a certain serial terminal, he will automatically 
also get a login prompt on it as the boot completes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Reference: &lt;br /&gt;
&lt;a href=&quot;http://0pointer.de/blog/projects/serial-console.html&quot;&gt;systemd for Administrators, Part XVI&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 12, 2022)&lt;/p&gt;

&lt;p&gt;In the first new shell, start the first minicom.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ minicom --baudrate=19200 --ptty=/dev/pts/2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first serial connection (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/2&lt;/code&gt;) is the kernel console.
As per quote above:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;By default systemd will instantiate one serial-getty@.service on the 
main kernel console, if it is not a virtual terminal.  The kernel console 
is where the kernel outputs its own log messages and is usually configured 
on the kernel command line in the boot loader via an argument such as
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console=ttyS0&lt;/code&gt;.  This logic ensures that when the user asks the kernel 
to redirect its output onto a certain serial terminal, he will automatically 
also get a login prompt on it as the boot completes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For now (before making changes in the grub configuration), if you are
fast enough, you might briefly see CentOS Installer boot menu in the first 
serial console (/dev/pts/2):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   CentOS Linux (3.10.0-1160.el7.x86_64) 7 (Core)
   CentOS Linux (0-rescue-5003bb903e814f84ad84b479956f01d0) 7 (Core)




   Use the ^ and v keys to change the selection.
Press &apos;e&apos; to edit the selected item, or &apos;c&apos; for a command prompt.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, in this example you are more interested in the second serial 
console connections (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/3&lt;/code&gt;) because the CentOS 7 Linux 
Installer output will be displayed in there – In the second new shell, 
start the second minicom.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ minicom --baudrate=19200 --ptty=/dev/pts/3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Welcome to minicom 2.7.1

OPTIONS: I18n
Compiled on Aug 13 2018, 16:41:28.
Port /dev/ttyS1

Press CTRL-A Z for help on special keys
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At the bottom of minicom’s screen:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CTRL-A Z for help | 19200 8N1 | NOR | Minicom 2.7.1 | VT102 | Offline | ttyS1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
You might need to press  Enter  to  refresh the screen in minicom.&lt;/p&gt;

&lt;p&gt;Start the OS install and finish installing CentOS.&lt;/p&gt;

&lt;p&gt;At the end of installation, the CentOS installer, Anaconda, 
displays the following:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[...]
      Installation complete.  Press return to quit

[anaconda] 1:main* 2:shell  3:log  4:storage-lo&amp;gt; Switch tab: Alt+Tab | Help: F1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Anaconda uses the &lt;strong&gt;tmux&lt;/strong&gt; terminal multiplexer to display and control 
several windows you can use in addition to the main interface.&lt;/p&gt;

&lt;p&gt;When you choose text mode installation, you start in virtual console 1 (tmux). 
The console running tmux has 5 available windows.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; The keyboard shortcuts are two-part: first press Ctrl+b, then 
release both keys, and press the number key for the window you want to use.&lt;/p&gt;

&lt;p&gt;Press Ctrl+b 2 to switch to interactive shell prompt with root 
privileges:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[anaconda root@localhost ~]# 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Power off the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[anaconda root@localhost ~]# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start the virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -drive format=raw,file=ttyS1disk4k.img \
 -global ide-hd.physical_block_size=4096 \
 -m 2G \
 -enable-kvm \
 -serial pty \
 -serial pty \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to the guest virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

guestvm login: root
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You now have the anaconda kickstart configuration file, which you can use 
as a sample or a reference.&lt;/p&gt;

&lt;p&gt;Usually I fold and then indent long lines when showing them in scripts, 
code and CLI outputs. In this case, I’m making an exception (for lines 
starting with ‘network  –bootproto’ and with ‘user –groups=wheel’).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /root/anaconda-ks.cfg                                   
#version=DEVEL
# System authorization information
auth --enableshadow --passalgo=sha512
# Use CDROM installation media
cdrom
# Use text mode install
text
# Run the Setup Agent on first boot
firstboot --enable
ignoredisk --only-use=sda
# Keyboard layouts
keyboard --vckeymap=us --xlayouts=&apos;&apos;
# System language
lang en_US.UTF-8

# Network information
network  --bootproto=static --device=ens3 --gateway=192.168.80.56 --ip=192.168.80.3 --nameserver=192.168.80.200,192.168.80.210 --netmask=255.255.255.0 --noipv6 --activate
network  --hostname=guestvm

# Root password
rootpw --iscrypted $6$SYPpA&amp;lt;string_of_random_characters&amp;gt;
# System services
services --enabled=&quot;chronyd&quot;
# Do not configure the X Window System
skipx
# System timezone
timezone America/Vancouver --isUtc
user --groups=wheel --name=dusko --password=$6$FgrE&amp;lt;string_of_random_characters&amp;gt; --iscrypted --gecos=&quot;dusko&quot;
# System bootloader configuration
bootloader --append=&quot; crashkernel=auto&quot; --location=mbr --boot-drive=sda
autopart --type=lvm
# Partition clearing information
clearpart --all --initlabel --drives=sda

%packages
@base
@core
@scientific
chrony
kexec-tools

%end

%addon com_redhat_kdump --enable --reserve-mb=&apos;auto&apos;

%end

%anaconda
pwpolicy root --minlen=6 --minquality=1 --notstrict --nochanges --notempty
pwpolicy user --minlen=6 --minquality=1 --notstrict --nochanges --emptyok
pwpolicy luks --minlen=6 --minquality=1 --notstrict --nochanges --notempty
%end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some other configurations in the guest virtual machine:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/fstab 

#
# /etc/fstab
# Created by anaconda on Sun Mar 12 05:48:28 2022
#
# Accessible filesystems, by reference, are maintained under &apos;/dev/disk&apos;
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
#
/dev/mapper/centos-root /                       xfs   defaults    0 0
UUID=d6acae6c-9e23-4721-9180-722091f019d7 /boot xfs   defaults    0 0
/dev/mapper/centos-swap swap                    swap  defaults    0 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# df -hT
Filesystem              Type      Size  Used Avail Use% Mounted on
devtmpfs                devtmpfs  908M     0  908M   0% /dev
tmpfs                   tmpfs     919M     0  919M   0% /dev/shm
tmpfs                   tmpfs     919M  8.5M  911M   1% /run
tmpfs                   tmpfs     919M     0  919M   0% /sys/fs/cgroup
/dev/mapper/centos-root xfs        17G  1.5G   16G   9% /
/dev/sda1               xfs      1014M  153M  862M  16% /boot
tmpfs                   tmpfs     184M     0  184M   0% /run/user/0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that both serial devices, COM1 (in *nix: ttyS0) 
and COM2 (in *nix: ttyS1), are created in the guest VM:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# dmesg | grep tty 
[  0.000000] Command line: BOOT_IMAGE=/vmlinuz-3.10.0-1160.el7.x86_64 root=/d8
[  0.000000] Kernel command line: BOOT_IMAGE=/vmlinuz-3.10.0-1160.el7.x86_64 8
[  0.000000] console [ttyS1] enabled
[  0.808863] 00:04: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
[  0.832473] 00:05: ttyS1 at I/O 0x2f8 (irq = 3) is a 16550A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Next step is to set up serial terminal in the guest OS.&lt;/p&gt;

&lt;h4 id=&quot;set-up-a-serial-terminal-and-console-in-centos-7rhel-7&quot;&gt;Set Up a Serial Terminal and Console (in CentOS 7/RHEL 7)&lt;/h4&gt;

&lt;p&gt;As per Red Hat (https://access.redhat.com/articles/7212):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;It is sometimes helpful to have a serial console for debugging purposes 
and a serial terminal for headless operation.  A serial console will 
send all console output to the serial port.  A serial terminal, if 
properly configured, also lets you log on to the system via the serial 
port as a remote terminal.  You can set up both or just one.&lt;/p&gt;

  &lt;h5 id=&quot;about-serial-console-kernel-option-configuration&quot;&gt;About Serial Console Kernel Option Configuration&lt;/h5&gt;

  &lt;p&gt;First, to get the kernel to output all console messages to the serial 
port you need to pass the &lt;strong&gt;console=ttyS0&lt;/strong&gt; parameter to the kernel at 
boot time.  This is usually done via the bootloader; we’ll be using 
GRUB in our examples.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  The &lt;strong&gt;primary&lt;/strong&gt; console for system output will be the 
&lt;strong&gt;last&lt;/strong&gt; console listed in the kernel parameters. For example:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console=tty0 console=ttyS0,115200&lt;/code&gt; 
In this example, the serial console is the primary and the VGA console 
tty0 is the secondary display.  This means messages from init scripts, 
boot messages and critical warnings will go to the serial console since 
it is the primary console,  If init script messages don’t need to be 
seen on the serial console, it should be made the secondary by swapping 
the order of the console parameters:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console=ttyS0,115200 console=tty0&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Continuing with the setup of the guest virtual machine: you need to 
configure the system to send the console output to the serial port 
&lt;strong&gt;ttyS1&lt;/strong&gt; at a baud rate of 19200, as well as to send the output to the 
regular console or “screen” &lt;strong&gt;tty1&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cp -i /etc/default/grub /tmp/grub.original.bkp 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /etc/default/grub
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# diff \
 --unified=0 \
 /tmp/grub.original.bkp \
 /etc/default/grub
--- /tmp/grub.original.bkp      2022-03-12 22:46:58.157447335 -0700
+++ /etc/default/grub   2022-03-12 22:48:01.959447335 -0700
@@ -5,3 +5,4 @@ 
-GRUB_TERMINAL=&quot;serial console&quot;
-GRUB_SERIAL_COMMAND=&quot;serial --unit=1 --speed=19200&quot;
-GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=centos/root rd.lvm.lv=centos/swap console=ttyS1,19200&quot;
+GRUB_CMDLINE_LINUX_DEFAULT=&quot;console=tty1 console=ttyS1,19200&quot;                  
+GRUB_TERMINAL=&quot;console serial&quot;    
+GRUB_SERIAL_COMMAND=&quot;serial --speed=19200 --unit=1 --word=8 --parity=no --stop=1&quot;
+GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=centos/root rd.lvm.lv=centos/swap console=tty1 console=ttyS1,19200&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The system that this test guest VM image is for is a BIOS-based server 
so the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grub2-mkconfig&lt;/code&gt; command to update GRUB2 is BIOS-specific:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grub2-mkconfig -o /boot/grub2/grub.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(On UEFI-based machines it would be:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
The &lt;strong&gt;main kernel console&lt;/strong&gt; is the one listed &lt;strong&gt;first&lt;/strong&gt; in
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/sys/class/tty/console/active&lt;/code&gt;, which is the &lt;em&gt;last&lt;/em&gt; one 
listed on the &lt;em&gt;kernel command line&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /sys/class/tty/console/active
ttyS1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(After reboot, the GRUB2 changes will take effect and&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/sys/class/tty/console/active&lt;/code&gt; will show: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tty1 ttyS1&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;Configure a serial getty with the needed parameters so that it starts on boot.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cp -i \
 /usr/lib/systemd/system/serial-getty@.service \
 /etc/systemd/system/serial-getty@ttyS1.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /etc/systemd/system/serial-getty@ttyS1.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# diff \
 --unified=0 \
 /usr/lib/systemd/system/serial-getty@.service \
 /etc/systemd/system/serial-getty@ttyS1.service
--- /usr/lib/systemd/system/serial-getty@.service    2020-10-01 10:08:50.0000
+++ /etc/systemd/system/serial-getty@ttyS1.service   2022-03-12 22:36:36.5400
@@ -23 +23 @@
-ExecStart=-/sbin/agetty --keep-baud 115200,38400,9600 %I $TERM
+ExecStart=-/sbin/agetty --keep-baud 115200,38400,19200,9600 %I $TERM
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a symlink.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ln -s \
 /etc/systemd/system/serial-getty@ttyS1.service \
 /etc/systemd/system/getty.target.wants/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reload the daemon and start the service.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl daemon-reload
# systemctl enable serial-getty@ttyS1.service
# systemctl start serial-getty@ttyS1.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This creates a unit file that is specific to serial port ttyS1 so that 
you can make specific changes to this port and this port only.&lt;/p&gt;

&lt;p&gt;Restart the guest virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you keep shells with &lt;strong&gt;minicom&lt;/strong&gt; connections running, the CentOS 
boot menu now appears in both shells: the one with minicom connected
to output of QEMU char device redirected to the first serial 
device /dev/pts/2 (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom --baudrate=19200 --ptty=/dev/pts/2&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   CentOS Linux (3.10.0-1160.el7.x86_64) 7 (Core)
   CentOS Linux (0-rescue-b8fcd7b7f02249dc9e6a3d2a443a3b92) 7 (Core)


   Use the ^ and v keys to change the selection.
   Press &apos;e&apos; to edit the selected item, or &apos;c&apos; for a command prompt.
The selected entry will be started automatically in 4s.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and the other shell with 
minicom connected to output of QEMU char device redirected to the second 
serial device /dev/pts/3 (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom --baudrate=19200 --ptty=/dev/pts/3&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   CentOS Linux (3.10.0-1160.el7.x86_64) 7 (Core)
   CentOS Linux (0-rescue-b8fcd7b7f02249dc9e6a3d2a443a3b92) 7 (Core)


   Use the ^ and v keys to change the selection.
   Press &apos;e&apos; to edit the selected item, or &apos;c&apos; for a command prompt.
The selected entry will be started automatically in 4s.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After the selected boot menu entry starts, output is displayed only 
in the second separate shell (in this example: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom --baudrate=19200 --ptty=/dev/pts/3&lt;/code&gt;):&lt;/p&gt;

&lt;p&gt;Log in to the guest virtual machine.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

guestvm login: root 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that the serial getty service has been started 
and that it’s running.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-enabled serial-getty@ttyS1.service
enabled
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# systemctl is-active serial-getty@ttyS1.service
active
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /sys/class/tty/console/active                          
tty1 ttyS1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you are done with exploring the guest VM, power it off.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# poweroff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After you have finished installing and setting up the OS in the guest, 
use the following to start the guest VM again:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -drive format=raw,file=ttyS1disk4k.img \
 -global ide-hd.physical_block_size=4096 \
 -m 2G \
 -enable-kvm \
 -serial pty \
 -serial pty \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output (which shows the QEMU monitor):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;QEMU 4.2.0 monitor - type &apos;help&apos; for more information
(qemu) char device redirected to /dev/pts/2 (label serial0)
char device redirected to /dev/pts/3 (label serial1)

(qemu)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then, from a separate shell instance, start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom&lt;/code&gt; and connect 
to the serial console that was configured for console redirection.
In this case it’s the second serial device, ttyS1, redirected by qemu 
and reported by the QEMU monitor as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/3&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ minicom --baudrate=19200 --ptty=/dev/pts/3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above command for starting the guest VM can be simplified a bit 
(no need for ‘-global ide-hd.physical_block_size=4096’), 
as the filesystem has already been configured with block size of 4K). 
Also, the ‘-serial null’ disables COM1 (ttyS0), redirects console to 
serial on COM2 (ttyS1):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \ 
 -drive format=raw,file=ttyS1disk4k.img \
 -m 2G \
 -serial null \
 -serial pty \
 -nographic

QEMU 4.2.0 monitor - type &apos;help&apos; for more information
(qemu) char device redirected to /dev/pts/0 (label serial1)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then, connect to the serial console reported by qemu as serial1, 
in this case reported by the QEMU monitor as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/pts/0&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ minicom --baudrate=19200 --ptty=/dev/pts/0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;Yet another version of a qemu command for starting a QEMU VM image 
containing an OS configured to redirect output to second serial text 
console on &lt;strong&gt;ttyS1 (COM2)&lt;/strong&gt; -&amp;gt; Use &lt;em&gt;‘-serial null’&lt;/em&gt; to disable 
COM1 (ttyS0) and the QEMU monitor, and combine that with &lt;em&gt;‘mon:stdio’&lt;/em&gt; to 
redirect output on COM2 (ttyS1) to the QEMU monitor (a.k.a. QEMU console):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -drive format=raw,file=ttyS1disk4k.img \
 -m 2G \
 -serial null \
 -serial mon:stdio \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  CentOS Linux (3.10.0-1160.el7.x86_64) 7 (Core)
  CentOS Linux (0-rescue-5003bb903e814f84ad84b479956f01d0) 7 (Core)



  Use the ^ and v keys to change the selection.
Press &apos;e&apos; to edit the selected item, or &apos;c&apos; for a command prompt.   

---- snip ----

CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64

guestvm login: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;appendix&quot;&gt;APPENDIX&lt;/h3&gt;

&lt;h4 id=&quot;connect-serial-output-to-a-tcp-port-in-qemu-backend&quot;&gt;Connect Serial Output To a TCP Port in QEMU Backend&lt;/h4&gt;

&lt;p&gt;From:   &lt;a href=&quot;https://stackoverflow.com/questions/66214257/qemu-connecting-to-specific-guest-uart-device&quot;&gt;https://stackoverflow.com/questions/66214257/qemu-connecting-to-specific-guest-uart-device&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If you pass multiple -serial options to QEMU they will be interpreted 
as defining what you want to do for UARTs 0, 1, 2, etc. 
So for example “-serial stdio -serial tcp::4444,server” will send 
UART 0 to your terminal and connect UART 1 to a TCP server on port 
4444, which you can then connect to with netcat or similar utility.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here’s an example of starting QEMU with an image of an OS whose serial 
console is redirected to TCP port 4321:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -drive format=raw,file=ttyS1disk4k.img \
 -m 2G \
 -serial pty \
 -serial tcp::4321,server \
 -nographic

QEMU 4.2.0 monitor - type &apos;help&apos; for more information
(qemu) char device redirected to /dev/pts/0 (label serial0)
qemu-kvm: -serial tcp::4321,server: info: QEMU waiting for connection on: 
  disconnected:tcp:0.0.0.0:4321,server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then, to connect with telnet:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ telnet 127.0.0.1 4321
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is &apos;^]&apos;.

guestvm login: root
Password: WillBeInClearText
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or, to connect with nc (netcat):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nc 127.0.0.1 4321

CentOS Linux 7 (Core)
Kernel 3.10.0-1160.el7.x86_64 on an x86_64


guestvm login: root
root
Password: WillBeInClearText
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;how-to-get-ssh-access-to-a-qemu-guest&quot;&gt;How to Get SSH Access to a QEMU Guest&lt;/h4&gt;

&lt;p&gt;Install CentOS 7 Linux VM in QEMU:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -cdrom /tmp/CentOS-7-x86_64-Minimal-2009-CUSTOM.iso \
 -hda abnodevm.qcow2 \
 -m 2G \
 -boot d \
 -enable-kvm \
 -device e1000,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:22 \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
This worked when I configured DHCP in the guest VM.&lt;/p&gt;

&lt;p&gt;Start the VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ /usr/libexec/qemu-kvm \
 -hda abnodevm.qcow2 \
 -m 2G \
 -enable-kvm \
 -device e1000,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:22 \
 -nographic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From another shell instance in the host, connect to the guest VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh localhost -p 5555
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;hr /&gt;

&lt;h3 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h3&gt;

&lt;p&gt;[¹] Linux(R) Kernel Primer, The: A Top-Down Approach for x86
and PowerPC Architectures by Claudia Salzberg Rodriguez, Gordon Fischer,
Steven Smolski - Pearson Publishing - September 2005:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;A computer console is a device where the kernel (and other parts of 
a system) output messages.  It also has login capabilities.
Depending on the system, the console can be on the monitor or through
a serial port.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;word-soup&quot;&gt;Word Soup&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;CentOS 7/RHEL 7 installation through serial console, CentOS Installation 
without VGA Console, How to remote install CentOS/RHEL 7 using a rescue 
image like GRML, Remote Installation of the FreeBSD Operating System 
Without a Remote Console, SOL (Serial Over LAN), 
ipmitool - (IP Management Interface) tool, BMC - a.k.a an IPMI controller&lt;/p&gt;

  &lt;p&gt;IBM MM (Management Module), remote management, 
KVM (Keyboard - Video - Mouse), Virtualization, QEMU emulator, 
KVM (Kernel-based Virtual Machine)&lt;/p&gt;

  &lt;p&gt;qemu&amp;gt; prompt&lt;/p&gt;

  &lt;p&gt;SYSLINUX / ISOLINUX / PXELINUX, boot, GRUB (Legacy GRUB), GRUB 2 
iPXE
Kickstart
dd
guestfish&lt;/p&gt;

  &lt;p&gt;xCAT&lt;/p&gt;

  &lt;p&gt;bootloader chainloading
headless VNC
Ultimate Deployment Applicance&lt;/p&gt;

  &lt;p&gt;dmesg
tty tty0 ttyS0 tty1 ttyS1&lt;/p&gt;

&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;REFERENCES:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Retrieved on Mar 12, 2022:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.privex.io/articles/using-serial-sol-config/&quot;&gt;Using a Serial Console with Linux, GRUB, SysLinux + Understanding Serial Configuration&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/164289/how-to-remote-install-centos-rhel-7-using-a-rescue-image-like-grml&quot;&gt;How to remote install CentOS/RHEL 7 using a rescue image like GRML?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Out-of-band_management&quot;&gt;Out-of-band management&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/IBM_BladeCenter&quot;&gt;IBM BladeCenter&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/IBM_Remote_Supervisor_Adapter&quot;&gt;IBM Remote Supervisor Adapter or Integrated Management Module (IMM; IBM’s out-of-band management implementation)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Baseboard_Management_Controller&quot;&gt;Baseboard Management Controller, a microcontroller on computer motherboards&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Intelligent_Platform_Management_Interface&quot;&gt;Intelligent Platform Management Interface (IPMI)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;My comment:&lt;/strong&gt; HP iLO would be easier but I’m restricted by my environment 
with (a legacy) IBM MM (Management Module). For example, the website in 
the link below shows that with the version of iLO from that website it’s 
possible to mount CD-ROM to http; iLO shows which serial port is active 
(COM1, COM2,…), etc. &lt;br /&gt;
&lt;a href=&quot;http://stivesso.blogspot.com/2015/09/hp-ilo-vsp-centos-7rhel-7installation.html&quot;&gt;HP ILO VSP: CentOS 7/RHEL 7 Installation through Serial Console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mirror.centos.org/centos/7.9.2009/os/x86_64/images/pxeboot/&quot;&gt;CentOS Mirror - PXE Installer BOOT Images - initrd.img and vmlinuz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://serverfault.com/questions/872238/qemu-and-serial-ports-on-the-guest-os&quot;&gt;QEMU and serial ports on the guest OS&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/52801787/qemu-doesnt-create-a-second-serial-port-ubuntu-x86-64-guest-and-host&quot;&gt;QEMU doesn’t create a second serial port (Ubuntu x86-64 guest and host)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/78511/ttyo-ports-do-not-have-the-good-port-address-on-qemu-1-4-0-running-image-for-bea&quot;&gt;ttyO ports do not have the good port address on QEMU 1.4.0 running image for beagleboard-xm&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The problem is on the host side:&lt;/p&gt;

  &lt;p&gt;You should use Pseudo-terminals (-serial pty) instead of 
connecting to “real” char-devices (-chardev tty,…).&lt;/p&gt;

  &lt;p&gt;qemu displays the pty /dev/pts/xx which it actually uses. You can now use 
this pty as a normal serial port from your host.&lt;/p&gt;

  &lt;p&gt;You can repeat this option to get more ptys connected to /dev/ttyS[0-*] on 
the guest (if you use -serial stdio, it is /dev/ttyS0 on the guest, the 
first pty is then /dev/ttyS1).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;http://wandin.net/dotclear/index.php?post/2010/03/16/CentOS-Installation-without-VGA-Console&quot;&gt;CentOS Installation without VGA Console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bladecenter.lenovofiles.com/help/topic/com.lenovo.bladecenter.advmgtmod.doc/kp1bd_pdf.pdf&quot;&gt;IBM BladeCenter - Serial Over LAN (SOL) Setup Guide&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bauermann.wordpress.com/2013/09/04/connecting-qemukvm-virtual-machines-via-serial-port/&quot;&gt;Connecting QEMU/KVM virtual machines via serial port&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.centos.org/TipsAndTricks/VncHeadlessInstall&quot;&gt;Headless VNC Install Disk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/vkanevska/fd624f708cde7d7c172a576b10bc6966&quot;&gt;centos_bstick.sh&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/49716931/how-to-run-qemu-with-nographic-and-monitor-but-still-be-able-to-send-ctrlc-to&quot;&gt;How to run qemu with -nographic and -monitor but still be able to send Ctrl+C to the guest and quit with Ctrl+A X?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/167165/how-to-pass-ctrl-c-to-the-guest-when-running-qemu-with-nographic/436321#436321&quot;&gt;How to pass Ctrl-C to the guest when running qemu with -nographic?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.centos.org/en-US/centos/install-guide/Consoles_Logs_During_Install_x86/&quot;&gt;Installation Guide - Installing Using Anaconda - Consoles and Logging During the Installation – CentOS Documentation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/installation_guide/sect-consoles-logs-during-installation-x86&quot;&gt;Red Hat Product Documentation - Red Hat Enterprise Linux - 7 - Installation Guide - Consoles and Logging During the Installation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20171014140837/http://nairobi-embedded.org/making_a_qemu_disk_image_bootable_with_grub.html&quot;&gt;Making a QEMU disk image bootable with GRUB&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://centosfaq.org/centos/centos7-serial-console-and-flow-control/&quot;&gt;CentOS7 – Serial Console And Flow Control&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.uni-koeln.de/~pbogusze/posts/QEMU_serial_console.html&quot;&gt;QEMU serial console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hintshop.ludvig.co.nz/show/centos-text-cd/&quot;&gt;Creating a CentOS text-only CD / DVD&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.facebook.com/notes/linux-only/make-a-custom-centos-7-or-rhel-7-cd-with-kicktart-file/1142994982390559&quot;&gt;Make a custom CentOS-7 or RHEL-7 CD With kicktart File&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/solutions/655603&quot;&gt;During install of custom RHEL 6 ISO, mediacheck errors with “Unable to find the checksum in the image. This probably means the disc was created without adding the checksum.”&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/anaconda_customization_guide/sect-iso-images&quot;&gt;Working with ISO Images Red Hat Enterprise Linux 7 - Red Hat Customer Portal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.qemu.org/Documentation/Networking#How_to_get_SSH_access_to_a_guest&quot;&gt;How to get SSH access to a guest - Network HOWTOs - QEMU Documentation - Networking&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://developer.ibm.com/tutorials/l-qemu-development/&quot;&gt;Archived - Using QEMU for cross-platform development&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://libera.irclog.whitequark.org/osdev/2021-07-14&quot;&gt;#osdev - Operating System Development - IRC&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/articles/7212&quot;&gt;How does one set up a serial terminal and/or console in Red Hat Enterprise Linux?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://0pointer.de/blog/projects/serial-console.html&quot;&gt;systemd for Administrators, Part XVI&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://peterpap.net/index.php/Sample_Kickstart_Configuration_file&quot;&gt;Sample Kickstart Configuration file&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 12 Mar 2022 08:01:47 -0800</pubDate>
        <link>http://localhost:4000/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/vm/qemu/kvm/linux/unix/2022/03/12/centos-rhel-dvd-iso-customization-testing-with-qemu.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/virtualization/rs232serial/cli/terminal/shell/console/sysadmin/server/hardware/vm/qemu/kvm/linux/unix/2022/03/12/centos-rhel-dvd-iso-customization-testing-with-qemu.html</guid>
        
        
        <category>howto</category>
        
        <category>virtualization</category>
        
        <category>rs232serial</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>console</category>
        
        <category>sysadmin</category>
        
        <category>server</category>
        
        <category>hardware</category>
        
        <category>vm</category>
        
        <category>qemu</category>
        
        <category>kvm</category>
        
        <category>linux</category>
        
        <category>unix</category>
        
      </item>
    
      <item>
        <title>How to Connect to Xorg in Linux Guest from Bhyve</title>
        <description>&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell:  csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vm list
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    512M    -    No         Stopped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vm start debianvm1
Starting debianvm1
  * found guest in /vm/debianvm1
  * booting...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vm console debianvm1


  Booting `Debian GNU/Linux&apos;

Loading Linux 5.10.0-13-amd64 ...
Loading initial ramdisk ...

---- snip ----
Debian GNU/Linux 11 debianvm1 ttyS0

debianvm1 login: dusko
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Linux guest:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo apt install tigervnc-standalone-server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vncserver -depth 32 -geometry 1680x1200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;You will require a password to access your desktops.

Password:
Verify:
Would you like to enter a view-only password (y/n)? n

New Xtigervnc server &apos;debianvm1.chem.ubc.ca:1 (dusko)&apos; on port 5901 
  for display :1.
Use xtigervncviewer -SecurityTypes VncAuth -passwd /home/dusko/.vnc/passwd :1 
  to connect to the VNC server.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ss -tulpn | grep vnc
tcp   LISTEN 0  5  127.0.0.1:5901   0.0.0.0:*  users:((&quot;Xtigervnc&quot;,pid=1441,fd=9))
tcp   LISTEN 0  5      [::1]:5901      [::]:*  users:((&quot;Xtigervnc&quot;,pid=1441,fd=10))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip -4 address | grep inet
  inet 127.0.0.1/8 scope host lo
  inet 123.12.23.43/24 brd 123.12.23.255 scope global dynamic noprefixroute enp0s5 
  inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ exit
logout
Connection to 123.12.23.43 closed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the FreeBSD host:&lt;/p&gt;

&lt;p&gt;Make sure that you have a VNC client. 
If not, install one. 
For example, you can install tigervnc-viewer.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install tigervnc-viewer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Forward a local port to the port used by VNC server in bhyve guest VM. 
In this example:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Local port: as the first 1024 ports are restricted to the root user only, and this example is for a non-root user, you can use any port above 1024, e.g. 9876&lt;/li&gt;
  &lt;li&gt;VNC server port in bhyve guest VM: 5901&lt;/li&gt;
  &lt;li&gt;Bhyve guest VM’s IP address: 123.12.23.43&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ssh dusko@123.12.23.43 -L 9876:127.0.0.1:5901
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Launch a separate shell instance and from there start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vncviewer&lt;/code&gt;, 
specifying the port you forwarded.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vncviewer 127.0.0.1:9876
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;Reference: &lt;br /&gt;
&lt;a href=&quot;https://forums.freebsd.org/threads/bhyve-how-to-configure-xorg-in-linux-guest.82231/&quot;&gt;Bhyve - how to configure Xorg in Linux guest - FreeBSD Forums&lt;/a&gt; &lt;br /&gt;
(Thread started on Sep 28, 2021)  &lt;br /&gt;
(Retrieved on Mar 9, 2022)&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Wed, 09 Mar 2022 18:13:27 -0800</pubDate>
        <link>http://localhost:4000/howto/bhyve/virtualization/xorg/x11/freebsd/2022/03/09/bhyve-connect-to-xorg-linux-guest.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/bhyve/virtualization/xorg/x11/freebsd/2022/03/09/bhyve-connect-to-xorg-linux-guest.html</guid>
        
        
        <category>howto</category>
        
        <category>bhyve</category>
        
        <category>virtualization</category>
        
        <category>xorg</category>
        
        <category>x11</category>
        
        <category>freebsd</category>
        
      </item>
    
      <item>
        <title>Setting Up GitHub Pages Website with Jekyll</title>
        <description>&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell:  csh&lt;/p&gt;

&lt;p&gt;Steps:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Install Ruby and Jekyll (including rubygem-bundler)&lt;/li&gt;
  &lt;li&gt;Create or Clone your GitHub Jekyll repository&lt;/li&gt;
  &lt;li&gt;cd into the cloned repository
    &lt;ul&gt;
      &lt;li&gt;Run your local Jekyll server:&lt;br /&gt;
 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle exec jekyll serve&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Open your local site in a Web browser:
  http://localhost:4000&lt;/li&gt;
  &lt;li&gt;To stop the local Jekyll server:&lt;br /&gt;
  press &lt;strong&gt;ctrl-c&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install ruby rubygem-jekyll rubygem-bundler
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git clone https://github.com/duskopijetlovic/duskopijetlovic.github.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd ~/duskopijetlovic.github.io/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open your local site in a Web browser:
     &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://localhost:4000&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;To stop the local Jekyll server:
     press &lt;strong&gt;ctrl-c&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;add-custom-domain-in-github-pages&quot;&gt;Add Custom Domain in GitHub Pages&lt;/h3&gt;

&lt;p&gt;Add www.duskopijetlovic.com in the repo’s Settings:  &lt;br /&gt;
Go to the project ‘duskopijetlovic/duskopijetlovic.github.io’: &lt;br /&gt;
Pages &amp;gt; Custom domain:  www.duskopijetlovic.com  &lt;br /&gt;
Click ‘Save’&lt;/p&gt;

&lt;p&gt;Wait a couple of minutes for DNS check to complete.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;pushing-updates-to-github-pages&quot;&gt;Pushing Updates to GitHub Pages&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd ~/duskopijetlovic.github.io/
% git status
% git config --list
% git add .
% git commit -a
% git push
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;cloning-the-website-and-then-pushing-updates-to-github-pages&quot;&gt;Cloning the Website and then Pushing Updates to GitHub Pages&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd
% pwd
/usr/home/dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% git clone https://github.com/duskopijetlovic/duskopijetlovic.github.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd ~/duskopijetlovic.github.io/
% git status
% git config --list
% git add .
% git commit -a
% git push
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;running-jekyll-on-a-local-system&quot;&gt;Running Jekyll on a Local System&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Server address: http://127.0.0.1:4000/ so to access the website, in your 
Web browser:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://localhost:4000/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://127.0.0.1:4000/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;All references below retrieved on Mar 7, 2022.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.to/azukacchi/setting-up-github-pages-site-with-jekyll-tutorial-1l60&quot;&gt;Setting Up Github Pages site with Jekyll Tutorial&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/azukacchi/azukacchi.github.io&quot;&gt;Setting Up Github Pages site with Jekyll Tutorial for Absolute Beginner&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/kbroman/simple_site&quot;&gt;Minimal tutorial on making a simple website with GitHub Pages&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://kbroman.org/simple_site/&quot;&gt;Simple site - Easy websites with GitHub Pages&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/6317980/you-have-already-activated-x-but-your-gemfile-requires-y&quot;&gt;You have already activated X, but your Gemfile requires Y&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/plusjade/jekyll-bootstrap&quot;&gt;Jekyll-Bootstrap – The quickest way to start and publish your Jekyll powered blog. 100% compatible with GitHub pages&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/tutorials/using-jekyll-with-bundler/&quot;&gt;Using Jekyll with Bundler&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/docs/themes/&quot;&gt;Jekyll Themes&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://rubygems.org/search?utf8=%E2%9C%93&amp;amp;query=jekyll-theme&quot;&gt;Search for Jekyll Themes&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jekyllrb.com/docs/step-by-step/10-deployment/&quot;&gt;Step by Step Tutorial&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/barryclark/jekyll-now&quot;&gt;Jekyll-Now – Build a Jekyll blog in minutes, without touching the command line&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.jekyllnow.com/Markdown-Style-Guide/&quot;&gt;Markdown Style Guide - Jekyll Now&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://pages.github.com/versions/&quot;&gt;GitHub Pages - Dependency versions&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Mon, 07 Mar 2022 21:01:12 -0800</pubDate>
        <link>http://localhost:4000/howto/tutorial/ruby/git/github/2022/03/07/setting-up-github-pages-with-jekyll.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/tutorial/ruby/git/github/2022/03/07/setting-up-github-pages-with-jekyll.html</guid>
        
        
        <category>howto</category>
        
        <category>tutorial</category>
        
        <category>ruby</category>
        
        <category>git</category>
        
        <category>github</category>
        
      </item>
    
      <item>
        <title>Writing Documentation and Creating Diagrams with LuaLaTeX and Inkscape</title>
        <description>&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell:  csh&lt;br /&gt;
Ghostscript version:  GPL Ghostscript 9.52 (2020-03-19)  &lt;br /&gt;
Inkscape version: 1.1 &lt;br /&gt;
xv version: 3.10a&lt;br /&gt;
zathura version: 0.4.5 (girara 0.3.6, runtime: 0.3.6)&lt;br /&gt;
zathura plugin versions: cb (0.1.8), ps (0.2.6), djvu (0.2.9), pdf-poppler (0.3.0), pdf-mupdf (0.3.5)&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Assumption&lt;/strong&gt;: previously installed Ghostscript, Inkscape, ImageMagick, xv, zathura.&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install inkscape
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% inkscape --version
Inkscape 1.1 (c68e22c387, 2021-05-23)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh datacentrelayout.svg
-rw-r--r--  1 dusko  dusko   356K Apr  1  2021 datacentrelayout.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file datacentrelayout.svg
datacentrelayout.svg: SVG Scalable Vector Graphics image
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l datacentrelayout.svg
    7970 datacentrelayout.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% head datacentrelayout.svg
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&amp;gt;
&amp;lt;svg
   xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;
   xmlns:cc=&quot;http://creativecommons.org/ns#&quot;
   xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;
   xmlns:svg=&quot;http://www.w3.org/2000/svg&quot;
   xmlns=&quot;http://www.w3.org/2000/svg&quot;
   xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;
   xmlns:sodipodi=&quot;http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd&quot;
   xmlns:inkscape=&quot;http://www.inkscape.org/namespaces/inkscape&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% inkscape datacentrelayout.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In &lt;strong&gt;Inkscape&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Edit 

Save As &amp;gt; Inkscape SVG (*.svg)  
Save As &amp;gt; Plain SVG (*.svg)  
Save As &amp;gt; Encapsulated PostScript (*.eps)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;generate-an-svg-or-a-png-with-graphviz-from-kroki-cli&quot;&gt;Generate an SVG or a PNG with Graphviz from Kroki-CLI&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat hello.dot
digraph G {
  Hello-&amp;gt;World
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./kroki convert hello.dot --type dot 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file hello.svg
hello.svg: SVG Scalable Vector Graphics image
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% inkscape hello.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./kroki convert hello.dot --type dot --format png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;convert-an-svg-image-svg-file-to-ps-or-eps&quot;&gt;Convert an SVG Image (SVG File) to PS or EPS&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% rsvg-convert --format ps hello.svg &amp;gt; hello.ps
% zathura --fork hello.ps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% rsvg-convert --format eps hello.svg &amp;gt; hello.eps
% zathura --fork hello.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;convert-png-to-svg&quot;&gt;Convert PNG to SVG&lt;/h3&gt;

&lt;h4 id=&quot;convert-png-to-pnm-first&quot;&gt;Convert PNG to PNM First&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% anytopnm server_blades.png &amp;gt; server_blades.pnm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;convert-pnm-to-svg&quot;&gt;Convert PNM to SVG&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pamtosvg server_blades.pnm &amp;gt; server_blades.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;getting-information-about-images&quot;&gt;Getting Information About Images&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;&lt;br /&gt;
PDF (and PostScript) &lt;strong&gt;units&lt;/strong&gt; are 1/72 inch so 72 = 1 inch, 144 = 2 inches. 
You need to shift the origin of the page down and left, which is why the 
values for PageOffset are negative.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DOWN  = -
LEFT  = -
UP    = +
RIGHT = +
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt; &lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/59101374/ghostscript-crop-certain-area&quot;&gt;Ghostscript : Crop Certain Area?&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;using--dsafer--dbatch--dnopause-trio-in-ghostscript&quot;&gt;Using -dSAFER -dBATCH -dNOPAUSE Trio in Ghostscript&lt;/h4&gt;

&lt;p&gt;It is conventional to call Ghostscript with the ‘-dSAFER -dBATCH -dNOPAUSE’ 
trio of options when rasterizing to a file.  These suppress interactive 
prompts and enable some security checks on the file to be run. 
Please see the &lt;a href=&quot;https://ghostscript.com/doc/current/Use.htm&quot;&gt;Use documentation&lt;/a&gt; 
for a complete description.&lt;/p&gt;

&lt;p&gt;Explanation:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The -c parameter allows you to add PostScript code snippets which 
will be executed when Ghostscript processes the input file.  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -dSAFER -dNOPAUSE -dBATCH -sDEVICE=bbox firewall.eps
%%BoundingBox: 368 291 383 325
%%HiResBoundingBox: 368.564333 291.923991 382.598426 324.089990
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can use the &lt;a href=&quot;https://ghostscript.com/doc/current/Use.htm#Quiet&quot;&gt;&lt;strong&gt;-q&lt;/strong&gt;&lt;/a&gt;
switch to prevent Ghostscript from writing messages 
to standard output which become mixed with the intended output stream.&lt;/p&gt;

&lt;p&gt;Also, the &lt;strong&gt;-o&lt;/strong&gt; option determines output path+filename (and saves usage 
of -dBATCH -dNOPAUSE).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -o -dSAFER -sDEVICE=bbox firewall.eps
%%BoundingBox: 368 291 383 325
%%HiResBoundingBox: 368.564333 291.923991 382.598426 324.089990
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;getting-image-information-with-imagemagicks-identify&quot;&gt;Getting Image Information with ImageMagick’s identify&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% identify firewall.eps
firewall.eps[0] EPT 15x33 15x33+0+0 16-bit ColorSeparation CMYK 2079B 0.000u 0:00.001
firewall.eps[1] TIFF 15x34 15x34+0+0 8-bit sRGB 256c 2200B 0.000u 0:00.001
identify: Invalid TIFF directory; tags are not sorted in ascending order. 
  `TIFFReadDirectoryCheckOrder&apos; @ warning/tiff.c/TIFFWarnings/959.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE that identify(1) reports the relative dimensions - as opposed to 
Ghostscript, which reports the image size with dimensions within the page.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Width  = 383 - 368 = 15  
Height = 325 - 291 = 34
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE BoundingBox:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% head firewall.eps
����,&amp;gt;J&amp;gt;��%!PS-Adobe-3.0 EPSF-3.0
%%Creator: Adobe Illustrator(R) 8.0
%%AI8_CreatorVersion: 8.0.1
%%For: (Gary V Stewart) (Cisco Systems Inc)
%%Title: (Firewall.eps)
%%CreationDate: (7/11/2000) (10:17 AM)
%%BoundingBox: 367 291 384 325
%%HiResBoundingBox: 367.998 291.4106 383.1011 324.5298
%%DocumentProcessColors: Black
%%DocumentSuppliedResources: procset Adobe_level2_AI5 1.2 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep Box firewall.eps
Binary file firewall.eps matches
 
% wc -l firewall.eps
    3788 firewall.eps
 
% strings firewall.eps | wc -l
    3229
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% strings firewall.eps | grep Box
%%BoundingBox: 367 291 384 325
%%HiResBoundingBox: 367.998 291.4106 383.1011 324.5298
%AI3_TemplateBox: 306 396 306 396
%AI3_TileBox: 0 0 592 744
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can extract (crop) the image from the page:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o cropped.eps \
 -dEPSCrop \
 -sDEVICE=eps2write \
 -f firewall.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then Ghostscript reports the relative image size:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -o -dSAFER -sDEVICE=bbox cropped.eps
%%BoundingBox: 0 0 15 33
%%HiResBoundingBox: 0.558000 0.522000 14.600390 32.669999
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want an EPS (PDF) viewer to display the cropped image in actual size:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o scaled.eps \
 -dEPSCrop \
 -sDEVICE=eps2write \
 -c &quot;&amp;lt;&amp;lt;/Install {1 1 scale}&amp;gt;&amp;gt; setpagedevice&quot; \
 -f firewall.eps 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;getting-boundingbox-information-with-ghostscript&quot;&gt;Getting BoundingBox Information with Ghostscript&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -o -dSAFER -sDEVICE=bbox scaled.eps 
%%BoundingBox: 0 0 15 33
%%HiResBoundingBox: 0.558000 0.522000 14.600390 32.669999
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE that you often can get the BoundingBox information with ImageMagick’s identify:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% identify scaled.eps
scaled.eps EPS 15x33 15x33+0+0 16-bit sRGB 3288B 0.000u 0:00.000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep Box scaled.eps 
%%BoundingBox: 0 0 15 33
%%HiResBoundingBox: 0.00 0.00 15.00 33.00
/MediaBox get aload pop
/FontBBox 1 index/FontBBox get def
dup/BBox get aload pop exch 3 index sub exch 2 index sub rectclip
&amp;lt;&amp;lt;/Type/Page/MediaBox [0 0 15.1 33.12]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/39652178/how-to-resize-an-eps-file-using-ghostscript&quot;&gt;How to resize an .eps file using ghostscript&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;resizing-images-with-ghostscript-gs&quot;&gt;Resizing Images with Ghostscript (gs)&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
From Rescaling postscript figures&lt;br /&gt;
&lt;a href=&quot;http://www.verycomputer.com/18_696ed9f0514c5233_1.htm#p7&quot;&gt;http://www.verycomputer.com/18_696ed9f0514c5233_1.htm#p7&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Sorry to be so negative but I waste a lot of time having
to deal with seriously broken PS figures. Most of these
are the direct result of people thinking it is a good
idea to rotate or rescale their figures using ImageMagick,
xv, gimp, or some other program that works internally with
raster images. Please don’t do it!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh ~/Downloads/images/Cisco-Icons/forunzip/firewall.eps 
-rw-r--r--  1 dusko  dusko    82K Jul 11  2000 /home/dusko/Downloads/images/Cisco-Icons/forunzip/firewall.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i ~/Downloads/images/Cisco-Icons/forunzip/firewall.eps /tmp/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;strong&gt;Ghostscript&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -dSAFER -dNOPAUSE -dBATCH -sDEVICE=bbox firewall.eps
%%BoundingBox: 368 291 383 325
%%HiResBoundingBox: 368.564333 291.923991 382.598426 324.089990
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;strong&gt;ImageMagick&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% identify firewall.eps
firewall.eps[0] EPT 15x33 15x33+0+0 16-bit ColorSeparation CMYK 2079B 0.000u 0:00.001
firewall.eps[1] TIFF 15x34 15x34+0+0 8-bit sRGB 256c 2200B 0.000u 0:00.001
identify: Invalid TIFF directory; tags are not sorted in ascending order. 
  `TIFFReadDirectoryCheckOrder&apos; @ warning/tiff.c/TIFFWarnings/959.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;crop--clip--aka-resize-page-to-size-of-the-image&quot;&gt;Crop / Clip / a.k.a. Resize Page to Size of the Image&lt;/h2&gt;

&lt;p&gt;Very often this will work.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o scaled.eps \
 -dEPSCrop \ 
 -sDEVICE=eps2write \
 -c &quot;&amp;lt;&amp;lt;/Install {1 1 scale}&amp;gt;&amp;gt; setpagedevice&quot; \
 -f firewall.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -dSAFER -dNOPAUSE -dBATCH -sDEVICE=bbox scaled.eps 
%%BoundingBox: 0 0 15 33
%%HiResBoundingBox: 0.558000 0.522000 14.600390 32.669999
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% identify scaled.eps
scaled.eps EPS 15x33 15x33+0+0 16-bit sRGB 3288B 0.000u 0:00.000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To resize (e.g.: 70%) as opposed to the actual size ({1 1 scale}):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -o scaled.eps -dEPSCrop -sDEVICE=eps2write -c &quot;&amp;lt;&amp;lt;/Install {0.70 0.70 scale}&amp;gt;&amp;gt; setpagedevice&quot; -f firewall.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -dSAFER -dNOPAUSE -dBATCH -sDEVICE=bbox scaled.eps 
%%BoundingBox: 0 0 11 23
%%HiResBoundingBox: 0.393820 0.360000 10.224000 22.877999
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;padding-images-with-ghostscript-and-inkscape&quot;&gt;Padding Images with Ghostscript and Inkscape&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o padded.eps \
 -sDEVICE=eps2write \
 -c &quot;&amp;lt;&amp;lt;/PageOffset [0 -1]&amp;gt;&amp;gt; setpagedevice&quot; \
 -f gigabit_switch_router.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Reference:&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/35050233/ghostscript-and-page-margin&quot;&gt;Ghostscript and page margin&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;OR - if needed:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;For example, to add a label at the bottom of an image:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -o -dSAFER -sDEVICE=bbox firewall.eps
%%BoundingBox: 368 291 383 325
%%HiResBoundingBox: 368.564333 291.923991 382.598426 324.089990

% identify firewall.eps
firewall.eps[0] EPT 15x33 15x33+0+0 16-bit ColorSeparation CMYK 2079B 0.000u 0:00.001
firewall.eps[1] TIFF 15x34 15x34+0+0 8-bit sRGB 256c 2200B 0.000u 0:00.001
identify: Invalid TIFF directory; tags are not sorted in ascending order. 
  `TIFFReadDirectoryCheckOrder&apos; @ warning/tiff.c/TIFFWarnings/959.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n Box firewall.eps
Binary file firewall.eps matches

% strings firewall.eps | wc -l
    3229

% strings firewall.eps | grep -n Box
7:%%BoundingBox: 367 291 384 325
8:%%HiResBoundingBox: 367.998 291.4106 383.1011 324.5298
24:%AI3_TemplateBox: 306 396 306 396
25:%AI3_TileBox: 0 0 592 744
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o scaled.eps \
 -dEPSCrop \
 -sDEVICE=eps2write \
 -c &quot;&amp;lt;&amp;lt;/Install {1 1 scale}&amp;gt;&amp;gt; setpagedevice&quot; \
 -f firewall.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n Box scaled.eps
3:%%BoundingBox: 0 0 15 33
4:%%HiResBoundingBox: 0.00 0.00 15.00 33.00
717:/MediaBox get aload pop
1456:/FontBBox 1 index/FontBBox get def
3883:dup/BBox get aload pop exch 3 index sub exch 2 index sub rectclip
8320:&amp;lt;&amp;lt;/Type/Page/MediaBox [0 0 15.1 33.12]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i padded.eps padded.eps.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add 10 points in height:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vi padded.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 padded.eps.bak padded.eps
--- padded.eps.bak      2022-03-27 15:50:42.472025000 -0700
+++ padded.eps  2022-03-27 15:56:13.098029000 -0700
@@ -3,2 +3 @@
-%%BoundingBox: 20 0 35 33
-%%HiResBoundingBox: 20.00 0.00 35.00 33.00
+%%BoundingBox: 20 0 35 43
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Clean with &lt;strong&gt;Inkscape&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% inkscape padded.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;In the &apos;Page settings&apos; dialog:  accept defaults and click  OK

Select the object and move it to the top

Edit  &amp;gt;  Create Guides Around the Page
File  &amp;gt;  Document Properties
File  &amp;gt;  Clean Up Document

File  &amp;gt;  Save As  &amp;gt;  Encapsulated PostScript (*.eps)
In the &apos;Save As&apos; dialog:  accept defaults and click  OK
 
File  &amp;gt;  Quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mv padded.eps padded.eps.old
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o padded.eps \
 -sDEVICE=eps2write \
 -c &quot;&amp;lt;&amp;lt;/PageOffset [0.2 0]&amp;gt;&amp;gt; setpagedevice&quot; \
 -f padded.eps.old
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n Box padded.eps
3:%%BoundingBox: 0 0 16 43
4:%%HiResBoundingBox: 0.20 0.00 15.20 42.10
717:/MediaBox get aload pop
1456:/FontBBox 1 index/FontBBox get def
3883:dup/BBox get aload pop exch 3 index sub exch 2 index sub rectclip
8309:&amp;lt;&amp;lt;/Type/Page/MediaBox [0 0 612 792]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check with &lt;strong&gt;zathura&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zathura --fork padded.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;reducing-file-size-aka-compressing&quot;&gt;Reducing File Size (a.k.a. Compressing)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o padded.eps \
 -dDownsampleColorImages=true \
 -dColorImageResolution=300 \
 -sDEVICE=eps2write \
 -c &quot;&amp;lt;&amp;lt;/PageOffset [14 -2]&amp;gt;&amp;gt; setpagedevice&quot; \
 -f scaled.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Reference:&lt;/strong&gt; &lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/43079007/improving-my-ghostscript-eps-compressive-script&quot;&gt;Improving my ghostscript eps compressive script&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;generating-pdf-from-ps-and-eps-files-with-ghostscript&quot;&gt;Generating PDF from PS and EPS Files with Ghostscript&lt;/h2&gt;
&lt;h2 id=&quot;aka-converting-a-ps-or-an-eps-file-to-pdf&quot;&gt;(a.k.a. Converting a PS or an EPS File to PDF)&lt;/h2&gt;

&lt;p&gt;Here is a sample command line to invoke Ghostscript for 
generating a PDF/A document:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -dPDFA=1 \
 -dBATCH \
 -dNOPAUSE \
 -sColorConversionStrategy=RGB \
 -sDEVICE=pdfwrite \
 -sOutputFile=output.pdf \
 input.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Even simpler:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -sDEVICE=pdfwrite -o converted.pdf -f input.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Reference:&lt;/strong&gt;    &lt;br /&gt;
&lt;a href=&quot;https://ghostscript.com/doc/current/VectorDevices.htm&quot;&gt;High Level Output Devices (Vector Devices)&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;h2 id=&quot;generating-monochrome-pdf-from-ps-and-eps-files-with-ghostscript&quot;&gt;Generating Monochrome PDF from PS and EPS Files with Ghostscript&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o output.pdf \
 -sColorConversionStrategy=Gray \
 -sDEVICE=pdfwrite \
 -f input.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;cropping-pdf-and-removing-extraneous-whitespace&quot;&gt;Cropping PDF (and Removing Extraneous Whitespace)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat network_diagram.dot 
graph network_diagram {

  imagepath=&quot;/mnt/usbflashdrive/myknowledgebase/images&quot;

  label=&quot;\nNetwork Diagram&quot;;

  node [
    shape=box,
    //fontname=&quot;arial&quot;,
    fontsize=8,
    style=filled,
    color=&quot;#d3edea&quot;
  ];
  splines=&quot;compound&quot;

  fw [ label=&quot;Edge firewall&quot; shape=none image=&quot;firewall.eps&quot; labelloc=b color=&quot;#ffffff&quot;];
  panel [ label=&quot;Patch panel&quot; shape=none image=&quot;24-port-patch-panel.eps&quot; labelloc=b color=&quot;#ffffff&quot; ];
  sw1 [ label=&quot;Cisco switch&quot; shape=none image=&quot;gigabit_switch_router.eps&quot; labelloc=b color=&quot;#ffffff&quot;];
  sw2 [ label=&quot;Inside switch&quot; shape=none image=&quot;gigabit_switch_router.eps&quot; labelloc=b color=&quot;#ffffff&quot;];
  srv1 [ label=&quot;Cluster server&quot; shape=none image=&quot;rackmount-1U-server.eps&quot; labelloc=b color=&quot;#ffffff&quot;];
  srv2 [ label=&quot;Cluster nodes 101-114&quot; shape=none image=&quot;server_blades.eps&quot; labelloc=b color=&quot;#ffffff&quot;];
  srv3 [ label=&quot;Cluster nodes 201-214&quot; shape=none image=&quot;server_blades.eps&quot; labelloc=b color=&quot;#ffffff&quot;];
  srv4 [ label=&quot;Management node&quot; shape=none image=&quot;rackmount-1U-server.eps&quot; labelloc=b color=&quot;#ffffff&quot;];

  cloud [ label=&quot;Internet&quot; shape=none, image=&quot;cloud.eps&quot; labelloc=b color=&quot;#ffffff&quot;];

  cloud -- fw;
  fw -- panel;
  panel -- sw1;
  sw1 -- srv1 [color=&quot;#ffbb00&quot;];
  srv1 -- sw2 [color=&quot;#ffbb00&quot;];
  srv1 -- sw2 [color=&quot;#ffbb00&quot;];
  srv2 -- sw2 [color=&quot;#ffbb00&quot;];
  srv2 -- sw2 [color=&quot;#ffbb00&quot;];
  srv3 -- sw2 [color=&quot;#ffbb00&quot;];
  srv3 -- sw2 [color=&quot;#ffbb00&quot;];
  panel -- srv4 [color=&quot;#ffbb00&quot;];
  srv4 -- sw2 [color=&quot;#ffbb00&quot;];
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% dot -Teps network_diagram.dot -o network_diagram.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Convert the EPS file to PDF (option ‘-q’ -&amp;gt; quiet Ghostscript processing).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -sDEVICE=pdfwrite \
 -o network_diagram.pdf \
 -f network_diagram.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The resulting PDF has a lot of whitespace around the image as shown below.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/network_diagram.png&quot; alt=&quot;Displaying a png image of a network diagram&quot; title=&quot;Displaying a png image of a network diagram&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Find out the dimensions (and &lt;strong&gt;BoundingBox&lt;/strong&gt;) of PDF:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -dSAFER -dNOPAUSE -dBATCH -sDEVICE=bbox -f network_diagram.pdf
%%BoundingBox: 48 43 485 505
%%HiResBoundingBox: 48.221999 43.847999 484.613985 504.971985
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use those dimensions to &lt;strong&gt;crop&lt;/strong&gt; the PDF with Ghostscript:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -sDEVICE=pdfwrite \
 -o trimmed.pdf \
 -c &quot;[/CropBox [48 44 485 505] /PAGES pdfmark&quot; \
 -f network_diagram.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above command produces the cropped image:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/trimmed.png&quot; alt=&quot;Displaying an image of an appropriately cropped png image of a network diagram&quot; title=&quot;Displaying an image of an appropriately cropped png image of a network diagram&quot; /&gt;&lt;/p&gt;

&lt;p&gt;REFERENCE:&lt;br /&gt;
&lt;a href=&quot;https://sachinashanbhag.blogspot.com/2012/09/how-to-crop-pdf-images.html&quot;&gt;How to: Crop PDF Images&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;convert-pdf-to-png-image---with-ghostscript-gs&quot;&gt;Convert PDF to PNG Image - with Ghostscript (gs)&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -sDEVICE=png16m -r150 -o output.png -f input.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;convert-pdf-to-png-image-and-remove-extranous-whitespace---with-ghostscript-gs&quot;&gt;Convert PDF to PNG Image and Remove Extranous Whitespace - with Ghostscript (gs)&lt;/h3&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-dUseCropBox&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -sDEVICE=png16m -r150 -o trimmed.png -dUseCropBox -f input.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/38171343/ghostscript-converting-pdf-to-png-with-wrong-output-size&quot;&gt;Ghostscript Converting PDF to PNG With Wrong Output Size&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/2657458/obey-the-mediabox-cropbox-in-pdf-when-using-ghostscript-to-render-a-pdf-to-a-png&quot;&gt;Obey the MediaBox/CropBox in PDF when using Ghostscript to render a PDF to a PNG&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;convert-eps-to-png-image&quot;&gt;Convert EPS to PNG Image&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh firewall.eps
-rw-r--r--  1 dusko  wheel   163K Mar  5 13:40 firewall.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file firewall.eps
firewall.eps: PostScript document text conforming DSC level 3.0, type EPS, Level 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List PNG supported devices by Ghostscript.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -h | grep -i png
   faxg3 faxg32d faxg4 fmlbp fmpr fpng fs600 gdi hl1240 hl1250 hl7x0
   planc plang plank planm plib plibc plibg plibk plibm png16 png16m png256
   png48 pngalpha pnggray pngmono pngmonod pnm pnmraw ppm ppmraw pr1000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -o -dSAFER -sDEVICE=bbox firewall.eps
%%BoundingBox: 0 9 15 42
%%HiResBoundingBox: 0.756000 9.522000 14.798812 41.669999

% identify firewall.eps
firewall.eps EPS 15x42 15x42+0+0 16-bit sRGB 3305B 0.000u 0:00.000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l firewall.eps
    8467 firewall.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep Box firewall.eps
%%BoundingBox: 0 0 16 43
%%HiResBoundingBox: 0.20 0.00 15.20 42.10
/MediaBox get aload pop
/FontBBox 1 index/FontBBox get def
dup/BBox get aload pop exch 3 index sub exch 2 index sub rectclip
&amp;lt;&amp;lt;/Type/Page/MediaBox [0 0 612 792]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -o firewall.png \
 -sDEVICE=png16m \
 -r150 \
 -dEPSCrop \
 -dUseCropBox \
 -f firewall.eps 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv firewall.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;adding-a-border-around-an-image-with-imagemagick&quot;&gt;Adding a Border Around an Image with ImageMagick&lt;/h3&gt;

&lt;p&gt;Add a red border of size 4 pixels to an image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% convert -bordercolor red -border 4 network_diagram.png network_diagramBORDER.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Reference:&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;https://askubuntu.com/questions/819482/how-to-add-a-border-using-imagemagick&quot;&gt;How to add a border using Imagemagick&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;hr /&gt;
&lt;hr /&gt;

&lt;h2 id=&quot;querying-ghostscript-for-the-default-optionssettings-of-an-output-device-such-as-pdfwrite-or-tiffg4&quot;&gt;Querying Ghostscript for the default options/settings of an output device (such as ‘pdfwrite’ or ‘tiffg4’)&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -c &quot;currentpagedevice {exch ==only ( ) print == } forall&quot;
GPL Ghostscript 9.52 (2020-03-19)
Copyright (C) 2020 Artifex Software, Inc.  All rights reserved.
This software is supplied under the GNU AGPLv3 and comes with NO WARRANTY:
see the file COPYING for details.
/MaxSeparations 3
/BandWidth 0
/DeviceGrayToK true
/DeviceLinkProfile ()
/KPreserve 8
/BandHeight 0
/PageOffset [0 0]
/GrayValues 256
/HWResolution [91.2449 91.2449]
/Separations false
/BeginPage {--.callbeginpage--}
/BlendColorProfile ()
/TextBlackPt 8
/BandBufferSpace 0
/Margins [0.0 0.0]
/BlueValues 256
/PostRenderProfile ()
/ImageBlackPt 8
/MaxBitmap 50000000
/MaxTempImage 5000
/OutputAttributes -dict-
/GreenValues 256
/LeadingEdge null
/ProofProfile ()
/GraphicBlackPt 8
/MaxPatternBitmap 0
/MaxTempPixmap 20000
/ProcessColorModel /DeviceRGB
/PageDeviceName null
/InputAttributes -dict-
/PageList /
/RedValues 256
/TextICCProfile ()
/InterpolateControl 1
/BlackPtComp 8
/.HWMargins [0.0 0.0 0.0 0.0]
/AntidropoutDownscaler false
/.IsPageDevice true
/LastPage 0
/ImagingBBox null
/ImageICCProfile ()
/TextIntent 8
/%MediaSource 0
/GraphicsAlphaBits 4
/WindowID 0
/OutputICCProfile (default_rgb.icc)
/FirstPage 0
/OutputDevice /x11alpha
/GraphicICCProfile ()
/ImageIntent 8
/%MediaDestination 0
/TextAlphaBits 4
/FILTERVECTOR false
/Name (x11alpha)
/HWSize [775 1003]
/PreBandThreshold false
/GraphicIntent 8
/UseCIEColor false
/.IgnoreNumCopies false
/PageUsesTransparency false
/FILTERTEXT false
/BitsPerPixel 24
/Install {--.callinstall--}
/SimulateOverprint true
/.LockSafetyParams false
/ColorAccuracy 2
/NumCopies null
/TextKPreserve 8
/FILTERIMAGE false
/ColorValues 16777216
/DisablePageHandler false
/.MediaSize [611.540955 791.452393]
/UseFastColor false
/PageSize [611.540955 791.452393]
/RenderIntent 8
/ImageKPreserve 8
/SeparationColorNames []
/BufferSpace 4000000
/PageCount 0
/Policies -dict-
/Colors 3
/GrayDetection false
/EndPage {--.callendpage--}
/ICCOutputColors ()
/GraphicKPreserve 8

GS&amp;gt;quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result is a list of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/SomeName somevalue&lt;/code&gt; pairs which describe 
the settings used for rendering pages to the current screen.&lt;/p&gt;

&lt;p&gt;This is so because usually the display is the default device for Ghostscript 
to send its output to.  Now you may notice that you’ll see an empty 
Ghostscript window pop up, which you’ll have to close.&lt;/p&gt;

&lt;p&gt;You can add some options to avoid the popup window:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -o /dev/null \
 -dNODISPLAY \
 -c &quot;currentpagedevice {exch ==only ( ) print ==} forall&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But this will change the query return values, because you (unintentionally) 
changed the output device settings:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -c &quot;currentpagedevice {exch ==only ( ) print ==} forall&quot; | grep Resolution
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Result:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/HWResolution [91.2449 91.2449]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Compare this to:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -o /dev/null \
 -dNODISPLAY \
 -c &quot;currentpagedevice {exch ==only ( ) print == } forall&quot; \
 | grep Resolution
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Result:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/HWResolution [72.0 72.0]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Avoid this trap.  Now assuming you want to query for the default settings 
of the PDF writing device, run this one:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -o /dev/null \
 -sDEVICE=pdfwrite \
 -c &quot;currentpagedevice {exch ==only ( ) print ==} forall&quot; \
 | tee ghostscript-pdfwrite-default-pagedevice-settings.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You now have all settings for the pdfwrite device in a *.txt file, 
and you may repeat that with some other interesting Ghostscript devices 
and then compare them for all their detailled differences:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Switch to Bash.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ for _dev in \
  pswrite ps2write pdfwrite \
  tiffg3 tiffg4 tiff12nc tiff24nc tiff32nc tiff48nc tiffsep \
  jpeg jpeggray jpegcmyk \
  png16 png16m png256 png48 pngalpha pnggray pngmono; \
do \
  gs \
    -o /dev/null \
    -sDEVICE=${_dev} \
    -c &quot;currentpagedevice {exch ==only ( ) print ==} forall&quot; \
   | sort \
   | tee ghostscript-${_dev}-default-pagedevice-settings.txt; \
done
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It’s interesting to compare the settings for, say, the &lt;em&gt;pswrite&lt;/em&gt; and 
&lt;em&gt;ps2write&lt;/em&gt; devices like this (and also discover parameters which are 
available for the one, but not the other device):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sdiff -sbB ghostscript-ps*write-default-pagedevice-settings.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff -sbB ghostscript-ps*write-default-pagedevice-settings.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To avoid the return of just &lt;em&gt;-dict-&lt;/em&gt; for certain key values, 
use the &lt;em&gt;===&lt;/em&gt; instead of &lt;em&gt;==&lt;/em&gt; macro. &lt;br /&gt;
&lt;em&gt;===&lt;/em&gt; acts like &lt;em&gt;==&lt;/em&gt; but also prints the &lt;strong&gt;content&lt;/strong&gt; of dictionaries.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ for _dev in \
 pswrite ps2write pdfwrite \
 tiffg3 tiffg4 tiff12nc tiff24nc tiff32nc tiff48nc tiffsep \
 jpeg jpeggray jpegcmyk \
 png16 png16m png256 png48 pngalpha pnggray pngmono; \
 do \
   gs -o /dev/null \
   -sDEVICE=${_dev} -c &quot;currentpagedevice {exch ===only ( ) print ===} forall&quot; \
   | sort | \
   tee ghostscript-${_dev}-default-pagedevice-settings.txt; \
 done
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exit from Bash.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;https://stackoverflow.com/questions/11001107/querying-ghostscript-for-the-default-options-settings-of-an-output-device-such&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;printing-aka-scaling-pdf-for-printing&quot;&gt;Printing (a.k.a. Scaling PDF for Printing)&lt;/h2&gt;

&lt;h3 id=&quot;print-to-a-legal-sized-paper-in-portrait-mode&quot;&gt;Print to a Legal Sized Paper in Portrait Mode&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ gs \
 -q \
 -sPAPERSIZE=legal \
 -dFIXEDMEDIA \
 -dBATCH \
 -dNOPAUSE \
 -sDEVICE=pdfwrite \
 -o printable.pdf 
 -f input.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open with zathura.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zathura printable.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print from zathura with its &lt;strong&gt;print&lt;/strong&gt; command:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;:print
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;print-a-pdf-with-a-big-image-to-a-legal-sized-paper-in-landscape-mode&quot;&gt;Print a PDF with a Big Image to a Legal Sized Paper in Landscape Mode&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat wiring_diagram.dot
graph wiring_diagram {
 
  splines=ortho;
  ranksep=&quot;0.8 equally&quot;;

  label=&quot;\n\n\nWiring Diagram\n&quot;;

  legend [shape=none, margin=0, label=
  &amp;lt;
    &amp;lt;table border=&quot;0&quot; cellborder=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;4&quot;&amp;gt;
        &amp;lt;tr&amp;gt;&amp;lt;td colspan=&quot;2&quot;&amp;gt;Legend&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
        &amp;lt;tr&amp;gt;&amp;lt;td bgcolor=&quot;red&quot;&amp;gt;red&amp;lt;/td&amp;gt;&amp;lt;td bgcolor=&quot;red&quot;&amp;gt;public&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
        &amp;lt;tr&amp;gt;&amp;lt;td bgcolor=&quot;blue&quot;&amp;gt;blue&amp;lt;/td&amp;gt;&amp;lt;td bgcolor=&quot;blue&quot;&amp;gt;inside&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
        &amp;lt;tr&amp;gt;&amp;lt;td bgcolor=&quot;green&quot;&amp;gt;green&amp;lt;/td&amp;gt;&amp;lt;td bgcolor=&quot;green&quot;&amp;gt;MGMT&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;/table&amp;gt;
  &amp;gt;];

  subgraph cluster_pp {
    label=&quot;Patch panel&quot;;
    graph [fillcolor=&quot;burlywood&quot;, style=&quot;filled, rounded&quot;];
    node [shape=&quot;record&quot;, fillcolor=&quot;white&quot;, style=&quot;filled&quot;, width=0.4, height=0.4];
    edge [weight=1000, style=&quot;invis&quot;];
    
    node [label=&quot;1&quot;] p1; 
    node [label=&quot;2&quot;] p2;
    node [label=&quot;3&quot;] p3;
    node [label=&quot;4&quot;] p4;
    node [label=&quot;5&quot;] p5;
    node [label=&quot;6&quot;] p6;
    node [label=&quot;7&quot;] p7;
    node [label=&quot;8&quot;] p8;
    node [label=&quot;9&quot;] p9;
    node [label=&quot;10&quot;] p10;
    node [label=&quot;11&quot;] p11;
    node [label=&quot;12&quot;] p12;
    node [label=&quot;13&quot;] p13;
    node [label=&quot;14&quot;] p14;
    node [label=&quot;15&quot;] p15;
    node [label=&quot;16&quot;] p16;
    node [label=&quot;17&quot;] p17;
    node [label=&quot;18&quot;] p18;
    node [label=&quot;19&quot;] p19;
    node [label=&quot;20&quot;] p20;
    node [label=&quot;21&quot;] p21;
    node [label=&quot;22&quot;] p22;
    node [label=&quot;23&quot;] p23;
    node [label=&quot;24&quot;] p24;

    rank=same {p1 -- p2 -- p3 -- p4 -- p5 -- p6 -- p7 -- p8 -- p9 -- p10 -- p11 -- p12}
    rank=same {p13 -- p14 -- p15 -- p16 -- p17 -- p18 -- p19 -- p20 -- p21 -- p22 -- p23 -- p24}

    p1 -- p13
    p2 -- p14
    p3 -- p15
    p4 -- p16
    p5 -- p17
    p6 -- p18
    p7 -- p19
    p8 -- p20
    p9 -- p21
    p10 -- p22
    p11 -- p23
    p12 -- p24
  }

  subgraph cluster_webmo {
    label=&quot;WebMO and cluster storage [R2]&quot;;
    edge [style=&quot;invis&quot;];
    node [shape=&quot;record&quot;];

    node [label=&quot;ETH1&quot;] webmo1;
    node [label=&quot;ETH2&quot;] webmo2;
    node [label=&quot;ETHM&quot;] webmom;
    
    {rank=&quot;same&quot;; webmo1; webmo2; webmom;} 
    webmo1 -- webmo2 -- webmom;
  }

  subgraph cluster_achassis1 {
    label=&quot;Chassis 1 - Compute nodes 101-114 [R2]&quot;;
    edge [style=&quot;invis&quot;];
    node [shape=&quot;record&quot;];

    node [label=&quot;MM1&quot;] ac1mm ;
    node [label=&quot;4&quot;] ac1p4;
    node [label=&quot;3&quot;] ac1p3;
    node [label=&quot;2&quot;] ac1p2;
    node [label=&quot;1&quot;] ac1p1;
    
    {rank=&quot;same&quot;; ac1p1; ac1p2; ac1p3; ac1p4; ac1mm;}
    ac1p1 -- ac1p2 -- ac1p3 -- ac1p4 -- ac1mm;
  }

  subgraph cluster_achassis2 {
    label=&quot;Chassis 2 - Compute nodes 201-214 [R4]&quot;;
    edge[style=&quot;invis&quot;];
    node [shape=&quot;record&quot;];

    node [label=&quot;MM1&quot;] ac2mm;
    node [label=&quot;1&quot;] ac2p1;
    node [label=&quot;2&quot;] ac2p2;
    node [label=&quot;3&quot;] ac2p3;
    node [label=&quot;4&quot;] ac2p4;
    
    {rank=&quot;same&quot;; ac2p1; ac2p2; ac2p3; ac2p4; ac2mm}
    ac2p1 -- ac2p2 -- ac2p3 -- ac2p4 -- ac2mm;
  }

  subgraph cluster_compute_mgmt_node {
    label=&quot;Compute management node [R1]&quot;;
    edge [style=&quot;invis&quot;];
    node [shape=&quot;record&quot;];

    node [label=&quot;2&quot;] x2 ;
    node [label=&quot;1&quot;] x1 ;
    
    {rank=&quot;same&quot;; x1; x2;}
    x1 -- x2;
  }

  subgraph cluster_as {
    label=&quot;Compute cluster switch&quot;;
    graph [fillcolor=&quot;burlywood1&quot;, style=&quot;filled&quot;];
    node [shape=&quot;record&quot;, fillcolor=&quot;white&quot;, style=&quot;filled&quot;];
    edge [style=&quot;invis&quot;];

    node [label=&quot;1&quot;] asw1;
    node [label=&quot;2&quot;] asw2;
    node [label=&quot;3&quot;] asw3;
    node [label=&quot;4&quot;] asw4;
    node [label=&quot;5&quot;] asw5;
    node [label=&quot;6&quot;] asw6;
    node [label=&quot;7&quot;] asw7;
    node [label=&quot;8&quot;] asw8;

    {rank=&quot;same&quot;; asw1; asw2; asw3; asw4; asw5; asw6; asw7; asw8;} 
    asw1 -- asw2 -- asw3 -- asw4 -- asw5 -- asw6 -- asw7 -- asw8;
  }

  subgraph cluster_cs {
    label=&quot;Cisco switch [R1]&quot;;
    graph [fillcolor=&quot;burlywood1&quot;, style=&quot;filled&quot;];
    node [shape=&quot;record&quot;, fillcolor=&quot;white&quot;, style=&quot;filled&quot;];
    edge [style=&quot;invis&quot;];

    node [label=&quot;1&quot;] cs1;
    node [label=&quot;2&quot;] cs2;
    node [label=&quot;3&quot;] cs3;
    node [label=&quot;4&quot;] cs4;
    node [label=&quot;19&quot;] cs19;

    {rank=&quot;same&quot;; cs1; cs2; cs3; cs4; cs19;}
    cs1 -- cs2 -- cs3 -- cs4 -- cs19;
  }

  align_chassis [style=&quot;invis&quot;];
  align_chassis -- ac1mm [style=&quot;invis&quot;];
  align_chassis -- ac2mm [style=&quot;invis&quot;];

  x1 -- asw1 [color=&quot;blue&quot;];
  p2 -- x2 [color=&quot;red&quot;, constraint=&quot;false&quot;]; 
  p1 -- cs1 [color=&quot;red&quot;, constraint=&quot;false&quot;];
  asw3 -- ac1mm [color=&quot;green&quot;, penwidth=2, constraint=&quot;false&quot;];
  asw5 -- webmom [color=&quot;green&quot;, penwidth=2];
  asw7 -- ac2mm [color=&quot;green&quot;, penwidth=2, constraint=&quot;false&quot;];
  webmo1:sw -- cs19:ne [color=&quot;white:red:white&quot;];
  webmo2-- asw6 [color=&quot;blue&quot;];
  ac1p1 -- asw2 [color=&quot;blue&quot;];
  asw4 -- ac2p4 [color=&quot;blue&quot;, constraint=&quot;false&quot;];
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% dot -Teps wiring_diagram.dot -o wiring_diagram.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -sDEVICE=eps2write \
 -dEPSCrop \
 -o wiring_diagram.pdf \
 -f wiring_diagram.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -sDEVICE=eps2write \
 -o scaled.eps \
 -dEPSCrop \
 -c &quot;&amp;lt;&amp;lt;/PageSizePolicy 3&amp;gt;&amp;gt; setpagedevice&quot; \
 -dFIXMEDIA \
 -f wiring_diagram.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -sDEVICE=pdfwrite \
 -o printable.pdf \
 -dEPSFitPage \
 -c &quot;&amp;lt;&amp;lt;/PageSizePolicy 3&amp;gt;&amp;gt; setpagedevice&quot; \
 -dFIXMEDIA \
 -dNORANGEPAGESIZE \
 -f scaled.eps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs -q -o -dSAFER -sDEVICE=bbox printable.pdf
%%BoundingBox: 0 1 792 150
%%HiResBoundingBox: 0.000211 1.710000 791.999976 149.412581
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -sDEVICE=pdfwrite \
 -o trimmed.pdf \
 -c &quot;[/CropBox [0 1 792 150] /PAGES pdfmark&quot; \
 -f printable.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zathura trimmed.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to get the prompt (use  -sOutputFile):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -sDEVICE=pdfwrite \
 -sOutputFile=new.pdf \
 -dDEVICEHEIGHTPOINTS=612 \
 -dDEVICEWIDTHPOINTS=1008 \
 -dFitPage \
 -dFIXMEDIA \
 -dAutoRotatePages=/None \
 -f printable.pdf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to get the prompt (use  -sOutputFile) and to exit it without typing ‘quit’:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs \
 -q \
 -sDEVICE=pdfwrite \
 -sOutputFile=new.pdf \
 -dDEVICEHEIGHTPOINTS=612 \
 -dDEVICEWIDTHPOINTS=1008 \
 -dFitPage \
 -dFIXMEDIA \
 -dAutoRotatePages=/None \
 -f printable.pdf \
 -c quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you do not want to see output details (use -o):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gs 
 -q \ 
 -sDEVICE=pdfwrite \
 -o new.pdf \
 -dDEVICEHEIGHTPOINTS=612 \
 -dDEVICEWIDTHPOINTS=1008 \
 -dFitPage \
 -dFIXMEDIA \
 -dAutoRotatePages=/None \
 -f printable.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Load Legal sized paper in the Tray 1 (upper tray) of the HP LaserJet 2420dn printer.&lt;/p&gt;

&lt;p&gt;After running the the above command and loading the paper, open the 
resulting PDF with zathura.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zathura new.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From zathura:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;:print
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the Print dialog box:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Select the printer (in this example: HP_LaserJet_2420dn) 

In the Page Setup tab change the following two values - under Paper heading:
  Paper size:   Change it from &apos;US Letter&apos; to &apos;US Legal&apos;
  Orientation:  Change it from &apos;Portrait&apos; to &apos;Landscape&apos;

Click &apos;Print&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
The &lt;strong&gt;-dDEVICEHEIGHTPOINTS=612&lt;/strong&gt; and &lt;strong&gt;-dDEVICEWIDTHPOINTS=1008&lt;/strong&gt; are paper 
dimensions for &lt;strong&gt;Legal paper size&lt;/strong&gt; and you can obtain them from here:&lt;br /&gt;
&lt;a href=&quot;https://ghostscript.com/doc/current/Use.htm#Known_paper_sizes&quot;&gt;The paper sizes known to Ghostscript - Ghostsript Documentation&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt; &lt;br /&gt;
&lt;a href=&quot;https://comp.lang.postscript.narkive.com/xSbH7XrD/ghostscript-any-way-to-fit-to-printable-area&quot;&gt;Ghostscript - any way to fit to printable area?&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/42371152/ghostscript-changed-orientation-from-landscape-to-portrait&quot;&gt;Ghostscript changed Orientation from landscape to portrait&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://web.mit.edu/ghostscript/www/Use.htm&quot;&gt;How to use Ghostscript&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;tips---useful-to-know&quot;&gt;TIPS - USEFUL TO KNOW:&lt;/h2&gt;

&lt;p&gt;From:
&lt;a href=&quot;https://stackoverflow.com/questions/70583490/dimensions-change-when-ghostscript-converts-ps-to-png&quot;&gt;Dimensions change when Ghostscript converts PS to PNG&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The BoundingBox in your PostScript program is a comment and therefore 
has no effect.  If you want to set the media size then you need to take 
action to do so.  You can do this in PostScript by using the 
setpagedevice operator.  Or you can do so from the command line using 
&lt;strong&gt;-sPAPERSIZE&lt;/strong&gt;, &lt;strong&gt;-dDEVICEHEIGHTPOINTS&lt;/strong&gt; and &lt;strong&gt;-dDEVICEWIDTHPOINTS&lt;/strong&gt;, 
&lt;strong&gt;-g&lt;/strong&gt; and possibly the &lt;strong&gt;-dFIXEDMEDIA&lt;/strong&gt; switch.&lt;/p&gt;

  &lt;p&gt;In the absence of any of these Ghostscript uses its &lt;strong&gt;default&lt;/strong&gt; media 
size which will be either &lt;strong&gt;A4&lt;/strong&gt; or &lt;strong&gt;US Letter&lt;/strong&gt;.&lt;/p&gt;

  &lt;p&gt;Or make your program DSC-compliant and use DSC processing, or make it 
an EPS and use -dEPSCrop.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From:&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/46183868/using-ghostscript-to-export-pngs-at-fixed-size&quot;&gt;Using GhostScript to export PNGs at fixed size&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Your problem with EPS files is that they do &lt;strong&gt;not&lt;/strong&gt; request 
a &lt;strong&gt;media size&lt;/strong&gt;.  That’s because EPS files are intended to be included 
in other PostScript programs, so they need to be resized by the 
application generating the PostScript.&lt;/p&gt;

  &lt;p&gt;To that end, EPS files include &lt;strong&gt;comments&lt;/strong&gt; (which are &lt;strong&gt;ignored&lt;/strong&gt; by 
&lt;strong&gt;PostScript interpreters&lt;/strong&gt;) which define the &lt;strong&gt;BoundingBox&lt;/strong&gt; of the 
&lt;strong&gt;EPS&lt;/strong&gt;.  An application which places EPS can quickly scan the EPS to 
find this information, then it sets the CTM appropriately in the final 
PostScript program it is creating and inserts the content of the EPS.&lt;/p&gt;

  &lt;p&gt;The &lt;strong&gt;FitPage&lt;/strong&gt; switch in &lt;strong&gt;Ghostscript&lt;/strong&gt; relies on having 
&lt;em&gt;a known media size&lt;/em&gt; (and you should set &lt;strong&gt;-dFIXEDMEDIA&lt;/strong&gt; when using this) 
and a requested media size, figuring out what scale factor to apply to 
the request in order to make it fit the actual size, and setting up the 
CTM to apply that scaling.&lt;/p&gt;

  &lt;p&gt;If you don’t ever get a media size request (which you &lt;strong&gt;won’t&lt;/strong&gt; with 
an &lt;strong&gt;EPS&lt;/strong&gt;) then &lt;strong&gt;no scaling&lt;/strong&gt; will take place.&lt;/p&gt;

  &lt;p&gt;Now &lt;strong&gt;Ghostscript&lt;/strong&gt; &lt;em&gt;does have&lt;/em&gt; a different switch, &lt;strong&gt;EPSCrop&lt;/strong&gt; which 
picks up the comments from the EPS and uses that to set the media size 
(Ghostscript has mechanisms to permit processing of comments for this 
reason, amongst others).  You could implement a similar mechanism to 
pick up the BoundingBox comments, and scale the EPS so that it fits 
a desired target media size.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From: &lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/40223691/scaling-pdf-file-using-ghostscript&quot;&gt;Scaling PDF file using Ghostscript&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Well, Ghostscript uses PostScript as its scripting language, 
so anything you can do in PostScript you can do to a PDF file.&lt;/p&gt;

  &lt;p&gt;I &lt;em&gt;really&lt;/em&gt; wouldn’t use -g with pdfwrite, because -g specifies 
&lt;strong&gt;pixels&lt;/strong&gt;, and since pdfwrite is a vector device that doesn’t really 
work well. Use -dDEVICEHEIGHTPOINTS and -dDEVICEWIDTHPOINTS instead.&lt;/p&gt;

  &lt;p&gt;Don’t set -sPAPERSIZE either, you can’t set the media to be letter in 
one place and something different (the -g switch) elsewhere.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From:&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/36871015/manual-layout-of-graphs-described-in-graphviz-dot-format&quot;&gt;manual layout of graphs described in graphviz (DOT)&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You can run &lt;strong&gt;dot&lt;/strong&gt; requesting output as another dot file with the command
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dot -Tdot&lt;/code&gt;.  &lt;strong&gt;dot&lt;/strong&gt; will then calculate the layout but instead of 
outputting a pictorial representation, it will output another dot file 
with exactly the same information as the input, with the addition of 
layout information as additional attributes.&lt;br /&gt;
You can then edit the layout information by hand and run it through dot 
a second time to obtain the pictorial representation.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ dot -Tdot input.gv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From: &lt;br /&gt;
&lt;a href=&quot;https://marc.info/?l=graphviz-devel&amp;amp;m=129418103126092&quot;&gt;Re: [graphviz-devel] File extension .dot or .gv?&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://forum.graphviz.org/t/what-is-the-file-extension-for-dot-file/35/4&quot;&gt;What is the file extension for dot file? - Graphviz Forum&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 5, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;.gv is preferred. The .dot suffix was stolen by Word.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;PROGRAMS:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;VIEWING:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;ps, eps, pdf: zathura&lt;/li&gt;
  &lt;li&gt;png, jpeg: xv&lt;/li&gt;
  &lt;li&gt;svg: Inkscape, web browsers&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;EDITING:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;dot (Graphviz)&lt;/li&gt;
  &lt;li&gt;dotty (comes with Graphviz) - a WYSIWYG tool to aid in the hand-layout process&lt;/li&gt;
  &lt;li&gt;Graphviz Visual Editor&lt;/li&gt;
  &lt;li&gt;PlantUML&lt;/li&gt;
  &lt;li&gt;Kroki&lt;/li&gt;
  &lt;li&gt;kroki-cli&lt;/li&gt;
  &lt;li&gt;Diagrams.net (Drawio) (https://github.com/jgraph/drawio)
    &lt;ul&gt;
      &lt;li&gt;https://github.com/jgraph&lt;/li&gt;
      &lt;li&gt;https://github.com/jgraph/drawio&lt;/li&gt;
      &lt;li&gt;https://github.com/jgraph/drawio-desktop/releases/tag/v17.2.1&lt;/li&gt;
      &lt;li&gt;https://github.com/jgraph/docker-drawio&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;DrawThe.net (https://github.com/cidrblock/drawthe.net)&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Blockdiag  (seqdiag, rackdiag, netdiag, etc.)   (http://blockdiag.com/en/)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;rsvg-convert&lt;/li&gt;
  &lt;li&gt;anytopnm&lt;/li&gt;
  &lt;li&gt;pamfile&lt;/li&gt;
  &lt;li&gt;ppmhist&lt;/li&gt;
  &lt;li&gt;pnm(5), ppm(5), pgm(5), pbm(5), pam(5)&lt;/li&gt;
  &lt;li&gt;pamtosvg&lt;/li&gt;
  &lt;li&gt;pbmclean&lt;/li&gt;
  &lt;li&gt;mscgen_js - turns text into sequence charts  (https://mscgen.js.org/)
    &lt;ul&gt;
      &lt;li&gt;Includes, for example: SMTP Sequence Chart&lt;/li&gt;
      &lt;li&gt;Also, you can:
        &lt;ul&gt;
          &lt;li&gt;animate the chart&lt;/li&gt;
          &lt;li&gt;create a bookmarkable URI (URL)/link&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;epsffit&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;PKG (PACKAGES):
    &lt;ul&gt;
      &lt;li&gt;ghostscript&lt;/li&gt;
      &lt;li&gt;sam2p&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;NOT YET EXPLORED:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=23154846&quot;&gt;Diagram as Code (mingrammer.com) - HackerNews&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Mermaid
        &lt;ul&gt;
          &lt;li&gt;https://mermaid-js.github.io/mermaid-live-editor/&lt;/li&gt;
          &lt;li&gt;https://mermaid-js.github.io/mermaid/#/&lt;/li&gt;
          &lt;li&gt;https://github.com/mermaid-js/mermaid&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;https://isoflow.io/&lt;/li&gt;
  &lt;li&gt;https://diagrams.mingrammer.com/
    &lt;ul&gt;
      &lt;li&gt;https://github.com/mingrammer/diagrams&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;diagram.codes (playground available but Save is available only for paying customers)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;ubigraph (https://github.com/0x4lan/ubigraph_server)&lt;/li&gt;
  &lt;li&gt;Tulip (Data Visualization Software)  https://tulip.labri.fr/site/&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 05 Mar 2022 09:12:41 -0800</pubDate>
        <link>http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/documentation/2022/03/05/tex-latex-inkscape-svg-creating-diagrams.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/documentation/2022/03/05/tex-latex-inkscape-svg-creating-diagrams.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>How To Create a Bootable FreeBSD ZFS Clone</title>
        <description>&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell:  csh&lt;br /&gt;
Python version: 3.8.12&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Complete this page&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
In code excerpts and examples, the long lines are folded and then 
indented to make sure they fit the page.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Code for a mind map in &lt;a href=&quot;https://github.com/plantuml/plantuml/&quot;&gt;PlantUML&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat zfsbootable.txt
@startmindmap

title Create a Bootable FreeBSD ZFS Machine Clone\n

&apos; Based on
&apos; https://ideashortcut.com/tutorial-convert-you-notes-into-a-wbs-and-gantt-charts-with-plantuml/
&apos;   and
&apos; https://forums.freebsd.org/threads/cloning-a-zfs-boot-disk-on-a-usb-drive.79687/
&apos;   and
&apos; https://github.com/mattjhayes/PlantUML-Examples/blob/master/docs/Diagram-Types/diagram-types.md

scale 0.85

skinparam ArrowColor DarkGrey

&amp;lt;style&amp;gt;
mindmapDiagram {
  node {
    Padding 15
    Margin 15
    BackGroundColor YellowGreen
    FontColor DarkSlateGrey
    LineColor White
    LineThickness 1.0
    MaximumWidth 320
  }
  rootNode {
    Padding 15
    Margin 15
    BackGroundColor YellowGreen
    FontColor DarkSlateGrey
    FontSize 18
    LineColor White
    LineThickness 1.0
  }
  leafNode {
    Padding 15
    Margin 15
    BackGroundColor LightGray
    FontColor DarkSlateGrey
    FontSize 15
    LineColor ForestGreen
    LineThickness 2.0
  }
  &apos; Styles to apply to tasks based on status:
  &apos; in progress (i)
  .i {
    BackgroundColor SkyBlue
  }
  &apos; completed (c)
  .c {
    BackgroundColor LightSlateGray
    FontStyle italic
    FontColor DarkGray
  }
  &apos; urgent (u)
  .u {
    BackgroundColor OrangeRed
    FontStyle bold
  }
  &apos; delegated (d)
  .d {
    BackgroundColor Gold
  }
}
&amp;lt;/style&amp;gt;

&apos; Legend colours need to be updated manually :-(
legend
|&amp;lt;back:LightGray&amp;gt;&amp;lt;b&amp;gt;Not Started.&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:SkyBlue&amp;gt;&amp;lt;b&amp;gt;In Progress.&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:LightSlateGrey&amp;gt;&amp;lt;i&amp;gt;Completed     .&amp;lt;/i&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:OrangeRed&amp;gt;&amp;lt;b&amp;gt;Urgent        .&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:Gold&amp;gt;&amp;lt;b&amp;gt;Delegated   .&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:YellowGreen&amp;gt;&amp;lt;b&amp;gt;Branch        .&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:LightGray&amp;gt;&amp;lt;b&amp;gt;[*] The same name as before not required but convenient, unless you have bootfs set in /boot/loader.conf.&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:LightGray&amp;gt;&amp;lt;b&amp;gt;[**] If you are creating the same pool and the rest as subsets of that, you need to force the zfs receive in order to tell it to overwrite your existing pool.&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:LightGray&amp;gt;&amp;lt;b&amp;gt;[***] On newer installs, this is zroot/ROOT/default or similar.&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
endlegend

* Full\nsystem\nrestore\nto a\nfresh\ndrive
** Root on ZFS install
** Cloning
** gpart(8)
** dd(1)
** Bare metal backup/restore
** ZFS snapshots
*** zfs send
**** on trusted: nc(1)
**** on untrusted: ssh(1)
*** zfs receive
*** beadm/bectl
**** Boot pool name: zroot
**** Boot BE parent\ndataset name: ROOT
**** Boot datasets:\nROOT/tmp,\nROOT/var/tmp,\nROOT/default
**** **/usr** and **/var** filesystems have\n**canmount** property set to **off**
***** /usr and /var are placed \non the / dataset the\nzroot/ROOT/default BE
** Full\nsystem\nrestore\nto a\nfresh\ndrive
*** Capture the root pool properties\n zpool get all rpool &amp;lt;&amp;lt;c&amp;gt;&amp;gt;
*** GPT layout &amp;lt;&amp;lt;i&amp;gt;&amp;gt;
**** Manually create GPT
*** Boot loader &amp;lt;&amp;lt;u&amp;gt;&amp;gt;
**** Write the boot loader
*** Sufficient size on destinaiton
*** Boot off the\nFreeBSD Live CD/USB
**** Get networking up\nand running
**** Create the new zpool [*]
**** zfs receive the backup [**]
**** Use zpool(1) to set bootfs\nproperty properly [***]
**** Reboot
**** Use gptzfsboot(8)\nto install bootcode
**** Reboot
@endmindmap
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Send a POST request using &lt;a href=&quot;https://httpie.org/&quot;&gt;HTTPie&lt;/a&gt;, &lt;a href=&quot;https://docs.kroki.io/kroki/setup/http-clients/&quot;&gt;HTTP Clients - Kroki documentation&lt;/a&gt; to generate the mind map image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% http \
 http://localhost:8000/ \
 diagram_type=&apos;plantuml&apos; \
 output_format=&apos;png&apos; \
 diagram_source=&apos;@zfsbootable.txt&apos; \
 &amp;gt; zfsbootable.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/zfsbootable.png&quot; alt=&quot;Displaying a png image of a mind map created with PlantUML invoked via Kroki&quot; title=&quot;Displaying a png image of a mind map created with PlantUML invoked via Kroki&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Alternatively, you can display the image in a web browser.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat \
 zfsbootable.txt | \
 python3.8 -c \
 &quot;import sys; import base64; import zlib; \
 print(base64.urlsafe_b64encode(zlib.\
 compress(sys.stdin.read().encode(&apos;utf-8&apos;), 9)).decode(&apos;ascii&apos;))&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;eNq9V11v2zYUfdev4FtTobLaDl2zIDA6J01QIG2COEGxzXugRFriQpEaP5I6a__7zqVkx-mSod3DjNggLy_PPbxfZN74wF3olB
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy and paste the output to your web browser:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://localhost:8000/plantuml/svg/eNq9V11v2zYUfdev4FtTobLaDl2zIDA6J01QIG2COEGxzXugRFriQpEaP5I6a_
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat bootable_os_zfs_activity_diagram.txt
@startuml
&apos; Based on https://waddles.org/2009/11/17/replicating-zfs-root-disks/
&apos; and
&apos; https://github.com/mattjhayes/PlantUML-Examples/blob/master/docs/Diagram-Types/diagram-types.md

skinparam shadowing false

title Create a Bootable FreeBSD ZFS Clone\n- Activity Diagram -\n

start
:Verify status;
:Create recursive ZFS root pool (rpool) snapshot;
:Insert and label new disks;
:Create partition tables;
:Create new zpool;
:Replicate pool&apos;s dataset;
:Replicate remaining datasets;
:Set mountpoints;
:Set bootfs property;
:Export the new pool;
:Install boot blocks to both disks;

:Target System
Transfer disks and boot failsafe;

:Import zpool as rpool;
:Export the zpool;

:Boot to single user mode;
:Unconfigure the system;
:Reconfigure the system;
: Cleanup;

stop
@enduml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% http \ 
 http://localhost:8000/ \
 diagram_type=&apos;plantuml&apos; \
 output_format=&apos;png&apos; \
 diagram_source=&apos;@bootable_os_zfs_activity_diagram.txt&apos; \
 &amp;gt; bootable_os_zfs_activity_diagram.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/bootable_os_zfs_activity_diagram.png&quot; alt=&quot;Displaying a png image of an activity diagram created with PlantUML invoked via Kroki&quot; title=&quot;Displaying a png image of an activity diagram created with PlantUML invoked via Kroki&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Sat, 05 Mar 2022 08:08:02 -0800</pubDate>
        <link>http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/documentation/2022/03/05/freebsd-create-bootable-zfs-clone.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/documentation/2022/03/05/freebsd-create-bootable-zfs-clone.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>How To Create Server Wiring Diagrams with Graphviz and Kroki</title>
        <description>&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell:  csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat wiring.dot
graph wiring {

  splines=ortho;
  ranksep=&quot;2.0 equally&quot;;

  legend [shape=none, margin=0, label=
  &amp;lt;
    &amp;lt;table border=&quot;0&quot; cellborder=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;4&quot;&amp;gt;
        &amp;lt;tr&amp;gt;&amp;lt;td colspan=&quot;2&quot;&amp;gt;Legend&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
        &amp;lt;tr&amp;gt;&amp;lt;td bgcolor=&quot;red&quot;&amp;gt;red&amp;lt;/td&amp;gt;&amp;lt;td bgcolor=&quot;red&quot;&amp;gt;public&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
        &amp;lt;tr&amp;gt;&amp;lt;td bgcolor=&quot;blue&quot;&amp;gt;blue&amp;lt;/td&amp;gt;&amp;lt;td bgcolor=&quot;blue&quot;&amp;gt;inside&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
        &amp;lt;tr&amp;gt;&amp;lt;td bgcolor=&quot;green&quot;&amp;gt;green&amp;lt;/td&amp;gt;&amp;lt;td bgcolor=&quot;green&quot;&amp;gt;MGMT&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
    &amp;lt;/table&amp;gt;
  &amp;gt;];

  subgraph cluster_pp {
    label=&quot;Patch panel&quot;;
    graph [fillcolor=&quot;burlywood&quot;, style=&quot;filled, rounded&quot;];
    node [shape=&quot;record&quot;, fillcolor=&quot;white&quot;, style=&quot;filled&quot;];
    edge [style=&quot;invis&quot;];

    node [label=&quot;1&quot;] p1;
    node [label=&quot;2&quot;] p2;
    node [label=&quot;3&quot;] p3;

    {rank=&quot;same&quot;; p1; p2; p3;}
    p1 -- p2 -- p3;
  }

  subgraph cluster_webmo {
    label=&quot;WebMO and cluster storage\n[RACK 1]&quot;;
    edge [style=&quot;invis&quot;];
    node [shape=&quot;record&quot;];

    node [label=&quot;ETH1&quot;] webmo1;
    node [label=&quot;ETH2&quot;] webmo2;
    node [label=&quot;ETHM&quot;] webmom;

    {rank=&quot;same&quot;; webmo1; webmo2; webmom;}
    webmo1 -- webmo2 -- webmom;
  }

  subgraph cluster_achassis1 {
    label=&quot;Chassis 1 - Compute nodes 101-114\n[RACK 1]&quot;;
    edge [style=&quot;invis&quot;];
    node [shape=&quot;record&quot;];

    node [label=&quot;MM1&quot;] ac1mm ;
    node [label=&quot;4&quot;] ac1p4;
    node [label=&quot;3&quot;] ac1p3;
    node [label=&quot;2&quot;] ac1p2;
    node [label=&quot;1&quot;] ac1p1;

    {rank=&quot;same&quot;; ac1p1; ac1p2; ac1p3; ac1p4; ac1mm;}
    ac1p1 -- ac1p2 -- ac1p3 -- ac1p4 -- ac1mm;
  }

  subgraph cluster_achassis2 {
    label=&quot;Chassis 2 - Compute nodes 201-214\n[RACK 3]&quot;;
    edge[style=&quot;invis&quot;];
    node [shape=&quot;record&quot;];

    node [label=&quot;MM1&quot;] ac2mm;
    node [label=&quot;1&quot;] ac2p1;
    node [label=&quot;2&quot;] ac2p2;
    node [label=&quot;3&quot;] ac2p3;
    node [label=&quot;4&quot;] ac2p4;

    {rank=&quot;same&quot;; ac2p1; ac2p2; ac2p3; ac2p4; ac2mm}
    ac2p1 -- ac2p2 -- ac2p3 -- ac2p4 -- ac2mm;
  }

  subgraph cluster_compute_mgmt_node {
    label=&quot;Compute management node\n[RACK 2]&quot;;
    edge [style=&quot;invis&quot;];
    node [shape=&quot;record&quot;];

    node [label=&quot;2&quot;] x2 ;
    node [label=&quot;1&quot;] x1 ;

    {rank=&quot;same&quot;; x1; x2;}
    x1 -- x2;
  }

  subgraph cluster_as {
    label=&quot;Compute cluster switch&quot;;
    graph [fillcolor=&quot;burlywood1&quot;, style=&quot;filled&quot;];
    node [shape=&quot;record&quot;, fillcolor=&quot;white&quot;, style=&quot;filled&quot;];
    edge [style=&quot;invis&quot;];

    node [label=&quot;1&quot;] asw1;
    node [label=&quot;2&quot;] asw2;
    node [label=&quot;3&quot;] asw3;
    node [label=&quot;4&quot;] asw4;
    node [label=&quot;5&quot;] asw5;
    node [label=&quot;6&quot;] asw6;
    node [label=&quot;7&quot;] asw7;
    node [label=&quot;8&quot;] asw8;

    {rank=&quot;same&quot;; asw1; asw2; asw3; asw4; asw5; asw6; asw7; asw8;}
    asw1 -- asw2 -- asw3 -- asw4 -- asw5 -- asw6 -- asw7 -- asw8;
  }

  subgraph cluster_cs {
    label=&quot;Cisco switch [RACK 2]&quot;;
    graph [fillcolor=&quot;burlywood1&quot;, style=&quot;filled&quot;];
    node [shape=&quot;record&quot;, fillcolor=&quot;white&quot;, style=&quot;filled&quot;];
    edge [style=&quot;invis&quot;];

    node [label=&quot;1&quot;] cs1;
    node [label=&quot;2&quot;] cs2;
    node [label=&quot;3&quot;] cs3;
    node [label=&quot;4&quot;] cs4;
    node [label=&quot;19&quot;] cs19;

    {rank=&quot;same&quot;; cs1; cs2; cs3; cs4; cs19;}
    cs1 -- cs2 -- cs3 -- cs4 -- cs19;
  }

  align_chassis [style=&quot;invis&quot;];
  align_chassis -- ac1mm [style=&quot;invis&quot;];
  align_chassis -- ac2mm [style=&quot;invis&quot;];

  x1 -- asw1 [color=&quot;blue&quot;];
  p2 -- x2 [color=&quot;red&quot;];
  p1:sw -- cs1 [color=&quot;red&quot;];
  asw3 -- ac1mm [color=&quot;green&quot;, penwidth=2, constraint=&quot;false&quot;];
  asw5 -- webmom [color=&quot;green&quot;, penwidth=2];
  asw7 -- ac2mm [color=&quot;green&quot;, penwidth=2, constraint=&quot;false&quot;];
  webmo1:sw -- cs19:ne [color=&quot;white:red:white&quot;];
  webmo2-- asw6 [color=&quot;blue&quot;];
  ac1p1 -- asw2 [color=&quot;blue&quot;];
  asw4 -- ac2p4 [color=&quot;blue&quot;, constraint=&quot;false&quot;];
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To generate the diagram with &lt;a href=&quot;https://graphviz.org/&quot;&gt;Graphviz&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% dot -Tpng graph.dot -o graph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To generate the diagram with PlantUML via a self-managed instance of &lt;a href=&quot;https://kroki.io/&quot;&gt;Kroki&lt;/a&gt; (&lt;a href=&quot;http://www.duskopijetlovic.com/freebsd/howto/diagram/java/2022/02/26/freebsd-java-kroki-diagrams.html&quot;&gt;How to Run Kroki on FreeBSD 13 with Java&lt;/a&gt; or &lt;a href=&quot;http://www.duskopijetlovic.com/freebsd/docker/vm/virtualization/howto/diagram/2022/02/25/freebsd-docker-linux-kroki-diagrams.html&quot;&gt;How to Run Kroki on FreeBSD 13 with vm-bhyve and Debian GNU/Linux VM&lt;/a&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat \
 wiring.dot | \ 
 http \
 http://localhost:8000/plantuml/png \
 Content-Type:text/plain &amp;gt; \
 wiring.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv wiring.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/wiring.png&quot; alt=&quot;Displaying a png image a network wiring diagram created by Graphviz invoked via Kroki&quot; title=&quot;Displaying a png image a network wiring diagram created by Graphviz invoked via Kroki&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.webmo.net/&quot;&gt;WebMO&lt;/a&gt; server and cluster storage: 1U (1 rack unit) Lenovo server
    &lt;ul&gt;
      &lt;li&gt;3 Ethernet ports (2 Ethernet ports and an Ethernet Management Port)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Compute management node: 1U (1 rack unit) IBM server
    &lt;ul&gt;
      &lt;li&gt;2 Ethernet ports&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Chassis 1 wtth compute nodes 101-114: IBM blade server with 14 blades
    &lt;ul&gt;
      &lt;li&gt;Module with 4 Ethernet ports&lt;/li&gt;
      &lt;li&gt;Management module with KVM (keyboard, video, monitor) and an Ethernet Managemet Port&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Chassis 2 with compute nodes 201-214: IBM blade server with 14 blades
    &lt;ul&gt;
      &lt;li&gt;Module with 4 Ethernet ports&lt;/li&gt;
      &lt;li&gt;Management module with KVM (keyboard, video, monitor) and an Ethernet Managemet Port&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
For testing layouts, you can use your own instance of the Graphviz Visual Editor &lt;a href=&quot;http://www.duskopijetlovic.com/freebsd/bhyve/virtualization/graphviz/graph/visualization/2022/02/08/freebsd-bhyve-graph-editors.html&quot;&gt;How To Install Graphviz Visual Editor on FreeBSD in a Linux Guest in Bhyve&lt;/a&gt; or if you prefer use it online provided by its author &lt;a href=&quot;http://magjac.com/graphviz-visual-editor/&quot;&gt;Graphviz Visual Editor - Magnus Jacobsson&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/21935109/how-do-i-style-the-ports-of-record-based-nodes-in-graphviz&quot;&gt;How do I style the ports of record based nodes in GraphViz?&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 4, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/1477532/how-to-force-position-of-edges-in-graphviz&quot;&gt;How to force position of edges in graphviz?&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 4, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.graphviz.org/pdf/dotguide.pdf&quot;&gt;Drawing graphs with &lt;em&gt;dot&lt;/em&gt;&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 4, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://rtomaszewski.blogspot.com/search/label/diagram&quot;&gt;Physical network diagram generated from dot config language&lt;/a&gt; &lt;br /&gt;
(Posted on Dec30, 2013)&lt;br /&gt;
(Retrieved on Mar 4, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.webmo.net/&quot;&gt;WebMO - a web-based interface to computational chemistry packages&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Fri, 04 Mar 2022 21:08:02 -0800</pubDate>
        <link>http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/documentation/2022/03/04/graphviz-and-koki-server-wiring-diagram.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/graph/graphviz/plaintext/text/tex/latex/visualization/documentation/2022/03/04/graphviz-and-koki-server-wiring-diagram.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>How To Create Networking Diagrams with Graphviz and Kroki</title>
        <description>&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell:  csh&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat graph.dot
graph networkdiagram {

  /*
     Colours for the lines relate to the line speed
     green is for 100 Mbit (100 Mb/s) (IBM Management)
     blue is for Gigabit (1 Gb/s)
     red is for 10 Gigabit (10 Gb/s)
  */

  imagepath=&quot;/usr/home/dusko/scratch/graphviz_network/images&quot;

  label=&quot;\nCompute Cluster Network Diagram&quot;;

  node [shape=&quot;none&quot;, fontname=&quot;arial&quot;, fontsize=10, labelloc=&quot;b&quot;, color=&quot;#ffffff&quot;];
  splines=&quot;compound&quot;;

  fw [label=&quot;Edge firewall&quot;, image=&quot;firewall.png&quot;];
  panel [label=&quot;Patch panel&quot;, image=&quot;patchPanel24Port.png&quot;];
  sw1 [label=&quot;Cisco switch&quot;, image=&quot;gigabitSwitch.png&quot;];
  sw2 [label=&quot;Compute cluster switch&quot;, image=&quot;gigabitSwitch.png&quot;];
  srv1 [label=&quot;WebMO and cluster storage&quot;, image=&quot;rackmountServer1U.png&quot;];
  srv2 [label=&quot;Compute nodes 101-114&quot;, image=&quot;serverBlades.png&quot;];
  srv3 [label=&quot;Compute nodes 201-214&quot;, image=&quot;serverBlades.png&quot;];
  srv4 [label=&quot;Compute management node&quot;, image=&quot;rackmountServer1U.png&quot;];
  cloud [label=&quot;Internet&quot;, image=&quot;cloud.png&quot;];

  cloud -- fw [color=&quot;red&quot;];
  fw -- panel [color=&quot;red&quot;];
  sw1 -- panel [color=&quot;red&quot;];
  panel -- srv4 [color=&quot;blue&quot;];

  {
    rank=&quot;same&quot;;
    srv1; srv2; srv3; srv4;
  }

  srv1 -- sw1 [color=&quot;blue&quot;];
  srv1 -- sw2 [color=&quot;blue&quot;];
  srv1 -- sw2 [color=&quot;green&quot;];
  srv2 -- sw2 [color=&quot;blue&quot;];
  srv2 -- sw2 [color=&quot;green&quot;];
  srv3 -- sw2 [color=&quot;blue&quot;];
  srv3 -- sw2 [color=&quot;green&quot;];
  srv4 -- sw2 [color=&quot;blue&quot;];
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To generate the diagram with &lt;a href=&quot;https://graphviz.org/&quot;&gt;Graphviz&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% dot -Tpng graph.dot -o graph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To generate the diagram with PlantUML via a self-managed instance of &lt;a href=&quot;https://kroki.io/&quot;&gt;Kroki&lt;/a&gt; (&lt;a href=&quot;http://www.duskopijetlovic.com/freebsd/howto/diagram/java/2022/02/26/freebsd-java-kroki-diagrams.html&quot;&gt;How to Run Kroki on FreeBSD 13 with Java&lt;/a&gt; or &lt;a href=&quot;http://www.duskopijetlovic.com/freebsd/docker/vm/virtualization/howto/diagram/2022/02/25/freebsd-docker-linux-kroki-diagrams.html&quot;&gt;How to Run Kroki on FreeBSD 13 with vm-bhyve and Debian GNU/Linux VM&lt;/a&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat \
 graph.dot | \
 http \
 http://localhost:8000/plantuml/png \
 Content-Type:text/plain &amp;gt; \
 graph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
Supported output formats in PlantUML:  png, svg, jpeg, base64, txt or utxt.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv graph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/graphviz-network-diagram.png&quot; alt=&quot;Displaying a png image of a network diagram created by Graphviz&quot; title=&quot;Displaying a png image of a network diagram created by Graphviz&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
Online Graphviz tools&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;For realtime collaboration: &lt;a href=&quot;http://graphvizrepl.com&quot;&gt;http://graphvizrepl.com&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Repository with the code for graphvizrepl.com:  &lt;a href=&quot;https://github.com/caseywatts/graphviz-repl&quot;&gt;https://github.com/caseywatts/graphviz-repl&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;blockquote&gt;
      &lt;p&gt;Graphviz-REPL gives you a two-pane interface for quickly creating and 
iterating through graphviz diagrams. You type DOT syntax on the left, 
and the image will appear on the right after just a moment.&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mikegriffin.ie/blog/20110308-a-graphviz-tutorial&quot;&gt;How to create a network diagram with Graphviz - A graphviz tutorial&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/mgriffin/graphviz_network&quot;&gt;Repository with the code Mike Griffin used in his graphviz tutorial blog post above&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mamchenkov.net/wordpress/2015/08/20/graphviz-dot-erds-network-diagrams/&quot;&gt;Using Graphviz dot for ERDs, network diagrams and more&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://kontrolissues.net/2017/02/05/auto-network-diagram-with-graphviz/&quot;&gt;Auto Network Diagram with Graphviz&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://crashedmind.github.io/PlantUMLHitchhikersGuide/NetworkUsersMachines/NetworkUsersMachines.html&quot;&gt;The Hitchhiker’s Guide to PlantUML - Create a Diagram of a Typical Network&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://medium.com/powerof2/graphviz-for-network-visualization-9f45693d69d8&quot;&gt;Graphviz for Network Visualization (Draw network diagrams from config files)&lt;/a&gt;&lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.graphviz.org/doc/info/shapes.html&quot;&gt;Graphviz - Node Shapes&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://renenyffenegger.ch/notes/tools/Graphviz/examples/index&quot;&gt;Graphviz (dot) examples&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://renenyffenegger.ch/notes/development/databases/SQL/data-types/&quot;&gt;Plotting the hierarchy of SQL data types with graphviz/dot&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://renenyffenegger.ch/notes/tools/Graphviz/examples/organization-chart&quot;&gt;Graphviz example: organization chart&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/7374108/graphviz-node-placement-and-rankdir/&quot;&gt;GraphViz Node Placement and Rankdir&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://renenyffenegger.ch/notes/tools/Graphviz/examples/edge-crossing&quot;&gt;Graphviz (dot) examples: crossing of edges - How crosssing of edges can be eliminated&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/9238672/how-does-a-script-optimally-layout-a-pure-hierarchical-graphviz-dot-graph&quot;&gt;How does a script optimally layout a pure hierarchical graphviz/dot graph?&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://mikemol.github.io/jekyll/update/nodes/edges/labels/layout/graphviz/dot/2018/01/13/graphviz-technique-nodes-as-edge-labels.html&quot;&gt;Nodes as Labels&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.cisco.com/web/about/ac50/ac47/2.html&quot;&gt;The Cisco network topology icons&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 3, 2022)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Thu, 03 Mar 2022 20:17:02 -0800</pubDate>
        <link>http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/03/03/graphviz-servers-networking-diagram.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/tex/latex/visualization/sysadmin/documentation/2022/03/03/graphviz-servers-networking-diagram.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>java</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>tex</category>
        
        <category>latex</category>
        
        <category>visualization</category>
        
        <category>sysadmin</category>
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>Additional Examples of Diagrams Created from Textual Descriptions with PlantUML</title>
        <description>&lt;p&gt;OS:  FreeBSD 13 &lt;br /&gt;
Shell:  csh &lt;br /&gt;
Python version:  3.8.12&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Kroki provides an HTTP API to create diagrams from textual descriptions. 
It handles both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GET&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;POST&lt;/code&gt; requests. 
When using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GET&lt;/code&gt; requests, your diagram must be encoded in the URI (URL) 
using a deflate + base64 algorithm.&lt;br /&gt;
If you don’t want to use deflate and base64, you can also send your 
diagram as plain text using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;POST&lt;/code&gt; requests.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;&lt;br /&gt;
In the following examples, I use the &lt;a href=&quot;https://httpie.io/&quot;&gt;HTTPie&lt;/a&gt; command 
line HTTP client and &lt;a href=&quot;https://curl.se/&quot;&gt;curl&lt;/a&gt; command line tool and library 
for executing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GET&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;POST&lt;/code&gt; requests.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;colours&quot;&gt;Colours&lt;/h3&gt;

&lt;h4 id=&quot;send-the-data-from-a-file-in-a-post-request-with-png-as-the-output-format&quot;&gt;Send the Data from a File in a POST Request with PNG as the Output Format&lt;/h4&gt;

&lt;p&gt;Print all all named colours suggested by PlantUML using a special diagram description:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat colors_plantuml.txt 
@startuml
colors
@enduml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat \
 colors_plantuml.txt | \
 http \
 http://localhost:8000/plantuml/png \
 Content-Type:text/plain &amp;gt; \
 colors_plantuml.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv colors_plantuml.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/colors_plantuml.png&quot; alt=&quot;Displaying a png image of all colours supported by PlantUML&quot; title=&quot;Displaying a png image of all colours supported by PlantUML&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://plantuml.com/color&quot;&gt;Choosing colors - PlantUML&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://github.com/qywx/PlantUML-colors&quot;&gt;qywx / PlantUML-colors&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://kroki.io/#support&quot;&gt;Kroki - Diagram types and output formats&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;gantt-chart&quot;&gt;Gantt Chart&lt;/h3&gt;

&lt;h4 id=&quot;send-data-from-a-file-in-a-post-request-with-svg-as-the-output-format&quot;&gt;Send Data from a File in a POST Request with SVG as the Output Format&lt;/h4&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://www.linux-magazine.com/Issues/2020/235/PlantUML-Diagrams&quot;&gt;Drawing diagrams with PlantUML&lt;/a&gt;  &lt;br /&gt;
(Linux Magazine article from June 2020 &lt;a href=&quot;https://www.linux-magazine.com/Issues/2020/235&quot;&gt;Issue 235/2020&lt;/a&gt;)  &lt;br /&gt;
(Retrieved on Mar 2, 2022)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat gantt_plantuml.txt
@startgantt
&apos; Based on https://www.linux-magazine.com/Issues/2020/235/PlantUML-Diagrams
scale 1.5
Project starts 2022/03/02
[Prestudy] lasts 10 days and is colored in Lavender/Blue
[Milestone 1] happens at [Prestudy]&apos;s end
[System simulation] lasts 9 days and is colored in Coral/Green and starts 1 day after [Prestudy]&apos;s end
[Use cases def.] lasts 7 days and ends at [Prestudy]&apos;s end
[Compliance\nspecs] lasts 3 days and ends at [Use cases def.]&apos;s start
[Select testers] is colored in Coral/Green
[Select testers] lasts 5 days and starts at [Use cases def.]&apos;s start
[Train testers] starts 1 days after [Milestone 1]&apos;s end and lasts 7 days
@endgantt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat \
 gantt_plantuml.txt | \
 http \
 http://localhost:8000/plantuml/png \
 Content-Type:text/plain &amp;gt; \
 gantt_plantuml.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv gantt_plantuml.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gantt_plantuml.png&quot; alt=&quot;Displaying a png image of a Gantt chart example created with PlantUML&quot; title=&quot;Displaying a png image of a Gantt chart example created with PlantUML&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;mind-map&quot;&gt;Mind Map&lt;/h3&gt;

&lt;h4 id=&quot;output-from-get---encoded-in-the-uri-url-using-a-deflate--base64-algorithm&quot;&gt;Output from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GET&lt;/code&gt; - Encoded in the URI (URL) using a deflate + base64 algorithm&lt;/h4&gt;

&lt;p&gt;Based on &lt;a href=&quot;https://github.com/mattjhayes/PlantUML-Examples/blob/master/docs/Misc/BlogSource/Other-Uses-for-PlantUML/tasks-diagram.md&quot;&gt;PlantUML-Examples repo&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Mar 2, 2022)&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mattjhayes.com/2019/08/17/diagrams-as-code-plantuml/&quot;&gt;Diagrams as Code (PlantUML)&lt;/a&gt; &lt;br /&gt;
(Retrieved on Mar 2, 2022)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat mindmap_plantuml.txt
@startuml
&apos; Based on https://github.com/mattjhayes/PlantUML-Examples/blob/master/docs/Misc/BlogSource/Other-Uses-for-PlantUML/tasks-diagram.md
&apos; https://mattjhayes.com/2019/08/17/diagrams-as-code-plantuml/
```plantuml
@startmindmap
skinparam ArrowColor DarkGrey
&amp;lt;style&amp;gt;
mindmapDiagram {
  node {
    Padding 15
    Margin 15
    BackGroundColor YellowGreen
    FontColor DarkSlateGrey
    LineColor White
    LineThickness 1.0
    MaximumWidth 320
  }
  rootNode {
    Padding 15
    Margin 15
    BackGroundColor YellowGreen
    FontColor DarkSlateGrey
    FontSize 18
    LineColor White
    LineThickness 1.0
  }
  leafNode {
    Padding 15
    Margin 15
    BackGroundColor LightGray
    FontColor DarkSlateGrey
    FontSize 15
    LineColor ForestGreen
    LineThickness 2.0
  }
  &apos; Styles to apply to tasks based on status:
  &apos; in progress (i)
  .i {
    BackgroundColor SkyBlue
  }
  &apos; completed (c)
  .c {
    BackgroundColor LightSlateGray
    FontStyle italic
    FontColor DarkGray
  }
  &apos; urgent (u)
  .u {
    BackgroundColor OrangeRed
    FontStyle bold
  }
  &apos; delegated (d)
  .d {
    BackgroundColor Gold
  }
}
&amp;lt;/style&amp;gt;
&apos; Legend colours need to be updated manually :-(
legend
|&amp;lt;back:LightGray&amp;gt;&amp;lt;b&amp;gt;Not Started.&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:SkyBlue&amp;gt;&amp;lt;b&amp;gt;In Progress.&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:LightSlateGrey&amp;gt;&amp;lt;i&amp;gt;Completed     .&amp;lt;/i&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:OrangeRed&amp;gt;&amp;lt;b&amp;gt;Urgent        .&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:Gold&amp;gt;&amp;lt;b&amp;gt;Delegated   .&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
|&amp;lt;back:YellowGreen&amp;gt;&amp;lt;b&amp;gt;Branch        .&amp;lt;/b&amp;gt;&amp;lt;/back&amp;gt;|
endlegend

* Current Tasks

 * Schedule Project Meeting &amp;lt;&amp;lt;u&amp;gt;&amp;gt;
  * Review RFP document &amp;lt;&amp;lt;i&amp;gt;&amp;gt;
  * Create meeting agenda &amp;lt;&amp;lt;i&amp;gt;&amp;gt;
  * Attend RFP workshop with customer

 * Website Architecture
  * Write Draft Architecture Document &amp;lt;&amp;lt;i&amp;gt;&amp;gt;
  * Discuss with Customer and get feedback &amp;lt;&amp;lt;u&amp;gt;&amp;gt;
  * Update based on Feedback

 * Staging Environment Build
  * Q/A High-Level Design &amp;lt;&amp;lt;i&amp;gt;&amp;gt;
  * Design for Legacy Connection (Team 1) &amp;lt;&amp;lt;d&amp;gt;&amp;gt;
  * Design for Portal (Team 2) &amp;lt;&amp;lt;d&amp;gt;&amp;gt;

@endmindmap
@enduml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Send a POST request using &lt;a href=&quot;https://httpie.org/&quot;&gt;HTTPie&lt;/a&gt;, &lt;a href=&quot;https://docs.kroki.io/kroki/setup/http-clients/&quot;&gt;HTTP Clients - Kroki documentation&lt;/a&gt; to generate the mind map image.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% http \
 http://localhost:8000/ \
 diagram_type=&apos;plantuml&apos; \
 output_format=&apos;png&apos; \
 diagram_source=&apos;@mindmap_plantuml.txt&apos; \
 &amp;gt; mindmap_plantuml.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv mindmap_plantuml.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/mindmap_plantuml.png&quot; alt=&quot;Displaying a png image of a Mind map example created with PlantUML&quot; title=&quot;Displaying a png image of a Mind map example created with PlantUML&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Alternatively, you can display the image in a web browser.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python
 
% command -v python3
 
% command -v python3.8
/usr/local/bin/python3.8
 
% ls -lh /usr/local/bin/python*
-r-xr-xr-x  1 root  wheel   5.1K Feb  2 17:12 /usr/local/bin/python3.8
-r-xr-xr-x  1 root  wheel   3.1K Feb  2 17:12 /usr/local/bin/python3.8-config
lrwxr-xr-x  1 root  wheel    50B Feb 12 17:41 /usr/local/bin/pythontex -&amp;gt; ../share/texmf-dist/scripts/pythontex/pythontex.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.8 --version
Python 3.8.12
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Using a Python to encode your diagram using deflate + base64:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat \
 mindmap_plantuml.txt | \
 python3.8 -c \
 &quot;import sys; import base64; import zlib; \
 print(base64.urlsafe_b64encode(zlib.\
 compress(sys.stdin.read().encode(&apos;utf-8&apos;), 9)).decode(&apos;ascii&apos;))&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above command returns a value:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;eNq9VU1v2zgQvetXzC1uAFlxFsW2gWEktpvsAk7rjRMEewsljiXWFCnwI47b5r93SEuO0ySH7mEFCJDIx_feDGfIU-uYcb6WyQGMmUUOWkHlXGNPsqwUrvJ5v9B1VjPnvlZsgzabS6bczeUs_fTA6kbSSC51Tgjr0GRcFza7FLbIxlKXC-1NgdkXV6FJbyzadKlN2jFkjtmVTblgpWF1v-ZkotN-Eoz6x0eDj9nRh2zwZ9bCbcpsWmiOaRPoKIQsubu7636S0xhZLRSvWZPYlVANo2VwZoxeT7TUBqbMrC4MbpKhdRuJo6RFT7cK8D0BUKQQPwDmjHOhShi8j7-XzJRCdX9jVhCX9opvuf9FKfWa2FHF-XOt3JPqQjKHUTrMzYTC7dxtJRzuxq4rUawUWguD_lGr-SBqX98K7ir44zgMPtJrtHaf_wejYW4hviEMPvyW8eBRIlv-V48zUVbuwrDNbzh8_4vDc23Quqc4n_s83vk8gEUoBgtOA2sauQkfsVAh7xqESst5exLR5LoxujSBpSfe0VhftDGGMMq9MBarzVh63AlRYVP_OOLsFXFh8cbCGH8b6F4SolEQjklRvJKZFrvV8qZE5aDno5B_Q-iLYarEK-S_aORa8h0VR4kli7Z5ZONvsF10qx6TYda22AHMkJxwCl7S4WBBIRFRinME3_BIWzPlmaTMn6S9REZ48mOYE_vJrhJGw3z0WTvaLOpy5P1hlo_oJczoRwdu8x2gfyuYt7v0KnQ_w0jkYjTZbU54aJF4sWiXraBws01w-7wqEvIRoNNdAt8A7vVkwI9Jp6hep6bctBlKDmHijQkmrkO5JgkcwqKokHvaQYr-KxYOLhFd6Lvh0I9GtDmHcIX3AtdwdT4HOrx9HQiGlIDt7MQgOYW6XcaCFNubP3Mu7GZYvdZmZSvdwJruDSi8dbpGE23cYm7pgKDDtwgHReG8wbj81oThqWFL92wSpi-tTOlW8dRlkX7S0gMj9RIdLKmOQk72IruJ9fTUtuctZJsZx8oQ0Sd1L4xWUWvsRazYQ_gnO4O_qCbSGd6jhClaUap9L9uBZWhO2stiAxOtFHkXpNO7Rro9Bu8Iz1_i59pQx7ag4w6UnFIau9sqfIc77CfVVW5A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy and paste the output to your web browser:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://localhost:8000/plantuml/svg/eNq9VU1v2zgQvetXzC1uAFlxFsW2gWEktpvsAk7rjRMEewsljiXWFCnwI47b5r93SEuO0ySH7mEFCJDIx_feDGfIU-uYcb6WyQGMmUUOWkHlXGNPsqwUrvJ5v9B1VjPnvlZsgzabS6bczeUs_fTA6kbSSC51Tgjr0GRcFza7FLbIxlKXC-1NgdkXV6FJbyzadKlN2jFkjtmVTblgpWF1v-ZkotN-Eoz6x0eDj9nRh2zwZ9bCbcpsWmiOaRPoKIQsubu7636S0xhZLRSvWZPYlVANo2VwZoxeT7TUBqbMrC4MbpKhdRuJo6RFT7cK8D0BUKQQPwDmjHOhShi8j7-XzJRCdX9jVhCX9opvuf9FKfWa2FHF-XOt3JPqQjKHUTrMzYTC7dxtJRzuxq4rUawUWguD_lGr-SBqX98K7ir44zgMPtJrtHaf_wejYW4hviEMPvyW8eBRIlv-V48zUVbuwrDNbzh8_4vDc23Quqc4n_s83vk8gEUoBgtOA2sauQkfsVAh7xqESst5exLR5LoxujSBpSfe0VhftDGGMMq9MBarzVh63AlRYVP_OOLsFXFh8cbCGH8b6F4SolEQjklRvJKZFrvV8qZE5aDno5B_Q-iLYarEK-S_aORa8h0VR4kli7Z5ZONvsF10qx6TYda22AHMkJxwCl7S4WBBIRFRinME3_BIWzPlmaTMn6S9REZ48mOYE_vJrhJGw3z0WTvaLOpy5P1hlo_oJczoRwdu8x2gfyuYt7v0KnQ_w0jkYjTZbU54aJF4sWiXraBws01w-7wqEvIRoNNdAt8A7vVkwI9Jp6hep6bctBlKDmHijQkmrkO5JgkcwqKokHvaQYr-KxYOLhFd6Lvh0I9GtDmHcIX3AtdwdT4HOrx9HQiGlIDt7MQgOYW6XcaCFNubP3Mu7GZYvdZmZSvdwJruDSi8dbpGE23cYm7pgKDDtwgHReG8wbj81oThqWFL92wSpi-tTOlW8dRlkX7S0gMj9RIdLKmOQk72IruJ9fTUtuctZJsZx8oQ0Sd1L4xWUWvsRazYQ_gnO4O_qCbSGd6jhClaUap9L9uBZWhO2stiAxOtFHkXpNO7Rro9Bu8Iz1_i59pQx7ag4w6UnFIau9sqfIc77CfVVW5A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here’s the result:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/mindmap_plantuml.png&quot; alt=&quot;Displaying a png image of a Mind map example created with PlantUML&quot; title=&quot;Displaying a png image of a Mind map example created with PlantUML&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;post-requests&quot;&gt;POST Requests&lt;/h3&gt;

&lt;p&gt;When calling Kroki with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;POST&lt;/code&gt; method, you don’t need to encode your diagram.&lt;/p&gt;

&lt;h4 id=&quot;post-requests-with-httpie-and-with-data-from-a-file&quot;&gt;POST Requests with HTTPie and with Data from a File&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat hello.txt
{ 
  &quot;diagram_source&quot;: &quot;digraph G { Hello -&amp;gt; World }&quot;,
  &quot;diagram_type&quot;: &quot;graphviz&quot;, 
  &quot;output_format&quot;: &quot;svg&quot; 
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% http http://localhost:8000/ &amp;lt; hello.txt &amp;gt; hello.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% rsvg-convert hello.svg &amp;gt; hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/hello-by-httpie-post.png&quot; alt=&quot;Displaying a Hello World png created by Graphviz from Kroki via POST method submitted with the HTTPie command line HTTP client&quot; title=&quot;Displaying a Hello World png image created with Graphviz from Kroki via POST method submitted with the HTTPie command line HTTP client&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;post-requests-with-curl&quot;&gt;POST Requests with curl&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% curl -d &apos;{ \
 &quot;diagram_source&quot;: &quot;digraph G { Hello -&amp;gt; World }&quot;, \
 &quot;diagram_type&quot;: &quot;graphviz&quot;, \
 &quot;output_format&quot;: &quot;svg&quot; \
 }&apos; \
 -X POST http://localhost:8000/ \
 &amp;gt; hello.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% rsvg-convert hello.svg &amp;gt; hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/hello-by-curl-post.png&quot; alt=&quot;Displaying a Hello World png created by Graphviz from Kroki via POST method submitted with curl&quot; title=&quot;Displaying a Hello World png image created with Graphviz from Kroki via POST method submitted with curl&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Wed, 02 Mar 2022 18:47:02 -0800</pubDate>
        <link>http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/plantuml/visualization/2022/03/02/plantsuml-kroki-textual-description-diagrams.html</link>
        <guid isPermaLink="true">http://localhost:4000/howto/diagram/java/graph/graphviz/plaintext/text/plantuml/visualization/2022/03/02/plantsuml-kroki-textual-description-diagrams.html</guid>
        
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>java</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
        <category>plaintext</category>
        
        <category>text</category>
        
        <category>plantuml</category>
        
        <category>visualization</category>
        
      </item>
    
      <item>
        <title>Procmail Recipe for Vacation Auto-Reply Only to Senders from Certain Domains</title>
        <description>&lt;hr /&gt;

&lt;p&gt;Sendmail version:  8.14.4 &lt;br /&gt;
OS: Red Hat Enterprise Linux Server release 6.8 (Santiago) 64-bit  &lt;br /&gt;
Procmail version:  v3.22  &lt;br /&gt;
Shell:  bash&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/redhat-release 
Red Hat Enterprise Linux Server release 6.8 (Santiago)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# procmail -v
procmail v3.22 2001/09/10
  Copyright (c) 1990-2001, Stephen R. van den Berg &amp;lt;srb@cuci.nl&amp;gt;
  Copyright (c) 1997-2001, Philip A. Guenther      &amp;lt;guenther@sendmail.com&amp;gt;

---- snip ----
Default rcfile:         $HOME/.procmailrc
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# arch
x86_64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ps $$
  PID TTY      STAT   TIME COMMAND
16113 pts/0    Ss     0:00 -bash

# printf %s\\n &quot;$SHELL&quot;
/bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print the version of sendmail and the options it was compiled with.
To exit, send EOF (End Of File) by pressing Ctrl + d.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -d0.1
Version 8.14.4
 Compiled with: DNSMAP HESIOD HES_GETMAILHOST LDAPMAP LOG MAP_REGEX
                MATCHGECOS MILTER MIME7TO8 MIME8TO7 NAMED_BIND NETINET NETINET6
                NETUNIX NEWDB NIS PIPELINING SASLv2 SCANF SOCKETMAP STARTTLS
                TCPWRAPPERS USERDB USE_LDAP_INIT

============ SYSTEM IDENTITY (after readcf) ============
      (short domain name) $w = yourdomainname
  (canonical domain name) $j = yourdomainname.com
         (subdomain name) $m = 
              (node name) $k = yourdomainname.com
========================================================

Recipient names must be specified
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# command -v procmail
/usr/bin/procmail
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# man -k procmail
procmail          (1)  - autonomous mail processor
procmailex        (5)  - procmail rcfile examples
procmailrc        (5)  - procmail rcfile
procmailsc        (5)  - procmail weighted scoring technique
procmail_selinux  (8)  - Security Enhanced Linux Policy for procmail processes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Switch to your user account, navigate to the home directory and create the procmail &lt;strong&gt;rcfile&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd
$ vi /home/dusko/.procmailrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /home/dusko/.procmailrc
#  Initialize some variables

SHELL=/bin/sh
PATH=/usr/sbin:/usr/bin:/bin

#  For IMAPS, the Maildir *must* end with a trailing slash.
MAILDIR=/home/dusko/Maildir/

DEFAULT=$MAILDIR
LOGFILE=$HOME/procmail.log
LOG=&quot;--- Logging ${LOGFILE} for ${LOGNAME}, &quot;
VERBOSE=yes
LOGABSTRACT=all

### ------------------------- ###
###                           ### 
###          Recipes          ### 
###                           ### 
### ------------------------- ###

# ----------------------------------------------------------------------
# Send all messages from Cron Daemon or logwatch 
# to the indicated directory (named .logwatch). 
# ----------------------------------------------------------------------
:0
* ^From:.*(Cron Daemon|logwatch@)
/home/dusko/Maildir/.logwatch/

# ----------------------------------------------------------------------
# Send all messages from Charlie Root to the indicated directory 
# (named .bsdperiodic). 
# ----------------------------------------------------------------------
:0
* ^From:.*Charlie Root
/home/dusko/Maildir/.bsdperiodic/

# ----------------------------------------------------------------------
# Send all emails from root to a directory named .logwatch.
# ----------------------------------------------------------------------
:0
* ^From:.*root
/home/dusko/Maildir/.logwatch/


# ----------------------------------------------------------------------
# Reply **only** to messages from tech.example.com domain, 
# OR from thedusko.com, OR from duskopijetlovic.com,
# OR from mail.example.com, OR example.com.
# 
#  W: Create a lock file, vacation.lock. This is to make sure that 
#     the lockfile is not removed until the pipe has finished.
#  h: Action line gets fed to the headers of the message.
#  c: Operate on a clone (copy) of the message. 
#
# - Check whether the message is addressed to dusko@tech.example.com. 
#     NOTE:  All capital letters in TO -&amp;gt; It is procmail&apos;s own 
#            special command/macro, which means: &apos;(To|Cc|Bcc)&apos;.
# - Do NOT reply to daemons (like bounces or mailing lists).
# - Avoid mail loops.   
# - Maintain a vacation database in the vacation.cache file.
# ----------------------------------------------------------------------
:0 Whc: $HOME/vacation.lock
# The next line works for the &apos;To: &apos; _OR_ &apos;Cc: &apos; field.
# as opposed to, for example:
#   * $^To:.*\&amp;lt;$\LOGNAME\&amp;gt;
# which only works for the &apos;To: &apos; field.
* ^TOdusko@tech.example.com
* !^FROM_DAEMON
* !^X-Loop: dusko@tech.example.com
* ^From:.+(@tech\.example\.com|@thedusko\.com|@duskopijetlovic\.com|@mail\.example\.com|@example\.com)
| /usr/bin/formail -rD 8192 $HOME/vacation.cache


# ----------------------------------------------------------------------
# Process this recipe if the name was not in the cache file.
#  e: Execute this recipe if the previous recipe&apos;s conditions 
#     were met but its action(s) couldn&apos;t be completed.
#  h: Action line gets fed to the headers of the message.
#  c: Operate on a clone (copy) of the message. 
# 
# - Create the email body via echo(1) commands, and pipe it to sendmail.
# - Sendmail&apos;s -oi options do note treat a line containing a sole 
#   period (.) as the end of input (rarely needed but traditionally 
#   included to be safe). 
# - Sendmail&apos;s -t option tells the program to determine the 
#   recepient(s) from the message headers. 
# ----------------------------------------------------------------------
:0 ehc
| (formail -rI&quot;Precedence: Auto&quot; \
-A&quot;X-Loop: dusko@tech.example.com&quot; ; \
echo &quot;I received your mail.&quot;; \
echo &quot;I&apos;m away and will return on Tuesday, March 1.&quot;; \
echo &quot;-- &quot;; cat $HOME/.signature \
) | $SENDMAIL -oi -t
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /home/computing/dusko/.signature 
- Dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;  &lt;br /&gt;
The capitalized &lt;strong&gt;TO&lt;/strong&gt; is procmail’s own regular expression matching
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;To:&lt;/code&gt; &lt;strong&gt;or&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Cc:&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Bcc:&lt;/code&gt; email address fields.&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;installation&quot;&gt;Installation&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Ensure that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.procmailrc&lt;/code&gt; rcfile is in your home directory.
(&lt;strong&gt;!! Do not forget to remove &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.procmailrc&lt;/code&gt; after it’s not needed anymore. !!&lt;/strong&gt;)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Customize the script for your needs:
    &lt;ul&gt;
      &lt;li&gt;Replace dusko@tech.example.com with your email address.&lt;/li&gt;
      &lt;li&gt;Customize your away message in the section with echo commands.&lt;/li&gt;
      &lt;li&gt;(Optional): If you want, you can use your signature separately by 
placing it in a file (.signature in your home directory).  If you don’t 
need it, don’t use the last line with echo command (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo &quot;-- &quot;; cat $HOME/.signature \&lt;/code&gt;).&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If you would like to add more domains to which your vacation 
out-of-office would reply, just add more domains. 
For example, for @scooby.test, you would use the following lines 
for ‘From:’ field: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;* ^From:.+@.scooby\.test&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;There is no special formatting for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.signature&lt;/code&gt; file so you can 
just copy/paste your signature into it.&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;uninstallationstopping-procmail-auto-reply&quot;&gt;Uninstallation/Stopping Procmail Auto-Reply&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Remove &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$HOME/.procmailrc&lt;/code&gt; rcfile.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Empty or delete the cache file.  &lt;br /&gt;
(When the condition (sender is from @tech.example.com or from @example.com 
or from thedusko.com or from duskopijetlovic.com or from mail.example.com), 
the first recipe creates a cache file in $HOME/vacation.cache.)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Mon, 28 Feb 2022 21:25:12 -0800</pubDate>
        <link>http://localhost:4000/sendmail/howto/dotfiles/2022/02/28/sendmail-procmail-recipe-vacation-reply-to-certain-domains.html</link>
        <guid isPermaLink="true">http://localhost:4000/sendmail/howto/dotfiles/2022/02/28/sendmail-procmail-recipe-vacation-reply-to-certain-domains.html</guid>
        
        
        <category>sendmail</category>
        
        <category>howto</category>
        
        <category>dotfiles</category>
        
      </item>
    
      <item>
        <title>sed - Stream Editor</title>
        <description>&lt;h2 id=&quot;replacing-strings-with-sed1-in-csh-on-freebsd&quot;&gt;Replacing Strings with sed(1) in csh on FreeBSD&lt;/h2&gt;

&lt;h3 id=&quot;replacing-a-single-string&quot;&gt;Replacing a Single String&lt;/h3&gt;

&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell: &lt;strong&gt;csh&lt;/strong&gt; (&lt;strong&gt;tcsh&lt;/strong&gt;)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version
13.0-RELEASE-p7

% uname -m
amd64

% uname -p
amd64

% sysctl -d hw.machine_arch
hw.machine_arch: System architecture
 
% sysctl hw.machine_arch
hw.machine_arch: amd64

% ps $$
  PID TT  STAT    TIME COMMAND
93946  0  Ss   0:00.05 -csh (csh)
 
% printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;Line one/&quot; &quot;Line two/&quot; &quot;Line three/&quot; &quot;Line four/&quot; &amp;gt; testfile.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat testfile.txt
Line one/
Line two/
Line three/
Line four/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sed(1)&lt;/code&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grep(1)&lt;/code&gt; – Search for a word “three” in 
a file (without changing the file content).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &quot;/three/p&quot; testfile.txt
Line three/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print the line number(s) matching the search string.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &quot;/three/=&quot; testfile.txt
3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test replacing a string in a line in a file (without changing the file content) 
and with displaying the file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &quot;s/three/3/p&quot; testfile.txt
Line 3/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed &quot;/three/s/three/3/&quot; testfile.txt
Line one/
Line two/
Line 3/
Line four/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test replacing a string in a line of a file (without changing the file content) 
and with displaying only the new content of the line to be changed.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &quot;/three/s/three/3/p&quot; testfile.txt
Line 3/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Replace a string in a line of a file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i&apos;.BAK&apos; -e &quot;/three/s/three/3/&quot; testfile.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i.BAK -e &quot;s/three/3/&quot; testfile.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 testfile.txt.BAK testfile.txt
--- testfile.txt.BAK    2022-02-27 11:23:31.545997000 -0800
+++ testfile.txt        2022-02-27 11:23:39.753589000 -0800
@@ -3 +3 @@
-Line three/
+Line 3/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat testfile.txt
Line one/
Line two/
Line 3/
Line four/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i testfile.txt.BAK testfile.txt
overwrite testfile.txt? (y/n [n]) y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;replacing-multiple-strings&quot;&gt;Replacing Multiple Strings&lt;/h3&gt;

&lt;p&gt;Test replacing two strings (multiple strings), one of which is a special 
character (in this example, forward slash ‘/’), in a line of a file 
(without changing the file content) and with displaying only the new 
content of the line to be changed.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &quot;/three/s/three\//3/p&quot; testfile.txt
Line 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat testfile.txt
Line one/
Line two/
Line three/
Line four/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Replace two strings (multiple strings), one of which is a special 
character (in this example, forward slash ‘/’), in a line of a file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i&apos;.BAK&apos; -e &quot;/three/s/three\//3/&quot; testfile.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 testfile.txt.BAK testfile.txt
--- testfile.txt.BAK    2022-02-27 11:24:10.790813000 -0800
+++ testfile.txt        2022-02-27 11:24:20.427687000 -0800
@@ -3 +3 @@
-Line three/
+Line 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat testfile.txt
Line one/
Line two/
Line 3
Line four/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;replacing-lines-strings-with-special-characters&quot;&gt;Replacing Lines (Strings) with Special Characters&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% head -1 input.pl
#!/usr/bin/perl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i .bkp &apos;s/\#\!\/usr\/bin\/perl/\#\!\/usr\/bin\/env perl/&apos; input.pl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 input.pl.bkp input.pl
--- input.pl.bkp        2022-02-27 12:53:28.352198000 -0700
+++ input.pl    2022-02-27 12:54:00.590181000 -0700
@@ -1 +1 @@
-#!/usr/bin/perl
+#!/usr/bin/env perl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% head -1 input.pl
#!/usr/bin/env perl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;TODO: Which Title?&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;replacing-a-line-with-partially-matched-strings-within-a-line&quot;&gt;Replacing a Line with Partially Matched Strings within a Line&lt;/h3&gt;

&lt;h3 id=&quot;the-match-criteria-does-not-have-to-be-the-whole-line&quot;&gt;The Match Criteria Does Not Have to be the Whole Line&lt;/h3&gt;

&lt;p&gt;You don’t have to match the whole line.&lt;/p&gt;

&lt;p&gt;Here’s an example of [TODO]???&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n path ~/.cshrc
19:set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Match a line with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set path&lt;/code&gt; at the &lt;strong&gt;beginning&lt;/strong&gt; of the line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &apos;/^set path/p&apos; ~/.cshrc
set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Match a line with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bin)&lt;/code&gt; at the &lt;strong&gt;end&lt;/strong&gt; of the line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &apos;/bin)$/p&apos; ~/.cshrc
set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Match a line with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set path&lt;/code&gt; at the &lt;em&gt;beginning&lt;/em&gt; of the line &lt;strong&gt;and&lt;/strong&gt; 
with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bin)&lt;/code&gt; at the &lt;em&gt;end&lt;/em&gt; of the same line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n &apos;/^set path.*bin)$/p&apos; ~/.cshrc
set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed \
 -i.bkp \
 &apos;s/^set path.*bin)$/set path = (\/sbin \/bin \/usr\/sbin \/usr\/bin \/usr\/local\/sbin \/usr\/local\/bin \$HOME\/bin \$HOME\/.local\/bin)/&apos; ~/.cshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
The following characters had to be escaped: forward slash (/) 
and the currency symbol a.k.a. a dollar sign ($).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /home/dusko/.cshrc.bkp \
 /home/dusko/.cshrc
--- /home/dusko/.cshrc.bkp      2022-02-27 16:44:09.410150000 -0700
+++ /home/dusko/.cshrc  2022-02-27 16:44:21.162085000 -0700
@@ -19 +19 @@
-set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin)
+set path = (/sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin $HOME/bin $HOME/.local/bin)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The above example is for illustration purposes – Of course, you could’ve 
appended the string by matching the end of the line and replacing that 
match with the needed string additon:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i.bkp &apos;s/bin)$/bin \$HOME\/.local\/bin)/&apos; ~/.cshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;less-complicated-example&quot;&gt;Less Complicated Example&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Task:&lt;/em&gt;  &lt;br /&gt;
In /etc/hosts file, replace a line
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.104 node104 node104.mycluster.myorg&lt;/code&gt; with this line
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.80.4 node104&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cp -i /etc/hosts /tmp/hosts.bak.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep -n 104 /etc/hosts
24:192.168.80.104 node104 node104.mycluster.myorg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &apos;/node104.mycluster.myorg/p&apos; /etc/hosts
192.168.80.104 node104 node104.mycluster.myorg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &apos;/^192.168.80.104/p&apos; /etc/hosts
192.168.80.104 node104 node104.mycluster.myorg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &apos;/^192.168.80.104/=&apos; /etc/hosts
24
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why is this not matching?:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &apos;/node104\.mycluster\.myorg$/p&apos; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for cat(1) for the option &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-e&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Display non-printing characters (see the -v option), and display 
a dollar sign (‘$’) at the end of each line.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep &apos;node104\.mycluster\.myorg&apos; hosts | cat -e
192.168.80.104 node104 node104.mycluster.myorg $
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Aha, there’s an extra space at the end of the line so with a space 
character at the end of the line this is now matching:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &apos;/node104\.mycluster\.node $/p&apos; /etc/hosts
192.168.80.104 node104 node104.mycluster.myorg 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or, you could’ve used a single dot or period (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt;) - the wildcard 
symbol in regular expressions (regex) for matching a single character.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &apos;/node104\.mycluster\.myorg.$/p&apos; /etc/hosts
192.168.80.104 node104 node104.mycluster.myorg 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The actual replacement:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
sed -i.bkp \
&apos;s/^192.*node104.mycluster.myorg.$/192.168.80.4 node104/&apos; \
/etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
--unified=0 \
/etc/hosts.bkp \
/etc/hosts
--- /etc/hosts.bkp      2022-02-27 14:19:22.572122073 -0700
+++ /etc/hosts  2022-02-27 14:27:20.128832801 -0700
@@ -24 +24 @@
-192.168.80.104 node104 node104 node104.mycluster.myorg
+192.168.80.4 node104
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
--unified=0 \
/tmp/hosts.bak.2 \
/etc/hosts
--- /tmp/hosts.bak.2    2022-02-27 14:04:40.098265137 -0700
+++ /etc/hosts  2022-02-27 14:27:20.128832801 -0700
@@ -24 +24 @@
-192.168.80.104 node104 node104.mycluster.myorg
+192.168.80.4 node104
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;insert-or-append-a-line-with-sed1&quot;&gt;Insert or Append a Line with sed(1)&lt;/h3&gt;

&lt;p&gt;Example for the following system:&lt;br /&gt;
OS: CentOS 5.2 (RHEL 5.2) &lt;br /&gt;
Shell: bash &lt;br /&gt;
User: root&lt;/p&gt;

&lt;p&gt;Task:&lt;br /&gt;
Add the following line to the end of the # Run gettys in standard 
runlevels section of the /etc/inittab file. (This enables hardware flow 
control and enables users to log in through the SOL (Serial Over LAN) console.)&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;7:2345:respawn:/sbin/agetty -h ttyS1 19200 vt102&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# wc -l inittab
53 inittab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n tty6 /etc/inittab
50:6:2345:respawn:/sbin/mingetty tty6

# sed -n &apos;/tty6/p&apos; /etc/inittab
6:2345:respawn:/sbin/mingetty tty6

# sed -n &apos;/tty6/=&apos; /etc/inittab
50
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n 44,50p /etc/inittab
# Run gettys in standard runlevels
1:2345:respawn:/sbin/mingetty tty1
2:2345:respawn:/sbin/mingetty tty2
3:2345:respawn:/sbin/mingetty tty3
4:2345:respawn:/sbin/mingetty tty4
5:2345:respawn:/sbin/mingetty tty5
6:2345:respawn:/sbin/mingetty tty6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Find lines with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tty6&lt;/code&gt; at the end.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed -n &apos;/tty6$/p&apos; /etc/inittab
6:2345:respawn:/sbin/mingetty tty6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Keep &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tty6&lt;/code&gt; at the end of that line and add a new line below it.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sed \
 -i.bkp \
 &apos;s/tty6$/tty6\n7:2345:respawn:\/sbin\/agetty -h ttyS1 19200 vt102/&apos; \
 /etc/inittab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# diff \
 --unified=0 \
 /etc/inittab.bkp \
 /etc/inittab
--- /etc/inittab.bkp    2008-06-14 14:46:34.000000000 -0700
+++ /etc/inittab        2022-02-27 18:39:42.000000000 -0700
@@ -50,0 +51 @@
+7:2345:respawn:/sbin/agetty -h ttyS1 19200 vt102
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;replacing-strings-with-sed1-in-bash-on-linux&quot;&gt;Replacing Strings with sed(1) in Bash on Linux&lt;/h2&gt;

&lt;h3 id=&quot;replacing-a-single-string-1&quot;&gt;Replacing a Single String&lt;/h3&gt;

&lt;p&gt;OS: RHEL 6.8 64-bit &lt;br /&gt;
Shell:  &lt;strong&gt;bash&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/redhat-release
Red Hat Enterprise Linux Server release 6.8 (Santiago)

# arch
x86_64

# ps $$
  PID TTY      STAT   TIME COMMAND
11324 pts/0    Ss     0:00 -bash

# printf %s\\n &quot;$SHELL&quot;
/bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Line one/&quot; &quot;Line two/&quot; &quot;Line three/&quot; &quot;Line four/&quot; &amp;gt; testfile.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat testfile.txt 
Line one/
Line two/
Line three/
Line four/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sed(1)&lt;/code&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grep(1)&lt;/code&gt; – Search for a string “three” in 
a file (without changing the file content).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &quot;/three/p&quot; testfile.txt 
Line three/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test replacing a string in a line in a file (without changing the file content).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &quot;s/three/3/p&quot; testfile.txt 
Line 3/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Replace a string in a line of a file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -i&apos;.BAK&apos; -e &quot;s/three/3/&quot; testfile.txt 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
 --unified=0 \
 testfile.txt.BAK \
 testfile.txt
--- testfile.txt.BAK    2022-02-27 20:01:16.699001452 -0700
+++ testfile.txt        2022-02-27 20:05:02.583942777 -0700
@@ -3 +3 @@
-Line three/
+Line 3/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat testfile.txt 
Line one/
Line two/
Line 3/
Line four/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cp -i testfile.txt.BAK testfile.txt
cp: overwrite `testfile.txt&apos;? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;replacing-multipe-strings&quot;&gt;Replacing Multipe Strings&lt;/h3&gt;

&lt;p&gt;Test replacing two strings (multiple strings), one of which is a special 
character (in this example, forward slash ‘/’), in a line of a file 
(without changing the file content) and with displaying only the new 
content of the line to be changed.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -n &quot;/three/s/three\//3/p&quot; testfile.txt
Line 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Replace two strings (multiple strings), one of which is a special 
character (in this example, forward slash ‘/’), in a line of a file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sed -i&apos;.BAK&apos; -e &quot;/three/s/three\//3/&quot; testfile.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff \
 --unified=0 \
 testfile.txt.BAK \
 testfile.txt
--- testfile.txt.BAK    2022-02-27 20:43:44.959112954 -0700
+++ testfile.txt        2022-02-27 20:47:57.760371813 -0700
@@ -3 +3 @@
-Line three/
+Line 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat testfile.txt
Line one/
Line two/
Line 3
Line four/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;sed---quoting-and-special-characters-in-cshtcsh-shell&quot;&gt;sed - Quoting and Special Characters in csh/tcsh Shell&lt;/h3&gt;

&lt;p&gt;On FreeBSD 13, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; shell:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps $$
 PID TT  STAT    TIME COMMAND
6578  4  Ss   0:00.22 -tcsh (tcsh)
 
$ printf %s\\n &quot;$SHELL&quot;
/bin/tcsh

$ diff /bin/csh /bin/tcsh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let’s say you need to change &lt;em&gt;sendmail&lt;/em&gt; settings so that submitted mail is 
forwarded to the host &lt;em&gt;test.host.domain&lt;/em&gt; for delivery, or for relaying
outward.  (In this example, it was needed to suppress MX lookups, which
is done by surrounding the hostname with square brackets.  Unless you
suppress it, the MSA will look up MX records for &lt;em&gt;test.host.domain&lt;/em&gt;
and, if found, will deliver to the MX records found.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ tail -1 /etc/mail/freebsd.submit.mc
FEATURE(`msp&apos;, `[127.0.0.1]&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo sed -i.bkp -e &apos;s/^FEATURE.*dnl$/FEATURE(`msp&apos;&quot;&apos;&quot;&apos;, `[test.host.domain]&apos;&quot;&apos;&quot;&apos;)dnl/&apos; /etc/mail/freebsd.submit.mc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ diff --unified=0 /etc/mail/freebsd.submit.mc.bkp /etc/mail/freebsd.submit.mc
--- /etc/mail/freebsd.submit.mc.bkp       2022-02-27 10:40:35.269642000 -0700
+++ /etc/mail/freebsd.submit.mc      2022-02-27 10:41:03.051256000 -0700
@@ -26 +26 @@
-FEATURE(`msp&apos;, `[127.0.0.1]&apos;)dnl
+FEATURE(`msp&apos;, `[test.host.domain]&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explanation: &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;s/^FEATURE.*dnl&lt;/code&gt; - Find a line beginning with &lt;strong&gt;FEATURE&lt;/strong&gt; and ending with &lt;strong&gt;dnl&lt;/strong&gt; &lt;br /&gt;
and replace it with this line:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FEATURE(`msp&apos;, `[test.host.domain]&apos;)dnl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In &lt;em&gt;csh&lt;/em&gt;/&lt;em&gt;tcsh&lt;/em&gt;, single and double quote marks quote each other:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ echo &apos;&quot;&apos;
&quot;
 
$ echo &quot;&apos;&quot;
&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ echo &quot;&apos;&quot; &apos;&quot;&apos;
&apos; &quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, quoting walk-through looks like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; To quote double quote marks: +   +                     +   +
                              |   |                     |   |
                              V   V                     V   V
&apos;s/^FEATURE.*dnl$/FEATURE(`msp&apos;&quot;&apos;&quot;&apos;, `[test.host.domain]&apos;&quot;&apos;&quot;&apos;)dnl/&apos;
^                              ^  ^                      ^ ^      ^ 
|                              |  |                      | |      |
| To quote single quote marks: +  +                      + +      |
|                                                                 |
|                                                                 |
+-------  Everything is inside these single quoute marks  --------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt; &lt;br /&gt;
&lt;a href=&quot;https://unix.stackexchange.com/questions/547274/use-sed-or-awk-command-to-replace-a-word-with-another-word-which-is-stored-in-va&quot;&gt;use sed or awk command to replace a word with another word which is stored in variable&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 27 Feb 2022 10:21:01 -0800</pubDate>
        <link>http://localhost:4000/unix/freebsd/rhel/linux/howto/oneliner/sed/cli/terminal/shell/script/2022/02/27/sed-stream-editor.html</link>
        <guid isPermaLink="true">http://localhost:4000/unix/freebsd/rhel/linux/howto/oneliner/sed/cli/terminal/shell/script/2022/02/27/sed-stream-editor.html</guid>
        
        
        <category>unix</category>
        
        <category>freebsd</category>
        
        <category>rhel</category>
        
        <category>linux</category>
        
        <category>howto</category>
        
        <category>oneliner</category>
        
        <category>sed</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>shell</category>
        
        <category>script</category>
        
      </item>
    
      <item>
        <title>Create Diagrams from Textual Descriptions with Graphviz, PlantUML and Kroki</title>
        <description>&lt;hr /&gt;

&lt;p&gt;OS: FreeBSD 13 &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;p&gt;Install Kroki or PlantUML as &lt;br /&gt;
per &lt;a href=&quot;http://www.duskopijetlovic.com/freebsd/howto/diagram/java/2022/02/26/freebsd-java-kroki-diagrams.html&quot;&gt;this&lt;/a&gt; &lt;br /&gt;
or &lt;a href=&quot;http://www.duskopijetlovic.com/freebsd/docker/vm/virtualization/howto/diagram/2022/02/25/freebsd-docker-linux-kroki-diagrams.html&quot;&gt;this&lt;/a&gt; &lt;br /&gt;
or &lt;a href=&quot;http://www.duskopijetlovic.com/freebsd/graphviz/graph/visualization/diagram/2022/02/09/freebsd-install-plantuml-server-locally.html&quot;&gt;this&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Start Kroki and/or PlantUML as explained in the above resources:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Start Kroki on FreeBSD 13 with Java, with the web server running locally on port 8000:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /path/to/kroki-server-directory

% java -jar kroki-server.jar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OR:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Start Kroki on FreeBSD 13 with vm-bhyve and Linux VM, with the web server running locally on port 8080:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% docker -H &quot;tcp://dusko@$DOCKER_HOST&quot;:2376 \
 run -d --name kroki -p 8080:8000 yuzutech/kroki
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OR:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Start PlantUML Server Locally on FreeBSD, with the web server running locally on port 8080:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /path/to/plantuml-server-directory

% mvn jetty:run
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
This page assumes that you started Kroki on FreeBSD 13 with Java, 
with the web server running locally on port 8000.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Install HTTPie (pronounced aych-tee-tee-pie), a command line HTTP client.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install py38-httpie
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;send-a-json-request-to-graphviz-library-running-on-kroki&quot;&gt;Send a JSON Request to Graphviz Library Running on Kroki&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% http \ 
 http://localhost:8000/ \
 diagram_type=&apos;graphviz&apos; \
 output_format=&apos;svg&apos; \
 diagram_source=&apos;digraph G {Hello-&amp;gt;World}&apos; &amp;gt; \
 hello.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file hello.svg
hello.svg: SVG Scalable Vector Graphics image

% rsvg-convert hello.svg &amp;gt; hello.png

% file hello.png
hello.png: PNG image data, 114 x 155, 8-bit/color RGBA, non-interlaced
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/hello.png&quot; alt=&quot;Displaying a Hello World png image created by Grapvhiz from Kroki&quot; title=&quot;Displaying a Hello World png image created by Grapvhiz from Kroki&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;send-a-file-to-plantuml-library-running-on-kroki&quot;&gt;Send a File to PlantUML Library Running on Kroki&lt;/h3&gt;

&lt;p&gt;For instance, send a DOT file (graph description language - mostly used by Graphviz) named hello.dot:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &apos;digraph G {&apos; &amp;gt; hello.dot
% printf %s\\n &apos;    Hello-&amp;gt;World&apos; &amp;gt;&amp;gt; hello.dot
% printf %s\\n &apos;}&apos; &amp;gt;&amp;gt; hello.dot 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat hello.dot
digraph G {
    Hello-&amp;gt;World
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat hello.dot | \
 http \
 http://localhost:8000/plantuml/svg Content-Type:text/plain &amp;gt; \
 hello.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat hello.dot | \ 
 http \
 http://localhost:8000/plantuml/svg Content-Type:text/plain &amp;gt; \
 hello.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file hello.svg
hello.svg: SVG Scalable Vector Graphics image
 
% rsvg-convert hello.svg &amp;gt; hello.png
 
% file hello.png
hello.png: PNG image data, 114 x 155, 8-bit/color RGBA, non-interlaced
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/hello-content-type-text-plain.png&quot; alt=&quot;Displaying a Hello World png image created by Grapvhiz from Kroki&quot; title=&quot;Displaying a Hello World png image created by Grapvhiz from Kroki&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;how-to-create-a-network-diagram-with-graphviz---send-a-file-to-plantuml-library-running-on-kroki&quot;&gt;How to Create a Network Diagram with Graphviz - Send a File to PlantUML Library Running on Kroki&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/mgriffin/graphviz_network&quot;&gt;Mike Griffin’s GitHub repository&lt;/a&gt; contains the code used in his &lt;a href=&quot;https://mikegriffin.ie/blog/20110308-a-graphviz-tutorial&quot;&gt;graphviz tutorial blog post&lt;/a&gt;.  &lt;br /&gt;
(Retrieved on Feb 26, 2022)&lt;/p&gt;

&lt;p&gt;If you don’t have Git on your system, install it:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Clone Mike Griffin’s GitHub repository with his code for Graphviz network diagram.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir ~/scratch
% cd ~/scratch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% git clone https://github.com/mgriffin/graphviz_network
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd graphviz_network
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -a
.          .git        graph.png       Makefile
..         graph.dot   images          README.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i graph.dot graph.dot.bak.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i&apos;.BAK.1&apos; -e &quot;/images/s/images\///&quot; graph.dot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 graph.dot.BAK.1 graph.dot
--- graph.dot.BAK.1     2022-02-26 10:50:49.928865000 -0800
+++ graph.dot   2022-02-26 10:50:54.897383000 -0800
@@ -19,4 +19,4 @@
-  sw1 [ label=&quot;192.168.1.101&quot; shape=none image=&quot;images/gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
-  sw2 [ label=&quot;192.168.1.100&quot; shape=none image=&quot;images/gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
-  sw3 [ label=&quot;192.168.1.252&quot; shape=none image=&quot;images/gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
-  sw4 [ label=&quot;192.168.1.251&quot; shape=none image=&quot;images/gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
+  sw1 [ label=&quot;192.168.1.101&quot; shape=none image=&quot;gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
+  sw2 [ label=&quot;192.168.1.100&quot; shape=none image=&quot;gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
+  sw3 [ label=&quot;192.168.1.252&quot; shape=none image=&quot;gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
+  sw4 [ label=&quot;192.168.1.251&quot; shape=none image=&quot;gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
@@ -27 +27 @@
-           image=&quot;images/router.png&quot; ,
+           image=&quot;router.png&quot; ,
@@ -31 +31 @@
-  ap1 [ label=&quot;192.168.1.61&quot; shape=none image=&quot;images/wireless.png&quot; labelloc=b color=&quot;#ffffff&quot;];
+  ap1 [ label=&quot;192.168.1.61&quot; shape=none image=&quot;wireless.png&quot; labelloc=b color=&quot;#ffffff&quot;];
@@ -33 +33 @@
-  servers [ label=&quot;Servers&quot; shape=none image=&quot;images/servers.png&quot; labelloc=b color=&quot;#ffffff&quot; ];
+  servers [ label=&quot;Servers&quot; shape=none image=&quot;servers.png&quot; labelloc=b color=&quot;#ffffff&quot; ];
@@ -35 +35 @@
-  cloud [ label=&quot;The Internet&quot; shape=none, image=&quot;images/cloud.png&quot; labelloc=b color=&quot;#ffffff&quot;]
+  cloud [ label=&quot;The Internet&quot; shape=none, image=&quot;cloud.png&quot; labelloc=b color=&quot;#ffffff&quot;]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -i&apos;.BAK.2&apos; -e &apos;6a\\
   imagepath=&quot;/usr/home/dusko/scratch/graphviz_network/images&quot;&apos; graph.dot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 graph.dot.BAK.2 graph.dot                                                              --- graph.dot.BAK.2     2022-02-26 10:50:54.897383000 -0800
+++ graph.dot   2022-02-26 10:53:42.544648000 -0800
@@ -6,0 +7 @@
+  imagepath=&quot;/usr/home/dusko/scratch/graphviz_network/images&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat graph.dot
graph switches {
  // colours for the lines relate to the line speed
  // #00bbff is for gigabit
  // #ffbb00 is for 100Mbit
  // #bbff00 is for 10 Mbit

  imagepath=&quot;/usr/home/dusko/scratch/graphviz_network/images&quot;
  label=&quot;Network Diagram&quot;;
  fontname=&quot;arial&quot;;

  node [
    shape=box,
    fontname=&quot;arial&quot;,
    fontsize=8,
    style=filled,
    color=&quot;#d3edea&quot;
  ];
  splines=&quot;compound&quot;

  sw1 [ label=&quot;192.168.1.101&quot; shape=none image=&quot;gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
  sw2 [ label=&quot;192.168.1.100&quot; shape=none image=&quot;gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
  sw3 [ label=&quot;192.168.1.252&quot; shape=none image=&quot;gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];
  sw4 [ label=&quot;192.168.1.251&quot; shape=none image=&quot;gigabitSwitch.png&quot; labelloc=b color=&quot;#ffffff&quot;];


  router [ label= &quot;192.168.1.250&quot;,
           shape=none ,
           image=&quot;router.png&quot; ,
           labelloc=b ,
           color=&quot;#ffffff&quot; ];

  ap1 [ label=&quot;192.168.1.61&quot; shape=none image=&quot;wireless.png&quot; labelloc=b color=&quot;#ffffff&quot;];

  servers [ label=&quot;Servers&quot; shape=none image=&quot;servers.png&quot; labelloc=b color=&quot;#ffffff&quot; ];

  cloud [ label=&quot;The Internet&quot; shape=none, image=&quot;cloud.png&quot; labelloc=b color=&quot;#ffffff&quot;]

  cloud -- router;
  router -- sw1 [color=&quot;#00bbff&quot;];
  sw1 -- sw2 [color=&quot;#ffbb00&quot;];
  sw1 -- sw3 [color=&quot;#ffbb00&quot;];
  sw1 -- ap1 [color=&quot;#bbff00&quot;];
  sw2 -- sw4 [color=&quot;#ffbb00&quot;];
  sw3 -- servers [color=&quot;#ffbb00&quot;];
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat \
 graph.dot | \
 http \
 http://localhost:8000/plantuml/png \
 Content-Type:text/plain &amp;gt; \
 graph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv graph.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/graphviz-plantuml-network-diagram.png&quot; alt=&quot;Displaying a png image of a computer network created by Grapvhiz from Kroki&quot; title=&quot;Displaying a png image of a computer network created by Grapvhiz from Kroki&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;tip-prevent-labels-overlapping-image-nodes-by-padding&quot;&gt;TIP: Prevent Labels Overlapping Image Nodes by Padding&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i images/gigabitSwitch.png .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv gigabitSwitch.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchOriginal.png&quot; alt=&quot;Displaying a png image of a Gigabit network switch icon&quot; title=&quot;Displaying a png image of a Gigabit network switch icon&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Press the &lt;strong&gt;right&lt;/strong&gt; mouse button for &lt;strong&gt;menu&lt;/strong&gt; (keyboard equivalent: &lt;strong&gt;?&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;You can determine how large the selection rectangle is (in image 
coordinates) by bringing up the xv info window. Select &lt;strong&gt;Image Info&lt;/strong&gt; from 
the &lt;strong&gt;Windows&lt;/strong&gt; menu xv controls window or by pressing the &lt;strong&gt;i&lt;/strong&gt; key inside 
any open xv window.&lt;/p&gt;

&lt;p&gt;Windows &amp;gt; Image Info &amp;gt; Resolution: 77x78&lt;/p&gt;

&lt;p&gt;So, this image’s size is 77x78.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;&lt;br /&gt;
For the rest of the steps, keep the &lt;strong&gt;Image Info&lt;/strong&gt; window &lt;strong&gt;opened&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Click on &lt;strong&gt;Pad&lt;/strong&gt; button.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xv-pad-menu.png&quot; alt=&quot;Displaying a PNG image of xv&apos;s Pad menu&quot; title=&quot;Displaying a PNG image of xv&apos;s Pad menu&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;It brings up the dialog box shown below
    &lt;ul&gt;
      &lt;li&gt;Keyboard Equivalent: &lt;strong&gt;P&lt;/strong&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xv-pad-dialog-box.png&quot; alt=&quot;Displaying a PNG image of xv&apos;s Pad dialog box&quot; title=&quot;Displaying a PNG image of xv&apos;s Pad dialog box&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The Pad command lets you add a border of a specified size to the edges 
of the image. It also lets you resize images to some desired size without 
manually expanding or cropping the image.&lt;/p&gt;

&lt;p&gt;The Pad command operates this way: A new image of the desired size is 
created, it is filled as specified, and the original image is pasted 
onto this new image, centered. If the new image is smaller than the 
original image, the original image will be cropped. Otherwise, the area 
outside the original image will have the new background.&lt;/p&gt;

&lt;p&gt;In the Pad Method menus:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Solid Fill
Defaults &amp;gt; white
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the Image Size dials:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Change Height by moving the dial from 78 to 98
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The image size now: 77x98.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchPadded.png&quot; alt=&quot;Displaying a png image of a padded Gigabit network switch icon&quot; title=&quot;Displaying a png image of a padded Gigabit network switch icon&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Select same width and height as the &lt;strong&gt;original&lt;/strong&gt; size; that is: 77x78.&lt;/p&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
Selecting in xv:&lt;br /&gt;
Clicking and dragging the left button of the mouse inside the image 
window will allow you to draw a selection rectangle on the image. 
If you’re unhappy with the one you’ve drawn, simply click the left button 
and draw another. If you’d like the rectangle to go away altogether, 
click the left button and release it without moving the mouse.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchSelectedOriginalSize.png&quot; alt=&quot;Displaying a png image of a Gigabit network switch icon with its original size area selected in xv(1)&quot; title=&quot;Displaying a png image of a Gigabit network switch icon with its original size area selected in xv(1)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To confirm the selection, from the Windows menu choose Image Info:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchPaddedDimensions.png&quot; alt=&quot;Displaying a png image of xv&apos;s Image Info dialog box&quot; title=&quot;Displaying a png image of xv&apos;s Image Info dialog box&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Click &lt;strong&gt;Cut&lt;/strong&gt; button.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xv-cut-button.png&quot; alt=&quot;Displaying a png image of xv&apos;s Cut button&quot; title=&quot;Displaying a png image of xv&apos;s Cut button&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The image is displayed as:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchCutOriginalSize.png&quot; alt=&quot;Displaying a png image of a Gigabit network switch icon with the selected area cut in xv(1)&quot; title=&quot;Displaying a png image image of a Gigabit network switch icon with the selected area cut in xv(1)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Move the selected area to the very top of the image.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchCutMoveUp.png&quot; alt=&quot;Displaying a png image of a Gigabit network switch icon with the selected area moved up in xv(1)&quot; title=&quot;Displaying a png image of a Gigabit network switch icon with the selected area moved up in xv(1)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To confirm, from the Windows menu choose Image Info:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchPaddedDimensions.png&quot; alt=&quot;Displaying a png image of xv&apos;s Image Info dialog box after the Gigabit switch icon has been moved up&quot; title=&quot;Displaying a png image of xv&apos;s Image Info dialog box after the Gigabit switch icon has been moved up&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Click &lt;strong&gt;Paste&lt;/strong&gt; button twice.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xv-paste-button.png&quot; alt=&quot;Displaying a png image of xv&apos;s Paste button&quot; title=&quot;Displaying a png image of xv&apos;s Paste button&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The image currently has a different colour at the bottom:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchCutMoveUpNewPositionSelected.png&quot; alt=&quot;Displaying a png image of Gigabit network switch icon pasted in xv(1)&quot; title=&quot;Displaying a png image of Gigabit network switch icon pasted in xv(1)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To remove the selection rectangle, click the mouse left button 
(anywhere in non-selected area) and release it without moving 
the mouse:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchCutMoveUpNewPosition.png&quot; alt=&quot;Displaying a png image of Gigabit network switch icon with the selected area removed&quot; title=&quot;Displaying a png image of Gigabit network switch icon with the selected area removed&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Double-click the left mouse button inside the image to create a selection 
rectangle the size of the currently displayed area of the image.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xv-double-click-select-whole-image-area.png&quot; alt=&quot;Displaying a png image of Gigabit network switch icon with a selected rectangle the size of the currently displayed area of the image in xv(1)&quot; title=&quot;Displaying a png image of Gigabit network switch icon with a selected rectangle the size of the currently displayed area of the image in xv(1)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Reduce the height of the selection area:  Hold the &amp;lt;Shift&amp;gt; key down 
while pressing the up arrow key on your keyboard until the Selection 
(in the Image Info window) is 77x12.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchReduceSelection.png&quot; alt=&quot;Displaying a png image of Gigabit network switch icon with a reduced selected area in xv(1)&quot; title=&quot;Displaying a png image of Gigabit network switch icon with a reduced selected area in xv(1)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchReduceSelectionImageInfo.png&quot; alt=&quot;Displaying a png image of xv&apos;s Image Info dialog box after a reduced area is selected in the Gigabit network switch icon&quot; title=&quot;Displaying a png image of xv&apos;s Image Info dialog box after a reduced area is selected in the Gigabit network switch icon&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Move the selection rectangle by holding the down arrow key until the 
Selection (in the Image Info window) is: 77x12 rectangle starting at 0,78.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchReduceSelectionPulledDown.png&quot; alt=&quot;Displaying a png image of Gigabit network switch icon with the selected area in xv(1) moved down&quot; title=&quot;Displaying a png image of Gigabit network switch icon with the selected area in xv(1) moved down&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchReduceSelectionMovedImageInfo.png&quot; alt=&quot;Displaying a png image of xv&apos;s Image Info dialog box after the selected area in the Gigabit network switch icon has been moved down&quot; title=&quot;Displaying a png image of xv&apos;s Image Info dialog box after the selected area in the Gigabit network switch icon has been moved down&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Prepare for clearing the selected area: Set the current color by clicking the middle mouse button anywhere below the selection rectangle. After that, click &lt;strong&gt;Clear&lt;/strong&gt; button (keyboard equivalent: &lt;strong&gt;&amp;lt;Meta&amp;gt; d&lt;/strong&gt; (often &lt;strong&gt;Alt d&lt;/strong&gt; or &lt;strong&gt;Ctrl d&lt;/strong&gt;)).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xv-clear-button.png&quot; alt=&quot;Displaying a png image of xv&apos;s Clear button&quot; title=&quot;Displaying a png image of xv&apos;s Clear button&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchClearedSelected.png&quot; alt=&quot;Displaying a png image of Gigabit network switch icon with the selected area in xv(1) cleared&quot; title=&quot;Displaying a png image of Gigabit network switch icon with the selected area in xv(1) cleared&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To remove the selection rectangle, click the mouse left button 
(anywhere in non-selected area) and release it without moving the mouse:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchCleared.png&quot; alt=&quot;Displaying a png image of Gigabit network switch icon with the selected area in xv(1) removed&quot; title=&quot;Displaying a png image of Gigabit network switch icon with the selected area in xv(1) removed&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Double-click the left mouse button inside the image to create a selection 
rectangle the size of the currently displayed area of the image.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchPaddedBottom.png&quot; alt=&quot;Displaying a png image of Gigabit network switch icon with a selected rectangle the size of the currently displayed area of the image in xv(1)&quot; title=&quot;Displaying a png image of Gigabit network switch icon with a selected rectangle the size of the currently displayed area of the image in xv(1)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Reduce the height of the selection area: Hold the &amp;lt;Shift&amp;gt; key down 
while pressing the up arrow key on your keyboard until the Selection 
(in the Image Info window) is 77x93.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/gigabitSwitchNewSizeImageInfo.png&quot; alt=&quot;Displaying a png image of xv&apos;s Image Info dialog box after the selected area in the Gigabit network switch icon is the size of the currently displayed area of the image in xv(1)&quot; title=&quot;Displaying a png image of xv&apos;s Image Info dialog box after the selected area in the Gigabit network switch icon is the size of the currently displayed area of the image in xv(1)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Click the Save button.&lt;br /&gt;
In the xv Save window, in the ‘Save file:’ enter the file name (in this case, gigabitSwitch.png).&lt;br /&gt;
Click Ok. &lt;br /&gt;
In the “Save PNG file…” window, click Ok. &lt;br /&gt;
In the confirmation window ‘Overwrite existing file /path/to/gigabitSwitch.png’?, click Ok.&lt;br /&gt;
Click Quit.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Repeat for all other nodes that have their labels overlapping them.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;The resulting (beautified) graph:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/graphviz-plantuml-network-diagram-fixed-icons.png&quot; alt=&quot;Displaying a png image of a beutified computer network created by Grapvhiz from Kroki&amp;quot;)&quot; title=&quot;Displaying a beautified png image of a computer network created by Grapvhiz from Kroki&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;  &lt;br /&gt;
https://kroki.io/ &lt;br /&gt;
https://demo.kroki.io/ &lt;br /&gt;
https://kroki.io/examples.html &lt;br /&gt;
https://docs.kroki.io/kroki/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/install/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/manual-install/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/configuration/ &lt;br /&gt;
https://github.com/yuzutech/kroki &lt;br /&gt;
https://github.com/yuzutech/kroki/tree/main/server &lt;br /&gt;
https://docs.kroki.io/kroki/setup/http-clients/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/kroki-cli/ &lt;br /&gt;
https://github.com/yuzutech/kroki/tree/main/server &lt;br /&gt;
https://github.com/yuzutech/kroki/releases&lt;/p&gt;

&lt;p&gt;https://github.com/httpie&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/mgriffin/graphviz_network&quot;&gt;Mike Griffin’s GitHub repository&lt;/a&gt; contains the code used in his &lt;a href=&quot;https://mikegriffin.ie/blog/20110308-a-graphviz-tutorial&quot;&gt;graphviz tutorial blog post&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.cisco.com/web/about/ac50/ac47/2.html&quot;&gt;Cisco icons &lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Sat, 26 Feb 2022 09:02:33 -0800</pubDate>
        <link>http://localhost:4000/freebsd/howto/diagram/java/graph/graphviz/2022/02/26/freebsd-kroki-plantuml-graphviz-diagrams.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/howto/diagram/java/graph/graphviz/2022/02/26/freebsd-kroki-plantuml-graphviz-diagrams.html</guid>
        
        
        <category>freebsd</category>
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>java</category>
        
        <category>graph</category>
        
        <category>graphviz</category>
        
      </item>
    
      <item>
        <title>How to Run Kroki on FreeBSD 13 with Java</title>
        <description>&lt;p&gt;As per &lt;a href=&quot;https://github.com/yuzutech/kroki/tree/main/server&quot;&gt;Kroki server readme&lt;/a&gt;, 
under &lt;a href=&quot;https://github.com/yuzutech/kroki/tree/main/server#manual-install&quot;&gt;Manual install&lt;/a&gt;, 
install the following dependencies:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install openjdk8 graphviz erd svgbob
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As per &lt;a href=&quot;https://docs.kroki.io/kroki/setup/install/&quot;&gt;Install Kroki&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Manual installation&lt;/p&gt;

  &lt;p&gt;You can also make a customized manual installation that suits your needs.&lt;/p&gt;

  &lt;p&gt;To do this, you will need to manually install the Kroki gateway server 
as a standalone executable jar, install each diagram library that you 
want to use, then run the gateway server jar file.&lt;/p&gt;

  &lt;p&gt;You are responsible for managing diagram library installations on your system.&lt;/p&gt;

  &lt;p&gt;Find how to make a manual installation on the &lt;a href=&quot;https://docs.kroki.io/kroki/setup/manual-install/&quot;&gt;Manual installation&lt;/a&gt; page.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mkdir -p ~/scratch/kroki-server
$ cd ~/scratch/kroki-server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pwd
/usr/home/dusko/scratch/kroki-server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can download the latest standalone executable jar from the GitHub &lt;a href=&quot;https://github.com/yuzutech/kroki/releases&quot;&gt;releases page&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;At the time of writing, &lt;a href=&quot;https://github.com/yuzutech/kroki/releases&quot;&gt;the latest version of Kroki is 0.16.0.&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Feb 25, 2022)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch \
 https://github.com/yuzutech/kroki/releases/download/v0.16.0/kroki-server-v0.16.0.jar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ file kroki-server-v0.16.0.jar
kroki-server-v0.16.0.jar: Java archive data (JAR)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start a web server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ java -jar kroki-server-v0.16.0.jar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above command starts the web server on port 8000. 
You can change the port using an environment variable, or a Java system property named KROKI_PORT.&lt;/p&gt;

&lt;p&gt;With a Web browser, open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://localhost:8000/&lt;/code&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;  &lt;br /&gt;
https://kroki.io/ &lt;br /&gt;
https://demo.kroki.io/ &lt;br /&gt;
https://kroki.io/examples.html &lt;br /&gt;
https://docs.kroki.io/kroki/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/install/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/manual-install/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/configuration/ &lt;br /&gt;
https://github.com/yuzutech/kroki &lt;br /&gt;
https://github.com/yuzutech/kroki/tree/main/server &lt;br /&gt;
https://docs.kroki.io/kroki/setup/http-clients/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/kroki-cli/ &lt;br /&gt;
https://github.com/yuzutech/kroki/tree/main/server &lt;br /&gt;
https://github.com/yuzutech/kroki/releases&lt;/p&gt;

&lt;p&gt;https://github.com/httpie&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Fri, 25 Feb 2022 21:15:24 -0800</pubDate>
        <link>http://localhost:4000/freebsd/howto/diagram/java/2022/02/25/freebsd-java-kroki-diagrams.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/howto/diagram/java/2022/02/25/freebsd-java-kroki-diagrams.html</guid>
        
        
        <category>freebsd</category>
        
        <category>howto</category>
        
        <category>diagram</category>
        
        <category>java</category>
        
      </item>
    
      <item>
        <title>How to Run Kroki on FreeBSD 13 with vm-bhyve and Debian GNU/Linux VM</title>
        <description>&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm list
Password:
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    512M    -    No         Stopped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm start debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm console debianvm1
---- snip ----

Debian GNU/Linux 11 debianvm1 ttyS0

debianvm1 login: dusko
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo \
 systemctl \
 list-units \
 --type=service \
 --state=active \
 | grep docker
  docker-registry.service    loaded active running the Docker toolset to 
    pack, ship, store, and deliver content
  docker.service      loaded active running Docker Application Container Engine
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /etc/systemd/system/docker.service.d/
total 4.0K
-rw-r--r-- 1 root root 78 Feb 14 20:35 override.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/systemd/system/docker.service.d/override.conf
[Service]
ExecStart=
ExecStart=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2376
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ss -an | grep 2376
tcp   LISTEN 0      4096      *:2376         *:*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ip -4 address | grep -inet | grep scope
2:  inet 127.0.0.1/8 scope host lo
5:  inet 192.168.8.19/24 brd 192.168.8.255 scope global enp0s5
7:  inet 192.168.8.18/24 brd 192.168.8.255 scope global secondary dynamic enp0s5
10: inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ss -an | grep 9000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 docker run -d -p 9000:9000 -v \
 /var/run/docker.sock:/var/run/docker.sock -v \
 portainer_data:/data portainer/portainer
3d6162208f6ec0a79b1c1956c9958f5bcf4d1d1217572ce1e0bd5769001e1cb6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ss -an | grep 9000
tcp   LISTEN 0      4096      0.0.0.0:9000             0.0.0.0:*
tcp   LISTEN 0      4096         [::]:9000                [::]:*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To exit the console (to drop the connection), press ~ + Ctrl-D at 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;debianvm1 login:&lt;/code&gt; prompt.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ exit
logout

Debian GNU/Linux 11 debianvm1 ttyS0

debianvm1 login: ~
[EOT]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ps $$
  PID TT  STAT    TIME COMMAND
24254  5  Ss   0:00.05 -csh (csh)

% printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% set DOCKER_HOST=&quot;192.168.8.19&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;$DOCKER_HOST&quot;
192.168.8.19
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -V docker
docker is /usr/local/bin/docker

% type docker
docker is /usr/local/bin/docker

% which docker
/usr/local/bin/docker

% whereis docker
docker: /usr/local/bin/docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% docker -H &quot;tcp://dusko@$DOCKER_HOST&quot;:2376 run hello-world
 
Hello from Docker!
This message shows that your installation appears to be working correctly.
 
To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% docker -H &quot;tcp://dusko@$DOCKER_HOST&quot;:2376 images
REPOSITORY           TAG      IMAGE ID      CREATED        SIZE
ubuntu               latest   54c9d81cbb44  4 weeks ago    72.8MB
hello-world          latest   feb5d9fea6a5  5 months ago   13.3kB
portainer/portainer  latest   580c0e4e98b0  11 months ago  79.1MB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% docker -H &quot;tcp://dusko@$DOCKER_HOST&quot;:2376 \
 run -d --name kroki -p 8080:8000 yuzutech/kroki
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Unable to find image &apos;yuzutech/kroki:latest&apos; locally
latest: Pulling from yuzutech/kroki
---- snip ----

Status: Downloaded newer image for yuzutech/kroki:latest
8b79ce7a6de16fc14b6ecf60d973527b0ec6df10be3b9bc7fe3ee890825622b2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm the availability of the new image:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% docker -H &quot;tcp://dusko@$DOCKER_HOST&quot;:2376 images
REPOSITORY           TAG      IMAGE ID      CREATED        SIZE
ubuntu               latest   54c9d81cbb44  4 weeks ago    72.8MB
yuzutech/kroki       latest   e58ce143c394  2 months ago   528MB
hello-world          latest   feb5d9fea6a5  5 months ago   13.3kB
portainer/portainer  latest   580c0e4e98b0  11 months ago  79.1MB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% netstat -an | grep $DOCKER_HOST
tcp4     0    0 192.168.8.1.57607   192.168.8.19.2376   TIME_WAIT

% nc -z -v $DOCKER_HOST 8080
Connection to 192.168.8.19 8080 port [tcp/http-alt] succeeded!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% lynx --dump &quot;$DOCKER_HOST&quot;:8080 | wc -l
    2525
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With a Web browser open:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://192.168.8.19:8080/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To test, from a Web browser open:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://192.168.8.19:8080/plantuml/svg/eNplj0FvwjAMhe_5FVZP40CgaNMuUGkcdttp3Kc0NS
Vq4lRxGNKm_fe1HULuuD37-bOfuXPUm2QChEjRnlIMCDmdUfHNSYY6xh42a9Fsegflk-yYlOLlcHK2I2
SGtX4WZm9sZ1o8uOzxxbuWAlIGj8cshs6M1jDuY2owyU2P8jAezdnn10j53X0hlBsZFW021Pq7HaVSNw
-KN-OogG8F8BAGqT8dXhZjxW4cyJEW6kcC-yHWFagHqW0MfaThhYmaVyE26P_x27qaDmXeruqqAMMw1h
-ZlRI4aF3dX7hOwm5XzfIKDctlNcshPT1tFa8JPYAj-Zf5F065sqM=
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above example obtained from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://kroki.io/&lt;/code&gt;, 
under Examples section.&lt;/p&gt;

&lt;p&gt;More examples available from:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;https://kroki.io/examples.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v python

% command -v python3.8
/usr/local/bin/python3.8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is an example from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://docs.kroki.io/kroki/setup/usage/&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vi hello.dot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat hello.dot
digraph G {
  Hello-&amp;gt;World
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat hello.dot | \
 python3.8 -c \
 &quot;import sys; import base64; import zlib; \
 print(base64.urlsafe_b64encode(zlib.\
 compress(sys.stdin.read().\
 encode(&apos;utf-8&apos;), 9)).\
 decode(&apos;ascii&apos;))&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;eNpLyUwvSizIUHBXqOZSUPBIzcnJ17ULzy_KSeGq5QIAjfEJJA==
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy and paste it into the web browser.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://192.168.8.19:8080/graphviz/svg/eNpLyUwvSizIUHBXqOZSUPBIzcnJ17ULzy_KSeGq5Q
IAjfEJJA==
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result will be an image in SVG format.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% curl \
 http://192.168.8.19:8080/graphviz/svg \
 --data-raw \
 &apos;digraph G {Hello-&amp;gt;World}&apos; &amp;gt; \
 hello.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% rsvg-convert hello.svg &amp;gt; hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv hello.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;  &lt;br /&gt;
https://kroki.io/ &lt;br /&gt;
https://demo.kroki.io/ &lt;br /&gt;
https://kroki.io/examples.html &lt;br /&gt;
https://docs.kroki.io/kroki/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/install/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/manual-install/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/configuration/ &lt;br /&gt;
https://github.com/yuzutech/kroki &lt;br /&gt;
https://github.com/yuzutech/kroki/tree/main/server &lt;br /&gt;
https://docs.kroki.io/kroki/setup/http-clients/ &lt;br /&gt;
https://docs.kroki.io/kroki/setup/kroki-cli/ &lt;br /&gt;
https://github.com/yuzutech/kroki/tree/main/server &lt;br /&gt;
https://github.com/yuzutech/kroki/releases&lt;/p&gt;

&lt;p&gt;https://github.com/httpie&lt;/p&gt;

</description>
        <pubDate>Thu, 24 Feb 2022 19:47:13 -0800</pubDate>
        <link>http://localhost:4000/freebsd/docker/vm/virtualization/howto/diagram/2022/02/24/freebsd-docker-linux-kroki-diagrams.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/docker/vm/virtualization/howto/diagram/2022/02/24/freebsd-docker-linux-kroki-diagrams.html</guid>
        
        
        <category>freebsd</category>
        
        <category>docker</category>
        
        <category>vm</category>
        
        <category>virtualization</category>
        
        <category>howto</category>
        
        <category>diagram</category>
        
      </item>
    
      <item>
        <title>Dotfiles</title>
        <description>&lt;p&gt;OS: FreeBSD 13   &lt;br /&gt;
Shell: csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/rc.conf
zfs_enable=&quot;YES&quot;
dumpdev=&quot;AUTO&quot;
powerd_enable=&quot;YES&quot;
ifconfig_ue0=&quot;DHCP&quot;
defaultrouter=&quot;192.168.1.254&quot;
kld_list=&quot;i915kms&quot;
hostname=&quot;fbsd1.home.arpa&quot;
vm_enable=&quot;YES&quot;
vm_dir=&quot;zfs:zroot/vm&quot;
pf_enable=&quot;YES&quot;
gateway_enable=&quot;YES&quot;
dnsmasq_enable=&quot;YES&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/rc.conf.wireless
zfs_enable=&quot;YES&quot;
dumpdev=&quot;AUTO&quot;
powerd_enable=&quot;YES&quot;
ifconfig_ue0=&quot;DHCP&quot;
defaultrouter=&quot;192.168.1.254&quot;
kld_list=&quot;i915kms&quot;
hostname=&quot;fbsd1.home.arpa&quot;
vm_enable=&quot;YES&quot;
vm_dir=&quot;zfs:zroot/vm&quot;
pf_enable=&quot;YES&quot;
gateway_enable=&quot;YES&quot;
dnsmasq_enable=&quot;YES&quot;
wlans_iwm0=&quot;wlan0&quot;
ifconfig_wlan0=&quot;wpa DHCP&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;x11-aka-x-window-system---my-dotfiles&quot;&gt;X11 aka X Window System - My Dotfiles&lt;/h2&gt;

&lt;p&gt;From the man page for X(7):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The X.Org Foundation requests that the following names be used when
referring to this software:

                                   X
                            X Window System
                             X Version 11
                      X Window System, Version 11
                                  X11
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;x11-global-settings&quot;&gt;X11 Global Settings&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n Path /var/log/Xorg.0.log
28:[1065569.793] (==) FontPath set to:
36:[1065569.793] (==) ModulePath set to &quot;/usr/local/lib/xorg/modules&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n FontPath /var/log/Xorg.0.log
28:[1065569.793] (==) FontPath set to:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 28,35p /var/log/Xorg.0.log
[1065569.793] (==) FontPath set to:
        /usr/local/share/fonts/misc/,
        /usr/local/share/fonts/TTF/,
        /usr/local/share/fonts/OTF/,
        /usr/local/share/fonts/Type1/,
        /usr/local/share/fonts/100dpi/,
        /usr/local/share/fonts/75dpi/,
        catalogue:/usr/local/etc/X11/fontpath.d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n ModulePath /var/log/Xorg.0.log
36:[1065569.793] (==) ModulePath set to &quot;/usr/local/lib/xorg/modules&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;directory--usrlocaletcx11&quot;&gt;Directory:  /usr/local/etc/X11/&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/X11/ | wc -l
       6
 
% ls -lh /usr/local/etc/X11/ | wc -l
       4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/X11/
total 2
drwxr-xr-x  2 root  wheel     4B Oct 18  2021 fontpath.d
drwxr-xr-x  3 root  wheel     4B Aug 17  2021 xinit
drwxr-xr-x  2 root  wheel     6B Jan  4  2022 xorg.conf.d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/X11/fontpath.d/ | wc -l
       5
 
% ls -lh /usr/local/etc/X11/fontpath.d/ | wc -l
       3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/X11/fontpath.d/ 
total 1
lrwxr-xr-x  1 root  wheel    27B Sep 25  2021 ipamjm:pri=60 -&amp;gt; ../../../share/fonts/ipamjm
lrwxr-xr-x  1 root  wheel    29B Jul 25  2021 vlgothic:pri=60 -&amp;gt; ../../../share/fonts/vlgothic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/X11/xinit/ | wc -l
       5
 
% ls -lh /usr/local/etc/X11/xinit/ | wc -l
       3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/X11/xinit/ 
total 5
-rw-r--r--  1 root  wheel   780B Jul 24  2021 xinitrc
drwxr-xr-x  2 root  wheel     3B Feb  3 11:03 xinitrc.d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l /usr/local/etc/X11/xinit/xinitrc
      56 /usr/local/etc/X11/xinit/xinitrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed &apos;/^[[:space:]]*$/d&apos; /usr/local/etc/X11/xinit/xinitrc | grep -v \# | wc -l
      27
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed &apos;/^[[:space:]]*$/d&apos; /usr/local/etc/X11/xinit/xinitrc | grep -v \#
userresources=$HOME/.Xresources
usermodmap=$HOME/.Xmodmap
sysresources=/usr/local/etc/X11/xinit/.Xresources
sysmodmap=/usr/local/etc/X11/xinit/.Xmodmap
if [ -f $sysresources ]; then
    xrdb -merge $sysresources
fi
if [ -f $sysmodmap ]; then
    xmodmap $sysmodmap
fi
if [ -f &quot;$userresources&quot; ]; then
    xrdb -merge &quot;$userresources&quot;
fi
if [ -f &quot;$usermodmap&quot; ]; then
    xmodmap &quot;$usermodmap&quot;
fi
if [ -d /usr/local/etc/X11/xinit/xinitrc.d ] ; then
        for f in /usr/local/etc/X11/xinit/xinitrc.d/?*.sh ; do
                [ -x &quot;$f&quot; ] &amp;amp;&amp;amp; . &quot;$f&quot;
        done
        unset f
fi
twm &amp;amp;
xclock -geometry 50x50-1+1 &amp;amp;
xterm -geometry 80x50+494+51 &amp;amp;
xterm -geometry 80x20+494-0 &amp;amp;
exec xterm -geometry 80x66+0+0 -name login
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/X11/xinit/.Xmodmap
ls: /usr/local/etc/X11/xinit/.Xmodmap: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /usr/local/etc/X11/xinit/xinitrc.d
drwxr-xr-x  2 root  wheel  3 Feb  3 11:03 /usr/local/etc/X11/xinit/xinitrc.d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/X11/xinit/xinitrc.d/ | wc -l
       4

% ls -lh /usr/local/etc/X11/xinit/xinitrc.d/ | wc -l
       2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/X11/xinit/xinitrc.d/
total 5
-r-xr-xr-x  1 root  wheel   1.0K Jan 29  2022 90-consolekit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;directory--usrlocalsharex11&quot;&gt;Directory:  /usr/local/share/X11/&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/share/X11/ | wc -l
       7
 
% ls -lh /usr/local/share/X11/ | wc -l
       5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/etc/X11/xorg.conf.d/ | wc -l
       7

% ls -lh /usr/local/etc/X11/xorg.conf.d/ | wc -l
       5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/X11/xorg.conf.d/ 
total 14
-rw-r--r--  1 root  wheel   404B Jan  4  2022 card.conf
-rw-r--r--  1 root  wheel   140B Jan  4  2022 layout.conf
-rw-r--r--  1 root  wheel    48B Aug 18  2021 modules.conf
-rw-r--r--  1 root  wheel   1.0K Jan  4  2022 monitors.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/share/X11/ 
total 18
drwxr-xr-x  2 root  wheel    18B Sep 16  2021 app-defaults
drwxr-xr-x  2 root  wheel     3B Aug 17  2021 twm
drwxr-xr-x  8 root  wheel     9B Feb  3 11:02 xkb
drwxr-xr-x  2 root  wheel     5B Feb  3 11:03 xorg.conf.d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /usr/local/share/X11/xorg.conf.d/ | wc -l
       6
 
% ls -lh /usr/local/share/X11/xorg.conf.d/ | wc -l
       4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/share/X11/xorg.conf.d/ 
total 14
-rw-r--r--  1 root  wheel   1.3K Jan 26  2022 10-quirks.conf
-rw-r--r--  1 root  wheel   152B Jan 26  2022 20-evdev-kbd.conf
-rw-r--r--  1 root  wheel   1.4K Aug 13  2021 40-libinput.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;directory--usrlocaletcfonts&quot;&gt;Directory:  /usr/local/etc/fonts/&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /usr/local/etc/fonts/
drwxr-xr-x  4 root  wheel  7 Feb  3  2022 /usr/local/etc/fonts/

% ls -alh /usr/local/etc/fonts/ | wc -l
       8

% ls -lh /usr/local/etc/fonts/ | wc -l
       6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/fonts/
total 79
drwxr-xr-x  2 root  wheel    51B Feb  3  2022 conf.avail
drwxr-xr-x  2 root  wheel    33B Feb  3  2022 conf.d
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 fonts.conf
-rw-r--r--  1 root  wheel   2.6K Jan 21  2022 fonts.conf.sample
-rw-r--r--  1 root  wheel   8.1K Dec  3  2020 fonts.dtd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;x11-user-settings&quot;&gt;X11 User Settings&lt;/h3&gt;

&lt;p&gt;In my home directory:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls ~/.xinitrc
/home/dusko/.xinitrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a symlink from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.xinitrc&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.xsession&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ln -s ~/.xinitrc ~/.xsession
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file ~/.xsession
/home/dusko/.xsession: symbolic link to /home/dusko/.xinitrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh $HOME/.Xresources
-rw-r--r--  1 dusko  dusko   5.2K Jan 26 11:44 /home/dusko/.Xresources
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh $HOME/.Xmodmap
ls: /home/dusko/.Xmodmap: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/X11/xinit/.Xresources
ls: /usr/local/etc/X11/xinit/.Xresources: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;xset1---user-preference-utility-for-x&quot;&gt;xset(1) - User Preference Utility for X&lt;/h3&gt;

&lt;p&gt;For status information:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset -q | wc -l
      27

% xset q | wc -l
      27
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset -q 
Keyboard Control:
  auto repeat:  on    key click percent:  0    LED mask:  00000000
  XKB indicators:
    00: Caps Lock:   off    01: Num Lock:    off    02: Scroll Lock: off
    03: Compose:     off    04: Kana:        off    05: Sleep:       off
    06: Suspend:     off    07: Mute:        off    08: Misc:        off
    09: Mail:        off    10: Charging:    off    11: Shift Lock:  off
    12: Group 2:     off    13: Mouse Keys:  off
  auto repeat delay:  660    repeat rate:  25
  auto repeating keys:  00ffffffdffffbbf
                        fadfffefffedffff
                        9fffffffffffffff
                        fff7ffffffffffff
  bell percent:  0    bell pitch:  400    bell duration:  100
Pointer Control:
  acceleration:  2/1    threshold:  4
Screen Saver:
  prefer blanking:  yes    allow exposures:  yes
  timeout:  600    cycle:  600
Colors:
  default colormap:  0x22    BlackPixel:  0x0    WhitePixel:  0xffffff
Font Path:
  /usr/local/share/fonts/misc/,/usr/local/share/fonts/TTF/,/usr/local/share/fonts/OTF/,/usr/local/share/fonts/Type1/,/usr/local/share/fonts/100dpi/,/usr/local/share/fonts/75dpi/,catalogue:/usr/local/etc/X11/fontpath.d,built-ins,/usr/local/share/fonts/100dpi,/usr/local/share/fonts/75dpi,/usr/local/share/fonts/adobe-cmaps,/usr/local/share/fonts/bitstream-vera,/usr/local/share/fonts/Caladea,/usr/local/share/fonts/cantarell,/usr/local/share/fonts/Carlito,/usr/local/share/fonts/ChromeOS,/usr/local/share/fonts/comic-neue,/usr/local/share/fonts/cyrillic,/usr/local/share/fonts/dejavu,/usr/local/share/fonts/GentiumBasic,/usr/local/share/fonts/gnu-unifont,/usr/local/share/fonts/ipamjm,/usr/local/share/fonts/jmk-x11-fonts,/usr/local/share/fonts/Liberation,/usr/local/share/fonts/LinLibertineG,/usr/local/share/fonts/misc,/usr/local/share/fonts/Monoid,/usr/local/share/fonts/nanum-coding-ttf,/usr/local/share/fonts/nanum-ttf,/usr/local/share/fonts/noto,/usr/local/share/fonts/OTF,/usr/local/share/fonts/SourceCodePro,/usr/local/share/fonts/SourceHanSans,/usr/local/share/fonts/SourceHanSansK,/usr/local/share/fonts/SourceHanSansSC,/usr/local/share/fonts/SourceHanSansTC,/usr/local/share/fonts/SourceSansPro,/usr/local/share/fonts/symbola,/usr/local/share/fonts/terminus-font,/usr/local/share/fonts/TerminusTTF,/usr/local/share/fonts/TTF,/usr/local/share/fonts/twemoji-color-font-ttf,/usr/local/share/fonts/Type1,/usr/local/share/fonts/uw-ttyp0,/usr/local/share/fonts/vlgothic,/usr/local/share/fonts/wqy,/usr/home/dusko/.fonts/knxt
DPMS (Energy Star):
  Standby: 600    Suspend: 600    Off: 600
  DPMS is Enabled
  Monitor is On
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;starting-x&quot;&gt;Starting X&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec startx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec xinit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;mutt---my-dotfiles&quot;&gt;Mutt - My Dotfiles&lt;/h2&gt;

&lt;h3 id=&quot;mutt-mua-mail-user-agent&quot;&gt;Mutt MUA (Mail User Agent)*&lt;/h3&gt;

&lt;p&gt;[*] aka Email Client or Mail Reader&lt;/p&gt;

&lt;p&gt;Starting mutt with my &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttrc&lt;/code&gt; configuration file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mutt -F /mnt/usbflashdrive/mydotfiles/mutt-imap/.muttrc.example.com.imap
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note 1:&lt;/strong&gt;  &lt;br /&gt;
Per these excerpts from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttrc&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;set mailcap_path = /mnt/usbflashdrive/mydotfiles/mutt-common-files/mailcap

set alias_file = /mnt/usbflashdrive/mydotfiles/mutt-common-files/muttaliases
source /mnt/usbflashdrive/mydotfiles/mutt-common-files/muttaliases

set query_command=&quot;/mnt/usbflashdrive/mydotfiles/mutt-common-files/muttldap.pl %s&quot;

macro index \el &quot;!/mnt/usbflashdrive/mydotfiles/mutt-common-files/muttalias.sh&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;you’ll need the following additional files: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.muttrc.example.com.imap&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttaliases&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttldap.pl&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttalias.sh&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mailcap&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The content of those files for download (you’ll need to adjust them for your environment):&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.muttrc.example.com.imap&lt;/code&gt; file:  &lt;a href=&quot;http://localhost:4000/assets/txt/dot.muttrc&quot;&gt;.muttrc.example.com.imap&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttaliases&lt;/code&gt; file: &lt;a href=&quot;http://localhost:4000/assets/txt/muttaliases&quot;&gt;muttaliases&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttldap.pl&lt;/code&gt; file: &lt;a href=&quot;http://localhost:4000/assets/txt/muttldap.pl&quot;&gt;muttldap.pl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttalias.sh&lt;/code&gt; file: &lt;a href=&quot;http://localhost:4000/assets/txt/muttalias.sh&quot;&gt;muttalias.sh&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mailcap&lt;/code&gt; file: &lt;a href=&quot;http://localhost:4000/assets/txt/mailcap&quot;&gt;mailcap&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note 2:&lt;/strong&gt;  &lt;br /&gt;
As per another excerpt from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttrc&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;set header_cache = /mnt/usbflashdrive/muttcache/example.com.dusko/cache
set message_cachedir = /mnt/usbflashdrive/muttcache/example.com.dusko/cache/bodies
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;you’ll need to create a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttcache&lt;/code&gt; directory structure.&lt;/p&gt;

&lt;p&gt;In my case:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir -p /mnt/usbflashdrive/muttcache/example.com.dusko/cache/bodies
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which creates four directories inside &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/usbflashdrive&lt;/code&gt; directory:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/usbflashdrive/muttcache/&lt;/code&gt; &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/usbflashdrive/muttcache/example.com.dusko/&lt;/code&gt;  &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/usbflashdrive/muttcache/example.com.dusko/cache&lt;/code&gt; &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/usbflashdrive/muttcache/example.com.dusko/cache/bodies&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note 3:&lt;/strong&gt;  &lt;br /&gt;
Message bodies are in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bodies&lt;/code&gt; &lt;strong&gt;directory&lt;/strong&gt;:   &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/usbflashdrive/muttcache/example.com.dusko/cache/bodies&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Message headers are in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;headers&lt;/code&gt; &lt;strong&gt;file&lt;/strong&gt;:   &lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/usbflashdrive/muttcache/example.com.dusko/cache/headers&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note 4:&lt;/strong&gt;  &lt;br /&gt;
As of time of this writing, I’m not using 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/usbflashdrive/mydotfiles/mutt-common-files/gpg.rc&lt;/code&gt; so I’m not listing its content.&lt;/p&gt;

&lt;hr /&gt;

</description>
        <pubDate>Wed, 23 Feb 2022 18:14:33 -0800</pubDate>
        <link>http://localhost:4000/dotfiles/freebsd/2022/02/23/dotfiles-freebsd.html</link>
        <guid isPermaLink="true">http://localhost:4000/dotfiles/freebsd/2022/02/23/dotfiles-freebsd.html</guid>
        
        
        <category>dotfiles</category>
        
        <category>freebsd</category>
        
      </item>
    
      <item>
        <title>Displaying Things in a Terminal</title>
        <description>&lt;p&gt;OS:     FreeBSD 13&lt;br /&gt;
Shell:  csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version
13.0-RELEASE-p5

% ps $$
  PID TT  STAT    TIME COMMAND
23662  3  Ss   0:00.14 -csh (csh)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;quick-cli-overview-of-opentype-features-for-a-font&quot;&gt;Quick CLI Overview of OpenType Features for a Font&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install harfbuzz harfbuzz-hb-view harfbuzz-icu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg search imagemagick
ImageMagick6-6.9.12.34,1       Image processing tools (legacy version)
ImageMagick6-nox11-6.9.12.34,1 Image processing tools (legacy version)
ImageMagick7-7.1.0.19          Image processing tools
ImageMagick7-nox11-7.1.0.19    Image processing tools
fpc-imagemagick-3.2.2          Free Pascal interface to ImageMagick
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install imagemagick7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Updating FreeBSD repository catalogue...
FreeBSD repository is up to date.
All repositories are up to date.
The following 9 package(s) will be affected (of 0 checked):

New packages to be INSTALLED:
        ImageMagick7: 7.1.0.19
        ghostscript9-agpl-x11: 9.52
        gsfonts: 8.11_8
        liblqr-1: 0.4.2
        libraqm: 0.7.1
        libraw: 0.20.2_2
        libwmf: 0.2.12
        libzip: 1.7.3
        pkgconf: 1.8.0,1
---- snip ----

=====
Message from liblqr-1-0.4.2:

--
NOTE: In order to compile examples for liblqr, you will
also need pngwriter port (/usr/ports/graphics/pngwriter).
Examples are located in /usr/local/share/examples/liblqr-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install pngwriter
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install kitty
---- snip ----
New packages to be INSTALLED:
        kitty: 0.23.1_1
        ncurses: 6.3
---- snip ----
=====
Message from ncurses-6.3:

--
To get the terminfo database please install the terminfo-db package:
pkg install terminfo-db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install terminfo-db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% locate .otf | wc -l
     987
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% locate -i &quot;.otf&quot; | tail -3
/usr/local/share/texmf-dist/fonts/opentype/public/xcharter/XCharter-BoldItalic.otf
/usr/local/share/texmf-dist/fonts/opentype/public/xcharter/XCharter-Italic.otf
/usr/local/share/texmf-dist/fonts/opentype/public/xcharter/XCharter-Roman.otf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i \
/usr/local/share/texmf-dist/fonts/opentype/public/xcharter/XCharter-Roman.otf \
/tmp/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% otfinfo --features /tmp/XCharter-Roman.otf 
c2sc    Small Capitals From Capitals
cpsp    Capital Spacing
kern    Kerning
liga    Standard Ligatures
lnum    Lining Figures
onum    Oldstyle Figures
smcp    Small Capitals
sups    Superscript
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v hb-view
/usr/local/bin/hb-view
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Based on 
&lt;a href=&quot;https://twitter.com/thingskatedid/status/1316074032379248640&quot;&gt;💡FAQ about displaying stuff in a terminal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://twitter.com/thingskatedid/status/1288688482920013825&quot;&gt;Quick CLI overview of opentype features for a font you might use, 
without going to the trouble of installing it&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vi hb-feat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat hb-feat
#!/bin/sh

hb-view --features=&quot;$2&quot; -O svg $1 $3 | grep -v &apos;&amp;lt;rect&apos; | \
  sed &apos;s/&amp;lt;g style=&quot;fill:rgb(0%,0%,0%);fill-opacity:1;&quot;&amp;gt;/ \
  &amp;lt;g style=&quot;fill:#eeeeee&quot;&amp;gt;/&apos; | rsvg-convert | \
  convert -trim -resize &apos;25%&apos; - - | kitty icat --align=left
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% chmod 0744 hb-feat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Location where I keep my helper binaries, useful tools and scripts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /mnt/usbflashdrive/bin/
drwxr-xr-x  7 dusko  dusko  512 Feb  6 12:24 /mnt/usbflashdrive/bin/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mv hb-feat /mnt/usbflashdrive/bin/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Launch an instance of kitty terminal emulator.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% kitty
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In kitty terminal emulator:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% /mnt/usbflashdrive/bin/hb-feat /tmp/XCharter-Roman.otf +smcp,+onum &apos;Test&apos;
% /mnt/usbflashdrive/bin/hb-feat /tmp/XCharter-Roman.otf -smcp,-onum &apos;Test&apos;
% /mnt/usbflashdrive/bin/hb-feat /tmp/XCharter-Roman.otf +liga,+sups &apos;a2&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output showing images of font preview:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/hb-view-font.png&quot; alt=&quot;Quick CLI Overview of OpenType Features for a Font - small capitals and oldstyle figures&quot; title=&quot;Quick CLI Overview of OpenType Features for a Font - small capitals and oldstyle figures&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/hb-view-font-superscript.png&quot; alt=&quot;Quick CLI Overview of OpenType Features for a Font - standard ligatures and superscript&quot; title=&quot;Quick CLI Overview of OpenType Features for a Font - standard ligatures and superscript&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Exit kitty terminal emulator.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;sixel-for-terminal-graphics&quot;&gt;Sixel for Terminal Graphics&lt;/h3&gt;

&lt;p&gt;Xterm has supported graphical output for decades. It has a Tektronix 4014 mode. 
XTerm also supports Sixel (raster) and ReGIS (vector) graphics in the main window.&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg-query(8)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;%O[kvdD]
    Expands to the list of options of the matched package, where k stands
    for option key, v for option value, d for option default value and D
    for option description.  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all options (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%Ov&lt;/code&gt;) for the xterm package and whether they have been 
changed from their default values (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%Od&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg query %Ok-%Ov-%Od xterm
256COLOR-on-on
DABBREV-off-off
DECTERM-off-off
GNOME-off-off
LOGGING-off-off
LUIT-on-on
NEXTAW-off-off
PCRE2-off-off
REGIS-off-off
SCRNDUMP-off-off
SIXEL-on-on
TOOLBAR-off-off
WCHAR-on-on
XAW-on-on
XAW3D-off-off
XAW3DXFT-off-off
XINERAMA-off-off
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The SIXEL option is &lt;em&gt;on&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;XTerm terminal emulator supports sixel. You need to run it by setting the 
terminal identifier to a sixel capable terminal; for example, VT340.&lt;/p&gt;

&lt;p&gt;Reference:&lt;br /&gt;
&lt;a href=&quot;https://invisible-island.net/xterm/ctlseqs/ctlseqs.html#h3-Sixel-Graphics&quot;&gt;Sixel Graphics - XTerm Control Sequences - XTerm Documentation&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Feb 20, 2022)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -ti vt340
% cd /tmp
% fetch \ 
 https://raw.githubusercontent.com/saitoha/libsixel/master/images/snake.six
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /tmp/snake.six    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/xterm-sixel-cat-snake.png&quot; alt=&quot;cat command output in xterm with sixel support&amp;quot;) &quot; title=&quot;cat command output in xterm with sixel support&quot; /&gt;&lt;/p&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://twitter.com/thingskatedid/status/1316074032379248640&quot;&gt;FAQ about displaying stuff in a terminal&lt;/a&gt;&lt;br /&gt;
(Retrieved on Feb 20, 2002)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://konfou.xyz/posts/sixel-for-terminal-graphics/&quot;&gt;sixel for terminal graphics&lt;/a&gt; &lt;br /&gt;
(Retrieved on Feb 20, 2022)&lt;/p&gt;

</description>
        <pubDate>Sun, 20 Feb 2022 09:12:22 -0800</pubDate>
        <link>http://localhost:4000/font/x11/xorg/cli/terminal/xterm/2022/02/20/displaying-things-in-a-terminal.html</link>
        <guid isPermaLink="true">http://localhost:4000/font/x11/xorg/cli/terminal/xterm/2022/02/20/displaying-things-in-a-terminal.html</guid>
        
        
        <category>font</category>
        
        <category>x11</category>
        
        <category>xorg</category>
        
        <category>cli</category>
        
        <category>terminal</category>
        
        <category>xterm</category>
        
      </item>
    
      <item>
        <title>Sendmail Autoreply Vacation Messages (a.k.a. OOO) for an Alias</title>
        <description>&lt;p&gt;a.k.a.: Auto respond from an alias&lt;/p&gt;

&lt;p&gt;Note:  OOO = Out Of Office&lt;/p&gt;

&lt;p&gt;OS:  Red Hat Enterprise Linux Server release 6.8 (Santiago) 64-bit&lt;br /&gt;
Sendmail version:  8.14.4&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -d0.1
Version 8.14.4
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the mail server:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep dusko /etc/passwd
dusko:x:1001:1001:FName Lname:/home/dusko:/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bv myalias
myalias... User unknown
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;myalias: dusko&quot; &amp;gt;&amp;gt; /etc/aliases
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep dusko /etc/aliases
dusko: myalias
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -ld /home/dusko/
drwx------. 15 dusko mail 4096 Dec  7 11:27 /home/dusko/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ls -lh /etc/aliases.db
-rw-r--r--. 1 root root 84K Feb 15 20:16 /etc/aliases.db

# date
Sat Feb 19 21:36:28 PST 2022

# newaliases
/etc/aliases: 572 aliases, longest 60 bytes, 25488 bytes total

# ls -lh /etc/aliases.db
-rw-r--r--. 1 root root 84K Feb 19 21:36 /etc/aliases.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bv myalias
dusko... deliverable: mailer local, user dusko 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The vacation program automatically replies to incoming mail. 
The reply is contained in the file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.vacation.msg&lt;/code&gt; in your home directory.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.vacation.msg&lt;/code&gt; file should include a header with at least 
a ‘Subject:’ line (it should not contain a ‘To:’ line and need not contain 
a ‘From:’ line since these are generated automatically).  If the string 
&lt;strong&gt;$SUBJECT&lt;/strong&gt; appears in the .vacation.msg file, it is replaced with the 
subject of the original message when the reply is sent.&lt;/p&gt;

&lt;p&gt;In summary, it should have a “Subject:” line, possibly along with other 
headers that you want, followed by a blank line, followed by the message body.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /home/dusko/.vacation.msg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /home/dusko/.vacation.msg
Subject: Re: $SUBJECT
From: AliasFName AliasLName &amp;lt;myalias@yourdomainhere.com&amp;gt;

I have received your email and it will be replied to as soon as possible.

--dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /home/dusko/.forward 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /home/dusko/.forward 
\dusko, &quot;|/usr/bin/vacation -a myalias dusko&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vacation -j -a myalias -i dusko 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chown dusko:mail /home/dusko/.vacation.msg
# chown dusko:mail /home/dusko/.forward
# chown dusko:mail /home/dusko/.vacation.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A list of senders is kept in the file .vacation.db in your home directory.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bv myalias
&quot;|/usr/bin/vacation -a myalias dusko&quot;... deliverable: mailer prog, 
  user &quot;|/usr/bin/vacation -a myalias dusko&quot;
\dusko... deliverable: mailer local, user \dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sendmail -bv myalias@yourdomainhere.com
&quot;|/usr/bin/vacation -a myalias dusko&quot;... deliverable: mailer prog, 
  user &quot;|/usr/bin/vacation -a myalias dusko&quot;
\dusko... deliverable: mailer local, user \dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# su - dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;Testing.&quot; | mail -s &quot;Test 1&quot; myalias@yourdomainhere.com
$ printf %s\\n &quot;Testing.&quot; | mail -s &quot;Test 2&quot; dusko@yourdomainhere.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To stop vacation message, remove the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.forward&lt;/code&gt; file and the response 
database file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.vacation.db&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rm -i ~/.forward 
rm -i ~/.vacation.db
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Sat, 19 Feb 2022 17:41:01 -0800</pubDate>
        <link>http://localhost:4000/sendmail/mailserver/email/howto/2022/02/19/sendmail-alias-vacation-message.html</link>
        <guid isPermaLink="true">http://localhost:4000/sendmail/mailserver/email/howto/2022/02/19/sendmail-alias-vacation-message.html</guid>
        
        
        <category>sendmail</category>
        
        <category>mailserver</category>
        
        <category>email</category>
        
        <category>howto</category>
        
      </item>
    
      <item>
        <title>How to Run Docker on FreeBSD 13 with vm-bhyve and Debian GNU/Linux VM</title>
        <description>&lt;h3 id=&quot;jails-vs-docker&quot;&gt;Jails vs Docker&lt;/h3&gt;

&lt;p&gt;This post doesn’t discuss jails vs Docker.  In general, if you need to 
segregate a set of processes with containers, you would use jails. 
If your requirements ask for Docker, continue reading.&lt;/p&gt;

&lt;p&gt;Host OS: FreeBSD 13.0&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vm list
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    2048M   -    No         Stopped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vm start debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vm list
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    512M    -    No         Running (29103)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo vm console debianvm1
Connected

debianvm1 login: dusko
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo apt-get remove docker
$ sudo apt-get remove docker-engine
$ sudo apt-get remove docker.io
$ sudo apt-get remove containerd
$ sudo apt-get remove runc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 apt-get install \
 ca-certificates \
 curl \
 gnupg \
 lsb-release
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ curl -fsSL https://download.docker.com/linux/debian/gpg \
 | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ echo \
 &quot;deb [arch=$(dpkg --print-architecture) \
 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] \
 https://download.docker.com/linux/debian \
 $(lsb_release -cs) stable&quot; \
 | sudo tee /etc/apt/sources.list.d/docker.list &amp;gt; /dev/null
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 apt-get install \
 docker-ce docker-ce-cli containerd.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo docker run hello-world
Unable to find image &apos;hello-world:latest&apos; locally
latest: Pulling from library/hello-world
2db29710123e: Pull complete
Digest: sha256:97a379f4f88575512824f3b352bc03cd75e239179eea0fecc38e597b2209f49a
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo docker volume create portainer_data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl status docker.service
* docker.service - Docker Application Container Engine
     Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset:enabled)
---- snip ----
   Main PID: 2512 (dockerd)
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl status containerd.service
* containerd.service - containerd container runtime
     Loaded: loaded (/lib/systemd/system/containerd.service; enabled; vendor preset: enabled)
---- snip ----
   Main PID: 2355 (containerd)
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ls -lh /etc/systemd/system/docker.service.d
ls: cannot access &apos;/etc/systemd/system/docker.service.d&apos;: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo mkdir /etc/systemd/system/docker.service.d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl edit docker.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This opens GNU nano text editor. 
Add the following three lines, save and exit.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[Service]
ExecStart=
ExecStart=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2376
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Confirm that the file override.conf has been created.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /etc/systemd/system/docker.service.d/override.conf
[Service]
ExecStart=
ExecStart=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2376
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl daemon-reload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo systemctl restart docker.service
$ sudo systemctl restart containerd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ss -an | grep 2376
tcp   LISTEN 0      4096         *:2376                   *
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo ls -lh /var/lib/docker
total 44K
drwx--x--x  4 root root 4.0K Feb 13 20:16 buildkit
drwx--x---  4 root root 4.0K Feb 13 20:23 containers
drwx------  3 root root 4.0K Feb 13 20:16 image
drwxr-x---  3 root root 4.0K Feb 13 20:16 network
drwx--x--- 11 root root 4.0K Feb 13 20:39 overlay2
drwx------  4 root root 4.0K Feb 13 20:16 plugins
drwx------  2 root root 4.0K Feb 13 20:39 runtimes
drwx------  2 root root 4.0K Feb 13 20:16 swarm
drwx------  2 root root 4.0K Feb 13 20:39 tmp
drwx------  2 root root 4.0K Feb 13 20:16 trust
drwx-----x  3 root root 4.0K Feb 13 20:39 volumes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 docker run -d -p 9000:9000 -v \
 /var/run/docker.sock:/var/run/docker.sock -v \
 portainer_data:/data portainer/portainer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ss -an | grep 9000
tcp   LISTEN 0      4096     0.0.0.0:9000         0.0.0.0:*
tcp   LISTEN 0      4096        [::]:9000            [::]:*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nc -n -z -v &amp;lt;guest_ip_address&amp;gt; 9000
(UNKNOWN) [guest_ip_address] 2376 (?) open 9000 (?) open
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example, if your guest VM’s IP address is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;203.0.113.1&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nc -n -z -v 203.0.113.1 9000
(UNKNOWN) [203.0.113.1] 9000 (?) open
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nc -z -v 127.0.0.1 9000 
localhost [127.0.0.1] 9000 (?) open

$ nc -z -v localhost 9000 
localhost [127.0.0.1] 9000 (?) open
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the FreeBSD host, start a Web browser, navigate to port 9000 on the IP address of your guest VM.
For example, if your guest’s IP address is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;203.0.113.1&lt;/code&gt;, open:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://203.0.113.1:9000/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That page is Portainer’s login page. Since it’s your first time using it, 
it will asks you to create admin user.&lt;/p&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
If you want to use Portainer, you have to start the Portainer Server 
container again after every docker service restart (sudo systemctl restart docker):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo \
 docker run -d -p 9000:9000 -v \
 /var/run/docker.sock:/var/run/docker.sock -v \
 portainer_data:/data portainer/portainer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;CAUTION !!:&lt;/strong&gt; &lt;br /&gt;
Exposing the docker socket (docker.sock) is a security risk. Giving an 
application access to it is equivalent to giving a unrestricted root 
access to your host. For more information see 
&lt;a href=&quot;https://cheatsheetseries.owasp.org/cheatsheets/Docker_Security_Cheat_Sheet.html#rule-1---do-not-expose-the-docker-daemon-socket-even-to-the-containers&quot;&gt;OWASP: Do not expose the Docker daemon socket&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Logout from the guest VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the FreeBSD guest.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install docker docker-compose
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;$DOCKER_HOST&quot;
DOCKER_HOST: Undefined variable.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ nc -z -v 203.0.113.1 2376
Connection to 203.0.113.1 2376 port [tcp/*] succeeded!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The shell is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ps $$
  PID TT  STAT    TIME COMMAND
30033  7  Ss   0:00.02 -csh (csh)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ set DOCKER_HOST=&quot;203.0.113.1:2376&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf %s\\n &quot;$DOCKER_HOST&quot;
203.0.113.1:2376
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ docker -H &quot;tcp://dusko@$DOCKER_HOST&quot;:2376 run hello-world
 
Hello from Docker!
This message shows that your installation appears to be working correctly.
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To show &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker run&lt;/code&gt; usage:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ docker -H tcp://dusko@203.0.113.1:2376 run --help

Usage:  docker run [OPTIONS] IMAGE [COMMAND] [ARG...]

Run a command in a new container
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Docker run command to start an interactive bash shell session in an Ubuntu Docker image:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ docker -H &quot;tcp://dusko@$DOCKER_HOST&quot;:2376 run -it ubuntu bash

Unable to find image &apos;ubuntu:latest&apos; locally
latest: Pulling from library/ubuntu
08c01a0ec47e: Pull complete
Digest: sha256:669e010b58baf5beb2836b253c1fd5768333f0d1dbcb834f7c07a4dc93f474be
Status: Downloaded newer image for ubuntu:latest
root@9407014e2a92:/#
root@9407014e2a92:/#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;root@9407014e2a92:/# hostname
9407014e2a92

root@9407014e2a92:/# uname -a
Linux 9407014e2a92 5.10.0-11-amd64 #1 SMP Debian 5.10.92-1 (2022-01-18) 
  x86_64 x86_64 x86_64 GNU/Linux
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Logout from the bash shel.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;root@9407014e2a92:/# exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the FreeBSD host, to show list of Docker images available:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ docker -H tcp://dusko@203.0.113.1:2376 images
REPOSITORY            TAG       IMAGE ID       CREATED        SIZE
ubuntu                latest    54c9d81cbb44   13 days ago    72.8MB
hello-world           latest    feb5d9fea6a5   4 months ago   13.3kB
portainer/portainer   latest    580c0e4e98b0   11 months ago  79.1MB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.gamsjager.nl/2019/01/11/How-to-run-Docker-on-FreeBSD-12/&quot;&gt;How to run Docker on FreeBSD 12&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://docs.docker.com/engine/install/debian/&quot;&gt;Install Docker Engine on Ubuntu&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;https://docs.docker.com/engine/install/linux-postinstall/&quot;&gt;Docker Post-installation steps for Linux&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://web.archive.org/web/20180615163619/https://success.docker.com/article/how-do-i-enable-the-remote-api-for-dockerd&quot;&gt;How do I enable the remote API for dockerd&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Sun, 13 Feb 2022 07:22:41 -0800</pubDate>
        <link>http://localhost:4000/freebsd/bhyve/docker/virtualization/2022/02/13/freebsd-docker-vm-bhyve.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/bhyve/docker/virtualization/2022/02/13/freebsd-docker-vm-bhyve.html</guid>
        
        
        <category>freebsd</category>
        
        <category>bhyve</category>
        
        <category>docker</category>
        
        <category>virtualization</category>
        
      </item>
    
      <item>
        <title>How To Install PlantUML and PlantUML Server Locally on FreeBSD</title>
        <description>&lt;p&gt;Operating system:  FreeBSD 13.0&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
In code excerpts and examples, the long lines are folded and then
indented to make sure they fit the page.&lt;/p&gt;

&lt;p&gt;https://plantuml.com/&lt;/p&gt;

&lt;p&gt;https://github.com/plantuml/&lt;/p&gt;

&lt;h3 id=&quot;run-plantuml-locally&quot;&gt;Run PlantUML Locally&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/plantuml/plantuml&quot;&gt;&lt;em&gt;plantuml&lt;/em&gt;&lt;/a&gt;  &lt;br /&gt;
Generate diagrams from textual description&lt;/p&gt;

&lt;p&gt;Requirements for running PlantUML locally:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Java&lt;/li&gt;
  &lt;li&gt;Graphviz&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;As of Feb 8, 2022, the latest version of PlantUML is 1.2022.1.&lt;/p&gt;

&lt;p&gt;PlantUML compiled Jar (Version 1.2022.1)&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://github.com/plantuml/plantuml/releases/tag/v1.2022.1&quot;&gt;GitHub releases&lt;/a&gt;, you can download &lt;a href=&quot;https://github.com/plantuml/plantuml/releases/download/v1.2022.1/plantuml-1.2022.1.jar&quot;&gt;plantuml.1.2022.1.jar&lt;/a&gt;. It includes GraphViz.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch \
 https://github.com/plantuml/plantuml/releases/download/v1.2022.1/plantuml-1.2022.1.jar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a text file with PlantUML commands.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat sequenceDiagram.txt
@startuml
Alice -&amp;gt; Bob: test
@enduml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% java -jar plantuml-1.2022.1.jar sequenceDiagram.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This outputs the sequence diagram to a file called sequenceDiagram.png.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file sequenceDiagram.png
sequenceDiagram.png: PNG image data, 123 x 131, 8-bit/color RGB, non-interlaced
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv sequenceDiagram.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References:  &lt;br /&gt;
https://plantuml.com/starting
Local Installation notes &lt;a href=&quot;https://plantuml.com/en/faq-install&quot;&gt;https://plantuml.com/en/faq-install&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;plantuml-picoweb-server&quot;&gt;PlantUML PicoWeb Server&lt;/h3&gt;

&lt;p&gt;You can install PlantUML server and run it locally but you first need 
to install your own JEE web application server.&lt;/p&gt;

&lt;p&gt;If you don’t want to install a full JEE application server, you may also 
choose to run PlantUML PicoWeb Server locally, as PlantUML developers 
have decided to integrate a tiny webserver inside &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;plantuml.jar&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You just have to launch it with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-picoweb&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% java -jar plantuml-1.2022.1.jar -picoweb
webPort=8080
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The server is now listening to http://localhost:8080.&lt;/p&gt;

&lt;p&gt;Then; for example, for SVG service, in a Web browser, enter:&lt;/p&gt;

&lt;p&gt;http://localhost:8080/plantuml/svg/SyfFKj2rKt3CoKnELR1Io4ZDoSa70000&lt;/p&gt;

&lt;p&gt;or for TXT service, in a Web browser enter:&lt;/p&gt;

&lt;p&gt;http://localhost:8080/plantuml/txt/SyfFKj2rKt3CoKnELR1Io4ZDoSa70000&lt;/p&gt;

&lt;p&gt;Reference: &lt;br /&gt;
https://plantuml.com/en/picoweb&lt;/p&gt;

&lt;h3 id=&quot;install-and-run-plantuml-server-locally&quot;&gt;Install and Run PlantUML Server Locally&lt;/h3&gt;

&lt;p&gt;Requirements for PlantUML Server:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Maven (Apache Maven)&lt;/li&gt;
  &lt;li&gt;Jetty (Jetty web server)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Install Maven.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install maven
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----

New packages to be INSTALLED:
        java-zoneinfo: 2021.e
        maven: 3.8.4
        maven-wrapper: 1_2
        openjdk8: 8.312.07.1

Number of packages to be installed: 4

---- snip ---- 

=====
Message from openjdk8-8.312.07.1:

--
This OpenJDK implementation requires fdescfs(5) mounted on /dev/fd and
procfs(5) mounted on /proc.

If you have not done it yet, please do the following:

        mount -t fdescfs fdesc /dev/fd
        mount -t procfs proc /proc

To make it permanent, you need the following lines in /etc/fstab:

        fdesc   /dev/fd         fdescfs         rw      0       0
        proc    /proc           procfs          rw      0       0
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[TODO] cat /etc/fstab for java&lt;/p&gt;

&lt;p&gt;Install jetty.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install jetty9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----
New packages to be INSTALLED:
        bash: 5.1.12
        jetty9: 9.4.29
---- snip ----

=====
Message from jetty9-9.4.29:

--
Jetty is now installed in /usr/local/jetty

From Jetty 9, the way to configure it has changed. You are **strongly**
advised to read the documentation found here:

http://www.eclipse.org/jetty/documentation/current/

Please pay particular attention to HOME and BASE documentation, i.e.,:

http://www.eclipse.org/jetty/documentation/current/startup-base-and-home.html

You may want to activate it in /etc/rc.conf:

    # echo jetty_enable=&quot;YES&quot; &amp;gt;&amp;gt; /etc/rc.conf

A sample configuration file can be found here:

    /usr/local/etc/jetty/jetty.sample

Please modify it to suit your needs, paying particular attention
to the value of JETTY_HOME and JETTY_BASE.

Once you are happy with the configuration file, you can start Jetty:

    # service jetty start

Once Jetty is started, point your web browser to the default home page at
http://localhost:8080/.

A demo web app is installed for your convenience.

== ADVANCED USAGE ==

If you need to pass special options to Java/Jetty, please set the appropriate
variables in the configuration file, e.g.,

  # Increase memory limit of the Java virtual machine

  JAVA_OPTIONS=&quot;-Xms32m -Xmx256m&quot;

  # Run Java with remote debugging turned on on port 8186

  JAVA_OPTIONS=&quot;-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8186&quot;

More configuration options are presented in the sample file.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;TODO2 — possibly here&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
For PlantUML Server, dont’ start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jetty&lt;/code&gt; service yet.&lt;br /&gt;
It will be started with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mvn jetty:run&lt;/code&gt; (see below steps).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir ~/scratch
% cd ~/scratch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Download the latest version of PlantUML Server.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch \
 https://codeload.github.com/plantuml/plantuml-server/zip/refs/heads/master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh master
-rw-r--r--  1 dusko  dusko   139K Feb  8 23:49 master

% file master
master: Zip archive data, at least v1.0 to extract

% mv master plantuml-server.zip

% unzip plantuml-server.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld plantuml-server*
drwxr-xr-x  7 dusko  dusko      18 Feb  8 23:50 plantuml-server-master
-rw-r--r--  1 dusko  dusko  142662 Feb  8 23:49 plantuml-server.zip

% mv plantuml-server-master plantuml-server

% ls -ld plantuml-server*
drwxr-xr-x  7 dusko  dusko      18 Feb  8 23:50 plantuml-server
-rw-r--r--  1 dusko  dusko  142662 Feb  8 23:49 plantuml-server.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd ~/scratch/plantuml-server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pwd
/usr/home/dusko/scratch/plantuml-server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mvn jetty:run
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then, in a Web browser, open: &lt;br /&gt;
http://localhost:8080/plantuml&lt;/p&gt;

&lt;p&gt;To run it again:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd ~/scratch/plantuml-server
% mvn jetty:run
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;p&gt;PlantUML References:  &lt;br /&gt;
&lt;a href=&quot;https://plantuml.com/en/server&quot;&gt;PlantUML Server&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://github.com/plantuml/plantuml-server&quot;&gt;PlantUML Server source code&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;https://github.com/mattjhayes/PlantUML-Examples/blob/master/docs/Diagram-Types/diagram-types.md&quot;&gt;PlantUML Examples&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://plantuml.com/starting&quot;&gt;PlantUML for the impatient&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://plantuml.com/activity-diagram-legacy&quot;&gt;Activity Diagram (legacy)&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://plantuml.com/activity-diagram-beta&quot;&gt;Activity Diagram (new syntax)&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://plantuml.com/command-line&quot;&gt;PlantUML - Command line&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://plantuml.com/commons&quot;&gt;PlantUML - Common commands: comment, zoom, title, footer and header, legend&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.linux-magazine.com/Issues/2020/235/PlantUML-Diagrams&quot;&gt;Drawing diagrams with PlantUML&lt;/a&gt; &lt;br /&gt;
(Linux Magazine Issue #235 - Jun 2020)&lt;br /&gt;
(Retrieved on Feb 8, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://useiconic.com/open&quot;&gt;Open Iconic, a free and open icon set&lt;/a&gt;&lt;br /&gt;
(An open source icon set with 223 marks in SVG, webfont and raster formats) &lt;br /&gt;
(Retrieved on Feb 8, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mattjhayes.com/2021/11/28/other-uses-for-plantuml/&quot;&gt;Other Uses for PlantUML&lt;/a&gt; &lt;br /&gt;
(Retrieved on Feb 8, 2022)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://plantuml.com/link&quot;&gt;Hyperlinks and tooltips&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;http://plantuml.com/creole&quot;&gt;Creole&lt;/a&gt;: rich text, emoticons, unicode, icons&lt;br /&gt;
&lt;a href=&quot;http://plantuml.com/openiconic&quot;&gt;OpenIconic icons&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://plantuml.com/sprite&quot;&gt;Sprite icons&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://plantuml.com/ascii-math&quot;&gt;AsciiMath mathematical expressions&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Tue, 08 Feb 2022 20:17:48 -0800</pubDate>
        <link>http://localhost:4000/freebsd/graphviz/graph/visualization/diagram/2022/02/08/freebsd-install-plantuml-server-locally.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/graphviz/graph/visualization/diagram/2022/02/08/freebsd-install-plantuml-server-locally.html</guid>
        
        
        <category>freebsd</category>
        
        <category>graphviz</category>
        
        <category>graph</category>
        
        <category>visualization</category>
        
        <category>diagram</category>
        
      </item>
    
      <item>
        <title>How To Install Graphviz Visual Editor on FreeBSD in a Linux Guest in Bhyve</title>
        <description>&lt;p&gt;Operating system:  FreeBSD 13.0&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
In code excerpts and examples, the long lines are folded and then 
indented to make sure they fit the page.&lt;/p&gt;

&lt;h3 id=&quot;install-graphviz-visual-editor&quot;&gt;Install Graphviz Visual Editor&lt;/h3&gt;

&lt;p&gt;App: &lt;br /&gt;
&lt;a href=&quot;https://github.com/magjac/graphviz-visual-editor&quot;&gt;Graphviz Visual Editor&lt;/a&gt; &lt;br /&gt;
About&lt;br /&gt;
“A web application for interactive visual editing of Graphviz graphs described in the DOT language.”&lt;br /&gt;
&lt;a href=&quot;http://magjac.com/graphviz-visual-editor&quot;&gt;http://magjac.com/graphviz-visual-editor&lt;/a&gt; &lt;br /&gt;
(Retrieved on Feb 8, 2022)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm list
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    512M    -    No         Stopped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm start -f debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to Debian GNU/Linux VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Debian GNU/Linux 11 debianvm1 ttyS0

debianvm1 login: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install Git and npm.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo apt install git
$ sudo apt install npm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mkdir ~/scratch
$ cd ~/scratch
$ git clone https://github.com/magjac/graphviz-visual-editor
$ cd graphviz-visual-editor/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ npm install
$ make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ npm run start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---- snip ----

Compiled successfully!

You can now view graphviz-visual-editor in the browser.

  Local:            http://localhost:3000/
  On Your Network:  http://192.168.8.19:3000/

Note that the development build is not optimized.
To create a production build, use npm run build.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use a Web browser - on either GNU/Linux Debian guest VM or FreeBSD host 
and open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://192.168.8.19:3000/&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To run it again:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd ~/scratch/graphviz-visual-editor
$ npm run start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Mon, 07 Feb 2022 19:53:31 -0800</pubDate>
        <link>http://localhost:4000/freebsd/bhyve/virtualization/graphviz/graph/visualization/2022/02/07/freebsd-bhyve-graph-editors.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/bhyve/virtualization/graphviz/graph/visualization/2022/02/07/freebsd-bhyve-graph-editors.html</guid>
        
        
        <category>freebsd</category>
        
        <category>bhyve</category>
        
        <category>virtualization</category>
        
        <category>graphviz</category>
        
        <category>graph</category>
        
        <category>visualization</category>
        
      </item>
    
      <item>
        <title>Setup vm-bhyve and Install a GNU/Linux Debian VM on FreeBSD 13</title>
        <description>&lt;p&gt;Operating system:  FreeBSD 13.0&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
In code excerpts and examples, the long lines are folded and then 
indented to make sure they fit the page.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zfs list
NAME                 USED  AVAIL     REFER  MOUNTPOINT
zroot               27.9G   674G       96K  none
zroot/ROOT          5.20G   674G       96K  none
zroot/ROOT/default  5.20G   674G     5.20G  /
zroot/tmp            833M   674G      833M  /tmp
zroot/usr           21.8G   674G       96K  /usr
zroot/usr/home      21.8G   674G     21.8G  /usr/home
zroot/usr/ports       96K   674G       96K  /usr/ports
zroot/usr/src         96K   674G       96K  /usr/src
zroot/var           1.18M   674G       96K  /var
zroot/var/audit       96K   674G       96K  /var/audit
zroot/var/crash       96K   674G       96K  /var/crash
zroot/var/log        548K   674G      548K  /var/log
zroot/var/mail       216K   674G      216K  /var/mail
zroot/var/tmp        152K   674G      152K  /var/tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zpool list
NAME   SIZE  ALLOC  FREE  CKPOINT  EXPANDSZ  FRAG  CAP  DEDUP  HEALTH  ALTROOT
zroot  724G  27.9G  696G        -         -    2%   3%  1.00x  ONLINE  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v bhyve
/usr/sbin/bhyve

% command -v bhyvectl
/usr/sbin/bhyvectl

% command -v bhyveload
/usr/sbin/bhyveload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file /usr/sbin/bhyve
/usr/sbin/bhyve: ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), 
  dynamically linked, interpreter /libexec/ld-elf.so.1, 
  for FreeBSD 13.0 (1300139), FreeBSD-style, stripped

% file /usr/sbin/bhyvectl
/usr/sbin/bhyvectl: ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), 
  dynamically linked, interpreter /libexec/ld-elf.so.1, 
  for FreeBSD 13.0 (1300139), FreeBSD-style, stripped

% file /usr/sbin/bhyveload
/usr/sbin/bhyveload: ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), 
  dynamically linked, interpreter /libexec/ld-elf.so.1, 
  for FreeBSD 13.0 (1300139), FreeBSD-style, stripped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;bhyve, bhyvectl and bhyveload binaries are part of FreeBSD 13 base system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg which /usr/sbin/bhyve
/usr/sbin/bhyve was not found in the database

% pkg which /usr/sbin/bhyvectl
/usr/sbin/bhyvectl was not found in the database

% pkg which /usr/sbin/bhyveload
/usr/sbin/bhyveload was not found in the database
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/share/examples/bhyve/
total 9
-r--r--r--  1 root  wheel   9.6K Apr  8  2021 vmrun.sh

% file /usr/share/examples/bhyve/vmrun.sh
/usr/share/examples/bhyve/vmrun.sh: POSIX shell script, ASCII text executable

% wc -l /usr/share/examples/bhyve/vmrun.sh
     395 /usr/share/examples/bhyve/vmrun.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg search bhyve
bhyve+-0.1.0                   BHyVe with unofficial extensions
bhyve-firmware-1.0_1           Collection of Firmware for bhyve
bhyve-rc-3                     FreeBSD RC script for starting bhyve guests in tmux
grub2-bhyve-0.40_8             Grub-emu loader for bhyve
rubygem-vagrant-bhyve-0.1.0    Vagrant provider plugin to support bhyve
uefi-edk2-bhyve-g20210226,2    UEFI EDK2 firmware for bhyve
uefi-edk2-bhyve-csm-0.2_3,1    UEFI EDK2 firmware for bhyve with CSM (16-bit BIOS)
vm-bhyve-1.4.2                 Management system for bhyve virtual machines
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Based on 
&lt;a href=&quot;https://github.com/churchers/vm-bhyve&quot;&gt;churchers/vm-bhyve.&lt;/a&gt;(Retrieved on Feb 6, 2022).&lt;/p&gt;

&lt;p&gt;Install vm-bhyve.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install vm-bhyve
---- snip ----

=====
Message from vm-bhyve-1.4.2:

--
To enable vm-bhyve, please add the following lines to rc.conf,
depending on whether you are using ZFS storage or not. Please note
that the directory or dataset specified should already exist.

    vm_enable=&quot;YES&quot;
    vm_dir=&quot;zfs:pool/dataset&quot;

OR

    vm_enable=&quot;YES&quot;
    vm_dir=&quot;/directory/path&quot;

Then run &apos;vm init&apos;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/share/examples/vm-bhyve/
total 85
-rw-r--r--  1 root  wheel   437B Jan 14  2020 alpine.conf
-rw-r--r--  1 root  wheel   280B Jan 14  2020 arch.conf
-rw-r--r--  1 root  wheel   354B Jan 14  2020 centos6.conf
-rw-r--r--  1 root  wheel   163B Jan 14  2020 centos7.conf
-rw-r--r--  1 root  wheel    16K Jan 14  2020 config.sample
-rw-r--r--  1 root  wheel   331B Jan 14  2020 coreos.conf
-rw-r--r--  1 root  wheel   177B Jan 14  2020 debian.conf
-rw-r--r--  1 root  wheel   136B Jan 14  2020 default.conf
-rw-r--r--  1 root  wheel   441B Jan 14  2020 dragonfly.conf
-rw-r--r--  1 root  wheel   156B Jan 14  2020 freebsd-zvol.conf
-rw-r--r--  1 root  wheel   755B Jan 14  2020 freepbx.conf
-rw-r--r--  1 root  wheel   151B Jan 14  2020 linux-zvol.conf
-rw-r--r--  1 root  wheel   213B Jan 14  2020 netbsd.conf
-rw-r--r--  1 root  wheel   243B Jan 14  2020 openbsd.conf
-rw-r--r--  1 root  wheel   222B Jan 14  2020 resflash.conf
-rw-r--r--  1 root  wheel   131B Jan 14  2020 ubuntu.conf
-rw-r--r--  1 root  wheel   566B Jan 14  2020 windows.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo zfs create zroot/vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zfs list | tail -1
zroot/vm              96K   674G       96K  none
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /vm
ls: /vm: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zfs get all zroot/vm | wc -l
      73

% zfs get all zroot/vm | grep compression
zroot/vm  compression      lz4             inherited from zroot

% zfs get all zroot/vm | grep -w atime
zroot/vm  atime            off             inherited from zroot

% zfs get all zroot/vm | grep mountpoint
zroot/vm  mountpoint       none            inherited from zroot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo zfs set mountpoint=/vm zroot/vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zfs get all zroot/vm | grep mountpoint
zroot/vm  mountpoint       /vm             local
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /vm
drwxr-xr-x  2 root  wheel  2 Jan 29 19:30 /vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% date
Sat 29 Jan 2022 19:38:49 PST

% file /vm
/vm: directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zfs get all zroot/vm
NAME      PROPERTY       VALUE                  SOURCE
zroot/vm  type           filesystem             -
zroot/vm  creation       Sat Jan 29 19:30 2022  -
zroot/vm  used           96K                    -
zroot/vm  available      674G                   -

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% zfs mount
zroot/ROOT/default              /
zroot/tmp                       /tmp
zroot/usr/ports                 /usr/ports
zroot/usr/home                  /usr/home
zroot/var/crash                 /var/crash
zroot/var/mail                  /var/mail
zroot/var/tmp                   /var/tmp
zroot/var/audit                 /var/audit
zroot/usr/src                   /usr/src
zroot/var/log                   /var/log
zroot/vm                        /vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i /etc/rc.conf /etc/rc.conf.original.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &apos;vm_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf
% printf %s\\n &apos;vm_dir=&quot;zfs:zroot/vm&quot;&apos; | sudo tee -a /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /etc/rc.conf.original.bak \
 /etc/rc.conf
--- /etc/rc.conf.original.bak   2022-01-29 19:17:50.236339000 -0800
+++ /etc/rc.conf        2022-01-29 20:24:22.277037000 -0800
@@ -7,0 +8,2 @@
+vm_enable=&quot;YES&quot;
+vm_dir=&quot;zfs:zroot/vm&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% type vm
vm is /usr/local/sbin/vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% file /usr/local/sbin/vm
/usr/local/sbin/vm: POSIX shell script, ASCII text executable

% wc -l /usr/local/sbin/vm
      51 /usr/local/sbin/vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/lib/vm-bhyve
total 133
-rw-r--r--  1 root  wheel   2.4K Jan 14  2020 vm-base
-rw-r--r--  1 root  wheel   7.7K Jan 14  2020 vm-cmd
-rw-r--r--  1 root  wheel   5.9K Jan 14  2020 vm-config
-rw-r--r--  1 root  wheel    32K Jan 14  2020 vm-core
-rw-r--r--  1 root  wheel    14K Jan 14  2020 vm-datastore
-rw-r--r--  1 root  wheel   7.3K Jan 14  2020 vm-guest
-rw-r--r--  1 root  wheel    14K Jan 14  2020 vm-info
-rw-r--r--  1 root  wheel    10K Jan 14  2020 vm-migration
-rw-r--r--  1 root  wheel   3.4K Jan 14  2020 vm-rctl
-rw-r--r--  1 root  wheel    33K Jan 14  2020 vm-run
-rw-r--r--  1 root  wheel    13K Jan 14  2020 vm-switch
-rw-r--r--  1 root  wheel   4.6K Jan 14  2020 vm-switch-manual
-rw-r--r--  1 root  wheel    11K Jan 14  2020 vm-switch-standard
-rw-r--r--  1 root  wheel   3.4K Jan 14  2020 vm-switch-vale
-rw-r--r--  1 root  wheel   6.3K Jan 14  2020 vm-switch-vxlan
-rw-r--r--  1 root  wheel    11K Jan 14  2020 vm-util
-rw-r--r--  1 root  wheel    18K Jan 14  2020 vm-zfs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm
total 9
drwxr-xr-x   2 root  wheel     2B Jan 29 19:30 .
drwxr-xr-x  19 root  wheel    25B Jan 29 19:38 ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% kldstat | grep vmm
% kldstat | grep nmdm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Virtual machines can only be managed by root.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm init
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm
total 11
drwxr-xr-x   6 root  wheel     6B Jan 29 20:27 .
drwxr-xr-x  19 root  wheel    25B Jan 29 19:38 ..
drwxr-xr-x   2 root  wheel     4B Jan 29 20:27 .config
drwxr-xr-x   2 root  wheel     2B Jan 29 20:27 .img
drwxr-xr-x   2 root  wheel     2B Jan 29 20:27 .iso
drwxr-xr-x   2 root  wheel     3B Jan 29 20:27 .templates
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% kldstat | grep vm
25    1 0xffffffff83000000   53a420 vmm.ko

% kldstat | grep nmdm
26    1 0xffffffff82e49000     21cc nmdm.ko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% kldstat | tail -4
25    1 0xffffffff83000000   53a420 vmm.ko
26    1 0xffffffff82e49000     21cc nmdm.ko
27    1 0xffffffff82e4c000     7638 if_bridge.ko
28    1 0xffffffff82e54000     50d8 bridgestp.ko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% service vm status
vm is not running.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm list
Password:
NAME  DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm info
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm datastore list
NAME            TYPE        PATH                      ZFS DATASET
default         zfs         /vm                       zroot/vm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm switch info
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For Linux guests, install grub2-bhyve.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install grub2-bhyve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For UEFI support, install bhyve-firmware.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install bhyve-firmware
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/
total 11
drwxr-xr-x   6 root  wheel     6B Jan 29 20:27 .
drwxr-xr-x  19 root  wheel    25B Jan 29 21:58 ..
drwxr-xr-x   2 root  wheel     4B Jan 29 20:27 .config
drwxr-xr-x   2 root  wheel     2B Jan 29 20:27 .img
drwxr-xr-x   2 root  wheel     2B Jan 29 20:27 .iso
drwxr-xr-x   2 root  wheel     3B Jan 29 20:27 .templates
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/.templates/
total 6
drwxr-xr-x  2 root  wheel     3B Jan 29 20:27 .
drwxr-xr-x  6 root  wheel     6B Jan 29 20:27 ..
-rw-r--r--  1 root  wheel   136B Jan 29 20:27 default.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/share/examples/vm-bhyve/default.conf
loader=&quot;bhyveload&quot;
cpu=1
memory=256M
network0_type=&quot;virtio-net&quot;
network0_switch=&quot;public&quot;
disk0_type=&quot;virtio-blk&quot;
disk0_name=&quot;disk0.img&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /vm/.templates/default.conf
loader=&quot;bhyveload&quot;
cpu=1
memory=256M
network0_type=&quot;virtio-net&quot;
network0_switch=&quot;public&quot;
disk0_type=&quot;virtio-blk&quot;
disk0_name=&quot;disk0.img&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i /usr/local/share/examples/vm-bhyve/* /vm/.templates/
overwrite /vm/.templates/default.conf? (y/n [n]) y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/.templates/
total 94
drwxr-xr-x  2 root  wheel    19B Jan 29 22:31 .
drwxr-xr-x  6 root  wheel     6B Jan 29 20:27 ..
-rw-r--r--  1 root  wheel   437B Jan 29 22:31 alpine.conf
-rw-r--r--  1 root  wheel   280B Jan 29 22:31 arch.conf
-rw-r--r--  1 root  wheel   354B Jan 29 22:31 centos6.conf
-rw-r--r--  1 root  wheel   163B Jan 29 22:31 centos7.conf
-rw-r--r--  1 root  wheel    16K Jan 29 22:31 config.sample
-rw-r--r--  1 root  wheel   331B Jan 29 22:31 coreos.conf
-rw-r--r--  1 root  wheel   177B Jan 29 22:31 debian.conf
-rw-r--r--  1 root  wheel   136B Jan 29 22:31 default.conf
-rw-r--r--  1 root  wheel   441B Jan 29 22:31 dragonfly.conf
-rw-r--r--  1 root  wheel   156B Jan 29 22:31 freebsd-zvol.conf
-rw-r--r--  1 root  wheel   755B Jan 29 22:31 freepbx.conf
-rw-r--r--  1 root  wheel   151B Jan 29 22:31 linux-zvol.conf
-rw-r--r--  1 root  wheel   213B Jan 29 22:31 netbsd.conf
-rw-r--r--  1 root  wheel   243B Jan 29 22:31 openbsd.conf
-rw-r--r--  1 root  wheel   222B Jan 29 22:31 resflash.conf
-rw-r--r--  1 root  wheel   131B Jan 29 22:31 ubuntu.conf
-rw-r--r--  1 root  wheel   566B Jan 29 22:31 windows.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ifconfig
em0: flags=8822&amp;lt;BROADCAST,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
        options=481249b&amp;lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,VLAN_HWCSUM,
          LRO,WOL_MAGIC,VLAN_HWFILTER,NOMAP&amp;gt;
---- snip ----
        media: Ethernet autoselect
        status: no carrier
        nd6 options=29&amp;lt;PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL&amp;gt;
lo0: flags=8049&amp;lt;UP,LOOPBACK,RUNNING,MULTICAST&amp;gt; metric 0 mtu 16384
        options=680003&amp;lt;RXCSUM,TXCSUM,LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6&amp;gt;
        inet6 ::1 prefixlen 128
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x2
        inet 127.0.0.1 netmask 0xff000000
        groups: lo
        nd6 options=21&amp;lt;PERFORMNUD,AUTO_LINKLOCAL&amp;gt;
ue0: flags=8843&amp;lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
        options=68009b&amp;lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,VLAN_HWCSUM,
          LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6&amp;gt;
---- snip ----
        inet 192.168.1.65 netmask 0xffffff00 broadcast 192.168.1.255
        media: Ethernet autoselect (1000baseT &amp;lt;full-duplex&amp;gt;)
        status: active
        nd6 options=29&amp;lt;PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm switch list
NAME  TYPE  IFACE  ADDRESS  PRIVATE  MTU  VLAN  PORTS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm switch create -a 192.168.8.1/24 public
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm switch list
Password:
NAME    TYPE      IFACE      ADDRESS         PRIVATE  MTU  VLAN  PORTS
public  standard  vm-public  192.168.8.1/24  no       -    -     -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm switch info
------------------------
Virtual Switch: public
------------------------
  type: standard
  ident: vm-public
  vlan: -
  physical-ports: -
  bytes-in: 37302 (36.427K)
  bytes-out: 5550 (5.419K)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:  Some instructions include running
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo vm switch add public ue0&lt;/code&gt; at this point but when I did it, 
the guest VM wasn’t able to obtain an IP address from dnsmasq
(although it obtained an IP address from the same DHCP server that the 
FreeBSD host obtaines it from).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ifconfig
em0: flags=8822&amp;lt;BROADCAST,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
        options=481249b&amp;lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,
          VLAN_HWCSUM,LRO,WOL_MAGIC,VLAN_HWFILTER,NOMAP&amp;gt;
---- snip ----  
        media: Ethernet autoselect
        status: no carrier
        nd6 options=29&amp;lt;PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL&amp;gt;
lo0: flags=8049&amp;lt;UP,LOOPBACK,RUNNING,MULTICAST&amp;gt; metric 0 mtu 16384
        options=680003&amp;lt;RXCSUM,TXCSUM,LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6&amp;gt;
        inet6 ::1 prefixlen 128
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x2
        inet 127.0.0.1 netmask 0xff000000
        groups: lo
        nd6 options=21&amp;lt;PERFORMNUD,AUTO_LINKLOCAL&amp;gt;
ue0: flags=8943&amp;lt;UP,BROADCAST,RUNNING,PROMISC,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
        options=68009b&amp;lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,
          VLAN_HWCSUM,LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6&amp;gt;
---- snip ---- 
        inet 192.168.1.65 netmask 0xffffff00 broadcast 192.168.1.255
        media: Ethernet autoselect (1000baseT &amp;lt;full-duplex&amp;gt;)
        status: active
        nd6 options=29&amp;lt;PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL&amp;gt;
vm-public: flags=8843&amp;lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
        ether 1e:77:56:53:11:0f
        inet 192.168.8.1 netmask 0xffffff00 broadcast 192.168.8.255
        id 00:00:00:00:00:00 priority 32768 hellotime 2 fwddelay 15
        maxage 20 holdcnt 6 proto rstp maxaddr 2000 timeout 1200
        root id 00:00:00:00:00:00 priority 32768 ifcost 0 port 0
        groups: bridge vm-switch viid-4c918@
        nd6 options=9&amp;lt;PERFORMNUD,IFDISABLED&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;internal-nat-configuration&quot;&gt;Internal NAT Configuration&lt;/h3&gt;

&lt;p&gt;If you want or need to internal NAT, you need to configure it manually.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://github.com/churchers/vm-bhyve/wiki/NAT-Configuration&quot;&gt;NAT Configuration - vm-bhyve Wiki&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Feb 6, 2022)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Unfortunately, internal NAT configuration has been removed as of v1.2. 
As a shell script, we relied on configuring external systems such as 
pf and dnsmasq to provide NAT functions. Some users want to use other 
tools/firewalls, and many users found NAT broken due to existing 
pf or dnsmasq configuration they had in place. It has come to the point 
where it’s arguably easier and less error-prone to manually configure 
NAT than to try and enable it via vm-bhyve, then manually install/tweak 
the generated configuration.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vm version
vm-bhyve: Bhyve virtual machine management v1.4.2 (rev. 104002)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/rc.conf
zfs_enable=&quot;YES&quot;
dumpdev=&quot;AUTO&quot;
powerd_enable=&quot;YES&quot;
ifconfig_ue0=&quot;DHCP&quot;
defaultrouter=&quot;192.168.1.254&quot;
kld_list=&quot;i915kms&quot;
hostname=&quot;fbsd1.home.arpa&quot;
vm_enable=&quot;YES&quot;
vm_dir=&quot;zfs:zroot/vm&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ifconfig
em0: flags=8822&amp;lt;BROADCAST,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
        options=481249b&amp;lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,
          VLAN_HWCSUM,LRO,WOL_MAGIC,VLAN_HWFILTER,NOMAP&amp;gt;
---- snip ---- 
        status: no carrier
        nd6 options=29&amp;lt;PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL&amp;gt;
lo0: flags=8049&amp;lt;UP,LOOPBACK,RUNNING,MULTICAST&amp;gt; metric 0 mtu 16384
        options=680003&amp;lt;RXCSUM,TXCSUM,LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6&amp;gt;
        inet6 ::1 prefixlen 128
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x2
        inet 127.0.0.1 netmask 0xff000000
        groups: lo
        nd6 options=21&amp;lt;PERFORMNUD,AUTO_LINKLOCAL&amp;gt;
ue0: flags=8843&amp;lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&amp;gt; metric 0 mtu 1500
        options=68009b&amp;lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,
          VLAN_HWCSUM,LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6&amp;gt;
---- snip ----
        inet 192.168.1.65 netmask 0xffffff00 broadcast 192.168.1.255
        media: Ethernet autoselect (1000baseT &amp;lt;full-duplex&amp;gt;)
        status: active
        nd6 options=29&amp;lt;PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all available interfaces on the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ifconfig -l
em0 lo0 ue0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List only interfaces that are down.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ifconfig -l -d
em0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List only interfaces that are up.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ifconfig -l -u
lo0 ue0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /etc/pf.conf
ls: /etc/pf.conf: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n \
 &apos;nat on ue0 from {192.168.8.0/24} to any -&amp;gt; (ue0)&apos; \
 | sudo tee -a /etc/pf.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;&lt;br /&gt;
I use a shell script with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openconnect(8)&lt;/code&gt; (“multi-protocol VPN client 
for Cisco AnyConnect VPNs and others”) for connecting to a VPN.
This creates a network interface named &lt;strong&gt;tun0&lt;/strong&gt; so I need to add another 
line for it to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pf.conf&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n \
 &apos;nat on tun0 from {192.168.8.0/24} to any -&amp;gt; (tun0)&apos; \
 | sudo tee -a /etc/pf.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/pf.conf
nat on ue0 from {192.168.8.0/24} to any -&amp;gt; (ue0)
nat on tun0 from {192.168.8.0/24} to any -&amp;gt; (tun0)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Bhyve networking section - based on 
&lt;a href=&quot;https://github.com/churchers/vm-bhyve/wiki/NAT-Configuration&quot;&gt;vm-bhyve wiki - NAT How-To&lt;/a&gt;
(Retrieved on Feb 6, 2022).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install dnsmasq

---- snip ----

=====
Message from dnsmasq-2.86_2,1:

--
To enable dnsmasq, edit /usr/local/etc/dnsmasq.conf and
set dnsmasq_enable=&quot;YES&quot; in /etc/rc.conf[.local]

Further options and actions are documented inside
/usr/local/etc/rc.d/dnsmasq
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/rc.d/dnsmasq
-rwxr-xr-x  1 root  wheel   2.7K Jan 13 04:03 /usr/local/etc/rc.d/dnsmasq

% file /usr/local/etc/rc.d/dnsmasq
/usr/local/etc/rc.d/dnsmasq: POSIX shell script, ASCII text executable

% wc -l /usr/local/etc/rc.d/dnsmasq
      97 /usr/local/etc/rc.d/dnsmasq
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &apos;pf_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf
% printf %s\\n &apos;gateway_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf
% printf %s\\n &apos;dnsmasq_enable=&quot;YES&quot;&apos; | sudo tee -a /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /etc/rc.conf.original.bak \
 /etc/rc.conf
--- /etc/rc.conf.original.bak   2022-01-29 19:17:50.236339000 -0800
+++ /etc/rc.conf        2022-01-29 21:42:58.697928000 -0800
@@ -7,0 +8,5 @@
+vm_enable=&quot;YES&quot;
+vm_dir=&quot;zfs:zroot/vm&quot;
+pf_enable=&quot;YES&quot;
+gateway_enable=&quot;YES&quot;
+dnsmasq_enable=&quot;YES&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/etc/dnsmasq*
-rw-r--r--  1 root  wheel    27K Jan 13 04:03 /usr/local/etc/dnsmasq.conf
-rw-r--r--  1 root  wheel    27K Jan 13 04:03 /usr/local/etc/dnsmasq.conf.sample

% diff \
 /usr/local/etc/dnsmasq.conf.sample \ 
 /usr/local/etc/dnsmasq.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/dnsmasq.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/dnsmasq.conf
port=0
domain-needed
no-resolv
except-interface=lo0
bind-interfaces
local-service
dhcp-authoritative
 
interface=vm-public
dhcp-range=192.168.8.10,192.168.8.254
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i /boot/loader.conf /boot/loader.conf.original.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &apos;if_bridge_load=&quot;YES&quot;&apos; | sudo tee -a /boot/loader.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /boot/loader.conf.original.bak \
 /boot/loader.conf
--- /boot/loader.conf.original.bak      2022-01-29 21:46:19.799847000 -0800
+++ /boot/loader.conf   2022-01-29 21:47:08.625437000 -0800
@@ -5,0 +6 @@
+if_bridge_load=&quot;YES&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Based on 
&lt;a href=&quot;https://github.com/churchers/vm-bhyve/wiki/Guest-example:-Alpine-Linux&quot;&gt;vm-bhyve wiki - How-To Running Linux&lt;/a&gt;(Retrieved on Feb 6, 2022):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i /etc/sysctl.conf /etc/sysctl.conf.original.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &apos;net.link.tap.up_on_open=1&apos; | sudo tee -a /etc/sysctl.conf
% printf %s\\n &apos;net.link.bridge.pfil_bridge=0&apos; | sudo tee -a /etc/sysctl.conf
% printf %s\\n &apos;net.link.bridge.pfil_member=0&apos; | sudo tee -a /etc/sysctl.conf
% printf %s\\n &apos;net.inet.ip.forwarding=1&apos; | sudo tee -a /etc/sysctl.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /etc/sysctl.conf.original.bak \
 /etc/sysctl.conf
--- /etc/sysctl.conf.original.bak       2022-01-29 21:51:56.741050000 -0800
+++ /etc/sysctl.conf    2022-01-29 21:53:29.508938000 -0800
@@ -9,0 +10,4 @@
+net.link.tap.up_on_open=1
+net.link.bridge.pfil_bridge=0
+net.link.bridge.pfil_member=0
+net.inet.ip.forwarding=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reboot the system.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo shutdown -r now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After restart:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/.config/
total 2
drwxr-xr-x  2 root  wheel     4B Jan 29 20:27 .
drwxr-xr-x  6 root  wheel     6B Jan 29 20:27 ..
-rw-r--r--  1 root  wheel     0B Jan 29 20:27 null.iso
-rw-r--r--  1 root  wheel    63B Jan 29 22:34 system.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/.config/null.iso
-rw-r--r--  1 root  wheel     0B Jan 29 20:27 /vm/.config/null.iso

% cat /vm/.config/system.conf 
switch_list=&quot;public&quot;
type_public=&quot;standard&quot;
addr_public=&quot;192.168.8.1/24&quot;
ports_public=&quot;&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/.img/
total 1
drwxr-xr-x  2 root  wheel     2B Jan 29 20:27 .
drwxr-xr-x  6 root  wheel     6B Jan 29 20:27 ..
 
% ls -alh /vm/.iso/
total 1
drwxr-xr-x  2 root  wheel     2B Jan 29 20:27 .
drwxr-xr-x  6 root  wheel     6B Jan 29 20:27 ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /vm/.templates/debian.conf
loader=&quot;grub&quot;
cpu=1
memory=512M
network0_type=&quot;virtio-net&quot;
network0_switch=&quot;public&quot;
disk0_type=&quot;ahci-hd&quot;
disk0_name=&quot;disk0.img&quot;
grub_run_partition=&quot;1&quot;
grub_run_dir=&quot;/boot/grub&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo \ 
 vm \
 iso \
 https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-11.2.0-amd64-netinst.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/.iso/
total 380110
drwxr-xr-x  2 root  wheel     3B Jan 29 22:52 .
drwxr-xr-x  6 root  wheel     6B Jan 29 20:27 ..
-rw-r--r--  1 root  wheel   378M Dec 18 05:24 debian-11.2.0-amd64-netinst.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a VM named ‘debianvm1’ by using a template ‘debian’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm create -t debian debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/
total 36
drwxr-xr-x   7 root  wheel     7B Jan 29 22:58 .
drwxr-xr-x  19 root  wheel    25B Jan 29 21:58 ..
drwxr-xr-x   2 root  wheel     4B Jan 29 20:27 .config
drwxr-xr-x   2 root  wheel     2B Jan 29 20:27 .img
drwxr-xr-x   2 root  wheel     3B Jan 29 22:52 .iso
drwxr-xr-x   2 root  wheel    19B Jan 29 22:31 .templates
drwxr-xr-x   2 root  wheel     7B Jan 29 23:03 debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -alh /vm/debianvm1/
total 28
drwxr-xr-x  2 root  wheel     7B Jan 29 23:03 .
drwxr-xr-x  7 root  wheel     7B Jan 29 22:58 ..
-rw-r--r--  1 root  wheel   254B Jan 29 22:58 debianvm1.conf
-rw-r--r--  1 root  wheel    77B Jan 29 23:03 device.map
-rw-------  1 root  wheel    20G Jan 29 22:58 disk0.img
-rw-r--r--  1 root  wheel    16B Jan 29 23:03 run.lock
-rw-r--r--  1 root  wheel   1.4K Jan 29 23:12 vm-bhyve.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm list
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    512M    -    No         Stopped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install GNU Linux Debian.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm install -f debianvm1 debian-11.2.0-amd64-netinst.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;fixing-gnu-grub&quot;&gt;Fixing GNU GRUB&lt;/h3&gt;

&lt;p&gt;NOTE: Strictly speaking, it’s GRUB 2 (as opposed to GRUB, a.k.a. GRUB Legacy).&lt;/p&gt;

&lt;p&gt;After reboot, Debian booted into GRUB prompt, which means it can’t find root partition.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                     GNU GRUB  version 2.00

Minimal BASH-like line editing is supported. For the first word, TAB
lists possible command completions. Anywhere else TAB lists possible
device or file completions.

grub&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In grub prompt, press TAB:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Possible commands are:
      
. [ authenticate background_color background_image blocklist boot break 
cat clear cmp configfile continue crc cryptomount date dump echo exit 
export extract_entries_configfile extract_entries_source
extract_legacy_entries_configfile extract_legacy_entries_source false
functional_test gettext gptsync halt hashsum hello help hexdump initrd 
initrd16 insmod keymap keystatus kfreebsd kfreebsd_loadenv 
kfreebsd_module kfreebsd_module_elf knetbsd knetbsd_module 
knetbsd_module_elf kopenbsd kopenbsd_ramdisk legacy_check_password 
legacy_configfile legacy_initrd legacy_initrd_nounzip legacy_kernel 
legacy_password legacy_source linux linux16 list_env load_env 
loadfont loopback ls lsfonts lsmmap lsmod md5sum menuentry module 
multiboot net_add_addr net_add_dns net_add_route net_bootp net_del_addr
net_del_dns net_del_route net_get_dhcp_option net_ipv6_autoconf 
net_ls_addr net_ls_cards net_ls_dns net_ls_routes net_nslookup normal 
normal_exit parttool password password_pbkdf2 probe read read_byte 
read_dword read_word reboot regexp
return rmmod save_env search search.file search.fs_label search.fs_uuid 
serial set setparams sha1sum sha256sum sha512sum shift sleep source 
submenu terminal_input terminal_output terminfo test test_blockarg 
testload time true unset videoinfo videotest write_byte write_dword 
write_word xnu_uuid zfs-bootfs zfsinfo zfskey

grub&amp;gt;
grub&amp;gt; ls
(hd0) (hd0,msdos5) (hd0,msdos1) (host) (lvm/debianvm1--vg-swap_1) 
  (lvm/debianvm1--vg-root)

grub&amp;gt; ls (hd0,msdos5)
        Partition hd0,msdos5: No known filesystem detected 
        Partition start at 1001472 - Total size 40939520 sectors

grub&amp;gt; ls (hd0,msdos5)/
error: unknown filesystem.

grub&amp;gt; ls (hd0,msdos1)
        Partition hd0,msdos1: Filesystem type ext* 
        Last modification time 2022-01-30 07:47:05 Sunday, 
        UUID 650acfe0-f659-4c0d-a877-27d1fae2d455
        Partition start at 2048 - Total size 997376 sectors

grub&amp;gt; ls (hd0,msdos1)/
lost+found/ config-5.10.0-10-amd64 vmlinuz-5.10.0-10-amd64 
  config-5.10.0-11-amd64 grub/ System.map-5.10.0-10-amd64 
  initrd.img-5.10.0-10-amd64 vmlinuz-5.10.0-11-amd64 
  System.map-5.10.0-11-amd64 initrd.img-5.10.0-11-amd64

grub&amp;gt; ls (host)
Device host: Filesystem type hostfs - Total size 0 sectors

grub&amp;gt; ls (host)/
entropy var/ boot/ dev/ libexec/ media/ root/ proc/ sys COPYRIGHT tmp/ 
  mnt/ lib/ home/ vm/ sbin/ etc/ net/ bin/ usr/ rescue/

grub&amp;gt; ls (lvm/debianvm1--vg-swap_1)
Device lvm/debianvm1--vg-swap_1: No known filesystem detected
Total size 1048576 sectors

grub&amp;gt; ls (lvm/debianvm1--vg-swap_1)/
error: unknown filesystem.

grub&amp;gt; ls (lvm/debianvm1--vg-root)
Device lvm/debianvm1--vg-root: Filesystem type ext*
Last modification time 2022-01-30 07:47:05 Sunday, 
UUID b4113067-fbfd-4471-b7dc-671e3dec3483
Total size 39886848 sectors

grub&amp;gt; ls (lvm/debianvm1--vg-root)/
lost+found/ boot/ etc/ media/ vmlinuz.old var/ bin usr/ sbin lib lib32 
  lib64 libx32 dev/ home/ proc/ root/ run/ sys/ tmp/ mnt/ srv/ opt/ 
  initrd.img.old vmlinuz initrd.img

grub&amp;gt; ls (hd0,msdos1)/grub/
unicode.pf2 i386-pc/ locale/ fonts/ grubenv grub.cfg

grub&amp;gt; ls (host)/boot/
dtb/ loader.conf.original.bak efi/ firmware/ check-password.4th 
  brand-fbsd.4th loader_4th isoboot delay.4th menu-commands.4th 
  boot1 loader_4th.efi logo-orb.4th looader_4th isoboot delay.4th 
  menu-commands.4th boot1 loader_4th.efi logo-orb.4th loader.conf 
  userboot_lua.so brand.4th userboot_4th.so screen.4th support.4th 
  color.4th beastie.4th pxeboot gptboot.efi mbr frames.4th boot2 
  fonts/ uboot/ logo-beastiebw.4th entropy zfs/ lua/ loader.4th 
  loader_lua.efi loader userboot.so loader.rc version.4th boot0 
  menusets.4th cdboot kernel.old/ gptzfsboot modules/ kernel/ 
  logo-orbbw.4th boot0sio images/ loader_lua zfsloader loader_simp 
  menu.4th defaults/ zfsboot boot1.efi boot pmbr loader.efi 
  logo-fbsdbw.4th gptboot device.hints efi.4th shortcuts.4th menu.rc 
  loader.conf.d/ loader_simp.efi logo-beastie.4th

grub&amp;gt; ls (lvm/debianvm1--vg-root)/boot/

grub&amp;gt; 
grub&amp;gt; set prefix=(hd0,msdos1)/grub
grub&amp;gt; set root=(hd0,msdos1)
grub&amp;gt; insmod linux
grub&amp;gt; insmod normal
grub&amp;gt; normal
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After pressing  ENTER  (after the last line with ‘normal’), Debian started normally:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Loading Linux 5.10.0-11-amd64 ...
Loading initial ramdisk ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                   GNU GRUB  version 2.00

 +--------------------------------------------------------------+
 |Debian GNU/Linux                                              |
 |Advanced options for Debian GNU/Linux                         |
 |                                                              |
 |                                                              |
 |                                                              |
 |                                                              |
 +--------------------------------------------------------------+

  Use the ^ and v keys to select which entry is highlighted.

  Press enter to boot the selected OS, `e&apos; to edit the commands
  before booting or `c&apos; for a command-line.

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to Debian VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Debian GNU/Linux 11 debianvm1 ttyS0

debianvm1 login:
----------------
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dusko@debianvm1:~$
dusko@debianvm1:~$ uptime
 00:02:34 up 1 min,  1 user,  load average: 0.08, 0.05, 0.01
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then issue command to fix grub.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ groups
dusko cdrom floppy audio dip video plugdev netdev bluetooth scanner

$ groups | grep sudo

$ su
Password:
         
# usermod -aG sudo dusko
bash: usermod: command not found

# command -v usermod

# command -V usermod
bash: command: usermod: not found

# type -a usermod
bash: type: usermod: not found

# type usermod
bash: type: usermod: not found

# which usermod

# whereis usermod
usermod: /usr/sbin/usermod /usr/share/man/man8/usermod.8.gz

# /usr/sbin/usermod -aG sudo dusko

# groups dusko
dusko : dusko cdrom floppy sudo audio dip video plugdev netdev bluetooth scanner

# groups dusko | grep sudo
dusko : dusko cdrom floppy sudo audio dip video plugdev netdev bluetooth lpadmin scanner

# exit
exit

$ groups
dusko cdrom floppy audio dip video plugdev netdev bluetooth lpadmin scanner

$ groups | grep sudo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Refresh shell environment without logging out:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ exec su - dusko
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in back to Debian VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ groups | grep sudo
dusko cdrom floppy sudo audio dip video plugdev netdev bluetooth lpadmin scanner
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can now run update-grub as root with sudo(8).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo update-grub
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-5.10.0-11-amd64
Found initrd image: /boot/initrd.img-5.10.0-11-amd64
Found linux image: /boot/vmlinuz-5.10.0-10-amd64
Found initrd image: /boot/initrd.img-5.10.0-10-amd64
done
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, after reboot, the system booted into grub prompt again.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                         GNU GRUB  version 2.00

Minimal BASH-like line editing is supported. For the first word, 
TAB lists possible command completions. Anywhere else TAB lists 
possible device or file completions.


grub&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exit the GRUB prompt:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;grub&amp;gt; exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[FIX] Debian installs boot to 2nd partition but with default 
bhyve configuration, GRUB looks for boot in 1st partition.&lt;/p&gt;

&lt;p&gt;On the FreeBSD host:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i /vm/debianvm1/debianvm1.conf /vm/debianvm1/debianvm1.conf.original.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /vm/debianvm1/debianvm1.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /vm/debianvm1/debianvm1.conf.original.bak \
 /vm/debianvm1/debianvm1.conf
--- /vm/debianvm1/debianvm1.conf.original.bak   2022-01-30 00:17:47.121434000 -0
800
+++ /vm/debianvm1/debianvm1.conf        2022-01-30 00:19:25.190592000 -0800
@@ -8,2 +8,2 @@
-grub_run_partition=&quot;1&quot;
-grub_run_dir=&quot;/boot/grub&quot;
+grub_run_partition=&quot;msdos1&quot;
+grub_run_dir=&quot;/grub&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /vm/debianvm1/debianvm1.conf
loader=&quot;grub&quot;
cpu=1
memory=512M
network0_type=&quot;virtio-net&quot;
network0_switch=&quot;public&quot;
disk0_type=&quot;ahci-hd&quot;
disk0_name=&quot;disk0.img&quot;
grub_run_partition=&quot;msdos1&quot;
grub_run_dir=&quot;/grub&quot;
uuid=&quot;fc62f0ca-8199-11ec-aa36-e86a64ba6be0&quot;
network0_mac=&quot;58:9c:fc:0a:ab:4f&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm list
NAME       DATASTORE  LOADER  CPU  MEMORY  VNC  AUTOSTART  STATE
debianvm1  default    grub    1    512M    -    No         Stopped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It worked.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm start -f debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Loading Linux 5.10.0-11-amd64 ...
Loading initial ramdisk ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                      GNU GRUB  version 2.00

 +-------------------------------------------------------------+
 |Debian GNU/Linux                                             |
 |Advanced options for Debian GNU/Linux                        |
 |                                                             |
 |                                                             |
 |                                                             |
 |                                                             |
 |                                                             |
 |                                                             |
 |                                                             |
 |                                                             |
 +-------------------------------------------------------------+

 Use the ^ and v keys to select which entry is highlighted.
 Press enter to boot the selected OS, `e&apos; to edit the commands before
 booting or `c&apos; for a command-line.

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Debian GNU/Linux 11 debianvm1 ttyS0

debianvm1 login:
----------------
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in to the VM.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo reboot
[sudo] password for dusko:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Debian GNU/Linux 11 debianvm1 ttyS0

debianvm1 login: 
----------------
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;starting-the-vm&quot;&gt;Starting the VM&lt;/h4&gt;

&lt;p&gt;If you specifty the -f option, the guest will start in the foreground on stdio, 
and you will not be able to access it through the console 
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo vm console debianvm1&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm start -f debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to access it via the console (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo vm console debianvm1&lt;/code&gt;), 
start the VM without the -f option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm start debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then, you can access the vm through the console:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vm console debianvm1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output shows:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Connected
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Enter&lt;/code&gt; here, and after that the VM presents the login screen:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Debian GNU/Linux 11 debianvm1 ttyS0

debianvm1 login: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To disconnect, that is, to exit the console and return to the host,
press &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~+Ctrl-D&lt;/code&gt;  (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tilde&lt;/code&gt;, then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+d&lt;/code&gt;). 
It’s also written as
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tilde&lt;/code&gt;, then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^D&lt;/code&gt;; or: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tilde&lt;/code&gt;, then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control-d&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ~
[EOT]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Sun, 06 Feb 2022 06:02:01 -0800</pubDate>
        <link>http://localhost:4000/freebsd/bhyve/virtualization/2022/02/06/freebsd-vm-bhyve.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/bhyve/virtualization/2022/02/06/freebsd-vm-bhyve.html</guid>
        
        
        <category>freebsd</category>
        
        <category>bhyve</category>
        
        <category>virtualization</category>
        
      </item>
    
      <item>
        <title>How To Take Screenshots with xwd(1), Pixmap Size (Depth) of 24 and 32 and Convert It To png</title>
        <description>&lt;p&gt;Operating system: FreeBSD 13.0&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
In code excerpts and examples, the long lines are folded and then 
indented to make sure they fit the page.&lt;/p&gt;

&lt;p&gt;Install &lt;strong&gt;py-png&lt;/strong&gt; package. 
At the time of writing, python version is &lt;strong&gt;3.8&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install py38-png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install &lt;strong&gt;netpbm&lt;/strong&gt; - a toolkit for conversion of images between different formats.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ sudo pkg install netpbm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls /usr/local/include/netpbm
colorname.h     pammap.h        pgm.h           pm_system.h
mallocvar.h     pbm.h           pm_c_util.h     pm.h      
pam.h           pbmfont.h       pm_config.h     pnm.h           
pamdraw.h       pbmfontdata.h   pm_gamma.h      ppm.h           
ppmcmap.h       runlength.h
ppmdfont.h      shhopt.h
ppmdraw.h
ppmfloyd.h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man -k netpbm | wc -l
      64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man -k pbm | wc -l
     143
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xdpyinfo | wc -l
    4270
 
% xdpyinfo | grep -n -i pixmap
10:number of supported pixmap formats:    7
11:supported pixmap formats:
 
% xdpyinfo | head -20
name of display:    :0.0
version number:    11.0
vendor string:    The X.Org Foundation
vendor release number:    12011000
X.Org version: 1.20.11
maximum request size:  16777212 bytes
motion buffer size:  256
bitmap unit, bit order, padding:    32, LSBFirst, 32
image byte order:    LSBFirst
number of supported pixmap formats:    7
supported pixmap formats:
    depth 1, bits_per_pixel 1, scanline_pad 32
    depth 4, bits_per_pixel 8, scanline_pad 32
    depth 8, bits_per_pixel 8, scanline_pad 32
    depth 15, bits_per_pixel 16, scanline_pad 32
    depth 16, bits_per_pixel 16, scanline_pad 32
    depth 24, bits_per_pixel 32, scanline_pad 32
    depth 32, bits_per_pixel 32, scanline_pad 32
keycode range:    minimum 8, maximum 255
focus:  window 0x40000c, revert to PointerRoot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xwininfo -root | wc -l
      24

% xwininfo -root | grep -i depth
  Depth: 24
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For a window with a &lt;strong&gt;depth of 24&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xwininfo | grep &apos;Window id&apos;
xwininfo: Window id: 0x1e0000f &quot;LibreOffice&quot;
 
% xwininfo | grep -i depth
  Depth: 24
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;piping &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xwd(1)&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xwdtopnm(0)&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pnmtopng(0)&lt;/code&gt; works:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xwd | xwdtopnm | pnmtopng &amp;gt; screenshot.png
xwdtopnm: writing PPM file

% ls -lh screenshot.png
-rw-r--r--  1 dusko  dusko    23K Feb  6 12:01 screenshot.png

% file screenshot.png
screenshot.png: PNG image data, 830 x 391, 8-bit/color RGB, non-interlaced
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open the screenshot.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv screenshot.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For a window with a &lt;strong&gt;depth &amp;gt; 24&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xwininfo | grep &apos;Window id&apos;
xwininfo: Window id: 0x1402c2d &quot;Mozilla Firefox&quot;
 
% xwininfo | grep -i depth
  Depth: 32
 
% xwd | xwdtopnm | pnmtopng &amp;gt; screenshot.png
xwdtopnm: can&apos;t handle X11 pixmap_depth &amp;gt; 24
pnmtopng: Error reading first byte of what is expected to be a Netpbm 
  magic number.  Most often, this means your input file is empty
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;piping &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xwd(1)&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xwdtopnm(0)&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pnmtopng(0)&lt;/code&gt; doesn’t work.&lt;/p&gt;

&lt;h4 id=&quot;workaround-for-taking-screenshots-with-xwd1-with-pixmap-size-depth-bigger-than-24&quot;&gt;Workaround for Taking Screenshots with xwd(1) with Pixmap Size (Depth) Bigger than 24&lt;/h4&gt;

&lt;p&gt;Modify and use a tool xwd2png (convert output of xwd to PNG), https://github.com/drj11/xwd2png.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
This is a quick and dirty workaround.  For example, I’m removing Python 
exception handling, NotImplementedError. although there is a possibility 
that the author of the source code left it to perhaps indicate a TODO 
placeholder, as a reminder to implement handling other cases (that is 
visual classes different than 4) later.&lt;/p&gt;

&lt;p&gt;Location where I keep my helper binaries, useful tools and scripts:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /mnt/usbflashdrive/bin
drwxr-xr-x  6 dusko  dusko  512 Dec  9 12:27 /mnt/usbflashdrive/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /mnt/usbflashdrive/bin/xwd2png
 
% fetch https://raw.githubusercontent.com/drj11/xwd2png/main/XWDFile.h
XWDFile.h                                     4031  B   22 MBps    00s
 
% fetch https://raw.githubusercontent.com/drj11/xwd2png/main/xwd.py
xwd.py                                        7958  B   34 MBps    00s
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Python version:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /usr/local/bin/python*
-r-xr-xr-x  1 root  wheel  5248 Nov  3 18:13 /usr/local/bin/python3.8
-r-xr-xr-x  1 root  wheel  3153 Nov  3 18:13 /usr/local/bin/python3.8-config
lrwxr-xr-x  1 root  wheel    50 Jan  1 18:31 /usr/local/bin/pythontex -&amp;gt; ../share/texmf-dist/scripts/pythontex/pythontex.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i xwd.py xwd.py.original.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vi xwd.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff --unified=0 xwd.py.original.bak xwd.py
--- xwd.py.original.bak 2022-02-06 12:35:23.701781000 -0800
+++ xwd.py      2022-02-06 12:36:15.213548000 -0800
@@ -1 +1 @@
-#!/usr/bin/env python3
+#!/usr/bin/env python3.8
@@ -57,15 +56,0 @@
-        # Check visual_class.
-        # The following table from http://www.opensource.apple.com/source/tcl/tcl-87/tk/tk/xlib/X11/X.h is assumed:
-        # StaticGray    0
-        # GrayScale     1
-        # StaticColor   2
-        # PseudoColor   3
-        # TrueColor     4
-        # DirectColor   5
-
-        if self.visual_class != 4:
-            # TrueColor
-            raise NotImplemented(
-                &quot;Cannot handle visual_class {!r}&quot;.format(self.visual_class)
-            )
-
@@ -291 +276 @@
-        apng.write(out)
+        apng.save(out)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xwininfo | grep &apos;Window id&apos;
xwininfo: Window id: 0x1402c2d &quot;Mozilla Firefox&quot;

% xwininfo | grep -i depth
  Depth: 32
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xwd | /mnt/usbflashdrive/bin/xwd2png/xwd.py &amp;gt; ~/screenshot.png
 
% ls -lh ~/screenshot.png
-rw-r--r--  1 dusko  dusko   580K Feb  6 12:47 /home/dusko/screenshot.png
 
% file ~/screenshot.png
/home/dusko/screenshot.png: PNG image data, 1260 x 1079, 
  8-bit/color RGB, non-interlaced
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open the screenshot.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xv ~/screenshot.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively:&lt;br /&gt;
Install ImageMagick (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo pkg install ImageMagick7&lt;/code&gt;) and use one of 
its tools, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import&lt;/code&gt; for taking screenshots.&lt;/p&gt;

</description>
        <pubDate>Sat, 05 Feb 2022 13:33:21 -0800</pubDate>
        <link>http://localhost:4000/freebsd/dotfiles/x11/2022/02/05/xorg-x11-screenshots-xwd-png-netpbm.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/dotfiles/x11/2022/02/05/xorg-x11-screenshots-xwd-png-netpbm.html</guid>
        
        
        <category>freebsd</category>
        
        <category>dotfiles</category>
        
        <category>x11</category>
        
      </item>
    
      <item>
        <title>Set Up a New Machine with UEFI FreeBSD RootOnZFS Dual Boot with Windows 10</title>
        <description>&lt;p&gt;Hardware and operating systems:&lt;/p&gt;

&lt;p&gt;Laptop: &lt;a href=&quot;https://www.lenovo.com/us/en/p/laptops/thinkpad/thinkpadx/thinkpad-x280/22tp2tx2800&quot;&gt;Lenovo ThinkPad X280 - Ultraportable 12.5’’ Business Laptop&lt;/a&gt;   &lt;br /&gt;
Disk:  1 TB NVMe SSD   &lt;a href=&quot;https://www.westerndigital.com/products/internal-drives/pc-sn730-ssd#SDBQNTY-1TOO&quot;&gt;WDC PC SN730 SDBQNTY-1T00-1001 - Form Factor: M.2 2280 M-S3&lt;/a&gt;  &lt;br /&gt;
FreeBSD 13.0 &lt;br /&gt;
Windows 10 Professional&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
In code excerpts and examples, the long lines are folded and then 
indented to make sure they fit the page.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Start with a pre-installed Windows 10 that’s already on the 
machine.  In this case, I wanted to start from a clean slate 
so I used the Lenovo factory recovery USB key to reformat the 
hard drive and reinstall Windows 10 Pro.  &lt;a href=&quot;#footnotes&quot;&gt;¹&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Some of the disk’s 1 TB capacity is used for formatting and 
other functions and is not available for data storage. 
Windows reported that the C: volume’s capacity is 953 GB.&lt;/p&gt;

&lt;p&gt;Log into Windows, and shrink the C: volume (Windows NTFS partition) to 
get some free space.&lt;/p&gt;

&lt;p&gt;After shrinking the C: volume, the disk is split like:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Reported by Windows Disk Management: 
Disk 0, Type: Basic, Size: 953.85 GB
WDC PC SN730 SDBQNTY-1T00-1001    
Device type:  Disk drives    
Location:     Location 4 (Bus Number 0, Target Id 0, LUN 0)    

+----------------------+--------+-----------+---------------+
| Volume               | File   | Capacity  | Partition     |
|                      | System |           | Type          |
+----------------------+--------+-----------+---------------+
| (Disk 0 partition 1) |        | 260 MB    | EFI           |
+----------------------+--------+-----------+---------------+
| (Disk 0 partition 4) |        | 1000 MB   | ms-recovery   |
+----------------------+--------+-----------+---------------+
| Windows (C:)         |  NTFS  | 220.20 GB | ms-basic-data |
+----------------------+--------+-----------+---------------+
| Unallocated          |        | 732.42 GB | - free -      |
+----------------------+--------+-----------+---------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now you have free space so you can boot up with FreeBSD installer 
and install FreeBSD in that space.&lt;/p&gt;

&lt;p&gt;Download FreeBSD CD ISO installer image for the amd64 architecture.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch \
https://download.freebsd.org/ftp/releases/amd64/amd64/ISO-IMAGES/13.0/FreeBSD-13.0-RELEASE-amd64-disc1.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Insert a USB flash drive into an available USB slot on your workstation.&lt;/p&gt;

&lt;p&gt;You can use &lt;a href=&quot;https://www.nomadbsd.org/&quot;&gt;NomadBSD&lt;/a&gt; for writing the FreeBSD 
installer image on the USB flash drive.&lt;/p&gt;

&lt;p&gt;NomadBSD is a FreeBSD-derived operating system distribution.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;It’s a persistent live system for USB flash drives.  Together with 
automatic hardware detection and setup, it is configured to be used 
as a desktop system that works out of the box, but can also be used 
for data recovery, for educational purposes, or to test FreeBSD’s 
hardware compatibility.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% dmesg | tail
umass1 on uhub2
umass1: &amp;lt;Lexar USB Flash Drive, class 0/0, rev 2.00/11.00, addr 3&amp;gt; on usbus1
umass1:  SCSI over Bulk-Only; quirks = 0x8100
umass1:6:1: Attached to scbus6
da1 at umass-sim1 bus 1 scbus6 target 0 lun 0
da1: &amp;lt;Lexar USB Flash Drive 1100&amp;gt; Removable Direct Access SPC-2 SCSI device
da1: Serial Number AA3ZKR4IVHT7LBGW
da1: 40.000MB/s transfers
da1: 15263MB (31258624 512 byte sectors)
da1: quirks=0x2&amp;lt;NO_6_BYTE&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the FreeBSD installer USB stick.&lt;br /&gt;
Write the &lt;strong&gt;.iso&lt;/strong&gt; file to the inserted USB thumb drive with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dd(1)&lt;/code&gt; command.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo dd if=FreeBSD-13.0-RELEASE-amd64-disc1.iso of=/dev/da1 bs=1M conv=sync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove the installer USB stick.&lt;/p&gt;

&lt;p&gt;You might need to adjust the BIOS configuration on the computer where 
you are installing FreeBSD to boot from the FreeBSD installer USB stick. 
Insert the installer USB stick into an available USB slot on the computer 
where you are installing FreeBSD.&lt;/p&gt;

&lt;p&gt;Follow the prompts as per the FreeBSD Handbook’s instructions.  &lt;a href=&quot;#footnotes&quot;&gt;²&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The FreeBSD Boot Loader Menu similar to the following is displayed.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   ______               ____   _____ _____
  |  ____|             |  _ \ / ____|  __ \
  | |___ _ __ ___  ___ | |_) | (___ | |  | |
  |  ___| &apos;__/ _ \/ _ \|  _ &amp;lt; \___ \| |  | |
  | |   | | |  __/  __/| |_) |____) | |__| |
  | |   | | |    |    ||     |      |      |
  |_|   |_|  \___|\___||____/|_____/|_____/
                                                 ```                        `
 +-----------Welcome to FreeBSD------------+    s` `.....---.......--.```   -/
 |                                         |    +o   .--`         /y:`      +.
 |  1. Boot Multi user [Enter]             |     yo`:.            :o      `+-
 |  2. Boot Single user                    |      y/               -/`   -o/
 |  3. Escape to loader prompt             |     .-                  ::/sy+:.
 |  4. Reboot                              |     /                     `--  /
 |                                         |    `:                          :`
 |  Options:                               |    `:                          :`
 |  5. Kernel: default/kernel (1 of 1)     |     /                          /
 |  6. Boot Options                        |     .-                        -.
 |                                         |      --                      -.
 |                                         |       `:`                  `:`
 |                                         |         .--             `--.
 +-----------------------------------------+            .---.....----.

   Autoboot in 9 seconds, hit [Enter] to boot or any other key to stop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the FreeBSD Boot Loader Menu, select 1. Boot Multi User [Enter].&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/bsdinstall/#bsdinstall-start&quot;&gt;Tip - FreeBSD Handbook&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;To review the boot messages, including the hardware device probe, 
press the upper- or lower-case &lt;strong&gt;S&lt;/strong&gt; and then &lt;strong&gt;Enter&lt;/strong&gt; to access a shell. 
At the shell prompt, type more &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/run/dmesg.boot&lt;/code&gt; and use the space 
bar to scroll through the messages.  When finished, type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exit&lt;/code&gt; to 
return to the welcome menu.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For details, see the FreeBSD Handbook instructions:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/bsdinstall-start.html&quot;&gt;2.4.4. FreeBSD Boot Menu - Chapter 2. Installing FreeBSD&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Once the boot is complete, the ``Welcome Menu’’ is displayed.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Welcome
Welcome to FreeBSD! Would you
like to begin an installation
or use the live CD?

&amp;lt;Install&amp;gt; &amp;lt; Shell &amp;gt; &amp;lt;Live CD&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Choose &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shell&lt;/code&gt;.  (When finished, you can type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;exit&lt;/code&gt; to return 
to the installer and continue installation, or to restart the system.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd /tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you would like to have a log of everything printed on your terminal 
during FreeBSD installation, start the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;script(1)&lt;/code&gt; utility.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# script
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mkdir /tmp/etc /tmp/root
# mount_unionfs /tmp/etc /etc
# mount_unionfs /tmp/root /root
# printf %s\\n &apos;PermitRootLogin yes&apos; &amp;gt;&amp;gt; /etc/ssh/sshd_config
# passwd
# service sshd onestart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add three FreeBSD slices (called partitions in other operating systems). &lt;br /&gt;
The third partition is a ZFS slice, occupying the rest of the available 
free disk space.&lt;/p&gt;

&lt;p&gt;Label all three partitions with &lt;strong&gt;GPT Labels&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# gpart add -a 4k -l swap0 -s 1G -t freebsd-swap nvd0
# gpart add -a 4k -l swap1 -s 4G -t freebsd-swap nvd0
# gpart add -a 4k -l zfs0 -t freebsd-zfs nvd0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explanation:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-a 4k&lt;/code&gt;:                align a partition on 4KB boundaries&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-l &amp;lt;label_name&amp;gt;&lt;/code&gt;:      create the label attached to the partition &amp;lt;label_name&amp;gt;&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-s &amp;lt;partition_size&amp;gt;&lt;/code&gt;:  create a partition of size &amp;lt;partition_size&amp;gt;&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t &amp;lt;partition_type&amp;gt;&lt;/code&gt;:  create the partition type of &amp;lt;partition_type&amp;gt; &lt;br /&gt;
(List of partition types is included in the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpart(8)&lt;/code&gt;)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# gpart show
=&amp;gt;        34  2000409197  nvd0  GPT  (954G)
          34        2014        - free -  (1.0M)
        2048      532480     1  efi  (260M)
      534528       32768     2  ms-reserved  (16M)
      567296   461793280     3  ms-basic-data  (220G)
   462360576     2097152     5  freebsd-swap  (1.0G)
   464457728     8388608     6  freebsd-swap  (4.0G)
   472846336  1525514240     7  freebsd-zfs  (727G)
  1998360576     2048000     4  ms-recovery  (1.0G)
  2000408576         655        - free -  (328K)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Load the zfs module, create a ZFS pool, and export it.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# kldload zfs
# sysctl vfs.zfs.min_auto_ashift=12
# mkdir /tmp/zroot
# zpool create -f -o altroot=/tmp/zroot -O compress=lz4 -O atime=off -m none zroot /dev/gpt/zfs0
# zpool export zroot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;br /&gt;
To force ZFS to choose 4K disk blocks when creating zpools, set the 
tunable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sysctl vfs.zfs.min_auto_ashift&lt;/code&gt; to 12.&lt;/p&gt;

&lt;p&gt;(If you want to make it permanent, add the following line 
 to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/sysctl.conf&lt;/code&gt; so that any future zpools created on 
 your system are created with 4K disk blocks):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sysctl vfs.zfs.min_auto_ashift=12
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create ZFS datasets compatible with &lt;strong&gt;BE (Boot Environment)&lt;/strong&gt; by placing 
the root dataset under ROOT.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# zpool import -o altroot=/tmp/zroot zroot
# zfs create -o mountpoint=none zroot/ROOT
# zfs create -o mountpoint=/ zroot/ROOT/default
# zfs create -o mountpoint=/tmp -o exec=on -o setuid=off zroot/tmp
# zfs create -o mountpoint=/usr -o canmount=off zroot/usr
# zfs create zroot/usr/home
# zfs create -o setuid=off zroot/usr/ports
# zfs create -o mountpoint=/var -o canmount=off zroot/var
# zfs create -o exec=off -o setuid=off zroot/var/audit
# zfs create -o exec=off -o setuid=off zroot/usr/src
# zfs create -o exec=off -o setuid=off zroot/var/crash
# zfs create -o exec=off -o setuid=off zroot/var/log
# zfs create -o atime=on zroot/var/mail
# zfs create -o setuid=off zroot/var/tmp
# zpool set bootfs=zroot/ROOT/default zroot
# chmod 1777 /tmp/zroot/tmp
# chmod 1777 /tmp/zroot/var/tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here you are installing FreeBSD manually so you need to extract a minimum 
FreeBSD installation, which includes three components:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;base&lt;/code&gt; (Base system), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib32&lt;/code&gt; (32-bit compatibility 
libraries), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kernel&lt;/code&gt; (Kernel).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd /tmp/zroot
# ln -s usr/home home
# tar xvJpf /usr/freebsd-dist/base.txz
# tar xvJpf /usr/freebsd-dist/lib32.txz
# tar xvJpf /usr/freebsd-dist/kernel.txz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ensure the ZFS module will be loaded by the loader.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &apos;zfs_enable=&quot;YES&quot;&apos; &amp;gt;&amp;gt; /tmp/zroot/etc/rc.conf
# printf %s\\n &apos;zfs_load=&quot;YES&quot;&apos; &amp;gt;&amp;gt; /tmp/zroot/boot/loader.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To disable Disk ID labels and GPT GUID (GPT ID) labels,
add the following two lines in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/boot/loader.conf&lt;/code&gt; 
so that disks are always &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gpt/&amp;lt;your_gpt_label_here&amp;gt;&lt;/code&gt; 
and never &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DISK-&amp;lt;disk_serial_number_here&amp;gt;&lt;/code&gt;.  &lt;a href=&quot;#footnotes&quot;&gt;³&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &apos;kern.geom.label.disk_ident.enable=&quot;0&quot;&apos; &amp;gt;&amp;gt; /tmp/zroot/boot/loader.conf
# printf %s\\n &apos;kern.geom.label.gptid.enable=&quot;0&quot;&apos;  &amp;gt;&amp;gt; /tmp/zroot/boot/loader.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &apos;dumpdev=&quot;AUTO&quot;&apos; &amp;gt;&amp;gt; /tmp/zroot/etc/rc.conf
# printf %s\\n &apos;powerd_enable=&quot;YES&quot;&apos; &amp;gt;&amp;gt; /tmp/zroot/etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Make a note of swap partitions.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf &quot;/dev/gpt/swap0\tnone\tswap\tsw\t0\t0\n&quot; &amp;gt;&amp;gt; /tmp/zroot/etc/fstab
# printf &quot;/dev/gpt/swap1\tnone\tswap\tsw\t0\t0\n&quot; &amp;gt;&amp;gt; /tmp/zroot/etc/fstab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set UTC to Yes or No, and select your time zone.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# tzsetup -C /tmp/zroot 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# chroot /tmp/zroot/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# passwd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Installing the FreeBSD boot manager overwrites the Windows boot code, 
resulting in an unbootable Windows.  To work around that, install 
&lt;strong&gt;rEFInd&lt;/strong&gt;, an EFI boot manager utility, and configure it for a dual boot 
with FreeBSD and Windows 10.&lt;/p&gt;

&lt;p&gt;Note: &lt;br /&gt;
If the steps outlined below don’t work because you still don’t have 
network connection, download &lt;strong&gt;rEFInd&lt;/strong&gt; on a separate machine and copy 
it to the system you are installing FreeBSD on.  &lt;a href=&quot;#footnotes&quot;&gt;⁴&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd /tmp
# fetch https://iweb.dl.sourceforge.net/project/refind/0.13.2/refind-bin-0.13.2.zip
# unzip refind-bin-0.13.2.zip 
# rm refind-bin-0.13.2.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;pre&gt;&lt;code class=&quot;language-`&quot;&gt;# mkdir /tmp/efi
# mount_msdosfs /dev/gpt/EFI%20system%20partition /tmp/efi/
# cd /tmp/efi/EFI/Boot
# mv bootx64.efi bootx64-windows-10.efi
# cp /boot/boot1.efi bootx64-freebsd.efi
# cp -a /tmp/refind-bin-0.13.2/refind/icons .
# cp -a /tmp/refind-bin-0.13.2/refind/refind_x64.efi bootx64.efi
# cp /tmp/refind-bin-0.13.2/refind/refind.conf-sample refind.conf
&lt;/code&gt;&lt;/pre&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cat &amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; refind.conf

menuentry &quot;FreeBSD/amd64 -RELEASE&quot; {
    loader \EFI\Boot\bootx64-freebsd.efi
    icon \EFI\Boot\icons\os_freebsd.png
}

menuentry &quot;Windows 10 x64&quot; {
    loader \EFI\Boot\bootx64-windows-10.efi
    icon \EFI\Boot\icons\os_win.png
}
EOF
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cd
# reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;First login into FreeBSD after fresh install.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ps $$
 PID TT  STAT    TIME COMMAND
1543  0  Ss   0:00.01 /bin/csh -i
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# df -hT
Filesystem          Type     Size    Used   Avail Capacity  Mounted on
zroot/ROOT/default  zfs      701G    717M    701G     0%    /
devfs               devfs    1.0K    1.0K      0B   100%    /dev
zroot/tmp           zfs      701G    9.6M    701G     0%    /tmp
zroot/var/log       zfs      701G    140K    701G     0%    /var/log
zroot/usr/ports     zfs      701G     96K    701G     0%    /usr/ports
zroot/usr/home      zfs      701G     96K    701G     0%    /usr/home
zroot/var/crash     zfs      701G     96K    701G     0%    /var/crash
zroot/var/audit     zfs      701G     96K    701G     0%    /var/audit
zroot/usr/src       zfs      701G     96K    701G     0%    /usr/src
zroot/var/mail      zfs      701G     96K    701G     0%    /var/mail
zroot/var/tmp       zfs      701G     96K    701G     0%    /var/tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# zfs list
NAME                 USED  AVAIL     REFER  MOUNTPOINT
zroot                729M   701G       96K  none
zroot/ROOT           717M   701G       96K  none
zroot/ROOT/default   717M   701G      717M  /
zroot/tmp           9.59M   701G     9.59M  /tmp
zroot/usr            288K   701G       96K  /usr
zroot/usr/home        96K   701G       96K  /usr/home
zroot/usr/ports       96K   701G       96K  /usr/ports
zroot/usr/src         96K   701G       96K  /usr/src
zroot/var            620K   701G       96K  /var
zroot/var/audit       96K   701G       96K  /var/audit
zroot/var/crash       96K   701G       96K  /var/crash
zroot/var/log        140K   701G      140K  /var/log
zroot/var/mail        96K   701G       96K  /var/mail
zroot/var/tmp         96K   701G       96K  /var/tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /boot/loader.conf
zfs_load=&quot;YES&quot;
kern.geom.label.disk_ident_enable=&quot;0&quot;
kern.geom.label.gptid.enable=&quot;0&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/rc.conf
zfs_enable=&quot;YES&quot;
dumpdev=&quot;AUTO&quot;
powerd_enable=&quot;YES&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:  The hostname has not been set.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# hostname

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# uname -a
FreeBSD  13.0-RELEASE FreeBSD 13.0-RELEASE #0 
  releng/13.0-n244733-ea31abc261f: Fri Apr  9 04:24:09 UTC 2021
  root@releng1.nyi.freebsd.org:/usr/obj/usr/src/amd64.amd64/sys/GENERIC  am
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sysctl -a | grep -i realtek
dev.ure.0.%desc: Realtek USB 10/100 LAN, class 0/0, rev 3.00/30.00, addr 9
dev.pcm.1.%desc: Realtek ALC257 (Right Analog Mic)
dev.pcm.0.%desc: Realtek ALC257 (Analog 2.0+HP/2.0)
dev.hdaa.0.%desc: Realtek ALC257 Audio Function Group
dev.hdacc.0.%desc: Realtek ALC257 HDA CODEC
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# man -k Ethernet | grep -i adapter | grep -i realtek
re, if_re(4) - RealTek 8139C+/8169/816xS/811xS/8168/810xE/8111 PCI/PCIe Ethernet adapter drive
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# sysctl -a | grep &apos;dev.ure.0&apos;
dev.ure.0.chipver: 5c30
dev.ure.0.%parent: uhub3
dev.ure.0.%pnpinfo: vendor=0x0bda product=0x8153 devclass=0x00 
  devsubclass=0x00 devproto=0x00 sernum=&quot;000001&quot; release=0x3000 mode=host 
  intclass=0xff intsubclass=0xff intprotocol=0x00
dev.ure.0.%location: bus=0 hubaddr=9 port=1 devaddr=10 interface=0 ugen=ugen0.10
dev.ure.0.%driver: ure
dev.ure.0.%desc: Realtek USB 10/100 LAN, class 0/0, rev 3.00/30.00, addr 9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# service netif stop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &quot;nameserver 192.168.1.254&quot; &amp;gt; ure0_resolv.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat ure0_resolv.conf
nameserver 192.168.1.254
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf
cat: /etc/resolv.conf: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# resolvconf -I
# resolvconf -a ure0 &amp;lt; ure0_resolv.conf
# resolvconf -u
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf
# Generated by resolvconf
nameserver 192.168.1.254
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &apos;defaultrouter=&quot;192.168.1.254&quot;&apos; &amp;gt;&amp;gt; /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/rc.conf
zfs_enable=&quot;YES&quot;
dumpdev=&quot;AUTO&quot;
powerd_enable=&quot;YES&quot;
ifconfig_ue0=&quot;DHCP&quot;
defaultrouter=&quot;192.168.1.254&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# netstat -rn
Routing tables

Internet6:
Destination             Gateway     Flags     Netif Expire
::/96                   ::1         UGRS        lo0
::ffff:0.0.0.0/96       ::1         UGRS        lo0
fe80::/10               ::1         UGRS        lo0
ff02::/16               ::1         UGRS        lo0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: 
Not needed: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;route add default 192.168.1.254&lt;/code&gt; as with the 
following &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;netif&lt;/code&gt; restart, it will pick up the default router 
from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# service netif restart ue0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# ping -c2 freebsd.org
PING freebsd.org (96.47.72.84): 56 data bytes
64 bytes from 96.47.72.84: icmp_seq=0 ttl=56 time=74.684 ms
64 bytes from 96.47.72.84: icmp_seq=1 ttl=56 time=75.789 ms

--- freebsd.org ping statistics ---
2 packets transmitted, 2 packets received, 0.0% packet loss
round-trip min/avg/max/stddev = 74.684/75.237/75.789/0.553 ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /etc/resolv.conf
# Generated by resolvconf
nameserver 192.168.1.254
nameserver 75.153.176.9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# freebsd-version
13.0-RELEASE

# freebsd-version -k
13.0-RELEASE

# freebsd-version -u
13.0-RELEASE

# freebsd-version -r
13.0-RELEASE

# uname -a
FreeBSD  13.0-RELEASE FreeBSD 13.0-RELEASE #0 
  releng/13.0-n244733-ea31abc261f: Fri Apr  9 04:24:09 UTC 2021
  root@releng1.nyi.freebsd.org:/usr/obj/usr/src/amd64.amd64/sys/GENERIC  amd64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# freebsd-update fetch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# freebsd-update install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pkg
The package management tool is not yet installed on your system.
Do you want to fetch and install it now? [y/N]: y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pkg-static upgrade -f pkg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pkg upgrade -f
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# freebsd-version
13.0-RELEASE-p5

# freebsd-version -k
13.0-RELEASE-p4

# freebsd-version -u
13.0-RELEASE-p5

# freebsd-version -r
13.0-RELEASE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# uname -a
FreeBSD  13.0-RELEASE FreeBSD 13.0-RELEASE #0 
  releng/13.0-n244733-ea31abc261f: Fri Apr  9 04:24:09 UTC 2021
  root@releng1.nyi.freebsd.org:/usr/obj/usr/src/amd64.amd64/sys/GENERIC  amd64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Correct system time.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# date
Sat Dec 25 21:39:51 PST 2021
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# date 1342
Sat Dec 25 13:42:00 PST 2021
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# date
Sat Dec 25 13:42:02 PST 2021
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# shutdown -r now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add a user and add it to group &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wheel&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pw useradd dusko -G wheel -m -s csh
# passwd dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a hostname:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# printf %s\\n &apos;hostname=&quot;fbsd1.home.arpa&quot;&apos; &amp;gt;&amp;gt; /etc/rc.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install &lt;strong&gt;xorg&lt;/strong&gt; metapackage. &lt;a href=&quot;#footnotes&quot;&gt;⁵&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pkg info | wc -l
1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pkg install xorg  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Messages from two packages mentioned two environment variables 
(which I chose not to create): Package freetype2 mentioned the environment 
variable “FREETYPE_PROPERTIES”. Package wayland mentioned “XDG_RUNTIME_DIR” 
environment variable.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;br /&gt;
Your X Windows configuration file is typically /etc/X11/XF86Config
if you are using XFree86, and /etc/X11/xorg.conf if you are using X.Org.&lt;/p&gt;

&lt;p&gt;In FreeBSD:  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/local/etc/X11/fontpath.d/
/usr/local/etc/X11/xinit/
/usr/local/etc/X11/xorg.conf.d/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To make sure that the freetype module is loaded, add the following line 
to the “Modules” section of the X Window System configuration file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /usr/local/etc/X11/xorg.conf.d/modules.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /usr/local/etc/X11/xorg.conf.d/modules.conf
Section &quot;Module&quot;
    Load &quot;freetype&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For the DejaVu fonts (font family), add the following line to the “Files” 
section of your X Window System configuration file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /usr/local/etc/X11/xorg.conf.d/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /usr/local/etc/X11/xorg.conf.d/fonts.conf
Section &quot;Files&quot;
    FontPath &quot;/usr/local/share/fonts/dejavu/&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /usr/local/etc/X11/xorg.conf.d/card.conf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;br /&gt;
Did not need to add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option &quot;DPMS&quot;&lt;/code&gt; explicitly to enable 
Display Power Management Signaling extension. 
(DPMS enables the X server to reduce monitor power consumption 
when not in use.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /usr/local/etc/X11/xorg.conf.d/card.conf 
Section &quot;Device&quot;
    Identifier &quot;Card0&quot;
    Driver &quot;modesetting&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Multi-keyboard layout.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /usr/local/etc/X11/xorg.conf.d/keyboard.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /usr/local/etc/X11/xorg.conf.d/keyboard.conf
Section &quot;InputClass&quot;
    Identifier &quot;All Keyboards&quot;
    MatchIsKeyboard &quot;yes&quot;
    Option &quot;XkbLayout&quot; &quot;us, rs(latinunicode), rs&quot;
    Option &quot;XkbOptions&quot; &quot;ctrl:nocaps,grp:rctrl_toggle&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;card.conf     (Did not need to add &quot;DPMS&quot; explicitly)
fonts.conf
module.conf
keyboard.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add your regular user to group &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;video&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pw usermod -L video -n dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install the metaport of DRM modules for the linuxkpi-based KMS components. 
Installing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drm-kmod&lt;/code&gt; installs three packages: drm-fbsd13-kmod, 
drm-kmod, gpu-firmware-kmod.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pkg install drm-kmod
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Index the man pages (UNIX manuals), to make keywords available for fast 
retrieval by apropos(1), whatis(1), and man(1)’s -k option.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# makewhatis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# pkg install sudo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;visudo(8)&lt;/code&gt; to edit the sudoers file (/usr/local/etc/sudoers)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cp -i /usr/local/etc/sudoers /tmp/sudoers.original.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Allow members of group wheel to execute any command.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# visudo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# diff --unified=0 /tmp/sudoers.original.bak /usr/local/etc/sudoers
--- /tmp/sudoers.original.bak   2021-12-26 21:11:43.646443000 -0800
+++ /usr/local/etc/sudoers      2021-12-26 21:12:41.517985000 -0800
@@ -90 +90 @@
-# %wheel ALL=(ALL) ALL
+%wheel ALL=(ALL) ALL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cp -i /etc/login.conf /tmp/login.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# vi /etc/login.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# diff --unified=0 /tmp/login.conf /etc/login.conf
--- /tmp/login.conf     2021-12-26 21:25:11.745352000 -0800
+++ /etc/login.conf     2021-12-26 21:27:30.345516000 -0800
@@ -332,0 +333,5 @@
+
+video:\
+       :charset=UTF-8:\
+       :lang=en_CA.UTF-8:\
+       :tc=default:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cap_mkdb /etc/login.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# shutdown -r now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install xlsfonts xfontsel xfd xloadimage xv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install vdesk
% sudo pkg install slock dmenu
% sudo pkg install vim-gtk3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install tea
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[TODO]  &lt;br /&gt;
Add links to dotfiles.&lt;/p&gt;

&lt;p&gt;Create &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.xinitrc&lt;/code&gt; (xrdb, fonts, beep, xsetroot, xrandr, twm, xclock, xload)  &lt;br /&gt;
Create &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.twmrc&lt;/code&gt; &lt;br /&gt;
Create &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.Xresources&lt;/code&gt; -&amp;gt;  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xrdb ~/.Xresources&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install taskwarrior
% sudo pkg install remind
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install cheat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In ~/.cshrc:&lt;/p&gt;

&lt;p&gt;Modify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.cshrc&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;alias man man -P less -IMFXRJj4&lt;/code&gt;, prompt, 
vi key binding, taskrc, history, &lt;br /&gt;
locale -&amp;gt; LC_ALL, LC_CTYPE, LC_MESSAGES, LC_TIME, LANG &lt;br /&gt;
Add the line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setenv  TASKRC  /mnt/usbflashdrive/mydotfiles/.taskrc&lt;/code&gt; 
to ~/.cshrc&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;$CHEAT_CONFIG_PATH&quot;
CHEAT_CONFIG_PATH: Undefined variable.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep CHEAT_CONFIG_PATH ~/.cshrc
setenv CHEAT_CONFIG_PATH /mnt/usbflashdrive/mydotfiles/cheat/conf.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setenv CHEAT_CONFIG_PATH /mnt/usbflashdrive/mydotfiles/cheat/conf.yml&lt;/code&gt;
to ~/.cshrc&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vi ~/.cshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep CHEAT_CONFIG_PATH ~/.cshrc
setenv CHEAT_CONFIG_PATH /mnt/usbflashdrive/mydotfiles/cheat/conf.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% source ~/.cshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n &quot;$CHEAT_CONFIG_PATH&quot;
/mnt/usbflashdrive/mydotfiles/cheat/conf.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l /mnt/usbflashdrive/mydotfiles/cheat/conf.yml
      69 /mnt/usbflashdrive/mydotfiles/cheat/conf.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed &apos;/^[[:space:]]*$/d&apos; \
 /mnt/usbflashdrive/mydotfiles/cheat/conf.yml | grep -v \#
---
editor: vim
colorize: true
style: monokai
formatter: terminal16m
pager: less -FRX
cheatpaths:
  - name: community
    path: /mnt/usbflashdrive/mydotfiles/cheat/cheatsheets/community
    tags: [ community ]
    readonly: true
  - name: personal
    path: /mnt/usbflashdrive/mydotfiles/cheat/cheatsheets/personal
    tags: [ personal ]
    readonly: false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.taskrc&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% wc -l /mnt/usbflashdrive/mydotfiles/.taskrc
      30 /mnt/usbflashdrive/mydotfiles/.taskrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed &apos;/^[[:space:]]*$/d&apos; \
 /mnt/usbflashdrive/mydotfiles/.taskrc | \
 grep -v \#
data.location=/mnt/usbflashdrive/mydotfiles/.task
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The related directory, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.task&lt;/code&gt; will be created automatically by the 
takswarrior (note: the binary is named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;task&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -ld /mnt/usbflashdrive/mydotfiles/.task
drwxr-xr-x  3 dusko  dusko  512 Aug  7  2020 /mnt/usbflashdrive/mydotfiles/.task
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /mnt/usbflashdrive/mydotfiles/.task
total 112
-rw-r--r--  1 dusko  dusko    34K Aug  7  2020 backlog.data
-rw-r--r--  1 dusko  dusko    10K Aug  7  2020 completed.data
drwxr-xr-x  2 dusko  dusko   512B Aug  7  2020 hooks
-rw-r--r--  1 dusko  dusko   4.9K Aug  7  2020 pending.data
-rw-r--r--  1 dusko  dusko    49K Aug  7  2020 undo.data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create crontab.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% crontab -e
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% crontab -l
SHELL=/bin/sh
PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin

40 9 * * * env DISPLAY=:0 /mnt/usbflashdrive/scripts/csh/showtasks.sh 2&amp;gt;&amp;amp;1
40 9 * * * env DISPLAY=:0 /mnt/usbflashdrive/scripts/csh/remindgxmsgtcsh.sh 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /mnt/usbflashdrive/scripts/csh/remindgxmsgtcsh.sh
-rwxr--r--  1 dusko  dusko   1.2K Oct 27 21:26 /mnt/usbflashdrive/scripts/csh/remindgxmsgtcsh.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /mnt/usbflashdrive/scripts/csh/remindgxmsgtcsh.sh
#!/bin/csh 

remind -c /mnt/usbflashdrive/mydotfiles/.reminders | \
 xmessage -bg black -fg gold -buttons OK:1 -default OK -file -

remind -c+1 /mnt/usbflashdrive/mydotfiles/.reminders | \
 mail -s &quot;weekly reminder&quot; dusko
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /mnt/usbflashdrive/scripts/csh/showtasks.sh
-rwxr--r--  1 dusko  dusko   1.0K Aug  5 10:04 /mnt/usbflashdrive/scripts/csh/showtasks.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /mnt/usbflashdrive/scripts/csh/showtasks.sh
#!/bin/csh

setenv DISPLAY :0
setenv TASKRC /mnt/usbflashdrive/mydotfiles/.taskrc

/usr/local/bin/xterm -fa gallant -fs 14 \
 -geometry 150x38+0+0 -hold \
 -e /bin/csh -c /usr/local/bin/task
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Modify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.shrc&lt;/code&gt;  &lt;br /&gt;
Create &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.vimrc&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat ~/.vimrc
set noruler
set nohlsearch
set noincsearch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install firefox
(some of dependent packages installed:
adwaita-icon-theme, cairo, cups, dbus, ffmpeg, gtk3, harfbuzz,
hicolor-icon-theme, lame, libxkbcommon, pango, wayland-protocols)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install chromium
(some of dependent packages installed:
consolekit2, flac, dconf, noto-basic, pulseaudio, xdg-utils)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install thunderbird   
(some of dependent packages installed: gtk2)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add an LDAP address book. &lt;br /&gt;
Click Address Book button (inside Mail Toolbar, which is underneath Menu Bar). &lt;br /&gt;
File &amp;gt; New &amp;gt; LDAP Directory… &amp;gt; ‘General’ tab&lt;/p&gt;

&lt;p&gt;Name:  aNameMeaningfulToYou &lt;br /&gt;
Hostname:  ldap.dept.example.com &lt;br /&gt;
Base DN:  ou=People,dc=dept,dc=example,dc=com  &lt;br /&gt;
Port number: 389 &lt;br /&gt;
Bind DN:  &lt;br /&gt;
[ ]  Use secure connection (SSL)&lt;/p&gt;

&lt;p&gt;Click OK&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install libreoffice en_GB-libreoffice
(some of dependency packages installed:
apr (Apache Portable Runtime project), alsa-lib, boost-libs,  
curl, cyrus-sasl, db5, iso-codes, javavmwrapper, openjdk11, openjpeg,
openldap24-client, poppler, qt5-core, qt5-dbus, qt5-gui,
twemoji-color-font-ttf, vulkan-headers, xcb-util-image,
xcb-util-keysyms, twemoji-color-font-ttf;
fonts: linuxlibertine-g, liberation-fonts-ttf, GentiumBasic,
crosextrafonts-carlito, crosextrafonts-caladea)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add “FontPath” sections for fonts installed by LibreOffice.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/fonts.conf
Section &quot;Files&quot;
    FontPath &quot;/usr/local/share/fonts/dejavu/&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/X11/xorg.conf.d/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/fonts.conf
Section &quot;Files&quot;
    FontPath &quot;/usr/local/share/fonts/dejavu/&quot;
    FontPath &quot;/usr/local/share/fonts/LinLibertineG/&quot;
    FontPath &quot;/usr/local/share/fonts/Liberation/&quot;
    FontPath &quot;/usr/local/share/fonts/GentiumBasic/&quot;
    FontPath &quot;/usr/local/share/fonts/Carlito/&quot;
    FontPath &quot;/usr/local/share/fonts/Caladea/&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The OpenJDK implementation installed by libreoffice package 
requires &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fdescfs(5)&lt;/code&gt; mounted on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/fd&lt;/code&gt; 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;procfs(5)&lt;/code&gt; mounted on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/proc&lt;/code&gt;.  You need to add the 
following two lines in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/fstab&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/fstab
/dev/gpt/swap0/ none    swap    sw      0       0
/dev/gpt/swap1/ none    swap    sw      0       0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /etc/fstab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /etc/fstab
/dev/gpt/swap0/ none    swap    sw      0       0
/dev/gpt/swap1/ none    swap    sw      0       0
fdesc           /dev/fd fdescfs rw      0       0
proc            /proc   procfs  rw      0       0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install zathura zathura-pdf-poppler zathura-ps
(some of dependency packages installed:
ghostscript9-agpl-base, girara, libnotify, tex-kpathsea, tex-synctex)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Message from ghostscript9-agpl-base:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;This package installs a script named dvipdf that depends on dvips.
If you want to use this script you need to install print/tex-dvipsk.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install tex-dvipsk
(some of dependency packages installed:
libgd, libpotrace, mpfr, openjpeg15, psutils,
teckit, tex-dvipsk, tex-ptexenc, tex-web2c, texlive-base,
texlive-texmf, texlive-tlmgr, xpdfopen, zziplib)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install tex-xetex 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install jmk-x11-fonts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i /usr/local/etc/X11/xorg.conf.d/fonts.conf /tmp/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/X11/xorg.conf.d/fonts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i jmk | wc -l
       0

% xlsfonts | grep -i neep | wc -l
       0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset fp+ /usr/local/share/fonts/jmk-x11-fonts/
% xset fp rehash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xlsfonts | grep -i jmk | wc -l
     144

% xlsfonts | grep -i neep | wc -l
     136
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /tmp/fonts.conf.bak \
 /usr/local/etc/X11/xorg.conf.d/fonts.conf
--- /tmp/fonts.conf.bak 2022-01-02 15:33:23.417190000 -0800
+++ /usr/local/etc/X11/xorg.conf.d/fonts.conf   2022-01-02 15:49:01.359673000 -0800
@@ -7,0 +8 @@
+    FontPath &quot;/usr/local/share/fonts/jmk-x11-fonts/&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/fonts.conf
Section &quot;Files&quot;
    FontPath &quot;/usr/local/share/fonts/dejavu/&quot;
    FontPath &quot;/usr/local/share/fonts/LinLibertineG/&quot;
    FontPath &quot;/usr/local/share/fonts/Liberation/&quot;
    FontPath &quot;/usr/local/share/fonts/GentiumBasic/&quot;
    FontPath &quot;/usr/local/share/fonts/Carlito/&quot;
    FontPath &quot;/usr/local/share/fonts/Caladea/&quot;
    FontPath &quot;/usr/local/share/fonts/jmk-x11-fonts/&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install tex-luatex
(also installs the following dependency packages: 
tex-basic-engines, tex-formats, tex-libtexlua, tex-libtexluajit)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install symbola courier-prime libertinus firacode
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir /tmp/toextract

% cd /tmp/toextract

% fetch https://www.fontsquirrel.com/fonts/download/courier-prime-sans
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh
total 217
-rw-r--r--  1 dusko  wheel   204K Jan  9 19:51 courier-prime-sans

% file courier-prime-sans
courier-prime-sans: Zip archive data, at least v2.0 to extract
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mv courier-prime-sans courier-prime-sans.zip
% unzip courier-prime-sans.zip
% rm -i courier-prime-sans.zip

% cd ..

% pwd
/tmp

% mv toextract courierprimesans

% sudo mv /tmp/courierprimesans /usr/local/share/fonts/
% sudo chown -R root /usr/local/share/fonts/courierprimesans/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list | grep -i courier | grep -i prime | grep -i sans
/usr/local/share/fonts/courierprimesans/Courier Prime Sans Italic.ttf: Courier Prime Sans:style=Italic
/usr/local/share/fonts/courierprimesans/Courier Prime Sans Bold Italic.ttf: Courier Prime Sans:style=Bold Italic
/usr/local/share/fonts/courierprimesans/Courier Prime Sans Bold.ttf: Courier Prime Sans:style=Bold
/usr/local/share/fonts/courierprimesans/Courier Prime Sans.ttf: Courier Prime Sans:style=Regular 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /usr/local/share/fonts/courierprimesans/

% sudo mkfontdir
% sudo mkfontscale

% cd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset fp+ /usr/local/share/fonts/symbola/
% xset fp+ /usr/local/share/fonts/courier-prime/
% xset fp+ /usr/local/share/fonts/libertinus/
% xset fp+ /usr/local/share/fonts/firacode/
% xset fp+ /usr/local/share/fonts/courierprimesans/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xset fp rehash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cp -i /usr/local/etc/X11/xorg.conf.d/fonts.conf /tmp/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/X11/xorg.conf.d/fonts.conf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% diff \
 --unified=0 \
 /tmp/fonts.conf \
 /usr/local/etc/X11/xorg.conf.d/fonts.conf
--- /tmp/fonts.conf     2022-01-09 20:33:45.476371000 -0800
+++ /usr/local/etc/X11/xorg.conf.d/fonts.conf   2022-01-09 20:32:32.612990000 -0800
@@ -8,0 +9,5 @@
+    FontPath &quot;/usr/local/share/fonts/symbola/&quot;
+    FontPath &quot;/usr/local/share/fonts/courier-prime/&quot;
+    FontPath &quot;/usr/local/share/fonts/libertinus/&quot;
+    FontPath &quot;/usr/local/share/fonts/firacode/&quot;
+    FontPath &quot;/usr/local/share/fonts/courierprimesans/&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install Mutt, a text based MUA (Mail User Agent).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install mutt
(some of dependency packages installed:
 gnupg, gpgme, mime-support, pinentry, urlview)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttrc&lt;/code&gt; configuration file.&lt;br /&gt;
As I keep my &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;muttrc&lt;/code&gt; in a non-home directory, I start &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mutt&lt;/code&gt; 
with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-F&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mutt -F /path/to/my/muttrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aspell-ispell&lt;/code&gt;, Ispell compatibility script for aspell.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install aspell-ispell
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install Aspell English dictionaries.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install en-aspell
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install beadm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install keepassxc openconnect rsync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install graphviz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install the netpbm suite, a toolkit for conversion of images between different formats.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install netpbm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the X Window System, the program xwd (X Window dump) captures the 
content of a screen or of a window (a.k.a. takes a screenshot). 
The file generated by xwd can then be read by various other X utilities 
such as xwud or xv.&lt;/p&gt;

&lt;p&gt;To take a screenshot (a.k.a. screen capture) and convert it to png format:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ xwd | xwdtopnm | pnmtopng &amp;gt; screenshot.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;br /&gt;
If you get this error:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xwd | xwdtopnm | pnmtopng &amp;gt; screenshot.png
xwdtopnm: can&apos;t handle X11 pixmap_depth &amp;gt; 24
pnmtopng: Error reading first byte of what is expected to be a Netpbm 
magic number.  Most often, this means your input file is empty
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;a) try a different program (for example, instead of taking a screenshot 
of firefox browser, try taking a screenshot of chromium browser) &lt;br /&gt;
b) exit X session, and start it with a different colur depth, for example:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% exec startx -- -depth 16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install wireshark.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install wireshark  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In order for wireshark be able to capture packets when used by unprivileged
user, /dev/bpf should be in network group and have read-write permissions:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo chgrp network /dev/bpf*
% sudo chmod g+r /dev/bpf*
% sudo chmod g+w /dev/bpf*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In order for this to persist across reboots, add the following to
/etc/devfs.conf:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;own  bpf* root:network
perm bpf* 0660
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cp -i /etc/devfs.conf /etc/devfs.conf.original.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install dia, diagram creation program.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install dia 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s\\n | sudo tee -a /etc/devfs.conf

% printf %s\\n &apos;In order for wireshark be able to capture packets when used by&apos; \
 | sudo tee -a /etc/devfs.conf

% printf %s\\n &apos;unprivileged user, /dev/bpf should be in network group and have&apos; \
 | sudo tee -a /etc/devfs.conf

% printf %s\\n &apos;read-write permissions.&apos; | sudo tee -a /etc/devfs.conf

% printf %s\\n &apos;own  bpf* root:network&apos; | sudo tee -a /etc/devfs.conf

% printf %s\\n &apos;perm bpf* 0660&apos; | sudo tee -a /etc/devfs.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a Trash directory.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% mkdir ~/trash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install git.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% git config --global user.name &quot;duskopijetlovic&quot;
% git config --global user.email &quot;username@yourdomain.com&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Clone a git repository that you would like to update.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% git \
 clone \
 https://github.com/duskopijetlovic/duskopijetlovic.github.io.git \
 duskopijetlovic.github.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install ruby
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install ruby27-gems
% sudo pkg install rubygem-irb rubygem-rake rubygem-bundler rubygem-jekyll
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd duskopijetlovic.github.io/
% bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Configure &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cpan(1)&lt;/code&gt; module &lt;a href=&quot;#footnotes&quot;&gt;⁶&lt;/a&gt; so that it can be used by 
non-root users for installing Perl modules.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cpan -l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In “What approach do you want?  (Choose ‘local::lib’, ‘sudo’ or ‘manual’)”, 
enter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Loading internal logger. Log::Log4perl recommended for better logging

CPAN.pm requires configuration, but most of it can be done automatically.
If you answer &apos;no&apos; below, you will enter an interactive dialog for each
configuration option instead.

Would you like to configure as much as possible automatically? [yes] yes

Warning: You do not have write permission for Perl library directories.

To install modules, you need to configure a local Perl library directory or
escalate your privileges.  CPAN can help you by bootstrapping the local::lib
module or by configuring itself to use &apos;sudo&apos; (if available).  You may also
resolve this problem manually if you need to customize your setup.

What approach do you want?  (Choose &apos;local::lib&apos;, &apos;sudo&apos; or &apos;manual&apos;)
 [local::lib] sudo

---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Configuration is written to:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;~/.cpan/CPAN/MyConfig.pm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;[TODO]  &lt;br /&gt;
Try dual boot without rEFInd; that is, try it with only UEFI’s boot loader: &lt;br /&gt;
&lt;a href=&quot;https://forums.freebsd.org/threads/dual-booting-windows-10-alongside-freebsd-11-0-release.59427/#post-341619&quot;&gt;Dual-booting Windows 10 alongside FreeBSD 11.0-RELEASE - FreeBSD Forum&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Adding yet another boot loader to the chain is (probably) unnecessary 
if you’re using UEFI.  Most motherboard firmwares already provide 
a menu for selecting between EFI boot entries.  The only thing that 
may not be obvious is how to add an entry for FreeBSD to this menu so 
that it lives alongside Windows Boot Manager.  Now, if you don’t have 
a fancy boot menu you can access with the press of a key at startup 
then you’re going to have to look into using something like GRUB 
or rEFInd.  You might consider using such an option even if you do 
have a working boot menu provided by your firmware.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h4&gt;

&lt;p&gt;[¹] &lt;a href=&quot;https://support.lenovo.com/ca/en/solutions/ht035659&quot;&gt;How can I create Recovery Media (DVD or USB), or order Recovery Media (DVD or USB) from Lenovo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(Retrieved on Dec 12, 2021)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Recovery Media is DVD or USB media containing a backup of the original 
factory condition of a computer as configured by Lenovo, or a PC 
system user.  Recovery Media allows you to reformat the hard drive, 
reinstall the operating system and reset the system to the original 
Lenovo factory condition.&lt;/p&gt;

  &lt;p&gt;Note:  Before you start the recovery process, back up all the data 
that you want to keep.  During the recovery, all files on your hard 
disk drive (HDD), and all system settings will be deleted.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;[²] For more details about FreeBSD boot process, see:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/boot/#boot-introduction&quot;&gt;13.2. FreeBSD Boot Process - FreeBSD Handbook&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/bsdinstall/#bsdinstall-start&quot;&gt;2.4. Starting the Installation - FreeBSD Handbook&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(Retrieved on Dec 12, 2021)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;2.4.1. Booting on i386(TM) and amd64&lt;/p&gt;

  &lt;p&gt;These architectures provide a BIOS menu for selecting the boot device. 
Depending upon the installation media being used, select the CD/DVD or 
USB device as the first boot device.  Most systems also provide a key 
for selecting the boot device during startup without having to enter 
the BIOS.  Typically, the key is either F10, F11, F12, or Escape.&lt;/p&gt;

  &lt;p&gt;If the computer loads the existing operating system instead of the 
FreeBSD installer, then either:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;The installation media was not inserted early enough in the boot 
process.  Leave the media inserted and try restarting the computer.&lt;/li&gt;
    &lt;li&gt;The BIOS changes were incorrect or not saved.  Double-check that 
the right boot device is selected as the first boot device.&lt;/li&gt;
    &lt;li&gt;This system is too old to support booting from the chosen media. 
In this case, 
the Plop Boot Manager (&lt;a href=&quot;http://www.plop.at/en/bootmanagers.html&quot;&gt;http://www.plop.at/en/bootmanagers.html&lt;/a&gt;) 
can be used to boot the system from the selected media.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;[³]  Disk Labeling   &lt;br /&gt;
(From “Absolute FreeBSD, 3rd Edition: The Complete Guide to FreeBSD” &lt;br /&gt;
By Michael W. Lucas):&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Disk ID Labels&lt;/strong&gt;: a physical machine offers labels not available 
on virtual machines.
    &lt;ul&gt;
      &lt;li&gt;Viewing Labels &lt;br /&gt;
To view labels, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;glabel(8)&lt;/code&gt;, a shortcut for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;geom label&lt;/code&gt;.&lt;/li&gt;
    &lt;/ul&gt;

    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% glabel list
Geom name: nvd0p1
Geom name: nvd0p1
Providers:
1. Name: . . . 
---- snip ----
Consumers:
1. Name: nvd0p1
---- snip ----
---- snip ----

Geom name: nvd0
Providers:
   Name: diskid/DISK-20232D8612345
   Mediasize: 1024209543168 (954G)
   Sectorsize: 512
   Mode: r0w0e0
   secoffset: 0
   offset: 0
   seclength: 2000409264
   length: 1024209543168
   index: 0
Consumers:
1. Name: nvd0
   Mediasize: 1024209543168 (954G)
   Sectorsize: 512
   Mode: r0w0e0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Names of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Disk ID Label&lt;/code&gt; geoms are in the format 
of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;diskid/DISK-&amp;lt;hard_drive_serial_number&lt;/code&gt;.  For example:&lt;/p&gt;
    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /dev/diskid/
total 0
crw-r-----  1 root  operator   0xa7 Dec 31 12:42 DISK-20232D8612345
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;In this case, this partition would be labelled 
as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;diskid/DISK-20232D8612345&lt;/code&gt;.&lt;/p&gt;

    &lt;p&gt;Disk ID labels are hard to read and write.  To eliminate them, 
set the tunable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kern.geom.label.disk_ident.enable&lt;/code&gt; to 0 
in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/boot/loader.conf&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;GPT GUID (GPT ID) Labels&lt;/strong&gt;: every GPT partition includes a GUID.  &lt;br /&gt;
FreeBSD can treat the GUID as a label.  Using a GPT ID label makes 
sense when you have many automatically configured disks, such as 
large storage arrays.  On smaller systems, the 128-bit GUID is not 
practical because of its length.   To disable these labels, set the 
tunable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kern.geom.label.gptid.enable&lt;/code&gt; to 0 
in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/boot/loader.conf&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;GPT Labels&lt;/strong&gt;: GPT partitions let you &lt;em&gt;manually&lt;/em&gt; assign a label name 
within the partition table.  These labels are physically stored on the 
disk partition. – It’s &lt;strong&gt;recommended&lt;/strong&gt; to use GPT labels whenever possible.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;GEOM Labels&lt;/strong&gt;: The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;glabel(8)&lt;/code&gt; command lets you configure 
 GEOM labels.   A GEOM label is specific to FreeBSD’s GEOM 
 infrastructure and appears in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/label&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;[⁴]  Boot from &lt;a href=&quot;https://www.nomadbsd.org/&quot;&gt;NomadBSD&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Download rEFInd.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch https://iweb.dl.sourceforge.net/project/refind/0.13.2/refind-bin-0.13.2.zip 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Copy the &lt;strong&gt;rEFInd&lt;/strong&gt; .zip file to an external USB flash drive.&lt;/p&gt;

&lt;p&gt;Reboot.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo shutdown -r now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Return to the machine on which you are installing FreeBSD.&lt;/p&gt;

&lt;p&gt;Before mounting the USB flash drive with the &lt;strong&gt;rEFInd&lt;/strong&gt;, you have to 
mount the device file system (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;devfs&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mount -t devfs devfs /dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now you can mount the USB flash disk as usual.&lt;/p&gt;

&lt;p&gt;[⁵]  Packages installed as dependencies of the &lt;strong&gt;xorg&lt;/strong&gt; metapackage:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;twm&lt;/strong&gt; - Tab Window Manager for the X Window System&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Programming languages, compilers, header files, APIs&lt;/em&gt;: &lt;br /&gt;
llvm12, glib, lua53, perl5, python38, py38-evdev, py38-pyudev, 
py38-setuptools, py38-six, pcre, fontconfig, evdev-proto&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Utilities, tools, applications&lt;/em&gt;: &lt;br /&gt;
pciids, xbitmaps, xcmsdb, xkeyboard-config, gettext-runtime, encodings, 
indexinfo, expat&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;xorg-apps (X.org apps metapackage)&lt;/em&gt;, consists of the following packages:&lt;br /&gt;
appres, bitmap, iceauth, mkfontscale, sessreg, setxkbmap, smproxy, 
x11perf, xauth, xbacklight, xcalc, xclock, xconsole, xcursor-themes, 
xcursorgen, xdpyinfo, xdriinfo, xev, xf86dga, xgamma, xgc, xhost, xinit, 
xinput, xkbcomp, xkbevd, xkbutils, xkill, xlsatoms, xlsclients, 
xmessage, xmodmap, xpr, xprop, xrandr, xrdb, xrefresh, xset, xsetroot, 
xterm, xvinfo, xwd, xwininfo, xwud&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Drivers&lt;/em&gt;:&lt;br /&gt;
mesa-dri, mesa-libs, 
&lt;em&gt;xorg-drivers (X.org drivers metapackage)&lt;/em&gt;, consists of the following packages: &lt;br /&gt;
xf86-input-keyboard, xf86-input-libinput, xf86-input-mouse, 
xf86-video-scfb, xf86-video-vesa&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Fonts&lt;/em&gt;: &lt;br /&gt;
font-adobe-100dpi, font-adobe-75dpi, font-adobe-utopia-100dpi, 
font-adobe-utopia-75dpi, font-adobe-utopia-type1, font-alias, 
font-arabic-misc, font-bh-100dpi, font-bh-75dpi, 
font-bh-lucidatypewriter-100dpi, font-bh-lucidatypewriter-75dpi, 
font-bh-ttf, font-bh-type1, font-bitstream-100dpi, font-bitstream-75dpi, 
font-bitstream-type1, font-cronyx-cyrillic, font-cursor-misc, 
font-daewoo-misc, font-dec-misc, font-ibm-type1, font-isas-misc, 
font-jis-misc, font-micro-misc, font-misc-cyrillic, font-misc-ethiopic, 
font-misc-meltho, font-misc-misc, font-mutt-misc, font-schumacher-misc, 
font-screen-cyrillic, font-sony-misc, font-sun-misc, 
font-winitzki-cyrillic, font-xfree86-type1, xorg-fonts, 
xorg-fonts-100dpi, xorg-fonts-75dpi, xorg-fonts-cyrillic, 
xorg-fonts-miscbitmaps, xorg-fonts-truetype, xorg-fonts-type1, dejavu&lt;/p&gt;

  &lt;p&gt;&lt;em&gt;Libraries&lt;/em&gt;:&lt;br /&gt;
libFS, libICE, libSM, libX11, libXScrnSaver, libXau, libXaw, 
libXcomposite, libXcursor, libXdamage, libXdmcp, libXext, libXfixes, 
libXfont, libXfont2, libXft, libXi, libXinerama, libXmu, libXpm, 
libXrandr, libXrender, libXres, libXt, libXtst, libXv, libXvMC, 
libXxf86dga, libXxf86vm, libdmx, libdrm, libedit, libepoll-shim, 
libepoxy, libevdev, libffi, libfontenc, libglvnd, libgudev, libiconv, 
libinput, liblz4, libmtdev, libpciaccess, libpthread-stubs, libudev-devd, 
libunwind, libwacom, libxcb, libxkbfile, libxml2, libxshmfence, pixman, 
png, readline, xcb-util, xcb-util-wm, xtrans, xorg-libraries, freetype2, 
mpdecimal&lt;/p&gt;

  &lt;p&gt;xorg-docs, xorg-server, xorgproto, wayland, zstd&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[⁶]  What is CPAN? &lt;br /&gt;
The CPAN Frequently Asked Questions - www.cpan.org&lt;br /&gt;
(Retrieved on Jan 1, 2022):&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;CPAN is the Comprehensive Perl Archive Network, a large collection of 
Perl software and documentation. You can begin exploring from either 
http://www.cpan.org/ or any of the mirrors listed at 
http://www.cpan.org/SITES.html.&lt;/p&gt;

  &lt;p&gt;CPAN is also the name of a Perl module, CPAN.pm, which is used to 
download and install Perl software from the CPAN archive.  This FAQ 
covers only a little about the CPAN module and you may find the 
documentation for it by using perldoc CPAN via the command line or on 
the web at https://metacpan.org/pod/CPAN.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;references&quot;&gt;References&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://twitter.com/allanjude/status/1058770910176575488&quot;&gt;Once something opens one of da or gpt/name, the other goes away&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/dlangille/be9bea06795fe60579a648863a75f659&quot;&gt;Adjusting the drive locations&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Sat, 01 Jan 2022 08:03:41 -0800</pubDate>
        <link>http://localhost:4000/freebsd/dotfiles/zfs/2022/01/01/freebsd-new-machine-setup.html</link>
        <guid isPermaLink="true">http://localhost:4000/freebsd/dotfiles/zfs/2022/01/01/freebsd-new-machine-setup.html</guid>
        
        
        <category>freebsd</category>
        
        <category>dotfiles</category>
        
        <category>zfs</category>
        
      </item>
    
      <item>
        <title>How to Compile C Programs in FreeBSD</title>
        <description>&lt;p&gt;OS:     FreeBSD 13&lt;br /&gt;
Shell:  csh&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version
13.0-RELEASE-p5
 
% ps $$
 PID TT  STAT    TIME COMMAND
6287  2  Ss   0:00.09 -csh (csh)
 
% printf %s\\n &quot;$SHELL&quot;
/bin/csh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch \
 https://master.dl.sourceforge.net/project/yest/yest/2.7.0.7/yest-2.7.0.7.tgz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% tar xf yest-2.7.0.7.tgz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh
total 22
-rwxr-xr-x  1 dusko  dusko   2.1K Jul 27  2014 README-2.7.0.7
-rw-r--r--  1 dusko  dusko    50K Jul 27  2014 yest-2.7.0.7.c
-rwxr-xr-x  1 dusko  dusko   8.4K Jul 27  2014 yest-2.7.0.7.man1
-rw-r--r--  1 dusko  dusko    17K Jul 28  2014 yest-2.7.0.7.tgz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc yest-2.7.0.7.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lhrt
total 59
-rwxr-xr-x  1 dusko  dusko   8.4K Jul 27  2014 yest-2.7.0.7.man1
-rwxr-xr-x  1 dusko  dusko   2.1K Jul 27  2014 README-2.7.0.7
-rw-r--r--  1 dusko  dusko    50K Jul 27  2014 yest-2.7.0.7.c
-rw-r--r--  1 dusko  dusko    17K Jul 28  2014 yest-2.7.0.7.tgz
-rwxr-xr-x  1 dusko  dusko    50K Dec 13 18:23 a.out
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out
13/12/2021
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% rm -i a.out
remove a.out? y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc -o yest yest-2.7.0.7.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lhrt
total 59
-rwxr-xr-x  1 dusko  dusko   8.4K Jul 27  2014 yest-2.7.0.7.man1
-rwxr-xr-x  1 dusko  dusko   2.1K Jul 27  2014 README-2.7.0.7
-rw-r--r--  1 dusko  dusko    50K Jul 27  2014 yest-2.7.0.7.c
-rw-r--r--  1 dusko  dusko    17K Jul 28  2014 yest-2.7.0.7.tgz
-rwxr-xr-x  1 dusko  dusko    50K Dec 13 18:24 yest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./yest -3h
13/12/2021-15:24
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;compiling-x-aka-x11-aka-xorg-programs&quot;&gt;Compiling X (aka X11, aka Xorg) Programs&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://raw.githubusercontent.com/leahneukirchen/xlossage/e09a0750d735ce
6e173f33c7912fd6245bd055cd/xlossage.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;first-try&quot;&gt;First Try&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cc -O2 -Wall -o xlossage xlossage.c -lX11 -lXi -g
xlossage.c:35:10: fatal error: &apos;X11/Xlib.h&apos; file not found
#include &amp;lt;X11/Xlib.h&amp;gt;
         ^~~~~~~~~~~~
1 error generated.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is the X11 library really missing from the system?&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg info --regex libX11
libX11-1.7.2,1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg info --regex --full libX11 | grep Name
Name           : libX11
 
$ pkg info --regex --full libX11 | grep Comment
Comment        : X11 library
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;No, so where are the libX11 files located?&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg query &quot;%Fp&quot; libX11 | wc -l
    1038
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg query &quot;%Fp&quot; libX11 
/usr/local/include/X11/ImUtil.h
/usr/local/include/X11/XKBlib.h
/usr/local/include/X11/Xcms.h
/usr/local/include/X11/Xlib-xcb.h
/usr/local/include/X11/Xlib.h
/usr/local/include/X11/XlibConf.h
---- snip ----
/usr/local/lib/X11/XErrorDB
/usr/local/lib/X11/Xcms.txt
/usr/local/lib/X11/locale/C/Compose
/usr/local/lib/X11/locale/C/XI18N_OBJS
/usr/local/lib/X11/locale/C/XLC_LOCALE
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;second-try-and-the-fix&quot;&gt;Second Try and The Fix&lt;/h3&gt;

&lt;p&gt;Added the location of the X11 library by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-I&lt;/code&gt; option:&lt;br /&gt;
“Add the specified directory to the search path for include files.”&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cc -O2 -Wall -I/usr/local/include -o xlossage xlossage.c -lX11 -lXi -g
ld: error: unable to find library -lX11
ld: error: unable to find library -lXi
cc: error: linker command failed with exit code 1 (use -v to see invocation)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg info --regex libXi
libXi-1.8,1
libXinerama-1.1.4_2,1
 
$ pkg info --regex libXi-
libXi-1.8,1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg info --regex --full libXi- | grep Name
Name           : libXi
 
$ pkg info --regex --full libXi- | grep Comment
Comment        : X Input extension library
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Where are the libXi (X Input extension library) files located?&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg query &quot;%Fp&quot; libXi | wc -l
      84
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pkg query &quot;%Fp&quot; libXi 
/usr/local/include/X11/extensions/XInput.h
/usr/local/include/X11/extensions/XInput2.h
/usr/local/lib/libXi.a
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-L&lt;/code&gt; option to add directory to library search path.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cc -O2 -Wall -I/usr/local/include -L/usr/local/lib \
 -o xlossage xlossage.c -lX11 -lXi -g
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ file xlossage
xlossage: ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically li
nked, interpreter /libexec/ld-elf.so.1, for FreeBSD 13.1, FreeBSD-style, with de
bug_info, not stripped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./xlossage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;another-way&quot;&gt;Another Way&lt;/h3&gt;

&lt;p&gt;Another way would be to use the application’s Makefile.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ fetch https://raw.githubusercontent.com/leahneukirchen/xlossage/e09a0750d735ce
6e173f33c7912fd6245bd055cd/Makefile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat Makefile
CFLAGS=-O2 -Wall -g `pkg-config --cflags x11 xi`
LDFLAGS=`pkg-config --libs x11 xi`

all: xlossage

clean:
        rm -f xlossage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make(1)&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ make
cc -O2 -Wall -g `pkg-config --cflags x11 xi` `pkg-config --libs x11 xi` xlossage
.c  -o xlossage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ file xlossage
xlossage: ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically li
nked, interpreter /libexec/ld-elf.so.1, for FreeBSD 13.1, FreeBSD-style, with de
bug_info, not stripped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ./xlossage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you want to remove the executable:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ make clean
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/freebsd/comments/di8u14/how_do_i_link_x11_lx11_on_freebsd/&quot;&gt;How do I link X11 (-lX11) on FreeBSD?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/freebsd/comments/60756a/installing_the_x11_developer_library/&quot;&gt;Installing the X11 developer library&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 13 Dec 2021 17:23:42 -0800</pubDate>
        <link>http://localhost:4000/c/programming/freebsd/howto/2021/12/13/freebsd-compiling-c.html</link>
        <guid isPermaLink="true">http://localhost:4000/c/programming/freebsd/howto/2021/12/13/freebsd-compiling-c.html</guid>
        
        
        <category>c</category>
        
        <category>programming</category>
        
        <category>freebsd</category>
        
        <category>howto</category>
        
      </item>
    
      <item>
        <title>How to Configure X (X.Org, X11) for Multi-Head with Two Separate Screens aka Zaphod Method</title>
        <description>&lt;p&gt;&lt;strong&gt;tl;dr:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Goal:&lt;br /&gt;
Dual-output/single-GPU/two independent screens - a configuration called &lt;strong&gt;Zaphod&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Use two outputs from a system with a single graphics card or a single 
on-board video (integrated graphics), with a dual screen configuration 
so that there are two completely separate (independent) &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:0.0&lt;/code&gt; 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:0.1&lt;/code&gt; screens that have nothing to do with each other; that is,
the origin of each screen is (0,0).&lt;/p&gt;

&lt;p&gt;This is known as a &lt;strong&gt;multi-head&lt;/strong&gt; setup (sometimes called &lt;strong&gt;multiseat&lt;/strong&gt;,
or &lt;strong&gt;multi-seat&lt;/strong&gt;, or &lt;strong&gt;dual head&lt;/strong&gt;, or a &lt;strong&gt;Zaphod&lt;/strong&gt; configuration).&lt;/p&gt;

&lt;p&gt;One of the reasons why: &lt;br /&gt;
I don’t want a single screen so that; for example, dialogs that are 
intended to be positioned in the centre of a display always display 
in the middle of span across monitors in a dual-monitor configuration.&lt;/p&gt;

&lt;p&gt;To accomplish this, you need to:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Use two &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screen&lt;/code&gt; sections (in the &lt;strong&gt;xorg.conf&lt;/strong&gt; file) referring 
to the device Identifiers.  For example, you can call 
them: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Identifier &quot;Screen0&lt;/code&gt; 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Identifier &quot;Screen1&quot;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Two &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Device&lt;/code&gt; sections (in the &lt;strong&gt;xorg.conf&lt;/strong&gt; file) with: &lt;br /&gt;
Option “ZaphodHeads” “yourdevice” &lt;br /&gt;
(yourdevice is given by xrandr(1) tool) &lt;br /&gt;
Option “AccelMethod” “sna” &lt;br /&gt;
(In my tests, AccelMethod wasn’t needed when used 
 with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;modesetting&lt;/code&gt;, while it was required when used 
 with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;intel&lt;/code&gt; driver.)&lt;/li&gt;
  &lt;li&gt;(Only needed when used with graphics card drivers so you don’t need 
this step if you will use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;modesetting&lt;/code&gt; driver): Install the card’s 
driver (package names: xf86-video-*).  Most xf86-video-* drivers 
support Zaphod mode, which allows for a single device to produce 
multiple X screens.  For example, for a graphics card with 
an Intel chipset, you need to install the intel graphics 
driver: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pkg installxf86-video-intel&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;On recent FreeBSD versions, including FreeBSD 13, you would typically install
&lt;a href=&quot;https://www.freshports.org/graphics/drm-kmod/&quot;&gt;drm-kmod metaport&lt;/a&gt;, 
which enables the integrated graphics chip on Intel CPUs (Intel Integrated 
Graphics, aka HD Graphics).  With &lt;strong&gt;drm-kmod&lt;/strong&gt;, X.Org autodetects the driver, 
and utilizes the &lt;a href=&quot;https://www.x.org/wiki/ModeSetting/&quot;&gt;&lt;strong&gt;modesetting&lt;/strong&gt; X.Org driver&lt;/a&gt; 
and/or &lt;a href=&quot;https://www.freedesktop.org/wiki/Software/Glamor/&quot;&gt;glamor driver&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It’s recommened to use the &lt;strong&gt;modesetting&lt;/strong&gt; driver but the use of specific 
chipset graphics drivers is not discouraged if it’s needed.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Operating system and hardware used:&lt;/p&gt;

&lt;p&gt;FreeBSD 13.0&lt;br /&gt;
&lt;strong&gt;csh&lt;/strong&gt; shell&lt;br /&gt;
&lt;a href=&quot;https://www.x.org/releases/X11R7.6/doc/man/man1/twm.1.xhtml&quot;&gt;&lt;strong&gt;twm&lt;/strong&gt; - Tab Window Manager for the X Window System&lt;/a&gt;  &lt;a href=&quot;#footnotes&quot;&gt;¹&lt;/a&gt;  &lt;br /&gt;
Laptop: &lt;a href=&quot;https://www.lenovo.com/us/en/p/laptops/thinkpad/thinkpadx/thinkpad-x280/22tp2tx2800&quot;&gt;Lenovo ThinkPad X280 | Ultraportable 12.5” Business Laptop&lt;/a&gt;  &lt;br /&gt;
External monitor: &lt;a href=&quot;https://www.lg.com/us/monitors/lg-29WL500-B-led-monitor&quot;&gt;LG 29’’ Class 21:9 UltraWide FHD IPS Monitor with HDR10 (29’’ Diagonal)&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version
13.0-RELEASE-p5

% ps $$
  PID TT  STAT    TIME COMMAND
19567  3  Ss   0:00.09 -tcsh (tcsh)

% uname -a
FreeBSD machine1.home.arpa 13.0-RELEASE-p4 FreeBSD 13.0-RELEASE-p4 
  #0: Tue Aug 24 07:33:27 UTC 2021     
  root@amd64-builder.daemonology.net:/usr/obj/usr/src/amd64.amd64/sys/GENERIC
  amd64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
In code excerpts and examples, the long lines are folded and then 
indented to make sure they fit the page.&lt;/p&gt;

&lt;h2 id=&quot;two-methods-of-setting-up&quot;&gt;Two Methods of Setting Up&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;br /&gt;
These methods have been tested on a laptop (notebook) with a dual-head 
&lt;strong&gt;Intel&lt;/strong&gt; graphics card with two physical monitor connections.   &lt;br /&gt;
There might be other methods available for different configurations; 
for example, with a dual-head Nvidia graphics cards or AMD Radeon 
chipsets (package name in FreeBSD: xf86-video-amdgpu).&lt;/p&gt;

&lt;p&gt;Other possibilites include Xinerama or Xypher. &lt;a href=&quot;#footnotes&quot;&gt;²&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The two methods explained here are a static setup in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xorg.conf&lt;/code&gt; with:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Intel&lt;/strong&gt; video driver - Xorg driver for Intel integrated graphics chipsets&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;modesetting&lt;/strong&gt; - video driver for framebuffer device&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Each of the two drivers has its own man page:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;man modesetting&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;man intel&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
You can also set up dual head dynamically by using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xrandr(1)&lt;/code&gt; tool; 
however, this tool doesn’t provide support for &lt;strong&gt;Zaphod&lt;/strong&gt; mode.  In other
words, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xrandr(1)&lt;/code&gt; you can quickly configure two monitors but 
the display is one screen, not two independent screens.&lt;/p&gt;

&lt;p&gt;xrandr(1) tool is a command line interface to RandR (Rotate and Resize) 
extension &lt;a href=&quot;#footnotes&quot;&gt;³&lt;/a&gt;, and can be used to set outputs for a screen dynamically, 
without adding any specific settings in xorg.conf.&lt;/p&gt;

&lt;p&gt;Starting with RandR 1.2, you can set up dual head and add/remove 
a monitor without restarting X.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;configuration-with-xorg-driver-for-intel-integrated-graphics-chipsets---method-1-of-2&quot;&gt;Configuration with Xorg driver for Intel Integrated Graphics Chipsets - Method 1 of 2&lt;/h3&gt;

&lt;p&gt;On FreeBSD 13, the &lt;strong&gt;xorg.conf&lt;/strong&gt; is located in the&lt;br /&gt;
directory &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/xorg.conf.d/&lt;/code&gt;. &lt;a href=&quot;#footnotes&quot;&gt;⁴&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;x11-window-system-configuration&quot;&gt;X11 Window System Configuration&lt;/h4&gt;

&lt;p&gt;From &lt;br /&gt;
&lt;a href=&quot;https://vermaden.wordpress.com/tag/xdm/&quot;&gt;FreeBSD Desktop – Part 3 – X11 Window System&lt;/a&gt;  &lt;br /&gt;
(Posted on May 22, 2018) &lt;br /&gt;
(Retrieved on Dec 12, 2021)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Historically you would create entire &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/X11/xorg.conf&lt;/code&gt; file 
which would include complete X11 Window System configuration.&lt;/p&gt;

  &lt;p&gt;Recently to comply with FreeBSD &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hier(7)&lt;/code&gt; directory structure and 
logic this can be also configured as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/xorg.conf&lt;/code&gt; 
file and even more recently you can just configure these parts of X11 
server that you need without touching other parts.&lt;/p&gt;

  &lt;p&gt;This ‘individual’ configuration is done in 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/xorg.conf.d&lt;/code&gt; directory with 
individual files for each setting, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;card.conf&lt;/code&gt; for 
graphics card configuration.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pciconf -lv | grep -A4 vga
vgapci0@pci0:0:2:0:     class=0x030000 rev=0x07 hdr=0x00 vendor=0x8086 device=0x
5917 subvendor=0x17aa subdevice=0x2256
    vendor     = &apos;Intel Corporation&apos;
    device     = &apos;UHD Graphics 620&apos;
    class      = display
    subclass   = VGA
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the Lenovo x280 laptop with an external monitor plugged in:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr --listproviders
Providers: number : 1
Provider 0: id: 0x47 cap: 0xa, Sink Output, 
  Sink Offload crtcs: 3 outputs: 5 associated providers: 0 name:modesetting
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install the X.Org legacy driver for Intel integrated graphics 
chipsets (package name: xf86-video-intel).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install xf86-video-intel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The content of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;card.conf&lt;/code&gt; configuration file for graphics card 
configuration (in this example, I had created this file previously, 
customizing it for &lt;strong&gt;modesetting&lt;/strong&gt; video driver).  Here’s how it looked 
before changing it to include the X.Org legacy driver for Intel 
integrated graphics chipsets:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/card.conf
Section &quot;Device&quot;
    Identifier &quot;Card0&quot;
    Driver &quot;modesetting&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;br /&gt;
You can designate the graphics card to work with the Intel driver by 
using the following &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Device&lt;/code&gt; section (but it would still be 
a &lt;strong&gt;single&lt;/strong&gt; extended display over two monitors):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/card.conf
Section &quot;Device&quot;
    Identifier &quot;Card0&quot;
    Driver     &quot;intel&quot;
    BusID      &quot;PCI:0:2:0&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The value for BusID line is obtained from the first line of the output&lt;br /&gt;
of the command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pciconf -lv | grep -A4 vga&lt;/code&gt; ran above.&lt;/p&gt;

&lt;p&gt;Modify the &lt;strong&gt;card.conf&lt;/strong&gt; to include the X.Org Intel legacy driver and 
to configure &lt;strong&gt;two&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Identifer&lt;/code&gt; sections (with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&lt;/code&gt; set 
to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZaphodHeads&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/X11/xorg.conf.d/card.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Section &quot;Device&quot;
  Identifier &quot;Intel0&quot;
  Driver     &quot;intel&quot;
  Option     &quot;ZaphodHeads&quot; &quot;HDMI-2&quot;
  Option     &quot;AccelMethod&quot; &quot;sna&quot;
  Option     &quot;DPMS&quot;
  Screen     0
  #BusID      &quot;PCI:0:2:0&quot;
EndSection
 
Section &quot;Device&quot;
  Identifier &quot;Intel1&quot;
  Driver     &quot;intel&quot;
  Option     &quot;ZaphodHeads&quot; &quot;eDP-1&quot;
  Option     &quot;AccelMethod&quot; &quot;sna&quot;
  Option     &quot;DPMS&quot;
  Screen     1
  #BusID      &quot;PCI:0:2:0&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The BusID line is optional.&lt;/p&gt;

&lt;p&gt;To obtain individual screen resolutions, use the randr(1) command.&lt;/p&gt;

&lt;p&gt;On the Lenovo x280 laptop with the external monitor, 
LG 29’’ 21:9 UltraWide FHD IPS Monitor plugged in:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr
Screen 0: minimum 320 x 200, current 4480 x 1080, maximum 16384 x 16384
eDP-1 connected primary 1920x1080+0+0 
  (normal left inverted right x axis y axis) 276mm x 155mm
   1920x1080     60.05*+  60.01    59.97    59.96    59.93  
---- snip ----
DP-1 disconnected (normal left inverted right x axis y axis)
HDMI-1 disconnected (normal left inverted right x axis y axis)
DP-2 disconnected (normal left inverted right x axis y axis)
HDMI-2 connected 2560x1080+1920+0 
  (normal left inverted right x axis y axis) 798mm x 334mm
   2560x1080     59.98*+  74.99    50.00  
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The dimesions (geometry), a.k.a. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x resolution&lt;/code&gt; (horizontal resolution) 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y resolution&lt;/code&gt; (vertical resolution) values:&lt;/p&gt;

&lt;p&gt;for the built-in screen (on the output &lt;strong&gt;eDP-1&lt;/strong&gt;): 1920x1080  &lt;br /&gt;
for the external monitor (on the output &lt;strong&gt;HDMI-2&lt;/strong&gt;): 2560x1080&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;        |--&amp;gt; X

        0               1920                     4480
- 0     +----------------+------------------------+
|       |                |                        |
|       |     eDP-1      |        HDMI-2          |
v       |   1920x1080    |       2560x1080        |
        |                |                        |
1080    +----------------+------------------------+

        |&amp;lt;- width=1920 -&amp;gt;|&amp;lt;-     width=2560     -&amp;gt;|
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xdpyinfo | grep -A1 &apos;^screen&apos;
screen #0:
  dimensions:    4480x1080 pixels (1185x285 millimeters)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently, two outputs form &lt;strong&gt;a single display&lt;/strong&gt; (a.k.a. extended display) 
with the geometry (dimensions) of &lt;strong&gt;4480x1080&lt;/strong&gt;; that is, 
&lt;strong&gt;width = 4480&lt;/strong&gt; and &lt;strong&gt;height = 1080&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;The goal is to modify this setup and create a dual layout X.Org 
configuration file with two &lt;strong&gt;independent&lt;/strong&gt; outputs.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/X11/xorg.conf.d/layout.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/layout.conf
Section &quot;ServerLayout&quot;
    Identifier     &quot;DualHeadConf&quot;
    Screen      0  &quot;Screen0&quot; 1920 0
    Screen      1  &quot;Screen1&quot;    0 0
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For the Intel driver kernel module to be loaded at startup in the boot process
you need to add this line in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/rc.conf&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;kld_list=&quot;i915kms&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
In previous FreeBSD releases, you would need to add a line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kern.vty=vt&lt;/code&gt;
to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/boot/loader.conf&lt;/code&gt; but that’s not needed anymore as this is the 
default in new FreeBSD releases.&lt;/p&gt;

&lt;p&gt;Resource: &lt;br /&gt;
&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/x11/&quot;&gt;FreeBSD Handbook - Chapter 5. The X Window System -  5.4.3. Kernel Mode Setting (KMS)&lt;/a&gt;  &lt;br /&gt;
(Retrieved on Dec 12, 2021)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;When the computer switches from displaying the console to a higher 
screen resolution for X, it must set the video output mode. 
Recent versions of Xorg use a system inside the kernel to do these mode 
changes more efficiently.  Older versions of FreeBSD use sc(4), which 
is not aware of the KMS system.  The end result is that after closing X, 
the system console is blank, even though it is still working. 
The newer vt(4) console avoids this problem.&lt;/p&gt;

  &lt;p&gt;Add this line to /boot/loader.conf to enable vt(4):&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;kern.vty=vt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;Find out &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Modeline&lt;/code&gt; values for the output &lt;strong&gt;eDP-1&lt;/strong&gt; 
(the built-in laptop screen).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -i modeline /var/log/Xorg.0.log | wc -l
      68
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
Instead of obtaining &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Modeline&lt;/code&gt; values from Xorg log file, you can 
use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cvt(1)&lt;/code&gt; (a utility for calculating VESA Coordinated Video 
Timing modes) or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gtf(1)&lt;/code&gt; (a utility for calculating VESA GTF modes). &lt;br /&gt;
See examples below; immediately after the section showing how to 
obtain &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Modeline&lt;/code&gt; values from the Xorg log file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n &apos;Printing probed modes for output eDP-1&apos; /var/log/Xorg.0.log
179:[   106.950] (II) intel(0): Printing probed modes for output eDP-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 179,211p Xorg.0.log | wc -l
      33
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Filtering out for the highest refresh rate, which for this output is 60 Hz:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 179,211p Xorg.0.log | grep x60 | wc -l
      10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 179,211p Xorg.0.log | grep x60 | grep &apos;1920x1080&apos; | wc -l
       2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
The long lines are folded and then indented to make sure they fit the page.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 179,211p Xorg.0.log | grep x60 | grep &apos;1920x1080&apos;
[   106.950] (II) intel(0): Modeline &quot;1920x1080&quot;x60.0  
  141.00  1920 1936 1952 2104  1080 1083 1097 1116 -hsync -vsync (67.0 kHz eP)
[   106.950] (II) intel(0): Modeline &quot;1920x1080&quot;x60.0  
  173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync (67.2 kHz d)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, find out &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Modeline&lt;/code&gt; values for the output &lt;strong&gt;HDMI-2&lt;/strong&gt; &lt;br /&gt;
(the external 29’’ LG monitor).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -n &apos;Printing probed modes for output HDMI-2&apos; /var/log/Xorg.0.log
285:[   107.364] (II) intel(0): Printing probed modes for output HDMI-2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 285,319p /var/log/Xorg.0.log | wc -l
      35
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Filtering out for the highest refresh rate, which for this output is 75 Hz:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 285,319p /var/log/Xorg.0.log | grep x75 | wc -l
       7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 285,319p /var/log/Xorg.0.log | grep x75 | grep &apos;2560x1080&apos; | wc -l
       1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sed -n 285,319p /var/log/Xorg.0.log | grep x75 | grep &apos;2560x1080&apos;
[   107.364] (II) intel(0): Modeline &quot;2560x1080&quot;x75.0  
  228.25  2560 2608 2640 2720  1080 1083 1093 1119 +hsync -vsync (83.9 kHz e)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you wanted to calculate &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Modeline&lt;/code&gt; values with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cvt(1)&lt;/code&gt; 
(usage: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cvt [-v|--verbose] [-r|--reduced] h-resolution v-resolution [refresh]&lt;/code&gt;), 
where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--verbose&lt;/code&gt; is “Warn verbosely when a given mode does not 
completely correspond with CVT standards”, or with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gtf(1)&lt;/code&gt;
(usage: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gtf x y refresh [-v|--verbose] [-f|--fbmode] [-x|--xorgmode]&lt;/code&gt;), 
where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--verbose&lt;/code&gt; is: “Enable verbose printouts  This shows a trace 
for each step of the computation”.  &lt;br /&gt;
For both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cvt(1)&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gtf(1)&lt;/code&gt;:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; : the desired horizontal resolution;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; : the desired vertical resolution;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;refresh&lt;/code&gt; : the desired refresh rate.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cvt --verbose 1920 1080 60
# 1920x1080 59.96 Hz (CVT 2.07M9) hsync: 67.16 kHz; pclk: 173.00 MHz
Modeline &quot;1920x1080_60.00&quot;  
  173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cvt --verbose 2560 1080 75
Warning: Aspect Ratio is not CVT standard.
# 2560x1080 74.94 Hz (CVT) hsync: 84.68 kHz; pclk: 294.00 MHz
Modeline &quot;2560x1080_75.00&quot;  
  294.00  2560 2744 3016 3472  1080 1083 1093 1130 -hsync +vsync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gtf 1920 1080 60 --verbose
 1: [H PIXELS RND]             :     1920.000000
 2: [V LINES RND]              :     1080.000000
 3: [V FIELD RATE RQD]         :       60.000000
 4: [TOP MARGIN (LINES)]       :        0.000000
 5: [BOT MARGIN (LINES)]       :        0.000000
 6: [INTERLACE]                :        0.000000
 7: [H PERIOD EST]             :       14.909035
 8: [V SYNC+BP]                :       37.000000
 9: [V BACK PORCH]             :       34.000000
10: [TOTAL V LINES]            :     1118.000000
11: [V FIELD RATE EST]         :       59.994118
12: [H PERIOD]                 :       14.907574
13: [V FIELD RATE]             :       59.999996
14: [V FRAME RATE]             :       59.999996
15: [LEFT MARGIN (PIXELS)]     :        0.000000
16: [RIGHT MARGIN (PIXELS)]    :        0.000000
17: [TOTAL ACTIVE PIXELS]      :     1920.000000
18: [IDEAL DUTY CYCLE]         :       25.527727
19: [H BLANK (PIXELS)]         :      656.000000
20: [TOTAL PIXELS]             :     2576.000000
21: [PIXEL FREQ]               :      172.798065
22: [H FREQ]                   :       67.079994
17: [H SYNC (PIXELS)]          :      208.000000
18: [H FRONT PORCH (PIXELS)]   :      120.000000
36: [V ODD FRONT PORCH(LINES)] :        1.000000

  # 1920x1080 @ 60.00 Hz (GTF) hsync: 67.08 kHz; pclk: 172.80 MHz
  Modeline &quot;1920x1080_60.00&quot;  
    172.80  1920 2040 2248 2576  1080 1081 1084 1118  -HSync +Vsync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gtf 2560 1080 75 --verbose
 1: [H PIXELS RND]             :     2560.000000
 2: [V LINES RND]              :     1080.000000
 3: [V FIELD RATE RQD]         :       75.000000
 4: [TOP MARGIN (LINES)]       :        0.000000
 5: [BOT MARGIN (LINES)]       :        0.000000
 6: [INTERLACE]                :        0.000000
 7: [H PERIOD EST]             :       11.825470
 8: [V SYNC+BP]                :       47.000000
 9: [V BACK PORCH]             :       44.000000
10: [TOTAL V LINES]            :     1128.000000
11: [V FIELD RATE EST]         :       74.967407
12: [H PERIOD]                 :       11.820331
13: [V FIELD RATE]             :       75.000000
14: [V FRAME RATE]             :       75.000000
15: [LEFT MARGIN (PIXELS)]     :        0.000000
16: [RIGHT MARGIN (PIXELS)]    :        0.000000
17: [TOTAL ACTIVE PIXELS]      :     2560.000000
18: [IDEAL DUTY CYCLE]         :       26.453901
19: [H BLANK (PIXELS)]         :      928.000000
20: [TOTAL PIXELS]             :     3488.000000
21: [PIXEL FREQ]               :      295.084808
22: [H FREQ]                   :       84.600006
17: [H SYNC (PIXELS)]          :      280.000000
18: [H FRONT PORCH (PIXELS)]   :      184.000000
36: [V ODD FRONT PORCH(LINES)] :        1.000000

  # 2560x1080 @ 75.00 Hz (GTF) hsync: 84.60 kHz; pclk: 295.08 MHz
  Modeline &quot;2560x1080_75.00&quot;  
    295.08  2560 2744 3024 3488  1080 1081 1084 1128  -HSync +Vsync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Monitor&lt;/code&gt; sections and a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screen&lt;/code&gt; section.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/X11/xorg.conf.d/monitors.conf 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/monitors.conf 
Section &quot;Monitor&quot;
    Identifier &quot;eDP-1&quot;
    Modeline &quot;1920x1080x60.00&quot;  141.00  1920 1936 1952 2104  1080 1083 1097 1116 -hsync -vsync
    Option &quot;DPMS&quot; &quot;true&quot;   # DPMS (Display Power Management Signaling)
EndSection

Section &quot;Monitor&quot;
    Identifier &quot;HDMI-2&quot;
    Modeline &quot;2560x1080x75.00&quot;  228.25  2560 2608 2640 2720  1080 1083 1093 1119 +hsync -vsync 
    Option &quot;DPMS&quot; &quot;true&quot;   # DPMS (Display Power Management Signaling)
EndSection

# A Screen section ties a device (video card) to a monitor at a specific 
# colour depth and set of display resolutions. 

Section &quot;Screen&quot;
    Identifier &quot;Screen0&quot;
    Monitor &quot;HDMI-2&quot;
    DefaultDepth 24
    Device &quot;Intel0&quot;
    SubSection &quot;Display&quot;
        Modes &quot;2560x1080x75.00&quot;
        Viewport   1920 0
        Depth       24
    EndSubSection
EndSection

Section &quot;Screen&quot;
    Identifier &quot;Screen1&quot;
    Monitor &quot;eDP-1&quot;
    DefaultDepth 24
    Device &quot;Intel1&quot;
    SubSection &quot;Display&quot;
        Modes &quot;1920x1080x60.00&quot;
        Viewport   0 0
        Depth     24
    EndSubSection
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The whole &lt;strong&gt;xorg.conf&lt;/strong&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/card.conf; printf %s\\n; \
 cat /usr/local/etc/X11/xorg.conf.d/fonts.conf; printf %s\\n; \
 cat /usr/local/etc/X11/xorg.conf.d/keyboard.conf; printf %s\\n; \
 cat /usr/local/etc/X11/xorg.conf.d/layout.conf; printf %s\\n; \
 cat /usr/local/etc/X11/xorg.conf.d/modules.conf; printf %s\\n; \
 cat /usr/local/etc/X11/xorg.conf.d/monitors.conf
Section &quot;Device&quot;
  Identifier &quot;Intel0&quot;
  Driver     &quot;intel&quot;
  Option     &quot;ZaphodHeads&quot; &quot;HDMI-2&quot;
  Option     &quot;AccelMethod&quot; &quot;sna&quot;
  Option     &quot;DPMS&quot;
  Screen     0
  #BusID      &quot;PCI:0:2:0&quot;
EndSection
 
Section &quot;Device&quot;
  Identifier &quot;Intel1&quot;
  Driver     &quot;intel&quot;
  Option     &quot;ZaphodHeads&quot; &quot;eDP-1&quot;
  Option     &quot;AccelMethod&quot; &quot;sna&quot;
  Option     &quot;DPMS&quot;
  Screen     1
  #BusID      &quot;PCI:0:2:0&quot;
EndSection

Section &quot;Files&quot;
    FontPath &quot;/usr/local/share/fonts/dejavu/&quot;
EndSection

Section &quot;InputClass&quot;
    Identifier &quot;All Keyboards&quot;
    MatchIsKeyboard &quot;yes&quot;
    Option &quot;XkbLayout&quot; &quot;us, rs(latinunicode), rs&quot;
    Option &quot;XkbOptions&quot; &quot;ctrl:nocaps,grp:rctrl_toggle&quot;
EndSection

Section &quot;ServerLayout&quot;
    Identifier     &quot;DualHeadConf&quot;
    Screen      0  &quot;Screen0&quot; 1920 0
    Screen      1  &quot;Screen1&quot;    0 0
EndSection

Section &quot;Module&quot;
    Load &quot;freetype&quot;
EndSection

Section &quot;Monitor&quot;
    Identifier &quot;eDP-1&quot;
    Modeline &quot;1920x1080x60.00&quot;  141.00  1920 1936 1952 2104  1080 1083 1097 1116 -hsync -vsync
    Option &quot;DPMS&quot; &quot;true&quot;   # DPMS (Display Power Management Signaling)
EndSection

Section &quot;Monitor&quot;
    Identifier &quot;HDMI-2&quot;
    Modeline &quot;2560x1080x75.00&quot;  228.25  2560 2608 2640 2720  1080 1083 1093 1119 +hsync -vsync
    Option &quot;DPMS&quot; &quot;true&quot;   # DPMS (Display Power Management Signaling)
EndSection

# A Screen section ties a device (video card) to a monitor at a specific
# colour depth and set of display resolutions.

Section &quot;Screen&quot;
    Identifier &quot;Screen0&quot;
    Monitor &quot;HDMI-2&quot;
    DefaultDepth 24
    Device &quot;Intel0&quot;
    SubSection &quot;Display&quot;
        Modes &quot;2560x1080x75.00&quot;
        Viewport    1920 0
        Depth       24
    EndSubSection
EndSection

Section &quot;Screen&quot;
    Identifier &quot;Screen1&quot;
    Monitor &quot;eDP-1&quot;
    DefaultDepth 24
    Device &quot;Intel1&quot;
    SubSection &quot;Display&quot;
        Modes &quot;1920x1080x60.00&quot;
        Viewport   0 0
        Depth     24
    EndSubSection
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Restart Xorg.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkill Xorg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;After restarting Xorg:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xdpyinfo | grep -A1 &apos;^screen&apos;
screen #0:
  dimensions:    2560x1080 pixels (677x285 millimeters)
--
screen #1:
  dimensions:    1920x1080 pixels (508x285 millimeters)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the external monitor (output: HDMI-2):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr --listproviders
Providers: number : 1
Provider 0: id: 0x43 cap: 0xb, Source Output, Sink Output, 
  Sink Offload crtcs: 2 outputs: 2 associated providers: 0 name:Intel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr
Screen 0: minimum 8 x 8, current 2560 x 1080, maximum 32767 x 32767
HDMI-2 connected primary 2560x1080+0+0 
 (normal left inverted right x axis y axis) 800mm x 340mm
   2560x1080x75.00  74.99*+
   2560x1080     59.98 +  74.99    50.00  
   3840x2160     30.00    25.00    24.00    29.97    23.98  
   2560x1440     59.95  
   1920x1080     74.99    60.00    50.00    59.94  
   1680x1050     59.88  
   1600x900      60.00  
   1280x1024     75.02    60.02  
   1280x800      59.91  
   1152x864      75.00    59.97  
   1280x720      60.00    50.00    59.94  
   1024x768      75.03    60.00  
   1024x576      59.97  
   832x624       74.55  
   800x600       75.00    60.32  
   720x576       50.00  
   720x480       60.00    59.94  
   640x480       75.00    60.00    59.94  
VIRTUAL1 disconnected (normal left inverted right x axis y axis)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the laptop built-in screen (output: eDP-1):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr --listproviders
Providers: number : 1
Provider 0: id: 0xcc cap: 0xb, Source Output, Sink Output, 
  Sink Offload crtcs: 2 outputs: 2 associated providers: 0 name:Intel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xrandr
Screen 1: minimum 8 x 8, current 1920 x 1080, maximum 32767 x 32767
eDP-1 connected primary 1920x1080+0+0
 (normal left inverted right x axis y axis) 280mm x 160mm
   1920x1080x60.00  60.05*+
   1920x1080     60.05 +  59.93  
   1680x1050     59.88  
   1400x1050     59.98  
   1600x900      60.00    59.95    59.82  
   1280x1024     60.02  
   1400x900      59.96    59.88  
   1280x960      60.00  
   1368x768      60.00    59.88    59.85  
   1280x800      59.81    59.91  
   1280x720      59.86    60.00    59.74  
   1024x768      60.00  
   1024x576      60.00    59.97    59.90    59.82  
   960x540       60.00    59.63    59.82  
   800x600       60.32    56.25  
   864x486       60.00    59.92    59.57  
   640x480       59.94  
   720x405       59.51    60.00    58.99  
   640x360       59.84    59.32    60.00  
VIRTUAL1 disconnected (normal left inverted right x axis y axis)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;configuration-with-the-modesetting-driver---method-2-of-2&quot;&gt;Configuration with the modesetting Driver - Method 2 of 2&lt;/h3&gt;

&lt;p&gt;Use the same setup as with the configuration for the Intel video 
driver for X.Org, except for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Device&lt;/code&gt; sections (in my setup, 
in &lt;strong&gt;card.conf&lt;/strong&gt; file) and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Monitor&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Screen&lt;/code&gt; 
sections (in my setup, in &lt;strong&gt;monitors.conf&lt;/strong&gt; file).&lt;/p&gt;

&lt;p&gt;Modify &lt;strong&gt;card.conf&lt;/strong&gt; xorg configuration file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/X11/xorg.conf.d/card.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/card.conf
Section &quot;Device&quot;
  Identifier &quot;Card0&quot;
  Driver     &quot;modesetting&quot;
  Option     &quot;DPMS&quot;
  Screen     0
  #BusID      &quot;PCI:0:2:0&quot;
EndSection

Section &quot;Device&quot;
  Identifier &quot;Card1&quot;
  Driver     &quot;modesetting&quot;
  Option     &quot;DPMS&quot;
  Screen     1
  #BusID      &quot;PCI:0:2:0&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Modify the &lt;strong&gt;monitors.conf&lt;/strong&gt; xorg configuration file.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo vi /usr/local/etc/X11/xorg.conf.d/monitors.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/monitors.conf
Section &quot;Monitor&quot;
    Identifier &quot;eDP-1&quot;
    Modeline &quot;1920x1080x60.00&quot;  141.00  1920 1936 1952 2104  1080 1083 1097 1116 -hsync -vsync
    Option &quot;DPMS&quot; &quot;true&quot;   # DPMS (Display Power Management Signaling)
EndSection

Section &quot;Monitor&quot;
    Identifier &quot;HDMI-2&quot;
    Modeline &quot;2560x1080x75.00&quot;  228.25  2560 2608 2640 2720  1080 1083 1093 1119 +hsync -vsync
    Option &quot;DPMS&quot; &quot;true&quot;   # DPMS (Display Power Management Signaling)
EndSection

# A Screen section ties a device (video card) to a monitor at a specific
# colour depth and set of display resolutions.

Section &quot;Screen&quot;
    Identifier &quot;Screen0&quot;
    Monitor &quot;HDMI-2&quot;
    DefaultDepth 24
    Device &quot;Card0&quot;
    Option      &quot;ZaphodHeads&quot; &quot;HDMI-2&quot;
    SubSection &quot;Display&quot;
        Depth       24
    EndSubSection
EndSection

Section &quot;Screen&quot;
    Identifier &quot;Screen1&quot;
    Monitor &quot;eDP-1&quot;
    DefaultDepth 24
    Device &quot;Card1&quot;
    Option      &quot;ZaphodHeads&quot; &quot;eDP-1&quot;
    SubSection &quot;Display&quot;
        Depth     24
    EndSubSection
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Restart Xorg (a.k.a. X, or X11, or X.Org).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkill Xorg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h4&gt;

&lt;p&gt;[¹] The default window manager supplied with X11 since the X11R4 release in 1989.&lt;/p&gt;

&lt;p&gt;[²] Xephyr &lt;br /&gt;
(&lt;a href=&quot;https://www.freedesktop.org/wiki/Software/Xephyr/&quot;&gt;https://www.freedesktop.org/wiki/Software/Xephyr/&lt;/a&gt;)&lt;/p&gt;
&lt;blockquote&gt;

  &lt;p&gt;Xephyr is a kdrive based X Server which targets a window on a host 
X Server as its framebuffer.  Unlike Xnest it supports modern 
X extensions ( even if host server doesn’t ) such as Composite, Damage, 
randr etc (no GLX support now).  It uses SHM Images and shadow 
framebuffer updates to provide good performance. It also has a visual 
debugging mode for observing screen updates.&lt;/p&gt;

  &lt;p&gt;Possible uses include:&lt;/p&gt;

  &lt;p&gt;Xnest replacement - Window manager, Composite ‘gadget’, etc. development tool. &lt;br /&gt;
Toolkit debugging - rendundant toolkit paints can be observered easily 
via the debugging mode. &lt;br /&gt;
X Server internals development - develop without the need for an extra 
machine / display. &lt;br /&gt;
Multiterminal with Xephyr - configuration is a single computer which 
supports multiple users at the same time.&lt;/p&gt;

  &lt;p&gt;More information &lt;br /&gt;
See the README&lt;br /&gt;
&lt;a href=&quot;https://cgit.freedesktop.org/xorg/xserver/tree/hw/kdrive/ephyr/README&quot;&gt;https://cgit.freedesktop.org/xorg/xserver/tree/hw/kdrive/ephyr/README&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[³] X Server Extensions&lt;br /&gt;
The X11 can be enhanced by adding extensions to the X server.&lt;/p&gt;

&lt;p&gt;Examples of some of the extensions:  &lt;br /&gt;
DPMS: Displays Power Management Signalling. Enables the X server 
to reduce monitor power consumption when not in use.&lt;/p&gt;

&lt;p&gt;RANDR: Rotate and Resize.  Notifies clients when the display is resized 
to a new resolution or rotated (especially useful on laptops, tablets 
and LCDs on pivot mounts) and enables the hot-plugging of monitors.&lt;/p&gt;

&lt;p&gt;[⁴] Traditionally, the most important file for Xorg has been the 
&lt;strong&gt;xorg.conf&lt;/strong&gt; configuration file.&lt;/p&gt;

&lt;p&gt;Modern versions of Xorg do not create an &lt;strong&gt;xorg.conf&lt;/strong&gt; file by default. 
In other words, using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;X -configure&lt;/code&gt; is not recommended. 
Instead, on FreeBSD, various files ending in &lt;strong&gt;*.conf&lt;/strong&gt; reside in the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/xorg.conf.d&lt;/code&gt; directory and are automatically 
loaded by X at boot, prior to reading any &lt;strong&gt;xorg.conf&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Configuration files will also be searched for in a directory
reserved for system use.  This is to separate configuration files from
the vendor or 3rd party packages from those of local administration.
In FreeBSD, these files are found in the 
directory &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/X11/xorg.conf.d&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;On my system used for this document:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/share/X11/xorg.conf.d
total 14
-rw-r--r--  1 root  wheel   1.3K Jul  4 00:26 10-quirks.conf
-rw-r--r--  1 root  wheel   152B Jul  4 00:26 20-evdev-kbd.conf
-rw-r--r--  1 root  wheel   1.4K Jul  4 00:59 40-libinput.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You should not change what is included for system use 
in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/share/X11/xorg.conf.d&lt;/code&gt; directory.&lt;/p&gt;

&lt;p&gt;It’s recommended to include your customizations or to override system 
settings by creating *.conf files in
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/xorg.conf.d&lt;/code&gt; directory.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;br /&gt;
Names of these files are arbitrary and each file can contain one 
or more sections in the same format used by &lt;strong&gt;xorg.conf&lt;/strong&gt;.  Extension of 
the files has to be ‘&lt;strong&gt;.conf&lt;/strong&gt;’.&lt;/p&gt;

&lt;p&gt;Immediately after installing FreeBSD, I usually include the following 
two X configuration customizations:&lt;/p&gt;

&lt;p&gt;Create a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Module&lt;/code&gt; X configuration file to make sure that the freetype 
module is loaded.  This file has a line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Load &quot;freetype&quot;&lt;/code&gt; inside 
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;Modules&quot;&lt;/code&gt; section:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cat /usr/local/etc/X11/xorg.conf.d/modules.conf 
Section &quot;Module&quot;
    Load &quot;freetype&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a keyboard layout customization file:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat /usr/local/etc/X11/xorg.conf.d/keyboard.conf
Section &quot;InputClass&quot;
    Identifier &quot;All Keyboards&quot;
    MatchIsKeyboard &quot;yes&quot;
    Option &quot;XkbLayout&quot; &quot;us, rs(latinunicode), rs&quot;
    Option &quot;XkbOptions&quot; &quot;ctrl:nocaps,grp:rctrl_toggle&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With this configuration 
file (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/xorg.conf.d/keyboard.conf&lt;/code&gt;),
pressing the right Ctrl keyboard key cycles betweeen Serbian (latin), 
Serbian (cyrillic) and English (US) keyboard layouts, 
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ctrl:nocaps&lt;/code&gt; to ignore the Caps Lock key.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;br /&gt;
Alternatively, you can set your keymap in your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$HOME/.xinitrc&lt;/code&gt;.
For example, you can add 
a line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setxkbmap rs -model pc105&lt;/code&gt; 
to your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.xinitrc&lt;/code&gt; file.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;br /&gt;
You can still create the xorg.conf file and continue making custom 
configurations in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/X11/xorg.conf&lt;/code&gt; as has been 
traditionally done but the file is not created by default.&lt;/p&gt;

&lt;p&gt;From &lt;br /&gt;
&lt;a href=&quot;https://docs.freebsd.org/en/books/handbook/x11/#x-config&quot;&gt;5.4. Xorg Configuration - 5.4.1. Quick Start – FreeBSD Handbook&lt;/a&gt;&lt;br /&gt;
(Retrieved on Dec 20, 2021)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;5.4.4.1. Directory&lt;/p&gt;

  &lt;p&gt;Xorg looks in several directories for configuration files.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/&lt;/code&gt; is the recommended directory for these files 
on FreeBSD.  Using this directory helps keep application files separate 
from operating system files.&lt;/p&gt;

  &lt;p&gt;Storing configuration files in the legacy &lt;strong&gt;/etc/X11/&lt;/strong&gt; still works. 
However, this mixes application files with the base FreeBSD files and 
is not recommended.&lt;/p&gt;

  &lt;p&gt;5.4.4.2. Single or Multiple Files&lt;/p&gt;

  &lt;p&gt;It is easier to use multiple files that each configure a specific 
setting than the traditional single &lt;strong&gt;xorg.conf&lt;/strong&gt;.  These files are 
stored in the &lt;strong&gt;xorg.conf.d/&lt;/strong&gt; subdirectory of the main configuration 
file directory.  The full path is typically
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/etc/X11/xorg.conf.d/&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;The traditional single &lt;strong&gt;xorg.conf&lt;/strong&gt; still works, but is neither 
as clear nor as flexible as multiple files in the &lt;strong&gt;xorg.conf.d/&lt;/strong&gt; 
subdirectory.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;references&quot;&gt;References:&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://nouveau.freedesktop.org/MultiMonitorDesktop.html&quot;&gt;Introduction to Multiple Monitors in X - freedesktop.org&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;. . .&lt;/p&gt;
  &lt;h3 id=&quot;dual-head-graphics-cards&quot;&gt;Dual-head Graphics Cards&lt;/h3&gt;

  &lt;p&gt;Then came dual-head graphics cards with two physical monitor connections 
and things got complicated. It did not fit the one SCREEN, one card, 
one monitor scheme, so drivers had to invent ways to circumvent 
the X server architecture limitations.&lt;/p&gt;

  &lt;p&gt;One solution for a driver (DDX) is to create one SCREEN per head, 
which is called &lt;strong&gt;Zaphod mode&lt;/strong&gt; (after Zaphod Beeblebrox, from the 
Hitchhiker’s Guide to the Galaxy).  This has the drawbacks of multiple 
SCREENs, but you get the DPI right.&lt;/p&gt;

  &lt;p&gt;Another solution is to pretend that there is only one monitor, and use 
just one SCREEN, which is what the Nvidia TwinView mode does. 
TwinView avoids the drawbacks of the &lt;em&gt;Xinerama&lt;/em&gt; feature, but has 
a completely non-standard way of configuring it. Plus, it is proprietary.&lt;/p&gt;

  &lt;p&gt;The third and the only proper way to deal with it is the RandR extension, 
which is a relatively new invention. RandR exposes the dual-head card 
as a single SCREEN, yet having a standard way of managing the multiple 
monitors.  It avoids the Xinerama feature drawbacks, but uses 
the Xinerama extension to provide applications information about the 
physical monitor layout.  RandR configuration can be controlled on the 
fly with the command xrandr, and it can be written to 
the X configuration file.  The default configuration is cloned views, 
i.e. all heads show the same image.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://www.phoronix.com/forums/forum/linux-graphics-x-org-drivers/open-source-amd-linux/14280-separate-screens-with-xrandr/page4&quot;&gt;Separate screens with xrandr&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;With RandR:&lt;/p&gt;

  &lt;p&gt;This mode gives you two viewports over a single surface and the ability 
to size and position independently. Benefit is configurability, 
disadvantage is application support.  If you are using a RANDR 1.3 
capable distribution, you can also set “–primary” to provide a hint to 
gnome-panel et al. about which monitor is your “center of the universe”.&lt;/p&gt;

  &lt;p&gt;Disadvantage here is that applications are mostly naive when it comes 
to multi-monitor modes.  They may listen to the xinerama extension and 
place things intelligently, they may not.  This goes right up and down 
the stack.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://web.archive.org/web/20130429073111/http://en.gentoo-wiki.com/wiki/X.Org/Dual_Monitors#Single_graphics_card.2C_Multiple_X_screens_with_ZaphodHeads&quot;&gt;X.Org/Dual Monitors - Single graphics card, Multiple X screens with ZaphodHeads&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;. . .&lt;/p&gt;
  &lt;h3 id=&quot;single-graphics-card-multiple-x-screens-with-zaphodheads&quot;&gt;Single graphics card, Multiple X screens with ZaphodHeads&lt;/h3&gt;

  &lt;p&gt;In the previous example, a single PCI device was used to stretch 
a screen onto two separate displays. This will demonstrate how to 
use a single PCI device to provide two separate screens on two 
separate displays.  This will, for instance, allow you to launch 
one program on a given display with DISPLAY=:0.0, and on another 
with DISPLAY=:0.1.&lt;/p&gt;

  &lt;h4 id=&quot;motivation&quot;&gt;Motivation&lt;/h4&gt;

  &lt;p&gt;It is often desirable to have multiple X screens produced by 
a single VGA controller.  Most xf86-video-* drivers support 
Zaphod mode, which allows for a single device to produce 
multiple X screens.  With intel graphics integrated onto all 
Sandy Bridge and higher CPUs, this is especially important.&lt;/p&gt;

  &lt;p&gt;For instance, on a machine with an on-chip graphics controller, 
as well as a separated video card, this would allow for one 
display for each output.&lt;/p&gt;

  &lt;p&gt;This example will focus on intel, though it should work with 
radeon and nouveau drivers that support it.   . . .&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://lists.archive.carbon60.com/gentoo/desktop/282286&quot;&gt;Mailing List Archive: questions and sundry gripes about X11 multihead (it’s a rant)&lt;/a&gt;: &lt;br /&gt;
(Posted on Dec 29, 2013)&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;After years of assuming I’d probably never set my system up with
multiple monitors, I’ve decided to go ahead and do it. I’ve watched
with some interest as various new schemes for doing it have
emerged over the years (Xinerama , and now lately RandR), but
I’ve always assumed that if nothing else, good old Zaphod mode
would always be around, since it’s built right into the way X11
numbers $DISPLAY (0:0, 0:1, 0:2…etc.).
It’s been around so long, it’s older than Linux itself.&lt;br /&gt;
. . .&lt;/p&gt;

  &lt;p&gt;Anyway, Zaphod is what I want. I don’t care that it won’t let me
drag windows between monitors. That’s precisely the advantage
of it. Many applications are written with such an assumption of
a single display that it’s best not to disappoint them.
I don’t want to worry about what a full screen game will think
of my multihead setup. I don’t want to see dialog windows
(or anything else really) popping up, half on one monitor and
half on another. I don’t want to have to setup the arrangement
of my desktop so that it’s arranged to not look ridiculous at
the point where the two monitors divide the screen. It’s all
just simpler if we have two screens that are completely
separate, and the only magic object that’s able to move
between them is the mouse pointer.&lt;/p&gt;

  &lt;p&gt;I’m not complaining that we have RandR now. I think it’s great.
One of X11’s greatest weaknesses has always been that before
now, you couldn’t really make any big configuration changes
while the X server is running. Now, thanks to RandR, you can
do almost anything with your desktop running and active,
and you don’t even need root access. You can’t configure
Zaphod type multihead that way, but that’s fine – you
couldn’t do that before either (nothing gained, nothing lost).
But RandR lets you make almost any other desktop geometry
change as a regular user without restarting X, and I think
that’s great.&lt;/p&gt;

  &lt;p&gt;RandR (and its predecessor, Xinerama) both assume though that
if you’re doing multihead, you want one big screen that spans
multiple monitors. Nice if that’s what you want, but as
detailed above, there are good reasons why you might prefer
otherwise.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Posted on Dec 29, 2013 &lt;br /&gt;
Permalink:&lt;br /&gt;
&lt;a href=&quot;https://lists.archive.carbon60.com/gentoo/desktop/282080#282080&quot;&gt;https://lists.archive.carbon60.com/gentoo/desktop/282080#282080&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.freebsd.org/Graphics&quot;&gt;Graphics FreeBSD Wiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://01.org/temp-linuxgraphics/documentation/how-set-dual-head-intel-graphics-randr-1.2&quot;&gt;How to Set Up Dual Head for Intel Graphics with RandR 1.2 - 01.org Intel Open Source&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.linuxquestions.org/questions/showthread.php?p=6167464&quot;&gt;How to configure X for multi-head with two separate screens?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wiki.archlinux.org/title/Multihead#Separate_screens&quot;&gt;Separate screens - Multihead - ArchWiki&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/365796/xorg-independent-mode&quot;&gt;Xorg: Independent Mode&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.freshports.org/x11-drivers/xf86-video-intel&quot;&gt;X.Org &lt;strong&gt;legacy driver&lt;/strong&gt; for &lt;strong&gt;Intel&lt;/strong&gt; integrated graphics chipsets – x11-drivers/xf86-video-intel&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bbs.archlinux.org/viewtopic.php?id=105450&quot;&gt;Multiseat gaming with multi-pointer X&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://superuser.com/questions/1616104/switch-monitors-in-xorg-conf-in-a-dual-screen-setup&quot;&gt;Switch monitors in xorg.conf in a dual screen setup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dmesgd.nycbug.org/index.cgi&quot;&gt;NYC*BUG dmesgd&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Launched in 2004, dmesgd aims to provide a &lt;strong&gt;user-submitted&lt;/strong&gt; repository of 
searchable *BSD dmesgs.  The dmesg(8) command displays the system message 
buffer’s content, and during boot a copy is saved to /var/run/dmesg.boot.&lt;/p&gt;

  &lt;p&gt;This buffer contains the operating system release, name and version, 
a list of devices identified, plus a whole host of other useful information.&lt;/p&gt;

  &lt;p&gt;We hope others find this resource useful and further contribute to its growth. 
Contact us at [ admin at lists dot nycbug dot org ].&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://bsd-hardware.info/&quot;&gt;Hardware for BSD&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;This is a project to anonymously collect hardware details of BSD-powered 
computers over the world and help people to collaboratively debug 
hardware related issues, check for BSD-compatibility and find drivers.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://bsd-hardware.info/?view=howto&quot;&gt;Probe your computer&lt;/a&gt; in order to 
participate in the project and discover your hardware in details. 
Share your probes with BSD developers to debug and fix problems with 
your computer. Please read more 
in &lt;a href=&quot;https://forum.linux-hardware.org/?cat=2&quot;&gt;our blog&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Sun, 12 Dec 2021 20:53:55 -0800</pubDate>
        <link>http://localhost:4000/x11/unix/howto/dotfiles/2021/12/12/xorg-x11-multihead-two-separate-screens.html</link>
        <guid isPermaLink="true">http://localhost:4000/x11/unix/howto/dotfiles/2021/12/12/xorg-x11-multihead-two-separate-screens.html</guid>
        
        
        <category>x11</category>
        
        <category>unix</category>
        
        <category>howto</category>
        
        <category>dotfiles</category>
        
      </item>
    
      <item>
        <title>How To List All Fonts That Contain a Particular UTF-8/Unicode Character</title>
        <description>&lt;p&gt;&lt;strong&gt;tl;dr:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;List all fonts that contain a particular character.&lt;/li&gt;
  &lt;li&gt;If your system doesn’t have a font that contain that character: 
find fonts that include the missing character.&lt;/li&gt;
  &lt;li&gt;Render the character properly.&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;This page contains some uncommon Unicode characters.&lt;br /&gt;
If your web browser displays them as different unreadable symbols 
(question marks, boxes, or other symbols), you most likely need to 
install additional fonts that contain the missing characters.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Example 1:&lt;/strong&gt; List all fonts that include the Skull and Crossbones 
symbol (U+2620):&lt;/p&gt;

&lt;p&gt;Enter the following in your terminal emulator.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;☠ | xargs -Ireplstr fc-list &quot;:charset=replstr&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Example 2:&lt;/strong&gt; List all fonts that include the 
character 顠 (CJK Unified Ideograph-9860) (U+9860):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;顠 | xargs -Ireplstr fc-list &quot;:charset=replstr&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Example 3:&lt;/strong&gt; For &lt;strong&gt;NSM&lt;/strong&gt; (&lt;strong&gt;Non-Spacing Mark&lt;/strong&gt;) characters, which are 
problematic [¹] to display on terminal emulators. For example, 
list all fonts that include the Combining Circumflex Accent (U+0302):&lt;/p&gt;

&lt;p&gt;a) Method 1&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf  ̂ | xsel -i
% xsel -o &amp;gt; xselo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%x&quot; \&apos;`less xselo` | xargs -Ireplstr fc-list &quot;:charset=replstr&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;b) Method 2&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%x&quot; \&apos;`printf  ̂ ` | xargs -Ireplstr fc-list &quot;:charset=replstr&quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note:&lt;br /&gt;
Quotes around &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;less&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; above are the backtick 
character or the backquote (`), named “Grave Accent” in Unicode (U+0060).&lt;/p&gt;

&lt;p&gt;[¹] 
For example, the Combining Circumflex Accent (U+0302) is at first visible 
in xterm when displayed with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xsel -o | less&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf  ̂ | xsel -i

% xsel -o | less
 ̂
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, after scrolling off the screen/screenful in xterm, the character 
(on the last line) disappears, appearing again if you select the last line 
with the mouse but even then when you copy that line, the character 
(Combining Circumflex Accent (U+0302)) is missing when pasted into other document.&lt;/p&gt;

&lt;p&gt;Why is this? (a.k.a.: So, how to display non-spacing marks?)&lt;/p&gt;

&lt;p&gt;A: To display a non-spacing mark by itself, apply it to a space.&lt;/p&gt;

&lt;p&gt;Reference:&lt;br /&gt;
From 
Unicode Demystified
(published by Addison-Wesley Professional, 
publication date: September 2002):&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Non-spacing mark&lt;/strong&gt; &lt;br /&gt;
A combining character that takes up no space along the baseline. 
Non-spacing marks usually are drawn above or below the base character 
or overlay it.&lt;/p&gt;

&lt;p&gt;A non-spacing mark always combines with the character that &lt;strong&gt;precedes&lt;/strong&gt; it. 
If the backing store contains the character codes&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;U+006F LATIN SMALL LETTER O
U+0302 COMBINING CIRCUMFLEX ACCENT 
U+006F LATIN SMALL LETTER O
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;they represent the sequence&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;öo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and not the sequence&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;oö
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Example 4:&lt;/strong&gt; 
To show a non-spacing mark appearing by itself, apply it to a space. 
Unicode provides spacing versions of some non-spacing marks, generally 
for backward compatibility with some legacy encoding. Nevertheless, you 
can get any non-spacing mark to appear alone by preceding it with a space. 
In other words, U+0020 SPACE followed by U+0302 COMBINING CIRCUMFLEX ACCENT 
gives you a spacing (i.e., non-combining) circumflex accent.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl 0302
 ̂       0302    COMBINING CIRCUMFLEX ACCENT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl 0303 | cut -f1 | xxd -p
cc830a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %d 0x0a
10% 
 
% printf %o 0x0a
12% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ignore ‘0a’ - it’s ASCII hexadecimal 0a (decimal 10, octal 12).
ASCII 10 is the Line Feed character (LF).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl 0303 | cut -f1 | xxd -p -l2
cc83
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %o 0xcc
314% 

% printf %o 0x83
203% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without a space, the Combining Circumflex Accent character (U+0302) is not displayed.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\314\203&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The U+0020 SPACE (040 in octal) followed by U+0302 COMBINING CIRCUMFLEX ACCENT&lt;br /&gt;
(UTF-8: 0xCC 0x83, 314 203 in octal) gives you a spacing (i.e., non-combining) 
circumflex accent.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\040\314\203&apos;
 ̃% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;`printf &apos;\40\314\203&apos;` | xargs -Ireplstr fc-list &quot;:charset=replstr&quot; | wc -l
     632
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;ç | xargs -Ireplstr fc-list &quot;:charset=replstr&quot; | wc -l
    1915
 
% printf &apos;%x&apos; \&apos;ç | xargs -Ireplstr fc-list &quot;:charset=replstr&quot; | grep -i arvo
/home/dusko/.fonts/arvo.ttf: Arvo:style=Regular
/home/dusko/.fonts/arvo-bold-italic.ttf: Arvo:style=Bold Italic
/home/dusko/.fonts/arvo-bold.ttf: Arvo:style=Bold
/home/dusko/.fonts/arvo-italic.ttf: Arvo:style=Italic

% printf &apos;%x&apos; \&apos;ç
e7%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd(1)&lt;/code&gt; displays all the characters in an X font.&lt;/p&gt;

&lt;p&gt;To specify a point size, add the size before the column (:) as shown below 
for a sample for a font size of 18:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa &quot;IBM Plex Mono-18:style=Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -start &amp;lt;decimal_value&amp;gt; -fa &amp;lt;font_name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl ç
ç       00E7    LATIN SMALL LETTER C WITH CEDILLA

% ./uni.pl ç | cut -f1 | xxd -p
c3a70a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x0a&lt;/code&gt; in hex is 10 in decimal. &lt;br /&gt;
ASCII 10 is the Line Feed character (LF).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %d\\n 0x0a
10

% man ascii | grep -i 0a
   08 BS   09 HT   0a LF   0b VT   0c FF   0d CR   0e SO   0f SI
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Don’t take the LF into account (which is the third octet).
In other words, make a hexdump of the first two octets:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl ç | cut -f1 | xxd -p -l 2
c3a7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since POSIX-compatible way of printing ??? is to use octal, 
convert from hexadecimal to octal.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %o 0xc3
303% 
 
% printf %o 0xa7
247% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print the character by using printf and its octal notation.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\303\247&apos;
ç% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;strong&gt;uni.pl&lt;/strong&gt; Perl script identified Unicode code point of the 
character as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+00E7&lt;/code&gt; (see above).  As &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd(1)&lt;/code&gt; uses decimal 
for its &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-start&lt;/code&gt; option, convert it to decimal.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %d 0xE7
231%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa &quot;Arvo:style=Regular&quot;

% xfd -start 231 -fa &quot;Arvo:style=Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;For &lt;strong&gt;non tl;dr&lt;/strong&gt;, continue reading.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
In code excerpts and examples, the long lines are folded and then 
indented to make sure they fit the page.&lt;/p&gt;

&lt;p&gt;Local &lt;strong&gt;environment&lt;/strong&gt;:&lt;br /&gt;
FreeBSD 13.0-RELEASE-p3, terminal emulator: xterm(1),
csh (tcsh) shell, user’s home directory: /home/dusko.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tcsh&lt;/code&gt; is linked to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csh&lt;/code&gt; in FreeBSD. It doesn’t matter which 
one you type, you will still use the tcsh shell.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% freebsd-version
13.0-RELEASE-p3

% uname -a
FreeBSD fbsdx280.my.domain 13.0-RELEASE-p3 FreeBSD 13.0-RELEASE-p3 #0: 
  Tue Jun 29 19:46:20 UTC 2021 
  root@amd64-builder.daemonology.net:/usr/obj/usr/src/amd64.amd64/sys/GENERIC
  amd64

% ps $$
  PID TT  STAT    TIME COMMAND
98359  4  Ss   0:00.02 -tcsh (tcsh)

% xterm -version
XTerm(368)

% grep dusko /etc/passwd 
dusko:*:1001:1001:dusko:/home/dusko:/bin/tcsh

% cd 
 
% pwd
/usr/home/dusko
 
% ls -ld /home
lrwxr-xr-x  1 root  wheel  8 Mar 16  2019 /home -&amp;gt; usr/home
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% locale
LANG=en_CA.UTF-8
LC_CTYPE=&quot;en_CA.UTF-8&quot;
LC_COLLATE=&quot;en_CA.UTF-8&quot;
LC_TIME=&quot;en_CA.UTF-8&quot;
LC_NUMERIC=&quot;en_CA.UTF-8&quot;
LC_MONETARY=&quot;en_CA.UTF-8&quot;
LC_MESSAGES=&quot;en_CA.UTF-8&quot;
LC_ALL=
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The default &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tcsh&lt;/code&gt; prompt displays &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%&lt;/code&gt; when you’re logged in as 
a regular user and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hostname#&lt;/code&gt; when you’re logged in as the superuser.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% setxkbmap -print
xkb_keymap {
        xkb_keycodes  { include &quot;evdev+aliases(qwerty)&quot; };
        xkb_types     { include &quot;complete&quot;      };
        xkb_compat    { include &quot;complete&quot;      };
        xkb_symbols   { include &quot;pc+us+rs(latinunicode):2+rs:3+inet(evdev)+group(rctrl_toggle)&quot; };
        xkb_geometry  { include &quot;pc(pc105)&quot;     };
};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% stty -a
speed 38400 baud; 20 rows; 80 columns;
lflags: icanon isig iexten echo echoe echok echoke -echonl echoctl
        -echoprt -altwerase -noflsh -tostop -flusho -pendin -nokerninfo
        -extproc
iflags: -istrip icrnl -inlcr -igncr ixon -ixoff ixany imaxbel -ignbrk
        brkint -inpck -ignpar -parmrk
oflags: opost onlcr -ocrnl tab0 -onocr -onlret
cflags: cread cs8 -parenb -parodd hupcl -clocal -cstopb -crtscts -dsrflow
        -dtrflow -mdmbuf rtsdtr
cchars: discard = ^O; dsusp = ^Y; eof = ^D; eol = &amp;lt;undef&amp;gt;;
        eol2 = &amp;lt;undef&amp;gt;; erase = ^H; erase2 = ^H; intr = ^C; kill = ^U;
        lnext = ^V; min = 1; quit = ^\; reprint = ^R; start = ^Q;
        status = ^T; stop = ^S; susp = ^Z; time = 0; werase = ^W;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% tty
/dev/pts/5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;TIP&lt;/strong&gt; &lt;br /&gt;
For maximum &lt;strong&gt;portability&lt;/strong&gt;, to print (display) a character’s encoded value, 
use printf utility with a backslash (\) followed by 1, 2 or 3 octal digits 
because every POSIX-compliant printf can handle &lt;strong&gt;octal&lt;/strong&gt; values. For example, 
to print the capital letter A (ASCII decimal 65, hex 0x41, octal 101):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man ascii

% printf %x\\n 65
41
 
% printf %o\\n 65
101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\101&apos;
A% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference:&lt;br /&gt;
The printf utility - The Open Group Base Specifications Issue 7, 2018 edition:&lt;br /&gt;
&lt;a href=&quot;https://pubs.opengroup.org/onlinepubs/9699919799/utilities/printf.html&quot;&gt;https://pubs.opengroup.org/onlinepubs/9699919799/utilities/printf.html&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;useful-tools&quot;&gt;Useful Tools&lt;/h3&gt;

&lt;p&gt;iconv(1) &lt;br /&gt;
uconv(1) &lt;br /&gt;
od(1)&lt;br /&gt;
hexdump(1) &lt;br /&gt;
xxd(1)&lt;br /&gt;
fc-list(1) &lt;br /&gt;
fc-match(1) &lt;br /&gt;
fc-query(1) &lt;br /&gt;
xfd(1) &lt;br /&gt;
pango-view(1)&lt;br /&gt;
xsel(1)  &lt;br /&gt;
xkeycaps(1) &lt;br /&gt;
luit(1)&lt;/p&gt;

&lt;p&gt;Perl  Unicode::Normalize –&amp;gt; &lt;a href=&quot;http://www.inference.org.uk/dasher/download/scripts/unicodesteps&quot;&gt;http://www.inference.org.uk/dasher/download/scripts/unicodesteps&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;uni.pl Perl script - List Unicode symbols matching PATTERN&lt;br /&gt;
&lt;a href=&quot;https://leahneukirchen.org/dotfiles/bin/uni&quot;&gt;https://leahneukirchen.org/dotfiles/bin/uni&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;gucharmap - a Unicode/ISO10646 character map and font viewer. &lt;br /&gt;
It uses GTK+ 2, and supports anti-aliased, scalable fonts.&lt;br /&gt;
WWW: &lt;a href=&quot;https://wiki.gnome.org/Gucharmap&quot;&gt;https://wiki.gnome.org/Gucharmap&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://wiki.gnome.org/Apps/Gucharmap&quot;&gt;https://wiki.gnome.org/Apps/Gucharmap&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% gucharmap
% gucharmap U+00E7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From &lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/32928589/do-modern-terminals-generally-render-all-utf-8-characters-correctly&quot;&gt;Do modern terminals generally render all utf-8 characters correctly?&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;No, you should not assume that. Even in a modern system, the set of 
fonts installed, the font used by the terminal application, and 
environment variables such as LANG, LC_*, etc. may influence whether 
certain characters can be displayed correctly on the terminal or not.&lt;/p&gt;

  &lt;p&gt;You might be able to make reasonable guesses based on the value of the 
TERM, LANG, and LC_* environment variables as to what is supported, 
but it’s still going to be a guess. I’d suggest either not relying on it 
at all or providing some means of enabling/disabling the use (via an 
environment variable and/or via commandline flags to the application).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h5 id=&quot;the-unicode-consortium-unicodedata-file---unicodeorg-unicodedatatxt&quot;&gt;The Unicode Consortium. UnicodeData File - Unicode.org UnicodeData.txt&lt;/h5&gt;

&lt;p&gt;The UnicodeData.txt file contains most of the Unicode Character Database (UCD).
It’s maintained as a simple semicolon-delimited ASCII text file. 
Each record in the database (that is, the information about each character) 
is separated from the next by a newline (Line Feed on Unix) -&amp;gt; (ASCII LF, 
hex 0x0A), and each field in a record (that is, each property of a single 
character) is separated from the next by a semicolon.&lt;/p&gt;

&lt;p&gt;You can obtain the UnicodeData.txt from unicode.org (Retrieved on Nov 12, 2021):&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note:&lt;/em&gt;   &lt;br /&gt;
UnicodeData.txt is also available via http(s) at:&lt;br /&gt;
&lt;a href=&quot;https://unicode.org/Public/UNIDATA/UnicodeData.txt&quot;&gt;https://unicode.org/Public/UNIDATA/UnicodeData.txt&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ftp -a ftp://ftp.unicode.org/Public/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ftp&amp;gt; dir
229 Entering Extended Passive Mode (|||28013|)
150 Opening ASCII mode data connection for file list
dr-xr-xr-x   5 ftp      ftp          4096 Jun 19  2017 10.0.0
drwxr-xr-x   5 ftp      ftp          4096 Apr 13  2020 11.0.0
---- snip ----
drwxr-xr-x   5 ftp      ftp          4096 Apr 13  2020 13.0.0
drwxr-xr-x   5 ftp      ftp          4096 Sep 14 00:08 14.0.0
---- snip ----  
-r--r--r--   1 ftp      ftp           344 Feb 21  2014 ReadMe.txt
---- snip ----
drwxr-xr-x  23 ftp      ftp          4096 Sep 14 18:16 UCA
drwxr-xr-x   2 ftp      ftp          4096 Sep 14 16:12 UCD
lrwxrwxrwx   1 ftp      ftp            10 Sep 14 16:02 UNIDATA -&amp;gt; /UNIDATA/14.0.0/ucd
---- snip ----
226 Transfer complete
ftp&amp;gt; 

ftp&amp;gt; page ReadMe.txt
This public directory contains data files for various versions
of the Unicode Standard, as well as data tables for specific
technical standards, mapping tables, and sample code.

For further information about data files please see:

Unicode Character Database
        http://www.unicode.org/ucd/

Terms of Use
        http://www.unicode.org/copyright.html

ftp&amp;gt; dir UCD
229 Entering Extended Passive Mode (|||40366|)
150 Opening ASCII mode data connection for file list
lrwxrwxrwx   1 ftp      ftp            10 Sep 14 16:12 latest -&amp;gt; /14.0.0
226 Transfer complete
 
ftp&amp;gt; dir 14.0.0
229 Entering Extended Passive Mode (|||16769|)
150 Opening ASCII mode data connection for file list
drwxr-xr-x   3 ftp      ftp          4096 Sep 27 13:11 charts
-rw-r--r--   1 ftp      ftp           635 May 25 19:05 README.html
-rw-r--r--   1 ftp      ftp          1060 Sep 10 16:29 ReadMe.txt
drwxr-xr-x   5 ftp      ftp          4096 Sep 14 16:03 ucd
drwxr-xr-x   2 ftp      ftp          4096 May 15  2021 ucdxml
226 Transfer complete

ftp&amp;gt; page 14.0.0/ReadMe.txt
# Unicode Character Database
# Date: 2021-09-10, 17:20:00 GMT [KW]
# © 2021 Unicode®, Inc.
# Unicode and the Unicode Logo are registered trademarks of Unicode, Inc. 
#   in the U.S. and other countries.
# For terms of use, see https://www.unicode.org/terms_of_use.html
#
# For documentation, see the following:
# ucd/NamesList.html
# UAX #38, &quot;Unicode Han Database (Unihan)&quot;
# UAX #42, &quot;Unicode Character Database in XML&quot;
# UAX #44, &quot;Unicode Character Database&quot;
# UTS #51, &quot;Unicode Emoji&quot;
#
# The UAXes and UTS #51 can be accessed at 
#   https://www.unicode.org/versions/Unicode14.0.0/

This directory contains the final data files
for Version 14.0.0 of the Unicode Standard.

The &quot;ucd&quot; subdirectory contains the Unicode
Character Database data files.

The &quot;charts&quot; subdirectory contains an archival set of
pdf code charts corresponding exactly to Version 14.0.0.

The &quot;ucdxml&quot; subdirectory contains the XML version of
the Unicode Character Database.

Zipped versions of UCD data files for Version 14.0.0 are
posted in:

https://www.unicode.org/Public/zipped/14.0.0/
 
ftp&amp;gt; cd 14.0.0
250 CWD command successful

ftp&amp;gt; dir
229 Entering Extended Passive Mode (|||59590|)

150 Opening ASCII mode data connection for file list
drwxr-xr-x   3 ftp      ftp          4096 Sep 27 13:11 charts
-rw-r--r--   1 ftp      ftp           635 May 25 19:05 README.html
-rw-r--r--   1 ftp      ftp          1060 Sep 10 16:29 ReadMe.txt
drwxr-xr-x   5 ftp      ftp          4096 Sep 14 16:03 ucd
drwxr-xr-x   2 ftp      ftp          4096 May 15  2021 ucdxml
226 Transfer complete

ftp&amp;gt; cd ucd
250 CWD command successful

ftp&amp;gt; dir
229 Entering Extended Passive Mode (|||39925|)

150 Opening ASCII mode data connection for file list
-rw-r--r--   1 ftp      ftp         40528 May 21 16:47 ArabicShaping.txt
drwxr-xr-x   2 ftp      ftp          4096 Sep  8 22:58 auxiliary
---- snip ----
-rw-r--r--   1 ftp      ftp       1897793 Jul  6 17:31 UnicodeData.txt
---- snip ---- 
226 Transfer complete

ftp&amp;gt; pwd
Remote directory: /Public/14.0.0/ucd

ftp&amp;gt; get UnicodeData.txt
---- snip ----

ftp&amp;gt; quit
221 Goodbye.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
The fields for the unicode.org file &lt;strong&gt;UnicodeData.txt&lt;/strong&gt; are documented here 
(Retrieved on Nov 12, 2021):
&lt;a href=&quot;https://www.unicode.org/reports/tr44/tr44-28.html#UnicodeData.txt&quot;&gt;https://www.unicode.org/reports/tr44/tr44-28.html#UnicodeData.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The record for the letter A with the fields labeled:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep ^0041 UnicodeData.txt
0041;LATIN CAPITAL LETTER A;Lu;0;L;;;;;N;;;;0061;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                              +---------- General category
                              | +-------- Combining class
 Code point value             | | +------ Bidirectional category
  |                           | | |+----- Decomposition
  |    Name                   | | ||+---- Decimal digit value
  |     |                     | | |||
  v     v                     v v vvv 
 0041;LATIN CAPITAL LETTER A;Lu;0;L;;;;;N;;;;0061;
                                     ^^ ^^^^  ^  ^ 
                                     || ||||  |  |
                      Digit value ---+| ||||  |  |
                    Numeric value ----+ ||||  |  |
                         Mirrored ------+|||  |  |
                 Unicode 1.0 name -------+||  |  |
              10646 comment field --------+|  |  |
                Uppercase mapping ---------+  |  |
                Lowercase mapping ------------+  |
                Titlecase mapping ---------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Unicode code point value U+0041 has the name LATIN CAPITAL LETTER A. 
It has a general category of “uppercase letter” (abbreviated “Lu”); 
it’s not a combining mark (its combining class is 0); it’s a left-to-right 
character (abbreviated “L”); it’s not a composite character 
(no decomposition); it’s not a numeral or digit (the three digit-value 
fields are all empty); it doesn’t mirror (abbreviated “N”); its name in 
Unicode 1.0 was the same as its current name (empty field); it maps to 
itself when being converted to uppercase or titlecase (empty fields); 
and it maps to U+0061 (LATIN SMALL LETTER A) when being converted to lowercase.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;fontconfig--xft&quot;&gt;Fontconfig / Xft&lt;/h3&gt;

&lt;p&gt;Xft is the X Font library.
It uses &lt;a href=&quot;https://www.freedesktop.org/wiki/Software/fontconfig/&quot;&gt;Fontconfig&lt;/a&gt;
to select fonts and the X protocol for rendering them.&lt;/p&gt;

&lt;p&gt;Fontconfig is a library for configuring and customizing font access.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
In &lt;em&gt;X11&lt;/em&gt;, you can use &lt;em&gt;multiple font systems&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;In practice, there are two font systems:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The &lt;strong&gt;X11 core&lt;/strong&gt; font system (part of the core protocol)
    &lt;ul&gt;
      &lt;li&gt;Toolkits that use the core X font protocol include Xt, Xaw, Xaw3d, 
Motif clones, Tk and GTK+ 1 [²]&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The &lt;strong&gt;Xft&lt;/strong&gt; font system (more recent than the core font system)
    &lt;ul&gt;
      &lt;li&gt;Toolkits that use Xft are Qt and GTK+ 2&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Over time, Fontconfig/Xft is supposed to replace the core X font subsystem.&lt;/p&gt;

&lt;p&gt;[²] The GTK team releases new versions on a regular basis.
It went through a sequence of revisions, from GTK 1 to GTK+2 and then 
to GTK+ 3 and GTK 4.&lt;/p&gt;

&lt;p&gt;As of November 2021, GTK 4 and GTK 3 are maintained, while GTK 2 is end-of-life.&lt;br /&gt;
GTK+ 3 was released in 2011 and was a major departure from GTK+ 2, which was
a major departure from GTK+ 1.&lt;/p&gt;

&lt;p&gt;The “plus” (+) was removed the GTK project name in 2019:&lt;/p&gt;

&lt;p&gt;Project rename to “GTK”
&lt;a href=&quot;https://mail.gnome.org/archives/gtk-devel-list/2019-February/msg00000.html&quot;&gt;https://mail.gnome.org/archives/gtk-devel-list/2019-February/msg00000.html&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;tl;dr: GTK is GTK, not GTK+. The documentation has been updated, and the 
pkg-config file for the future 4.0 major release is now called “gtk4”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;As this section is about Xft and Fontconfig, it doesn’t include 
the use of X Window (X11/Xorg) font utilities like
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xlsfonts(1)&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfontsel(1)&lt;/code&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
To list how many fonts Fontconfig is aware of you can use&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-match&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list | wc -l
    1997
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match --all | wc -l
    1997
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
To show the ruleset files information on the system, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-conflist(1)&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-conflist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Unicode code point for the Skull and Crossbones character is U+2620.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;☠
2620%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;TIP&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;To find out the name of the Unicode code point, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uconv(1)&lt;/code&gt; utility:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ☠ | uconv -f utf-8 -x any-name
\N{SKULL AND CROSSBONES}% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;List all fonts on the system that support the Skull and Crossbones character.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;☠ | xargs -Ireplstr fc-list &quot;:charset=replstr&quot; | wc -l
      66
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Select a font that you would like to preview.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;☠ | xargs -Ireplstr fc-list &quot;:charset=replstr&quot;
---- snip ----
/usr/local/share/fonts/Monoid/Monoid-Regular.ttf: Monoid:style=Regular
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another way to find out a font’s location:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;☠ \
? | xargs -Ireplstr fc-list -f &quot;%{file}\n&quot; &quot;:charset=replstr&quot; \
? | wc -l
      66
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you’d like to list font names:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;☠ \
 | xargs -Ireplstr fc-list -f &quot;%{fullname}\n&quot; &quot;:charset=replstr&quot; \
 | wc -l
      66
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;☠ \
 | xargs -Ireplstr fc-list -f &quot;%{fullname}\n&quot; &quot;:charset=replstr&quot;
---- snip ----
Monoid
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To make sure that the font name is actually the one you want, use
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-query&lt;/code&gt; utility to confirm the font’s name and other
details; style (Regular, Bold, Italic, …), PostScript name, 
weight, width, file location, foundry, if the font is scalable or not,
character set, languagues supported, …&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
For ‘Regular’ style, the word ‘Regular’ is not added to the font name.
For example, for Monoid font family - Regular style, the font is 
named ‘Monoid’ (not ‘Monoid Regular’).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-query /usr/local/share/fonts/Monoid/Monoid-Regular.ttf | wc -l
      40

% fc-query /usr/local/share/fonts/Monoid/Monoid-Regular.ttf | grep -w -i family
        family: &quot;Monoid&quot;(s)

% fc-query /usr/local/share/fonts/Monoid/Monoid-Regular.ttf | grep -w -i style
        style: &quot;Regular&quot;(s)

% fc-query /usr/local/share/fonts/Monoid/Monoid-Regular.ttf | grep -i name
        postscriptname: &quot;Monoid-Regular&quot;(s)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match --all | grep -i Monoid | wc -l
      24

% fc-match --all | grep -i Monoid | grep -i Regular | wc -l
       6
 
% fc-match --all | grep -i Monoid | grep -i Regular
Monoid-Regular-Tight.ttf: &quot;Monoid Tight&quot; &quot;Regular&quot;
Monoid-Regular-HalfTight.ttf: &quot;Monoid HalfTight&quot; &quot;Regular&quot;
Monoid-Regular-HalfLoose.ttf: &quot;Monoid HalfLoose&quot; &quot;Regular&quot;
Monoid-Regular.ttf: &quot;Monoid&quot; &quot;Regular&quot;
Monoid-Regular-Loose.ttf: &quot;Monoid Loose&quot; &quot;Regular&quot;
monoid-regular.ttf: &quot;Monoid&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-match &apos;Monoid-Regular&apos;
monoid-regular.ttf: &quot;Monoid&quot; &quot;Regular&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To find more details about the selected font (in this example:
Monoid, style: Regular), use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list&lt;/code&gt; utility and its &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-v&lt;/code&gt; 
option for verbose output.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list -v &apos;Monoid:style=Regular&apos; | wc -l
      84
 
% fc-list -v &apos;Monoid:style=Regular&apos; 
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example, to check if the selected font supports Serbian character set:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list -v &apos;Monoid:style=Regular&apos; | grep -w sr | wc -l
       2

% fc-list -v &apos;Monoid:style=Regular&apos; | grep -w sr
        lang: aa|af|av|ay|az-az|be|bg|bi|br|bs|ca|ce|ch|co|cs|da|de|el|en
	|eo|es|et|eu|fi|fj|fo|fr|fur|fy|gd|gl|gv|haw|ho|hr|hu|ia|id|ie|ik
	|io|is|it|ki|kl|kum|la|lb|lez|lt|lv|mg|mh|mk|mo|mt|nb|nds|nl|nn|no
	|nr|nso|ny|oc|om|os|pl|pt|rm|ro|ru|se|sel|sk|sl|sm|sma|smj|smn|so
	|sq|sr|ss|st|sv|sw|tk|tl|tn|to|tr|ts|uk|uz|vo|vot|wa|wen|wo|xh|yap
	|zu|an|crh|csb|fil|hsb|ht|jv|kj|ku-tr|kwm|lg|li|mn-mn|ms|na|ng|nv
	|pap-an|pap-aw|rn|rw|sc|sg|sn|su|ty|za(s)
        lang: aa|af|av|ay|az-az|be|bg|bi|br|bs|ca|ce|ch|co|cs|da|de|el|en
	|eo|es|et|eu|fi|fj|fo|fr|fur|fy|gd|gl|gv|haw|ho|hr|hu|ia|id|ie|ik
	|io|is|it|ki|kl|kum|la|lb|lez|lt|lv|mg|mh|mk|mo|mt|nb|nds|nl|nn|no
	|nr|nso|ny|oc|om|os|pl|pt|rm|ro|ru|se|sel|sk|sl|sm|sma|smj|smn|so
	|sq|sr|ss|st|sv|sw|tk|tl|tn|to|tr|ts|uk|uz|vo|vot|wa|wen|wo|xh|yap
	|zu|an|crh|csb|fil|hsb|ht|jv|kj|ku-tr|kwm|lg|li|mn-mn|ms|na|ng|nv
	|pap-an|pap-aw|rn|rw|sc|sg|sn|su|ty|za(s)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can narrow it down to, for example, charset:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fc-list -v &apos;Monoid:style=Regular&apos; charset 
Pattern has 1 elts (size 16)
        charset: 
0000: 00000000 ffffffff ffffffff 7fffffff 00000000 ffffffff ffffffff ffffffff
0001: ffffffff ffffffff ffffffff ffffffff 00008200 00000010 00000000 00000c00
0002: 0fffffff 00800000 1a000000 00000000 00000000 18000000 00000000 00000000
0003: 00269ddf 000003c0 00000000 00000000 ffffd770 fffffffb 10007fff 00000000
0004: ffffffff ffffffff ffffffff 003c0003 00030000 0000c000 00000000 00000300
0020: 773f083f 26000047 00000000 00300000 00000000 06001000 00000000 00000000
0021: 00000000 00000000 00000000 00000000 003f0000 00000000 00000000 00000000
0022: 02060140 00000800 00000100 00000033 00000000 00000000 00000000 00000000
0025: 00000000 00000000 00000000 00000000 00000100 00000000 00000000 00000000
0026: 00000000 00000001 00000000 0000e000 00000000 00000000 00000000 00000000
0030: 00000000 00000000 00000000 00000000 00000000 00000000 00000010 00000000
00e0: 00000000 00000000 00000000 00000000 00000000 000f0007 00000000 00000000
(s)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;TIP&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;To see the text (or a single character) in the font you selected
you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pango-view(1)&lt;/code&gt; Pango text viewer
and its &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t&lt;/code&gt; (“text to display”) option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% env DISPLAY=:0 pango-view --font=&quot;Monoid&quot; -t ☠
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, with FC_DEBUG environment variable, pango-view(1) creates 
a lot of output (in this example, around 7000 lines).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% env DISPLAY=:0 FC_DEBUG=4 pango-view --font=&quot;Monoid&quot; -t ☠
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference: &lt;br /&gt;
Beyond Linux® From Scratch (System V Edition) - Version r11.0-241&lt;br /&gt;
Chapter 24. X Window System Environment&lt;br /&gt;
&lt;a href=&quot;https://www.linuxfromscratch.org/blfs/view/svn/x/tuning-fontconfig.html&quot;&gt;Tuning Fontconfig&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env FC_DEBUG=4 pango-view --font=monospace -t xyz | grep family&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;This requires Pango and ImageMagick - it will invoke display(1) to show 
the text in a tiny window, and after closing it, the last line of the 
output will show which font was chosen.  This is particularly useful 
for &lt;strong&gt;CJK&lt;/strong&gt; (China, Japan, Korea) languages, and you can also pass 
a language, e.g.
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PANGO_LANGUAGE=en;ja&lt;/code&gt; (English, then assume Japanese) or just
zh-cn (or other variants - ‘zh’ on its own is not valid).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Finally, to see all the characters in an X font, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd(1)&lt;/code&gt; utility.
For example, to see all the characters in Monoid font:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa &quot;Monoid&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;By default, the xfd(1) displays the selected font in &lt;strong&gt;Regular&lt;/strong&gt; style and 
with pointsize &lt;strong&gt;12&lt;/strong&gt;.  In the case of Monoid, xfd(1) would by default display
&lt;strong&gt;Monoid-12:style=Regular&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;To start xterm with the selected font.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fa Monoid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To start xterm with the selected font and to specify the pointsize of the font.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fa Monoid -fs 14
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fa &amp;lt;fontname&amp;gt;&lt;/code&gt; option to specify a Xft font to be displayed.&lt;/p&gt;

&lt;p&gt;To specifiy the core X server side font to be displayed, use the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fn &amp;lt;fontname&amp;gt;&lt;/code&gt; option.&lt;/p&gt;

&lt;p&gt;For font names without white spaces, you don’t have to use quotes around
the font name so in the case of this example the following also works:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd -fa Monoid&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;For font names with more than one word, you need to enclose it in quotes.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %x \&apos;`printf &apos;\314\202&apos;` \
 | xargs -Ireplstr fc-list &quot;:charset=replstr&quot; \
 | grep -i gentium

/usr/local/share/fonts/GentiumBasic/GenBkBasI.ttf: Gentium Book Basic:style=Italic
/usr/local/share/fonts/GentiumBasic/GenBasB.ttf: Gentium Basic:style=Bold
/usr/local/share/fonts/GentiumBasic/GenBkBasB.ttf: Gentium Book Basic:style=Bold
/usr/local/share/fonts/GentiumBasic/GenBkBasR.ttf: Gentium Book Basic:style=Regular
/usr/local/share/fonts/GentiumBasic/GenBasI.ttf: Gentium Basic:style=Italic
/usr/local/share/fonts/GentiumBasic/GenBasR.ttf: Gentium Basic:style=Regular
/usr/local/share/fonts/GentiumBasic/GenBkBasBI.ttf: Gentium Book Basic:style=Bold Italic
/usr/local/share/fonts/GentiumBasic/GenBasBI.ttf: Gentium Basic:style=Bold Italic
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa &quot;Gentium Book Basic:style=Italic&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As it displays the font in pointsize 12 by default, xfd(1) displays 
&lt;em&gt;Gentium Book Basic-12:style=Italic&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;To display the selected font in a different size, add the size at the end 
of the font name:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa &quot;Gentium Book Basic-20:style=Bold&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To start xterm  with this font, style and pointsize:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -fa &quot;Gentium Book Basic-20:style=Bold&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;how-to-find-all-available-fontconfig-utilities&quot;&gt;How to Find All Available Fontconfig Utilities&lt;/h4&gt;

&lt;p&gt;On FreeBSD, the Fontconfig utilities are in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/bin/&lt;/code&gt; directory:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v fc-list
/usr/local/bin/fc-list
 
% command -V fc-list
fc-list is /usr/local/bin/fc-list
 
% type fc-list
fc-list is /usr/local/bin/fc-list

% which fc-list
/usr/local/bin/fc-list
 
% whereis fc-list
fc-list: /usr/local/bin/fc-list
 
% where fc-list
/usr/local/bin/fc-list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following Fontconfig utilites are available on this system:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh /usr/local/bin/fc*
-rwxr-xr-x  1 root  wheel    14K Jul  7 18:12 /usr/local/bin/fc-cache
-rwxr-xr-x  1 root  wheel    12K Jul  7 18:12 /usr/local/bin/fc-cat
-rwxr-xr-x  1 root  wheel   7.2K Jul  7 18:12 /usr/local/bin/fc-conflist
-rwxr-xr-x  1 root  wheel   9.3K Jul  7 18:12 /usr/local/bin/fc-list
-rwxr-xr-x  1 root  wheel    10K Jul  7 18:12 /usr/local/bin/fc-match
-rwxr-xr-x  1 root  wheel   8.8K Jul  7 18:12 /usr/local/bin/fc-pattern
-rwxr-xr-x  1 root  wheel   8.4K Jul  7 18:12 /usr/local/bin/fc-query
-rwxr-xr-x  1 root  wheel   9.3K Jul  7 18:12 /usr/local/bin/fc-scan
-rwxr-xr-x  1 root  wheel   9.7K Jul  7 18:12 /usr/local/bin/fc-validate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;utfs-unicode-transformation-formats&quot;&gt;UTFs (Unicode Transformation Formats)&lt;/h3&gt;

&lt;p&gt;From
&lt;a href=&quot;https://www.ibm.com/docs/en/db2-for-zos/12?topic=unicode-utfs&quot;&gt;https://www.ibm.com/docs/en/db2-for-zos/12?topic=unicode-utfs&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Each Unicode code point can be expressed in several different formats.&lt;br /&gt;
These formats are called Unicode Transformation Formats (UTFs).&lt;br /&gt;
For example, the letter M is the Unicode code point U+004D.&lt;br /&gt;
In UTF-8, this code point is represented as 0x4D. 
In UTF-16, this code point can be represented as 0x004D.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf M | hexdump -C
00000000  4d                                                |M|
00000001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf M | od -t x1
0000000    4d                                                            
0000001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf M | od -t x2
0000000      004d                                                        
0000001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x004D&lt;/code&gt; is the UTF-16 big endian representation. 
The UTF-16 little endian representation is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x4D00&lt;/code&gt;. 
For more information about endianness, see Endianness
&lt;a href=&quot;https://www.ibm.com/docs/en/db2-for-zos/12?topic=data-endianness&quot;&gt;https://www.ibm.com/docs/en/db2-for-zos/12?topic=data-endianness&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf M | iconv -f ascii -t utf-16le | od -x
0000000      004d
0000002
 
% printf M | iconv -f ascii -t utf-16be | od -x
0000000      4d00
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also see
How iconv and od handle endianness?
&lt;a href=&quot;https://unix.stackexchange.com/questions/599582/how-iconv-and-od-handle-endianness&quot;&gt;https://unix.stackexchange.com/questions/599582/how-iconv-and-od-handle-endianness&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also see
How do I find out the Default Encoding used by a computer?
&lt;a href=&quot;https://social.msdn.microsoft.com/Forums/vstudio/en-US/a84ae865-cb2e-49cb-bdb2-1e4d55456b02/how-do-i-find-out-the-default-encoding-used-by-a-computer&quot;&gt;https://social.msdn.microsoft.com/Forums/vstudio/en-US/a84ae865-cb2e-49cb-bdb2-1e4d55456b02/how-do-i-find-out-the-default-encoding-used-by-a-computer&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;UTF-16 requires a &lt;strong&gt;byte order mark (BOM)&lt;/strong&gt; to distinguish whether the text was 
created on a Little Endian or a Big Endian machine.&lt;br /&gt;
&lt;strong&gt;Intel&lt;/strong&gt; processors are &lt;strong&gt;Little Endian&lt;/strong&gt; machines. 
So Windows is a Little Endian system.&lt;/p&gt;

  &lt;p&gt;With UTF-8 encoding, the issue of endianess doesn’t arise, because it 
will have been written one byte (8 bits) at a time. In particular, 
ISO 646’s 7 bit codes (like ASCII) are stored unchanged directly into 
the UTF-8 file.  Thus a UTF-8 file containing only invariant ISO 646 
bytes is indistinguishable from an “ASCII” file. However, to store 
remaining 1,112,064 Unicode Code Points UTF-8 introduces a marker byte, 
and then a further one, two, three or four bytes to encode the code point.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;looking-at-file-content&quot;&gt;Looking at File Content&lt;/h3&gt;
&lt;p&gt;To display the content of a file in some other format than its character 
(ASCII) format, you can use a number of different commands. 
Some of them are od (octal dump), hexdump, xxd and iconv.&lt;/p&gt;

&lt;h4 id=&quot;od1-and-cat1&quot;&gt;od(1) and cat(1)&lt;/h4&gt;
&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od -bc&lt;/code&gt; displays a file in octal and character format.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf M | od -bc 
0000000   115                                                            
           M                                                            
0000001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf M &amp;gt; testing

% file testing
testing: very short file (no magic)
 
% wc -l testing
       0 testing
 
% wc -c testing
       1 testing

% od -bc testing
0000000   115
           M
0000001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With the cat(1) utility:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-b&lt;/code&gt; option: number the non-blank output lines, starting at 1;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-e&lt;/code&gt; option: display non-printing characters, and display 
                 a dollar sign (‘$’) at the end of each line&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat -b testing
     1  M% 

% cat -e testing
M% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With the newline character, which ends the single line of text:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%s\n&quot; M &amp;gt; testing

% file testing
testing: ASCII text
 
% wc -l testing
       1 testing
 
% wc -c testing
       2 testing

% od -bc testing
0000000   115 012
           M  \n
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The \012 at the end is the newline character (012 in octal, 0x0A in hex, 10 in decimal).&lt;/p&gt;

&lt;p&gt;With the cat(1) utility:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-b&lt;/code&gt; option: number the non-blank output lines, starting at 1;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-c&lt;/code&gt; option: display non-printing characters, and display 
                 a dollar sign (‘$’) at the end of each line&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat -b testing 
     1  M
 
% cat -e testing
M$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For the next example, modify the test file to include two characters.&lt;/p&gt;

&lt;p&gt;Now, when you view the same test file in hexadecimal (a.k.a. hex), you’ll 
notice that od(1) swapped the characters in each two-letter set.
For example, instead of A=41, A is 4d and instead of M=4d, M is 41 so for 
“AM” two-letter set, instead of “414d”, it shows as “4d41”:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf A | od -bc
0000000   101                                                            
           A                                                            
0000001
 
% printf M | od -bc
0000000   115                                                            
           M                                                            
0000001

% printf AM &amp;gt; testing
 
% file testing
testing: ASCII text, with no line terminators

wc -l testing
       0 testing
 
% wc -c testing
       2 testing
 
% od -bc testing
0000000   101 115                                                        
           A   M                                                        
0000002

% cat -b testing
     1  AM% 
 
% cat -e testing
AM% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf A | od -hc
0000000      0041
           A
0000001
 
% printf M | od -hc
0000000      004d
           M
0000001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -hc testing
0000000      4d41
           A   M
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;od -h&lt;/code&gt; outputs hexadecimal shorts.  It’s equivalent to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t x2&lt;/code&gt; 
(hexadecimal type with a byte count of 2):&lt;/p&gt;

&lt;p&gt;Also note that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-h&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-x&lt;/code&gt; are interchangeable in od(1).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -x testing
0000000      4d41
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -t x2 testing
0000000      4d41                                                        
0000002

% od -t x2 -c testing
0000000      4d41                                                        
           A   M                                                        
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Adding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t x1&lt;/code&gt; to the od(1) command (x1 = byte count is 1) gets 
around the character swapping in two letter sets:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -t x1 testing
0000000    41  4d                                                        
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It outputs one hexadecimal byte at a time.&lt;/p&gt;

&lt;p&gt;It’s equivalent to a hexadecimal type with a size specifier = char (C):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% od -t xC testing
0000000    41  4d                                                        
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From 
How iconv and od handle endianness?
&lt;a href=&quot;https://unix.stackexchange.com/questions/599582/how-iconv-and-od-handle-endianness&quot;&gt;https://unix.stackexchange.com/questions/599582/how-iconv-and-od-handle-endianness&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t x1&lt;/code&gt; gives big endian because it splits words.&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-x&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-t x2&lt;/code&gt; give little-endian.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The big-endian and little-endian refers to whether the data 
values are ordered with the most significant (big-endian) or least 
significant (little-endian) byte first.&lt;/p&gt;

&lt;h4 id=&quot;hexdump1&quot;&gt;hexdump(1)&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
In FreeBSD, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hd&lt;/code&gt; are the same binary:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v hexdump
/usr/bin/hexdump
 
% command -v hd
/usr/bin/hd
 
% ls -lh /usr/bin/hexdump 
-r-xr-xr-x  3 root  wheel    30K Jul 13 14:30 /usr/bin/hexdump

% ls -lh /usr/bin/hd
-r-xr-xr-x  3 root  wheel    30K Jul 13 14:30 /usr/bin/hd
 
% diff /usr/bin/hd /usr/bin/hexdump 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use hexdump(1) to display the test file in hex, character and octal format.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% hexdump testing
0000000 4d41
0000002
 
% hexdump -c testing
0000000   A   M
0000002
 
% hexdump -b testing
0000000 101 115
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To display it with big endianess, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C&lt;/code&gt; option.
From the man page for hexdump(1):&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-C      Canonical hex+ASCII display.  Display the input offset in
        hexadecimal, followed by sixteen space-separated, two column,
        hexadecimal bytes, followed by the same sixteen bytes in %_p
        format enclosed in ``|&apos;&apos; characters.

Calling the command hd implies this option.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% hexdump -C testing
00000000  41 4d                                             |AM|
00000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% hd testing
00000000  41 4d                                             |AM|
00000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;An example with a bigger number of characters to make the output of 
the sixteen space-separated, two column hexadecimal bytes more noticable:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;AMAMAMAMAMAMAMAMAMAMAMAM&apos; &amp;gt; testing
 
% cat testing
AMAMAMAMAMAMAMAMAMAMAMAM% 

% hexdump -C testing
00000000  41 4d 41 4d 41 4d 41 4d  41 4d 41 4d 41 4d 41 4d  |AMAMAMAMAMAMAMAM|
*
00000010
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;00000000  41 4d 41 4d 41 4d 41 4d  41 4d 41 4d 41 4d 41 4d  |AMAMAMAMAMAMAMAM|
              
          01 02 03 04 05 06 07 08  09 10 11 12 13 14 15 16 
          sixteen space separated bytes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;xxd1&quot;&gt;xxd(1)&lt;/h4&gt;

&lt;p&gt;The xxd(1) command creates a hex dump or converts a hex dump to some other format. 
It displays a file in big-endian format by default.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf AM &amp;gt; testing
 
% xxd testing
00000000: 414d                                     AM
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output in postscript continuous hexdump style. 
Also known as plain hexdump style.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xxd -p testing
414d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;iconv1&quot;&gt;iconv(1)&lt;/h4&gt;

&lt;p&gt;The iconv(1) utility converts (translates) content from one character 
encoding to another.&lt;/p&gt;

&lt;p&gt;To see how many different encoding schemes are supported by your system,
use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--list&lt;/code&gt; option:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% iconv --list | wc -l
     216
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The syntax of the iconv(1) is:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;iconv [-f from-encoding] [-t to-encoding] [inputfile]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf AM &amp;gt; testing
 
% cat testing
AM% 

% file testing
testing: ASCII text, with no line terminators

% iconv -f utf8 -t utf16 testing &amp;gt; testingutf16

% file testingutf16
testingutf16: Big-endian UTF-16 Unicode text, with no line terminators
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The UTF-16 encoded file, testingutf16, is three times the size of the UTF-8 file.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh testing*
-rw-r--r--  1 dusko  dusko     2B Nov 10 23:19 testing
-rw-r--r--  1 dusko  dusko     6B Nov 10 23:19 testingutf16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the UTF-16 encoded file, every other byte is “00”. 
The data you are displaying is not making use of the extra byte.
Also, two bytes are added at the beginning of the file.
They are used to indicate the endianess of the UTF-16 format and are not 
treated as characters.&lt;/p&gt;

&lt;p&gt;These two bytes are a BOM (Byte Order Mark).&lt;/p&gt;

&lt;p&gt;From
UTF-8, UTF-16, UTF-32 &amp;amp; BOM – Byte Order Mark (BOM) - Unicode.org FAQ
&lt;a href=&quot;http://unicode.org/faq/utf_bom.html&quot;&gt;http://unicode.org/faq/utf_bom.html&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;For Encoding Form UTF-16, big-endian – Bytes:  FE FF&lt;/p&gt;

  &lt;p&gt;For Encoding Form UTF-16, little-endian – Bytes:  FF FE&lt;/p&gt;

  &lt;p&gt;For Encoding Form UTF-32, big-endian – Bytes:  00 00 FE FF&lt;/p&gt;

  &lt;p&gt;For Encoding Form UTF-32, little-endian – Bytes:  FF FE 00 00&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% hexdump testingutf16
0000000 fffe 4100 4d00
0000006
 
% hexdump -C testingutf16
00000000  fe ff 00 41 00 4d                                 |...A.M|
00000006
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, for a UTF-32 encoded file (big-endian), BOM bytes are: 00 00 FE FF.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf AM &amp;gt; testing

% cat testing
AM% 

% cat -b testing
     1  AM% 

% cat -e testing
AM% 

% file testing
testing: ASCII text, with no line terminators

% iconv --list | grep -i UTF | wc -l
       8

% iconv --list | grep -i UTF | grep 32 | wc -l
       3

% iconv --list | grep -i UTF | grep 32
UTF-32-INTERNAL UCS-4-INTERNAL
UTF-32-SWAPPED UCS-4-SWAPPED
UTF-32 CSUCS4 ISO-10646-UCS-4 UCS-4 UCS-4BE UTF-32BE UTF32BE UCS-4LE 
       UTF-32LE UTF32LE

% iconv -t UTF-32 testing &amp;gt; testingutf32

% ls -lh testing*
-rw-r--r--  1 dusko  dusko     2B Nov 11 11:52 testing
-rw-r--r--  1 dusko  dusko     6B Nov 10 23:19 testingutf16
-rw-r--r--  1 dusko  dusko    12B Nov 11 11:54 testingutf32

% file testingutf32
testingutf32: Unicode text, UTF-32, big-endian

% od -bc testingutf32
0000000   000 000 376 377 000 000 000 101 000 000 000 115
          \0  \0 376 377  \0  \0  \0   A  \0  \0  \0   M 
0000014

% xxd testingutf32
00000000: 0000 feff 0000 0041 0000 004d            .......A...M

% hexdump testingutf32
0000000 0000 fffe 0000 4100 0000 4d00
000000c

% hexdump -C testingutf32
00000000  00 00 fe ff 00 00 00 41  00 00 00 4d              |.......A...M|
0000000c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From
UTF-8, UTF-16, UTF-32 &amp;amp; BOM – Byte Order Mark (BOM) FAQ
&lt;a href=&quot;http://unicode.org/faq/utf_bom.html&quot;&gt;http://unicode.org/faq/utf_bom.html&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;

  &lt;p&gt;Q: When a BOM is used, is it only in 16-bit Unicode text?&lt;/p&gt;

  &lt;p&gt;A: No, a BOM can be used as a signature no matter how the Unicode text 
is transformed: UTF-16, UTF-8, or UTF-32. The exact bytes comprising 
the BOM will be whatever the Unicode character U+FEFF is converted into 
by that transformation format. In that form, the BOM serves to indicate 
both that it is a Unicode file, and which of the formats it is in. 
Examples:&lt;/p&gt;
  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+-------------+-----------------------+
| Bytes       | Encoding Form         |
+-------------+-----------------------+
| 00 00 FE FF | UTF-32, big-endian    |
| FF FE 00 00 | UTF-32, little-endian |
| FE FF       | UTF-16, big-endian    |
| FF FE       | UTF-16, little-endian |
| EF BB BF    | UTF-8                 | 
+-------------+-----------------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Q: Can a UTF-8 data stream contain the BOM character (in UTF-8 form)? 
If yes, then can I still assume the remaining UTF-8 bytes are in 
big-endian order?&lt;/p&gt;

  &lt;p&gt;A: Yes, UTF-8 can contain a BOM. However, it makes no difference as to 
the endianness of the byte stream. UTF-8 always has the same byte order.
An initial BOM is &lt;em&gt;only&lt;/em&gt; used as a signature - an indication that an 
otherwise unmarked text file is in UTF-8. Note that some recipients of 
UTF-8 encoded data do not expect a BOM. Where UTF-8 is used transparently
in 8-bit environments, the use of a BOM will interfere with any protocol
or file format that expects specific ASCII characters at the beginning, 
such as the use of “#!” at the beginning of Unix shell scripts.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;how-to-find-a-unicode-code-point-of-a-character&quot;&gt;How to Find a Unicode Code Point of a Character?&lt;/h3&gt;
&lt;h3 id=&quot;method-1-printf1-oneliner&quot;&gt;Method 1: printf(1) oneliner&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
For finding a Unicode code point of a &lt;strong&gt;composite Unicode character&lt;/strong&gt;, 
see the next section below ‘Unicode Normalized Formats (NFC or NFKC)’, 
a.k.a. ‘Composite Unicode Characters’, 
a.k.a. ‘Unicode Equivalence’.&lt;/p&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; utility:&lt;/p&gt;

&lt;p&gt;For example, for a ‘check mark’ (‘checkmark’) character:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%x\n&quot; \&apos;✓
2713
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uconv(1)&lt;/code&gt; utility to display the name of 
the Unicode code points of the desired character:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ✓ | uconv -f utf-8 -x any-name
\N{CHECK MARK}% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep 2713 UnicodeData.txt
2713;CHECK MARK;So;0;ON;;;;;N;;;;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, the Unicode for the Check Mark (Checkmark) character is 2713.&lt;/p&gt;

&lt;p&gt;A Unicode Character ‘CHECK MARK’ (U+2713)
&lt;a href=&quot;https://www.fileformat.info/info/unicode/char/2713/fontsupport.htm&quot;&gt;https://www.fileformat.info/info/unicode/char/2713/fontsupport.htm&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;how-to-find-a-unicode-code-point-of-a-character-1&quot;&gt;How to Find a Unicode Code Point of a Character?&lt;/h3&gt;
&lt;h3 id=&quot;method-2-printf1-and-xxd1hexdump1od1&quot;&gt;Method 2: printf(1) and xxd(1)/hexdump(1)/od(1)&lt;/h3&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uconv(1)&lt;/code&gt; utility to display the name of the Unicode code point 
of the desired character:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ž | uconv -f utf-8 -x any-name
\N{LATIN SMALL LETTER Z WITH CARON}% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ž 
ž% 
 
% printf ž | xxd
00000000: c5be                                     ..

% printf ž | xxd -p
c5be
 
% printf ž | hexdump -C
00000000  c5 be                                             |..|
00000002

% printf ž | od -t x1
0000000    c5  be                                                        
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This character (ž) in UTF-8 encoding: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0xC5 0xBE&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;In octal:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ž | od -bc
0000000   305 276
           ž  **
0000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another method of converting from hexadecimal to octal: with printf(1).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%o\n&quot; 0xc5
305
 
% printf &quot;%o\n&quot; 0xbe
276
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To confirm that the UTF-8 code is correct: convert in the opposite 
direction (with printf(1)); from the character’s UTF-8 hexadecimal code to 
UTF-8 octal code, suitable for POSIX-portable printf use:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\305&apos;
�% 

% printf &apos;\305\276&apos;
ž% 
 
% printf &apos;\305\276&apos; | xxd
00000000: c5be                                     ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ž &amp;gt; chrtoconv
 
% ls -lh chrtoconv
-rw-r--r--  1 dusko  dusko     2B Nov 12 16:16 chrtoconv
 
% file chrtoconv
chrtoconv: UTF-8 Unicode text, with no line terminators
 
% wc -l chrtoconv
       0 chrtoconv
 
% wc -c chrtoconv
       2 chrtoconv
 
% cat -t chrtoconv
ž% 
 
% cat -b chrtoconv
     1  ž% 
 
% cat -e chrtoconv
ž% 
 
% cat -v chrtoconv
ž% 
 
% xxd chrtoconv
00000000: c5be                                     ..
 
% iconv -l | wc -l
     216
 
% iconv -l | grep -i unicode | wc -l 
       2

% iconv -l | grep -i unicode 
UTF-16 UNICODE UTF16 CSUNICODE CSUNICODE11 ISO-10646-UCS-2 UCS-2 
  UCS-2BE UNICODE-1-1 UNICODEBIG UTF-16BE UTF16BE UCS-2LE UNICODELITTLE 
  UTF-16LE UTF16LE
UTF-7 CSUNICODE11UTF7 UNICODE-1-1-UTF-7 UTF7
 
% file chrtoconv
chrtoconv: UTF-8 Unicode text, with no line terminators
 
% iconv -l | grep -i utf8
UTF-8 UTF8
 
% iconv -l | grep -i &apos;utf-8&apos;
UTF-8 UTF8
 
% file chrtoconv
chrtoconv: UTF-8 Unicode text, with no line terminators
 
% iconv -f UTF-8 -t UNICODE chrtoconv &amp;gt; chrunicode
 
% ls -lh chrunicode
-rw-r--r--  1 dusko  dusko     4B Nov 12 16:34 chrunicode
 
% file chrunicode
chrunicode: Big-endian UTF-16 Unicode text, with no line terminators
 
% wc -l chrunicode
       0 chrunicode
 
% wc -c chrunicode
       4 chrunicode
 
% cat -t chrunicode
M-~M-^?^A~% 
 
% cat -b chrunicode
     1  ��~% 
 
% cat -e chrunicode
M-~M-^?^A~% 
 
% cat -v chrunicode
M-~M-^?^A~% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xxd chrunicode
00000000: feff 017e                                ...~
 
% xxd -i chrunicode
unsigned char chrunicode[] = {
  0xfe, 0xff, 0x01, 0x7e
};
unsigned int chrunicode_len = 4;
 
% xxd -p chrunicode
feff017e

% hexdump -C chrunicode
00000000  fe ff 01 7e                                       |...~|
00000004
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This character’s (ž) Unicode code point: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+017E&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -i ^017e UnicodeData.txt 
017E;LATIN SMALL LETTER Z WITH CARON;Ll;0;L;007A 030C;;;;N;
  LATIN SMALL LETTER Z HACEK;;017D;;017D
 
% ./uni.pl 017e
ž       017E    LATIN SMALL LETTER Z WITH CARON
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep ^017E UnicodeData.txt 
017E;LATIN SMALL LETTER Z WITH CARON;Ll;0;L;007A 030C;;;;N;
  LATIN SMALL LETTER Z HACEK;;017D;;017D
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you know the value of a Unicode code point (U+017E in this example),
you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uconv(1)&lt;/code&gt; utility to print the name of a Unicode code point:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\\u017e&apos; | uconv -x &apos;hex-any; any-name&apos;; printf \\n
\N{LATIN SMALL LETTER Z WITH CARON}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;how-to-find-a-unicode-code-point-of-a-character-2&quot;&gt;How to Find a Unicode Code Point of a Character?&lt;/h3&gt;
&lt;h3 id=&quot;method-3-fc-list1-and-xfd1&quot;&gt;Method 3: fc-list(1) and xfd(1)&lt;/h3&gt;

&lt;p&gt;To list all the fonts on the system that include the character 
you are looking up, use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fc-list&lt;/code&gt; as explained in tl;dr at 
the very top of the page (and in more detail under 
&lt;a href=&quot;#fontconfig--xft&quot;&gt;“Fontconfig / Xft” heading&lt;/a&gt; on this page).&lt;/p&gt;

&lt;p&gt;After that, launch &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xfd(1)&lt;/code&gt; with one of the fonts from the list.&lt;/p&gt;

&lt;p&gt;In xfd(1), browse glyphs (characters), which are displayed in a grid 
contatining one glyph per cell.  Click on the desired character and its
metrics (index, width, bearings, ascent and descent ) will be displayed. 
The first item is the character’s code.&lt;br /&gt;
In this example (selected character: ž), 
xfd(1) displayed the following code: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x00017e&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xfd -fa Monoid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl 017e
ž       017E    LATIN SMALL LETTER Z WITH CARON
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\\u017e&apos; | uconv -x &apos;hex-any; any-name&apos;; printf \\n
\N{LATIN SMALL LETTER Z WITH CARON}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;how-to-find-a-unicode-code-point---normalized-formats-nfc-or-nfkc&quot;&gt;How to Find a Unicode Code Point - Normalized Formats (NFC or NFKC)&lt;/h3&gt;

&lt;p&gt;From&lt;br /&gt;
ICU Documenation - Normalization (Retrieved on Nov 13, 2021)&lt;br /&gt;
&lt;a href=&quot;https://unicode-org.github.io/icu/userguide/transforms/normalization/&quot;&gt;https://unicode-org.github.io/icu/userguide/transforms/normalization/&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Normalization is used to convert text to a unique, equivalent form. 
Software can normalize equivalent strings to one particular sequence, 
such as normalizing composite character sequences into pre-composed 
characters.&lt;/p&gt;

  &lt;p&gt;Normalization allows for easier sorting and searching of text. The ICU 
normalization APIs support the standard normalization forms which are 
described in great detail in 
&lt;a href=&quot;http://www.unicode.org/reports/tr15&quot;&gt;Unicode Technical Report #15 (Unicode Normalization Forms)&lt;/a&gt; and the Normalization, Sorting and Searching 
sections of chapter 5 of the &lt;a href=&quot;http://www.unicode.org/versions/latest/&quot;&gt;Unicode Standard&lt;/a&gt;. ICU also supports related, additional operations. Some of them are described in &lt;a href=&quot;http://www.unicode.org/notes/tn5/&quot;&gt;Unicode Technical Note #5 (Canonical Equivalence in Applications)&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;TIP&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Normalization is a complex topic.&lt;br /&gt;
When in doubt, use the extremelly helpful ICU Normalization Browser:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ICU Demonstration - Normalization Browser&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;https://icu4c-demos.unicode.org/icu-bin/nbrowser&quot;&gt;https://icu4c-demos.unicode.org/icu-bin/nbrowser&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(ICU project maintains uconv(1) tool.)&lt;/p&gt;

&lt;p&gt;Also useful page is Normalization Charts - Unicode.org&lt;br /&gt;
&lt;a href=&quot;http://www.unicode.org/charts/normalization/&quot;&gt;http://www.unicode.org/charts/normalization/&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;From &lt;br /&gt;
How to find UTF-8 reference of a composite unicode character&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/30733035/how-to-find-utf-8-reference-of-a-composite-unicode-character&quot;&gt;https://stackoverflow.com/questions/30733035/how-to-find-utf-8-reference-of-a-composite-unicode-character&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;UTF-8 is a &lt;strong&gt;byte encoding&lt;/strong&gt; for a sequence of &lt;em&gt;individual&lt;/em&gt;&lt;br /&gt;
&lt;strong&gt;Unicode code points&lt;/strong&gt;.
There is no single Unicode code point defined for &lt;strong&gt;n̂&lt;/strong&gt;, not even when 
a Unicode string is normalized in NFC or NFKC formats. 
As you have noted, n̂ consists of code point
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+006E LATIN SMALL LETTER N&lt;/code&gt; followed by code point
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+0302 COMBINING CIRCUMFLEX ACCENT&lt;/code&gt;.
In UTF-8, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+006E&lt;/code&gt; is encoded as byte &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x6E&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+0302&lt;/code&gt; 
is encoded as bytes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0xCC 0x82&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;First, find out the Unicode code point name of the character:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf n̂ | uconv -f utf-8 -x any-name
\N{LATIN SMALL LETTER N}\N{COMBINING CIRCUMFLEX ACCENT}% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf n̂ | xxd
00000000: 6ecc 82                                  n..

% printf n̂ | hexdump 
0000000 cc6e 0082
0000003

% printf n̂ | hexdump -C
00000000  6e cc 82                                          |n..|
00000003
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf n̂ | od -bc
0000000   156 314 202
           n    ̂  **
0000003

% printf &apos;\156&apos;
n% 
 
% printf &apos;\156\314&apos;
n�% 
 
% printf &apos;\156\314\202&apos;
n̂% 

% printf &apos;\156\314\202 &apos;
n̂ %
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Convert octal 156 to hex (hexadecimal):&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %x\\n 0156
6e
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl 006e
n       006E    LATIN SMALL LETTER N
𓉜       1325C   EGYPTIAN HIEROGLYPH O006E
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep ^006E UnicodeData.txt
006E;LATIN SMALL LETTER N;Ll;0;L;;;;;N;;;004E;;004E
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, the first Unicode code point is U+006E, which is a latin small letter n.&lt;/p&gt;

&lt;p&gt;To get a representation of the next Unicode code point,
you have to add the newline character at the end (012 in octal):&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\314&apos;
�% 

% printf &apos;\314\202&apos;
 
% printf &apos;\314\202\012&apos;
^
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\314\202\012&apos; | od -bc
0000000   314 202 012
            ̂  **  \n
0000003
 
% printf &apos;\314\202\012&apos; | hexdump -C
00000000  cc 82 0a                                          |...|
00000003
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To exclude the newline character (012 in octal, 0x0A in hex), 
use the &lt;strong&gt;&lt;em&gt;-n&lt;/em&gt;&lt;/strong&gt; option to interpret only two bytes of input:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\314\202\012&apos; | hexdump -C -n2
00000000  cc 82                                             |..|
00000002
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;How did you know that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0xCC 0x82&lt;/code&gt; (in UTF-8) is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+0302&lt;/code&gt; in Unicode?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;a.k.a.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;How to Translate (Convert) a UTF-8 Encoding to a Unicode Code Point?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;It’s a little bit convoluted.
(&lt;strong&gt;NOTE:&lt;/strong&gt; Not failsafe)&lt;/p&gt;

&lt;p&gt;I used the following:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;First saved the character I’m interested in to a file&lt;/li&gt;
  &lt;li&gt;Used uni.pl Perl utility to identify the character’s Unicode code point&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\314\202\012&apos; &amp;gt; chartocheck

% file chartocheck
chartocheck: UTF-8 Unicode text

% wc -l chartocheck
       1 chartocheck

% wc -c chartocheck
       3 chartocheck

% cat -b chartocheck
     1̂
% cat -e chartocheck
$

% cat -v chartocheck
 ̂  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xxd chartocheck
00000000: cc82 0a                                  ...
 
% od -bc chartocheck
0000000   314 202 012
            ̂  **  \n
0000003
 
% hexdump -C chartocheck
00000000  cc 82 0a                                          |...|
00000003
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl `cat chartocheck`
 ̂       0302    COMBINING CIRCUMFLEX ACCENT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep ^0302 UnicodeData.txt 
0302;COMBINING CIRCUMFLEX ACCENT;Mn;230;NSM;;;;;N;NON-SPACING CIRCUMFLEX;;;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Recap&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;In Unicode&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;So, the character (which is a composite Unicode character) &lt;strong&gt;n̂&lt;/strong&gt;
in Unicode is represented with &lt;strong&gt;two&lt;/strong&gt; Unicode code points:
code point &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+006E LATIN SMALL LETTER N&lt;/code&gt; 
followed by code point
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+0302 COMBINING CIRCUMFLEX ACCENT&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;In UTF-8&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The same character in UTF-8 is encoded as byte &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x6E&lt;/code&gt;
and Unicode &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+0302&lt;/code&gt; code point (which is in UTF-8 encoded as two bytes)
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0xCC 0x82&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;how-to-find-utf-8-encoding-of-a-character&quot;&gt;How to Find UTF-8 Encoding of a Character?&lt;/h3&gt;
&lt;h3 id=&quot;applies-to-composite-unicode-characters-too&quot;&gt;(applies to Composite Unicode Characters too)&lt;/h3&gt;

&lt;p&gt;An example with a &lt;strong&gt;composite Unicode character&lt;/strong&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;n̂&lt;/code&gt; 
from the earlier section above ‘Unicode Normalized Formats (NFC or NFKC).&lt;/p&gt;

&lt;p&gt;You can use a one-liner with xxd(1):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf n̂ | xxd -p
6ecc82
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The character &lt;strong&gt;n̂&lt;/strong&gt; encoded in UTF-8: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x6E 0xCC 0x82&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Another utility you can use is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hexdump(1)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;For example, character “ỗ” - Name: Latin Small Letter O with Circumflex 
and Tilde:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ỗ | hexdump -C
00000000  e1 bb 97                                          |...|
00000003
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, UTF-8 encoding for the character “ỗ” (Latin Small Letter O with 
Circumflex and Tilde) is:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0xE1 0xBB 0x97&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Character “ỗ” (Latin Small Letter O with Circumflex and Tilde) Unicode 
code point is 1ED7, usually written as (U+1ED7).&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%x\n&quot; \&apos;ỗ
1ed7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep ^1ED7 UnicodeData.txt
1ED7;LATIN SMALL LETTER O WITH CIRCUMFLEX AND TILDE;Ll;0;L;00F4 0303;;;;N;;;1ED6;;1ED6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;how-to-print-a-character-when-its-unicode-code-point-is-known&quot;&gt;How to Print a Character when Its Unicode Code Point is Known?&lt;/h3&gt;
&lt;h3 id=&quot;method-1-printf1-xxd1-iconv1&quot;&gt;Method 1: printf(1), xxd(1), iconv(1)&lt;/h3&gt;

&lt;p&gt;For example, the known Unicode code point value is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+00D6&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;0 00D6&quot; | xxd -r | iconv -f UNICODEBIG -t UTF-8
Ö% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Reference:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Print unicode hex code which is part of basic latin as a symbol in Bash&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/12693970/print-unicode-hex-code-which-is-part-of-basic-latin-as-a-symbol-in-bash&quot;&gt;https://stackoverflow.com/questions/12693970/print-unicode-hex-code-which-is-part-of-basic-latin-as-a-symbol-in-bash&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;how-to-print-a-character-when-its-unicode-code-point-is-known-1&quot;&gt;How to Print a Character when Its Unicode Code Point is Known?&lt;/h3&gt;
&lt;h3 id=&quot;method-2-html-javascript-web-browser&quot;&gt;Method 2: HTML, JavaScript, Web browser&lt;/h3&gt;

&lt;p&gt;Create an HTML file similar to the following:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat convert.html 
&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;
  var message1 = &quot;I \u2665 Unicode! \u263A \u00A9&quot;;
  var message2 = &quot;The xʷməθkʷəy\u0313əm, Tsleil-Waututh and Skwxwú7mesh peoples&quot;
  var message3 = &quot;\u00D6&quot;;

  document.write(message1);
  // For output to the page, use &quot;&amp;lt;br/&amp;gt;&quot; instead of &apos;\n&apos;
  document.write(&quot;&amp;lt;br/&amp;gt;&quot;);
  document.write(message2);
  document.write(&quot;&amp;lt;br/&amp;gt;&quot;);
  document.write(message3);
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use your Web browser to open the file convert.html.&lt;/p&gt;

&lt;h3 id=&quot;how-to-print-a-character-when-its-unicode-code-point-is-known-2&quot;&gt;How to Print a Character when Its Unicode Code Point is Known?&lt;/h3&gt;
&lt;h3 id=&quot;method-3-normalization-browser---international-components-for-unicode-icu&quot;&gt;Method 3: Normalization Browser - International Components for Unicode (ICU)&lt;/h3&gt;

&lt;p&gt;Use the extremelly helpful ICU Normalization Browser:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Normalization Browser - International Components for Unicode (ICU)&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;https://icu4c-demos.unicode.org/icu-bin/nbrowser&quot;&gt;https://icu4c-demos.unicode.org/icu-bin/nbrowser&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Enter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;00D6&lt;/code&gt; and press ‘Show Results’.&lt;/p&gt;

&lt;h2 id=&quot;conversions---summary-with-examples&quot;&gt;Conversions - Summary with Examples&lt;/h2&gt;

&lt;h3 id=&quot;print-a-character-based-on-its-unicode-code-point-aka-hex-code&quot;&gt;Print a Character Based on Its Unicode Code Point (a.k.a. Hex Code)&lt;/h3&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;0 00D6&quot; | xxd -r | iconv -f UNICODEBIG -t UTF-8
Ö% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xxd(1)&lt;/code&gt; with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-r&lt;/code&gt; option converts hex text into bytes. 
It requires line numbers, which is why the leading 0 in the printf is. 
xxd(1) in this case outputs the two bytes indicated by c.&lt;/p&gt;

&lt;h3 id=&quot;print-the-unicode-name-of-a-character&quot;&gt;Print the Unicode Name of a Character&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf Ö | uconv -f utf-8 -x any-name
\N{LATIN CAPITAL LETTER O WITH DIAERESIS}% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check/confirmation:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -i &apos;latin capital letter o with diaeresis&apos; UnicodeData.txt 
00D6;LATIN CAPITAL LETTER O WITH DIAERESIS;Lu;0;L;004F 0308;;;;N;
  LATIN CAPITAL LETTER O DIAERESIS;;;00F6;
022A;LATIN CAPITAL LETTER O WITH DIAERESIS AND MACRON;Lu;0;L;
  00D6 0304;;;;N;;;;022B;

% grep ^00D6 UnicodeData.txt
00D6;LATIN CAPITAL LETTER O WITH DIAERESIS;Lu;0;L;004F 0308;;;;N;
  LATIN CAPITAL LETTER O DIAERESIS;;;00F6;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;find-a-utf-8-code-of-a-character&quot;&gt;Find a UTF-8 Code of a Character&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf Ö 
Ö% 

% printf Ö | xxd
00000000: c396                                     ..

% printf Ö | xxd -p
c396
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;UTF-8 code of this character: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0XC3 0x96&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;display-print-a-character-based-on-its-utf-8-code&quot;&gt;Display (Print) a Character Based on Its UTF-8 Code&lt;/h3&gt;

&lt;p&gt;For example, the UTF-8 code of the desired character is: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0XC3 0x96&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;First, convert to &lt;strong&gt;octal&lt;/strong&gt; as every POSIX-compliant printf can handle 
octal values.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %o 0xc3
303%

% printf %o 0x96
226%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\303\226&apos;
Ö%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;translateconvert-betweeen-a-characters-utf-8-code-to-unicode-code-point-and-back&quot;&gt;Translate/Convert betweeen a Character’s UTF-8 Code to Unicode Code Point and Back&lt;/h3&gt;
&lt;h3 id=&quot;includes-nfc-and-nfd-normalization&quot;&gt;(includes NFC and NFD Normalization)&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;NFC&lt;/strong&gt; Normalization and &lt;strong&gt;NFD&lt;/strong&gt; Normalization are &lt;strong&gt;EQUIVALENT&lt;/strong&gt; (see below).&lt;/p&gt;

&lt;p&gt;From&lt;br /&gt;
&lt;a href=&quot;https://www.win.tue.nl/~aeb/linux/uc/nfc_vs_nfd.html&quot;&gt;Unicode Normalization&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Text encoding - NFC or NFD?&lt;/p&gt;

  &lt;p&gt;In any nontrivial project, it is a good idea to standardize the data 
representation. Unfortunately, the Unicode Consortium provides us with 
two standards, and we have to choose. Does one have advantages over the 
other? This is the nfc-vs-nfd question.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;“There is no difference”&lt;/strong&gt; &lt;br /&gt;
. . . &lt;br /&gt;
&lt;strong&gt;“Choose NFC if possible”&lt;/strong&gt; &lt;br /&gt;
. . .   &lt;br /&gt;
&lt;strong&gt;“NFD is far superior”&lt;/strong&gt;  &lt;br /&gt;
. . .&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Conversion&lt;/strong&gt; &lt;br /&gt;
The utility &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uconv&lt;/code&gt; will convert from/to NFC/NFD:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uconv -f utf8 -t utf8 -x nfc&lt;/code&gt; converts stdin to NFC, and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uconv -f utf8 -t utf8 -x nfd&lt;/code&gt; converts stdin to NFD.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;From:&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/26525354/nfc-or-nfd-what-is-the-difference&quot;&gt;NFC or NFD - what is the difference?&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The difference is whether the characters are composed (C) or decomposed (D).&lt;/p&gt;

  &lt;p&gt;Letters with “extra bits” like ä can be represented in different ways. 
There is a Unicode code point specially created for a with two dots. 
That is the composed form, NFC. On the other hand you could represent 
it as the usual “a” followed by a combining character that adds the 
two dots. That is the decomposed form, NFD.&lt;/p&gt;

  &lt;p&gt;The decomposed form takes more space, but the composed form makes some 
operations harder, such as comparing strings while ignoring differences 
in accents.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Method 1 - NFD Normalization with uconv(1):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl 1EBF
ế       1EBF    LATIN SMALL LETTER E WITH CIRCUMFLEX AND ACUTE
 
% ./uni.pl 1EBF | cut -f1
ế
 
% printf `./uni.pl 1EBF | cut -f1`
ế% 
 
% printf `./uni.pl 1EBF | cut -f1` | uconv -f utf-8 -x any-name
\N{LATIN SMALL LETTER E WITH CIRCUMFLEX AND ACUTE}% 
 
% grep ^1EBF UnicodeData.txt 
1EBF;LATIN SMALL LETTER E WITH CIRCUMFLEX AND ACUTE;Ll;0;L;00EA 0301;;;;N;;;1EBE;;1EBE
 
% printf `./uni.pl 1EBF | cut -f1` | xxd -p
e1babf
 
% printf `./uni.pl 1EBF | cut -f1` | uconv -f utf-8 -t utf-8 -x any-nfd
ế% 
 
% printf `./uni.pl 1EBF | cut -f1` | uconv -f utf-8 -t utf-8 -x any-nfd | xxd
00000000: 65cc 82cc 81                             e....
 
% printf `./uni.pl 1EBF | cut -f1` | uconv -f utf-8 -t utf-8 -x any-nfd | xxd -p
65cc82cc81
 
% printf %o 0x65
145% 
 
% printf %o 0xcc
314% 
 
% printf %o 0x82
202% 
 
% printf %o 0xcc
314% 
 
% printf %o 0x81
201% 
 
% printf &apos;\145&apos;
e% 
 
% printf &apos;\145\314&apos;
e�% 
 
% printf &apos;\145\314\202&apos;
ê% 
 
% printf &apos;\145\314\202\314&apos;
ê�% 
 
% printf &apos;\145\314\202\314\201&apos;
ế% 
 
% printf &apos;\314\202&apos;
 
% printf &apos;\040\314\202&apos;
 ̂% 
 
% printf &apos;\314\201&apos;
 
% printf &apos;\040\314\201&apos;
 ́% 
 
% printf &apos;\040\314\202&apos; | uconv -f utf-8 -x any-name
\N{SPACE}\N{COMBINING CIRCUMFLEX ACCENT}% 
 
% printf &apos;\040\314\201&apos; | uconv -f utf-8 -x any-name
\N{SPACE}\N{COMBINING ACUTE ACCENT}% 
 
% grep -n -i &quot;COMBINING CIRCUMFLEX ACCENT&quot; UnicodeData.txt 
771:0302;COMBINING CIRCUMFLEX ACCENT;Mn;230;NSM;;;;;N;NON-SPACING CIRCUMFLEX;;;;
814:032D;COMBINING CIRCUMFLEX ACCENT BELOW;Mn;220;NSM;;;;;N;NON-SPACING CIRCUMFLEX BELOW;;;;
 
% grep -n -i &quot;COMBINING ACUTE ACCENT&quot; UnicodeData.txt
770:0301;COMBINING ACUTE ACCENT;Mn;230;NSM;;;;;N;NON-SPACING ACUTE;;;;
792:0317;COMBINING ACUTE ACCENT BELOW;Mn;220;NSM;;;;;N;NON-SPACING ACUTE BELOW;;;;
 
% grep -n -i &quot;COMBINING CIRCUMFLEX ACCENT;&quot; UnicodeData.txt
771:0302;COMBINING CIRCUMFLEX ACCENT;Mn;230;NSM;;;;;N;NON-SPACING CIRCUMFLEX;;;;
 
% grep -n -i &quot;COMBINING ACUTE ACCENT;&quot; UnicodeData.txt
770:0301;COMBINING ACUTE ACCENT;Mn;230;NSM;;;;;N;NON-SPACING ACUTE;;;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This character is composed of the three-character sequence U+0065 (e) 
U+0302 (circumflex accent) U+0301 (acute accent). The combining classes 
for the two accents are both 230, thus U+1EBF is not equivalent to 
U+0065 U+0301 U+0302.&lt;/p&gt;

&lt;p&gt;Reference:&lt;br /&gt;
&lt;a href=&quot;https://en.wikipedia.org/wiki/Unicode_equivalence&quot;&gt;Unicode equivalence - Wikipedia&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Method 2 - NFD Normalization with the uni.pl Perl script:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\040\314\202&apos; &amp;gt; chartocheck
 
% file chartocheck
chartocheck: UTF-8 Unicode text, with no line terminators
 
% wc -l chartocheck
       0 chartocheck
 
% wc -c chartocheck
       3 chartocheck
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
The character is there - squint and you’ll see it next to the prompt (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%&lt;/code&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat -b chartocheck
     1   ̂% 

% cat -e chartocheck
 ̂% 
 
% cat -v chartocheck
 ̂% 
 
% xxd chartocheck
00000000: 20cc 82                                   ..
 
% od -bc chartocheck
0000000   040 314 202
                ̂  **
0000003
 
% hexdump -C chartocheck
00000000  20 cc 82                                          | ..|
00000003
 
% cut -f1 chartocheck
 ̂% 
 
% cut -f1 chartocheck | xxd
00000000: 20cc 82                                   ..
 
% cut -f1 chartocheck | xxd -p
20cc82
 
% cat chartocheck
 ̂% 
 
% ./uni.pl `cat chartocheck`
 ̂       0302    COMBINING CIRCUMFLEX ACCENT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Method 3 - NFC Normalization:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf `./uni.pl 1EBF | cut -f1` | uconv -f utf-8 -t utf-8 -x any-nfc | xxd
00000000: e1ba bf                                  ...
 
% printf `./uni.pl 1EBF | cut -f1` | uconv -f utf-8 -t utf-8 -x any-nfc | xxd -p
e1babf
 
% printf %o 0xe1
341% 
 
% printf %o 0xba
272% 
 
% printf %o 0xbf
277% 
 
% printf &apos;\341&apos;
�% 
 
% printf &apos;\341\272&apos;
�% 
 
% printf &apos;\341\272\277&apos;
ế% 
 
% printf &apos;\341\272\277&apos; | uconv -f utf-8 -x any-name
\N{LATIN SMALL LETTER E WITH CIRCUMFLEX AND ACUTE}% 

% grep -i &quot;LATIN SMALL LETTER E WITH CIRCUMFLEX AND ACUTE&quot; UnicodeData.txt 
1EBF;LATIN SMALL LETTER E WITH CIRCUMFLEX AND ACUTE;Ll;0;L;00EA 0301;;;;N;;;1EBE;;1EBE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;find-the-unicode-name-based-on-a-characters-unicode-code-point&quot;&gt;Find the Unicode Name Based On a Character’s Unicode Code Point&lt;/h3&gt;

&lt;p&gt;For example, the Unicode code point of a character is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+00D6&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;\\u00D6&apos; | uconv -x &apos;hex-any; any-name&apos;
\N{LATIN CAPITAL LETTER O WITH DIAERESIS}% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;find-the-unicode-code-point-hex-code-of-a-character&quot;&gt;Find the Unicode Code Point (Hex Code) of a Character&lt;/h3&gt;

&lt;p&gt;Assuming a little-endian (Intel) CPU [³] and that all code points in the 
input fit into 16-bits (not a safe assumption).&lt;/p&gt;

&lt;p&gt;[³] Change to UTF-16BE for big-endian machines.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf Ö | iconv -t UTF-16LE | od -tx2 -An
             00d6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If some characters require more than 16-bit, a safer option is to use 32-bits for every code point:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf Ö | iconv -t UTF-16LE | od -tx4 -An
                 000000d6                                                
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;decompose-normalize-a-composite-unicode-character&quot;&gt;Decompose (Normalize) a Composite Unicode Character&lt;/h3&gt;

&lt;p&gt;For example, the character you want to decompose is: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ö&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf Ö | uconv -f utf-8 -t utf-8 -x any-nfd
Ö% 

% printf Ö | uconv -f utf-8 -t utf-8 -x any-nfd | xxd
00000000: 4fcc 88                                  O..

% printf Ö | uconv -f utf-8 -t utf-8 -x any-nfd | xxd -p
4fcc88
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This character’s UTF-8 code: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x4F 0xCC 0x88&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To check/confirm, print the character based on its UTF-8 code:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %o 0x4f
117% 

% printf %o 0xcc
314% 

% printf %o 0x88
210% 

% printf &apos;\117\314\210&apos;
Ö% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, you can see from the Unicode database, UnicodeData.txt, that this 
character’s Decomposition field (fifth field [⁴]) is not empty and that the 
character is composed of two characters.&lt;/p&gt;

&lt;p&gt;[⁴] As the Unicode database, UnicodeData.txt, is a database of characters 
listed by their Code Points, the first field (Code Point value) is not 
counted, that is, field count starts with the next field, Name.&lt;/p&gt;

&lt;p&gt;First, find the Unicode Name of the Character:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf Ö | uconv -f utf-8 -x any-name
\N{LATIN CAPITAL LETTER O WITH DIAERESIS}% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Find the character in the Unicode database, UnicodeData.txt. &lt;br /&gt;
(Note: disregard the second character since its name has an additional 
‘AND MACRON’.)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep -i &apos;LATIN CAPITAL LETTER O WITH DIAERESIS&apos; UnicodeData.txt 
00D6;LATIN CAPITAL LETTER O WITH DIAERESIS;Lu;0;L;004F 0308;;;;N;
  LATIN CAPITAL LETTER O DIAERESIS;;;00F6;
022A;LATIN CAPITAL LETTER O WITH DIAERESIS AND MACRON;Lu;0;L;
  00D6 0304;;;;N;;;;022B;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The fifth field (Decomposition) specifies that the character is 
composed with two characters: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+004F&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U+0308&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep ^004F UnicodeData.txt
004F;LATIN CAPITAL LETTER O;Lu;0;L;;;;;N;;;;006F;

% grep ^0308 UnicodeData.txt 
0308;COMBINING DIAERESIS;Mn;230;NSM;;;;;N;NON-SPACING DIAERESIS;;;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In other words, this character is composed of 
LATIN CAPITAL LETTER O and COMBINING DIAERESIS.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf Ö | uconv -f UTF-8 -t UTF-8 -x any-nfd | xxd
00000000: 4fcc 88                                  O..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;0 004F&quot; | xxd -r | iconv -f UNICODEBIG -t UTF-8
O% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;0 0308&quot; | xxd -r | iconv -f UNICODEBIG -t UTF-8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This character cannot be displayed in a terminal emulator because it’s 
from Unicode character class (category) “Mark, Nonspacing”, 
signified by the &lt;strong&gt;Mn&lt;/strong&gt; designation in the UnicodeData.txt database. 
(See the output of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grep ^0308 UnicodeData.txt&lt;/code&gt; command above.)&lt;/p&gt;

&lt;p&gt;To display this character (and other similar characters; from other 
combining classes, 
in a terminal emulator, apply it 
to a space; that is, place the space character (U+0020 SPACE) first 
&lt;strong&gt;followed by&lt;/strong&gt; the character itself (U+0308 COMBINING DIAERESIS).
That gives you a spacing (i.e., non-combining) combining diaeresis.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;0 00200308&quot; | xxd -r | iconv -f UNICODEBIG -t UTF-8
 ̈% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;NOTE: &lt;br /&gt;
The character is there - squint and you’ll see it next to the prompt (%).&lt;/p&gt;

&lt;p&gt;NOTE:&lt;br /&gt;
You can also display this character by placing 
(ASCII 0x0A LF, or ASCII 0x0B VT, or 0x0C FF)
after the character.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;0 0308000A&quot; | xxd -r | iconv -f UNICODEBIG -t UTF-8
 ̈
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;0 0308000B&quot; | xxd -r | iconv -f UNICODEBIG -t UTF-8
 ̈
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;0 0308000C&quot; | xxd -r | iconv -f UNICODEBIG -t UTF-8
 ̈
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From&lt;br /&gt;
XTerm Control Sequences  (&lt;a href=&quot;https://invisible-island.net/xterm/ctlseqs/ctlseqs.html&quot;&gt;https://invisible-island.net/xterm/ctlseqs/ctlseqs.html&lt;/a&gt;)&lt;br /&gt;
under &lt;strong&gt;VT100 Mode Single-character functions&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;FF Form Feed or New Page (NP ).  (FF  is Ctrl-L).
FF  is treated the same as LF .&lt;/li&gt;
  &lt;li&gt;LF Line Feed or New Line (NL).  (LF  is Ctrl-J).&lt;/li&gt;
  &lt;li&gt;VT Vertical Tab (VT  is Ctrl-K). This is treated the same as LF.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Also see: &lt;br /&gt;
&lt;a href=&quot;https://www.real-world-systems.com/docs/ANSIcode.html&quot;&gt;Summary of ANSI standards for ASCII terminals Joe Smith, 18-May-84, With additions by Dennis German&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Under section named &lt;br /&gt;
&lt;strong&gt;C0 set of 7-bit control characters (from ANSI X3.4-1977)&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Oct Hex Control Name Description 
-- snip --
012 0A  J       LF   * Linefeed, move to same position on next line (see also NL)
013 0B  K       VT   * Vertical Tabulation, move to next predetermined line
014 0C  L       FF   * Form Feed, move to next form or page
-- snip --

* functions used in DEC VT series or LA series terminals 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;combining-class-unicode&quot;&gt;Combining Class (Unicode)&lt;/h4&gt;

&lt;p&gt;From &lt;br /&gt;
Squeak/Smalltalk – an open-source Smalltalk programming system Wiki:  &lt;br /&gt;
&lt;a href=&quot;https://wiki.squeak.org/squeak/6257&quot;&gt;Combining Class (Unicode)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Combining class: A numeric value in the range 0..254 given to each.
Unicode code point, formally defined as the property 
&lt;strong&gt;Canonical_Combining_Class&lt;/strong&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The combining class for each encoded character in the standard is 
specified in the file UnicodeData.txt in the Unicode Character Database. 
Any code point not listed in that data file defaults to 
\p{Canonical_Combining_Class = 0} (or \p{ccc = 0} for short).&lt;/li&gt;
  &lt;li&gt;An &lt;em&gt;extracted&lt;/em&gt; listing of combining classes, sorted by numeric value, 
is provided in the file &lt;strong&gt;DerivedCombiningClass.txt&lt;/strong&gt; in the Unicode 
Character Database (UCD).&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Only&lt;/em&gt; &lt;strong&gt;combining marks&lt;/strong&gt; have a combining class &lt;strong&gt;other than zero&lt;/strong&gt;. 
&lt;strong&gt;Almost all&lt;/strong&gt; combining marks with a &lt;strong&gt;class other than zero&lt;/strong&gt; are 
&lt;em&gt;also&lt;/em&gt; &lt;strong&gt;nonspacing marks&lt;/strong&gt;, with &lt;em&gt;a few exceptions&lt;/em&gt;. Also, &lt;em&gt;not all&lt;/em&gt; 
&lt;em&gt;nonspacing marks&lt;/em&gt; have a &lt;em&gt;non-zero combining class&lt;/em&gt;. Thus, while the 
&lt;em&gt;correlation&lt;/em&gt; between ^\p{ccc=0] and \p{gc=Mn} is close, it is &lt;em&gt;not exact&lt;/em&gt;, 
and implementations should not depend on the two concepts being identical.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Unicode Character Database&lt;/strong&gt;  &lt;br /&gt;
This directory contains the final Unicode data files. &lt;br /&gt;
(At the time of writing, Version 14.0.0 of the Unicode Standard.)&lt;br /&gt;
(Date: 2021-09-10, 17:20:00 GMT [KW])&lt;br /&gt;
&lt;a href=&quot;https://www.unicode.org/Public/UCD/latest/ucd/extracted/&quot;&gt;https://www.unicode.org/Public/UCD/latest/ucd/extracted/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;DerivedCombiningClass.txt &lt;br /&gt;
A file in the Unicode Character Database that lists the characters in 
each of the combining classes.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.unicode.org/Public/UCD/latest/ucd/extracted/DerivedCombiningClass.txt&quot;&gt;https://www.unicode.org/Public/UCD/latest/ucd/extracted/DerivedCombiningClass.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To find more about combining classes, and their detailed breakdown, refer to  &lt;br /&gt;
&lt;a href=&quot;https://www.unicode.org/reports/tr44/&quot;&gt;Unicode Character Database - Standard Annex #44&lt;/a&gt;&lt;br /&gt;
Version: Unicode 14.0.0 - Date: 2021-08-30 &lt;br /&gt;
(Retrieved on Nov 27, 2021)&lt;br /&gt;
under section explaning the UnicodeData.txt outlined at&lt;br /&gt;
&lt;a href=&quot;https://www.unicode.org/reports/tr44/#UnicodeData.txt&quot;&gt;https://www.unicode.org/reports/tr44/#UnicodeData.txt&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://www.unicode.org/reports/tr44/#Canonical_Combining_Class&quot;&gt;https://www.unicode.org/reports/tr44/#Canonical_Combining_Class&lt;/a&gt; &lt;br /&gt;
and broken down in a table under section  &lt;br /&gt;
&lt;a href=&quot;https://www.unicode.org/reports/tr44/#Canonical_Combining_Class_Values&quot;&gt;5.7.4 Canonical Combining Class Values&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This table (Table 15. Canonical_Combining_Class Values) 
lists the long symbolic aliases for Canonical_Combining_Class 
values, along with a brief description of each category. (The listing for 
fixed position classes, with long symbolic aliases of the form “Ccc10”, 
and so forth, is abbreviated, as when those labels occur they are 
predictable in form, based on the numeric values.)&lt;/p&gt;

&lt;p&gt;In this example, the combining class with value &lt;strong&gt;230&lt;/strong&gt; is for marks that 
are drawn &lt;strong&gt;above&lt;/strong&gt; (the “Description” from the table 
“Canonical_Combining_Class Values” is “Distinct marks directly above”).&lt;/p&gt;

&lt;p&gt;&lt;em&gt;A quick breakdown of the combining classes:&lt;/em&gt; &lt;br /&gt;
0 Non-combining characters, or characters that surround or become part of the base character&lt;br /&gt;
1 Marks that attach to the interior of their base characters, or overlay them&lt;br /&gt;
7–199 Various marks with language- or script-specific joining behaviour&lt;br /&gt;
200–216 Marks that attach to their base characters in various positions &lt;br /&gt;
218–232 Marks that are drawn in a specific spot relative to their base 
characters but don’t touch them  &lt;br /&gt;
233–234 Marks that appear above or below two base characters in a row &lt;br /&gt;
240 The iota subscript used in ancient Greek&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  &lt;br /&gt;
This character (U+0308) is unique in that it’s a lead-trail; the only 
character that can be both leading and trailing:&lt;/p&gt;

&lt;p&gt;From&lt;br /&gt;
&lt;a href=&quot;https://icu.unicode.org/design/normalizing-to-shortest-form&quot;&gt;Canonically Equivalent Shortest Form&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A character is lead-trail when it can be both leading and trailing. 
There is only one such character, a non-starter.&lt;/p&gt;

  &lt;p&gt;U+0308 ( ̈ ) COMBINING DIAERESIS&lt;br /&gt;
&lt;a href=&quot;https://util.unicode.org/UnicodeJsps/list-unicodeset.jsp?a=%5B%5Cu0308%5D&amp;amp;g=&amp;amp;i=&quot;&gt;https://util.unicode.org/UnicodeJsps/list-unicodeset.jsp?a=%5B%5Cu0308%5D&amp;amp;g=&amp;amp;i=&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;(It is the lead in the decomposition of 
U+0344 ( ̈́ ) COMBINING GREEK DIALYTIKA TONOS)&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;In &lt;strong&gt;NFC&lt;/strong&gt; form:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf Ö | uconv -f UTF-8 -t UTF-8 -x any-nfc | xxd
00000000: c396                                     ..
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check/confirmation:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %o 0xc3
303% 
 
% printf %o 0x96
226% 
 
% printf &apos;\303\226&apos;
Ö% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Straight with the uni.pl Perl script:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./uni.pl 00D6
Ö       00D6    LATIN CAPITAL LETTER O WITH DIAERESIS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As before, if in doubt, use&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ICU Demonstration - Normalization Browser&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;https://icu4c-demos.unicode.org/icu-bin/nbrowser&quot;&gt;https://icu4c-demos.unicode.org/icu-bin/nbrowser&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;or another useful tool:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;UniView&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;https://r12a.github.io/uniview/&quot;&gt;https://r12a.github.io/uniview/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;UniView:&lt;br /&gt;
“Look up and see characters (using graphics or fonts) and property 
information, view whole character blocks or custom ranges, select 
characters to paste into your document, paste in and discover unknown 
characters, search for characters, do hex/dec/ncr conversions, 
highlight character types, etc.”&lt;/p&gt;

&lt;h3 id=&quot;list-all-possible-transliterations-in-uconvicu&quot;&gt;List All Possible Transliterations (in uconv/ICU)&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uconv -L | tr &apos; &apos; &apos;\n&apos; | grep -i any | sort -f
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uconv -L | tr &apos; &apos; &apos;\n&apos; | grep -i any | sort -f | wc -l
     155
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% uconv -L | tr &apos; &apos; &apos;\n&apos; | grep -i any | sort -f 
---- snip ----
Any-Hex
Any-Hex/C
Any-Hex/Java
Any-Hex/Perl
Any-Hex/Unicode
---- snip ----
Any-sr_Latn/BGN
---- snip ----
Accents-Any
---- snip ----
Any-Name
Any-NFC
Any-NFD
Any-NFKC
Any-NFKD

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;uconv -x &apos;hex-any ; any-hex
uconv -x &apos;hex-any ; any-hex/c&apos;
uconv -x &apos;hex-any ; any-hex/java&apos;
uconv -x &apos;hex-any ; any-hex/perl&apos;
uconv -x &apos;hex-any ; any-hex/unicode&apos;

uconv -x &apos;hex-any ; Any-sr_Latn/BGN&apos;

uconv -x &apos;hex-any ; Accents-Any&apos;

uconv -x &apos;hex-any ; Any-Name&apos;
uconv -x &apos;hex-any ; Any-NFC&apos;
uconv -x &apos;hex-any ; Any-NFD&apos;
uconv -x &apos;hex-any ; Any-NFKC&apos;
uconv -x &apos;hex-any ; Any-NFKD&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;remove-accents-normalization-uconvicu&quot;&gt;Remove Accents (Normalization, uconv/ICU)&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;Ö&quot; | uconv -f utf-8 -t utf-8 -x &quot;::NFD; [:Nonspacing Mark:] &amp;gt;; ::NFC;&quot;
O%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;simplify-a-string-remove-diacritics---normalization-uconvicu-perl&quot;&gt;Simplify a String (Remove Diacritics[⁴]) - Normalization, uconv/ICU, Perl&lt;/h3&gt;
&lt;h3 id=&quot;extreme-example&quot;&gt;Extreme Example&lt;/h3&gt;

&lt;p&gt;From &lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/13542421/generic-way-to-simplify-string-remove-diacritics&quot;&gt;Generic way to simplify string, remove diacritics&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% echo &quot;ë ö ø Я Ł ɲ æ å ñ 開 당&quot; | uconv -f utf-8 -x any-name \
 | perl -wpne &apos;s/ WITH [^}]+//g;&apos; | uconv -f utf-8 -t utf-8 -x name-any \
 | uconv -f utf-8 -x any-latin -t iso-8859-1 -c \ 
 | uconv -f iso-8859-1 -t ascii -x latin-ascii -c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;e o o A L n ae a n ki dang
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note 1: Я -&amp;gt; A because that is the correct behaviour.&lt;/p&gt;

&lt;p&gt;Note 2: This fails on inputs containing diacritics without letters, 
as in ´ (acute accent) and ¨ (umlaut/diaeresis).&lt;/p&gt;

&lt;p&gt;[⁴] From Wikipedia (Retrieved on Nov 6, 2021):
&lt;a href=&quot;https://en.wikipedia.org/wiki/Diacritic&quot;&gt;https://en.wikipedia.org/wiki/Diacritic&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A diacritic (also diacritical mark, diacritical point, diacritical sign, 
or accent) is a glyph added to a letter or to a basic glyph. 
Some diacritics, such as the acute (◌́  ) and &amp;gt; grave (◌̀  ), are often 
called accents. Diacritics may appear above or below a letter or in 
some other position such as within the letter or between two letters.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;SEE ALSO:&lt;br /&gt;
&lt;strong&gt;Diacritical Marks in Unicode (gregtatum.com)&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;https://gregtatum.com/writing/2021/diacritical-marks/&quot;&gt;https://gregtatum.com/writing/2021/diacritical-marks/&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;character-to-value-in-a-shell&quot;&gt;Character to Value in a Shell&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf&lt;/code&gt; utility uses the leading-quote syntax (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\&apos;A&lt;/code&gt;):&lt;/p&gt;

&lt;p&gt;From The Open Group Base Specifications Issue 7, 2018 edition
IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)
Copyright © 2001-2018 IEEE and The Open Group
&lt;a href=&quot;https://pubs.opengroup.org/onlinepubs/9699919799/utilities/printf.html&quot;&gt;https://pubs.opengroup.org/onlinepubs/9699919799/utilities/printf.html&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If the leading character is a single-quote or double-quote, the value 
shall be the numeric value in the underlying codeset of the character
following the single-quote or double-quote.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man ascii
&lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;

ASCII&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;           FreeBSD Miscellaneous Information Manual           ASCII&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

NAME
     ascii - octal, hexadecimal, decimal and binary ASCII character sets

DESCRIPTION
     The octal &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;:
     &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; 
     100  @   101  A   102  B   103  C   104  D   105  E   106  F   107  G
     &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; 

     The hexadecimal &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;:
     &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; 
     40  @    41  A    42  B    43  C    44  D    45  E    46  F    47  G
     &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; 

     The decimal &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;:
     &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; 
      64  @    65  A    66  B    67  C    68  D    69  E    70  F    71  G
     &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; 

     The binary &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;:

      00     01     10     11

     NUL     SP      @      &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;     00000
     SOH      &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;      A      a     00001
     &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Numeric value (in decimal) of the character ‘A’ in the 
ISO/IEC 646:1991 standard codeset:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%d\n&quot; \&apos;A
65
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In hexadecimal:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%x\n&quot; \&apos;A
41
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In octal:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%o\n&quot; \&apos;A
101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
POSIX-portable way of printing a character based on the underlying 
codeset (ASCII, UTF-8, Unicode) is to use an octal value:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %b\\n &apos;\&apos;101
A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Example: the ‘Skull and Crossbones’ character.
Its Unicode code point is U+2620.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;%x\n&quot; \&apos;☠
2620
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Unicode 2620 in UTF-8 is E2-98-A0.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ☠ | hexdump -C
00000000  e2 98 a0                      |...|
00000003
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In octal:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf ☠ | hexdump -b
0000000 342 230 240                                                    
0000003
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf (&quot;\xE2\x98\xA0&quot;)
Badly placed ()&apos;s.

% printf &quot;\xE2\x98\xA0&quot;
xE2x98xA0%

% printf &quot;%o\n&quot; &quot;0xE2&quot;
342

% printf &quot;%o\n&quot; &quot;0x98&quot;
230

% printf &quot;%o\n&quot; &quot;0xA0&quot;
240

% printf &apos;\342\230\240&apos;
☠%

% printf &apos;\342\230\240\n&apos;
☠
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;os-and-shell-specifics---printf1-and-builtins&quot;&gt;OS and Shell Specifics - printf(1) and builtins&lt;/h4&gt;

&lt;p&gt;tcsh shell’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;builtins&lt;/code&gt; prints the names of all builtin commands:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% builtins
:          @          alias      alloc      bg         bindkey    break
breaksw    builtins   case       cd         chdir      complete   continue
default    dirs       echo       echotc     else       end        endif
endsw      eval       exec       exit       fg         filetest   foreach
glob       goto       hashstat   history    hup        if         jobs
kill       limit      log        login      logout     ls-F       nice
nohup      notify     onintr     popd       printenv   pushd      rehash
repeat     sched      set        setenv     settc      setty      shift
source     stop       suspend    switch     telltc     termname   time
umask      unalias    uncomplete unhash     unlimit    unset      unsetenv
wait       where      which      while      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man tcsh
&lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt;
REFERENCE
    The next sections of this manual describe all of the available Builtin
    commands, Special aliases and Special shell variables.

  Builtin commands
&lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt;
     which &lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;+&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
             Displays the &lt;span class=&quot;nb&quot;&gt;command &lt;/span&gt;that will be executed by the shell after
             substitutions, path searching, etc.  The &lt;span class=&quot;nb&quot;&gt;builtin command &lt;/span&gt;is
             just like which&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, but it correctly reports tcsh aliases and
             builtins and is 10 to 100 &lt;span class=&quot;nb&quot;&gt;times &lt;/span&gt;faster.  See also the which-
             &lt;span class=&quot;nb&quot;&gt;command &lt;/span&gt;editor command.
&lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man 1 &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt;
  Some shells may provide a &lt;span class=&quot;nb&quot;&gt;builtin printf command &lt;/span&gt;which is similar or
  identical to this utility.  Consult the &lt;span class=&quot;nb&quot;&gt;builtin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; manual page.
&lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt; snip &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% man 1 builtin
---- snip ----
SYNOPSIS
  See the built-in command description in the appropriate shell 
  manual page.

DESCRIPTION
  Shell builtin commands are commands that can be executed within the
  running shell&apos;s process.  Note that, in the case of csh(1) builtin
  commands, the command is executed in a subshell if it occurs as any
  component of a pipeline except the last.

  If a command specified to the shell contains a slash ‘/’, the shell will
  not execute a builtin command, even if the last component of the
  specified command matches the name of a builtin command.  Thus, while
  specifying “echo” causes a builtin command to be executed under shells
  that support the echo builtin command, specifying “/bin/echo” or “./echo”
  does not.

  While some builtin commands may exist in more than one shell, their
  operation may be different under each shell which supports them.  Below
  is a table which lists shell builtin commands, the standard shells that
  support them and whether they exist as standalone utilities.
---- snip ----

    Command           External        csh(1)       sh(1)
---- snip ----
    printf            Yes             No           Yes
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
tcsh is the standard FreeBSD shell .&lt;/p&gt;

&lt;p&gt;printf is not a builtin in csh/tcsh shells. 
(It’s built into Bash and ksh93 shells.)&lt;/p&gt;

&lt;p&gt;In tcsh shell, printf is an external binary in /usr/bin/printf.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% which &lt;span class=&quot;nb&quot;&gt;printf&lt;/span&gt;
/usr/bin/printf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;character-to-value-inwith-perl&quot;&gt;Character to Value in/with Perl&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;printf &quot;%c\n&quot;, 65;&apos;
A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -e &apos;print chr(65), &quot;\n&quot;&apos;
A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;testing-the-terminal-emulator&quot;&gt;Testing the Terminal Emulator&lt;/h3&gt;

&lt;p&gt;From&lt;br /&gt;
&lt;a href=&quot;https://perlgeek.de/en/article/set-up-a-clean-utf8-environment&quot;&gt;How to set up a clean UTF-8 environment in Linux&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To test if you terminal emulator works, copy and paste this line 
in your shell:&lt;/p&gt;
&lt;div class=&quot;language-perl highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;perl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;Mcharnames&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;full&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;CS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;wle&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;print &quot;\N{EURO SIGN}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This should print a Euro sign € on the console. If it prints a single 
question mark instead, your fonts might not contain it. Try installing 
additional fonts. If multiple different (nonsensical) characters are shown, 
the wrong character encoding is configured.&lt;/p&gt;

&lt;p&gt;On my system, output is&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;€
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;hr /&gt;

&lt;p&gt;TODO1&lt;/p&gt;

&lt;p&gt;LANGUAGES&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;sh; shells (sh, csh/tcsh, ksh93, bash, etc.(?) )&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/245013/get-the-display-width-of-a-string-of-characters&quot;&gt;https://unix.stackexchange.com/questions/245013/get-the-display-width-of-a-string-of-characters&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;awk&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/245013/get-the-display-width-of-a-string-of-characters&quot;&gt;https://unix.stackexchange.com/questions/245013/get-the-display-width-of-a-string-of-characters&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.codevat.com/&quot;&gt;Eric Pruitt&lt;/a&gt; wrote an implementation of 
wcwidth() and wcswidth() in Awk available at 
&lt;a href=&quot;https://github.com/ericpruitt/wcwidth.awk&quot;&gt;wcwidth.awk&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It mainly provides 4 functions&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wcscolumns(), wcstruncate(), wcwidth(), wcswidth()&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wcscolumns()&lt;/code&gt; also tolerates non-printable characters.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch \
https://raw.githubusercontent.com/ericpruitt/wcwidth.awk/master/wcwidth.awk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh wcwidth.awk
-rw-r--r--  1 dusko  wheel    33K Dec  5 14:20 wcwidth.awk
 
% file wcwidth.awk
wcwidth.awk: awk script, UTF-8 Unicode text executable
 
% wc -l wcwidth.awk
     698 wcwidth.awk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;wcscolumns(string)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Determine the number of columns needed to display a string.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Arguments:&lt;/strong&gt; &lt;br /&gt;
&lt;strong&gt;string:&lt;/strong&gt; A string of any length. In AWK interpreters that are not 
multi-byte safe, this argument is interpreted as a UTF-8 encoded string.&lt;br /&gt;
&lt;strong&gt;Returns:&lt;/strong&gt; The number of columns needed to display the string. 
This value will always be greater than or equal to 0.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Example:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat example1.awk
{
  printf &quot;wcscolumns(\&quot;%s\&quot;) → %s\n&quot;, $0, wcscolumns($0)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;⌚&quot; | awk -f wcwidth.awk -f example1.awk
wcscolumns(&quot;⌚&quot;) → 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;⏱&quot; | awk -f wcwidth.awk -f example1.awk
wcscolumns(&quot;⏱&quot;) → 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;wcwidth(character)&lt;/strong&gt; &lt;br /&gt;
A reimplementation of the 
&lt;a href=&quot;http://pubs.opengroup.org/onlinepubs/9699919799/functions/wcwidth.html&quot;&gt;POSIX function of the same name&lt;/a&gt; 
to determine the number of columns needed to display a single character.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Arguments:&lt;/strong&gt; &lt;br /&gt;
&lt;strong&gt;character:&lt;/strong&gt; A single character. In AWK interpreters that are not multi-byte 
safe, this argument may consist of multiple characters that together 
represent a single UTF-8 encoded code point.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt; The number of columns needed to display the character if it is 
printable and -1 if it is not. If the argument does not contain exactly 
one UTF-8 character, -1 is returned.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Example:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat example2.awk
{
  printf &quot;wcwidth(\&quot;%s\&quot;) → %s\n&quot;, $0, wcwidth($0)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;⌚\n⏱\n&quot; | awk -f wcwidth.awk -f example2.awk
wcwidth(&quot;⌚&quot;) → 2
wcwidth(&quot;⏱&quot;) → 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Perl&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.perlmonks.org/?node_id=923932&quot;&gt;https://www.perlmonks.org/?node_id=923932&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/9428891/what-is-the-right-way-to-get-a-grapheme/9430419&quot;&gt;https://stackoverflow.com/questions/9428891/what-is-the-right-way-to-get-a-grapheme/9430419&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;uniquote(1) is part of Perl module Unicode::Tussle so you need to install the module first:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo cpanm Unicode::Tussle
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note:&lt;br /&gt;
Instead of installing the Unicode::Tussle module, you could just download the source code for uniquote(1): &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fetch https://fastapi.metacpan.org/source/BDFOY/Unicode-Tussle-1.111/script/uniquote&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -CS -Mutf8 -MUnicode::Normalize -E &apos;say &quot;crème brûlée&quot;&apos;
crème brûlée
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -v

This is perl 5, version 32, subversion 1 (v5.32.1) built for 
amd64-freebsd-thread-multi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat getgrapheme01.pl
#!/usr/bin/env perl
use warnings;
use 5.014;
use utf8;
binmode STDOUT, &apos;:utf8&apos;;
use charnames qw(:full);

my $string = &quot;\N{LATIN CAPITAL LETTER U}\N{COMBINING DIAERESIS}&quot;;

while ( $string =~ /(\X)/g ) {
        say $1;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./getgrapheme01.pl
Ü
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat getgrapheme02.pl
#!/usr/bin/env perl

use warnings;
use 5.014;
binmode STDOUT, &apos;:utf8&apos;;

use Unicode::Normalize;

my $string = &quot;fu\N{COMBINING DIAERESIS}r&quot;;
$string = NFC($string);

while ( $string =~ /(\X)/g ) {
    say $1;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./getgrapheme02.pl
f
ü
r
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Perl - width example 
(the number of columns the string occupies when displayed)&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% perl -MText::CharWidth=mbswidth -le &apos;print mbswidth shift&apos; &quot;A&quot;
1

% perl -MText::CharWidth=mbswidth -le &apos;print mbswidth shift&apos; &quot;⌚&quot;
2
 
% perl -MText::CharWidth=mbswidth -le &apos;print mbswidth shift&apos; &quot;⏱&quot;
1
% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;C&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;C - Example 1  &lt;br /&gt;
UTF-8 validator and wrapper around a small UTF-8 library.  &lt;br /&gt;
Based on Bjoern Hoehrmann’s UTF-8 decoder function written in C, 
a DFA (Deterministic Finite Automaton) parser.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd /tmp

% fetch https://github.com/howerj/utf8/archive/refs/heads/master.zip

% ls -lh master.zip
-rw-r--r--  1 dusko  wheel    13K Dec 16 16:59 master.zip

% unzip master.zip

% rm -i master.zip

% ls -ld utf8-master/
drwxr-xr-x  2 dusko  wheel  10 Dec 16 17:00 utf8-master/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cd utf8-master/

% pwd
/tmp/utf8-master

% ls -alh
total 317
drwxr-xr-x   2 dusko  wheel    10B Dec 16 17:00 .
drwxrwxrwt  90 root   wheel   1.9K Dec 16 17:00 ..
-rw-r--r--   1 dusko  wheel    33B Dec  4  2020 .gitignore
-rw-r--r--   1 dusko  wheel   1.1K Dec  4  2020 LICENSE
-rw-r--r--   1 dusko  wheel   1.4K Dec  4  2020 main.c
-rw-r--r--   1 dusko  wheel   1.1K Dec  4  2020 makefile
-rw-r--r--   1 dusko  wheel   3.5K Dec  4  2020 readme.md
-rw-r--r--   1 dusko  wheel   7.4K Dec  4  2020 utf8.c
-rw-r--r--   1 dusko  wheel   1.0K Dec  4  2020 utf8.h
-rw-r--r--   1 dusko  wheel    22K Dec  4  2020 utf8.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat readme.md
% utf8(1) | UTF8 Validator

# NAME

UTF8 - UTF-8 validator and wrapped around a small UTF-8 library

# SYNOPSES

utf8 string

utf8 &amp;lt; file

# DESCRIPTION

        Author:     Richard James Howe / Bjoern Hoehrmann
        License:    MIT
        Repository: &amp;lt;https://github.com/howerj/utf8&amp;gt;
        Email:      howe.r.j.89@gmail.com
        Copyright:  2008-2009 Bjoern Hoehrmann
        Copyright:  2020      Richard James Howe

This UTF-8 validator/decoder library is based entirely
around the (excellent) code and description available at
&amp;lt;http://bjoern.hoehrmann.de/utf-8/decoder/dfa/&amp;gt;,

Modifications are released under the same license as the original. The
executable built is mainly just there to allow the library itself to be
tested. This is a very minimal set of UTF-8 utilities, not much is provided
but it should allow you to build upon it.

# USAGE
 
The test program can either check whether a string passed in as an argument
is valid UTF-8 or it can read from stdin(3) if no argument is given and do
the same, in both cases the number of code points, if any, that have been
decoded is printed out if and only if the entire input is valid.

---- snip ----

This is a very simple library meant to deal with UTF-8 data, and converting
strings to and from code-points. It does not deal with issues like Unicode
normalization, case conversion and a whole host of horrors that occur when
not using ASCII.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc \
 -std=c99 -Wall -Wextra -pedantic -O2 -DUTF8_VERSION=&quot;0x010000ul&quot; \
 utf8.c utf8.h main.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lhrt | tail -1
-rwxr-xr-x  1 dusko  wheel    20K Dec 16 17:01 a.out
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out &quot;hello&quot;
5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf %s &quot;hello&quot; &amp;gt; file

% ./a.out &amp;lt; file
5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% echo &quot;hello&quot; &amp;gt; file

% ./a.out &amp;lt; file
6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;C - Example 2:&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/58185069/expected-encoding-of-wcwidth-argument&quot;&gt;https://stackoverflow.com/questions/58185069/expected-encoding-of-wcwidth-argument&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note:&lt;br /&gt;
See&lt;br /&gt;
&lt;a href=&quot;https://pubs.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html#tag_15_02_01_02&quot;&gt;https://pubs.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html#tag_15_02_01_02&lt;/a&gt;&lt;br /&gt;
“An XSI-conforming application shall ensure that the feature test macro _XOPEN_SOURCE is defined with the value 700 before inclusion of any header.”&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat wcwidth_c_example_1.c
#define _XOPEN_SOURCE 700

#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;locale.h&amp;gt;
#include &amp;lt;wchar.h&amp;gt;

int main(void)
{
    setlocale(LC_CTYPE, &quot;&quot;);

    wchar_t c1 = L&apos;ｈ&apos;;
    wchar_t c2 = L&apos;⌚&apos;;
    wchar_t c3 = L&apos;⏱&apos;;

    printf(&quot;Fullwidth small letter h (U+FF48) - width: %d\n&quot;, wcwidth(c1));
    printf(&quot;Watch (U+231A) - width: %d\n&quot;, wcwidth(c2));
    printf(&quot;Stopwatch (U+23F1) - width: %d\n&quot;, wcwidth(c3));

    return 0;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc wcwidth_c_example_1.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out
Fullwidth small letter h (U+FF48) - width: 2
Watch (U+231A) - width: 2
Stopwatch (U+23F1) - width: 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;C - Example 3:&lt;br /&gt;
&lt;a href=&quot;https://www.ibm.com/docs/en/i/7.1?topic=functions-wcwidth-determine-display-width-wide-character&quot;&gt;https://www.ibm.com/docs/en/i/7.1?topic=functions-wcwidth-determine-display-width-wide-character&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat wcwidth_c_example_2.c
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;wchar.h&amp;gt;

int main(void)
{
   wint_t wc1 = L&apos;A&apos;;
   wint_t wc2 = L&apos;⌚&apos;;
   wint_t wc3 = L&apos;⏱&apos;;
   wchar_t *wcs = L&quot;ABC&quot;;

   printf(&quot;wc1 has a width of: %d\n&quot;, wcwidth(wc1));
   printf(&quot;wc2 has a width of: %d\n&quot;, wcwidth(wc2));
   printf(&quot;wc3 has a width of: %d\n&quot;, wcwidth(wc3));
   printf(&quot;wcs has a width of: %d\n&quot;, wcswidth(wcs,3));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc wcwidth_c_example_2.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Return Value&lt;br /&gt;
The wcswidth() function either returns:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;0, if wcs points to a null wide character; or&lt;/li&gt;
  &lt;li&gt;the number of printing positions occupied by the wide string pointed to 
by wcs; or&lt;/li&gt;
  &lt;li&gt;-1, the wide string pointed to by wcs is not printable&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out
wc1 has a width of: 1
wc2 has a width of: -1
wc3 has a width of: -1
wcs has a width of: 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;C - Example 4:&lt;br /&gt;
&lt;a href=&quot;https://sites.ualberta.ca/dept/chemeng/AIX-43/share/man/info/C/a_doc_lib/libs/basetrf2/wcswidth.htm&quot;&gt;https://sites.ualberta.ca/dept/chemeng/AIX-43/share/man/info/C/a_doc_lib/libs/basetrf2/wcswidth.htm&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat wcwidth_c_example_3.c 
#include &amp;lt;locale.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;wchar.h&amp;gt;

int main(void)
{
   int     retval1, retval2, n;
   
   wchar_t *pwcsWatch = L&quot;⌚&quot;;
   wchar_t *pwcsStopwatch = L&quot;⏱&quot;;
   
   (void)setlocale(LC_ALL, &quot;&quot;);
   
   /* Let pwcs point to a wide character null terminated 
   ** string. Let n be the number of wide characters whose
   ** display column width is to be determined.
   */
   retval1 = wcswidth(pwcsWatch, n);
   retval2 = wcswidth(pwcsStopwatch, n);

   if(retval1 == -1 || retval2 == -1){
           /* Error handling. Invalid wide character code 
           ** encountered in the wide character string pwcs.
           */
       printf(&quot;pwcs is not printable\n&quot;);
   }
   
   printf(&quot;pwcsWatch has a width of: %d\n&quot;, wcswidth(pwcsWatch,n));
   printf(&quot;pwcsStopwatch has a width of: %d\n&quot;, wcswidth(pwcsStopwatch,n));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc wcwidth_c_example_3.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out
pwcsWatch has a width of: 2
pwcsStopwatch has a width of: 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reference:&lt;br /&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/5117393/number-of-character-cells-used-by-string&quot;&gt;https://stackoverflow.com/questions/5117393/number-of-character-cells-used-by-string&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From&lt;br /&gt;
utf8everywhere.org: &lt;br /&gt;
&lt;a href=&quot;http://utf8everywhere.org/#myth.strlen&quot;&gt;Counting coded characters or code points is important.&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The size of the string as it appears on the screen is unrelated to 
the number of code points in the string. One has to communicate with 
the rendering engine for this. Code points do not occupy one column 
even in monospace fonts and terminals. POSIX takes this into account.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Also see:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Programming with wide characters - Linux.com&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.linux.com/news/programming-wide-characters/&quot;&gt;https://www.linux.com/news/programming-wide-characters/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The Unicode HOWTO - 6. Making your programs Unicode aware&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://tldp.org/HOWTO/Unicode-HOWTO-6.html&quot;&gt;https://tldp.org/HOWTO/Unicode-HOWTO-6.html&lt;/a&gt;&lt;br /&gt;
Bruno Haible - v1.0, Jan 23, 2001&lt;/p&gt;

&lt;p&gt;C - Example 5:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/5117393/number-of-character-cells-used-by-string&quot;&gt;https://stackoverflow.com/questions/5117393/number-of-character-cells-used-by-string&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat wcwidth_c_example_4.c 
#define _XOPEN_SOURCE
#include &amp;lt;wchar.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;locale.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;

int measure(char *string) {
    // allocate enough memory to hold the wide string
    size_t needed = mbstowcs(NULL, string, 0) + 1;

    wchar_t *wcstring = malloc(needed * sizeof *wcstring);

    if (!wcstring) return -1;

    // change encodings
    if (mbstowcs(wcstring, string, needed) == (size_t)-1) return -2;

    // measure width
    int width = wcswidth(wcstring, needed);

    free(wcstring);
    return width;
}

int main(int argc, char **argv) {
    setlocale(LC_ALL, &quot;&quot;);

    for (int i = 1; i &amp;lt; argc; i++) {
        printf(&quot;%s: %d\n&quot;, argv[i], measure(argv[i]));
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc wcwidth_c_example_4.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out hello 莊子 cＡb ⌚ ⏱
hello: 5
莊子: 4
cＡb: 4
⌚: 2
⏱: 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ~/uni.pl watch
⌚      231A    WATCH
⏱       23F1    STOPWATCH
𝍄       1D344   TETRAGRAM FOR WATCH
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ~/uni.pl watch | head -1 | cut -f1
⌚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out `~/uni.pl watch | head -1 | cut -f1`
⌚: 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ~/uni.pl stopwatch
⏱       23F1    STOPWATCH
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out `~/uni.pl stopwatch | cut -f1`
⏱: 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ~/uni.pl watch | head -1 | cut -f1 | xxd -p
e28c9a0a

% ~/uni.pl stopwatch | cut -f1 | xxd -p
e28fb10a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x\n&apos; \&apos;`~/uni.pl watch | head -1 | cut -f1`
231a
 
% printf &apos;%x\n&apos; \&apos;`~/uni.pl stopwatch | cut -f1`
23f1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &apos;%x&apos; \&apos;`~/uni.pl watch | \ 
 head -1 | \
 cut -f1` | \ 
 xargs -Irplstr fc-list &quot;:charset=rplstr&quot; | \
 wc -l
      64
 
% printf &apos;%x&apos; \&apos;`~/uni.pl stopwatch | \
 cut -f1` | \
 xargs -Irplstr fc-list &quot;:charset=rplstr&quot; | \
 wc -l
       7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep ^231A UnicodeData.txt
231A;WATCH;So;0;ON;;;;;N;;;;;
 
% grep ^23F1 UnicodeData.txt
23F1;STOPWATCH;So;0;ON;;;;;N;;;;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The latest released version of the UCD (Unicode Character Database) 
is always accessible at: &lt;br /&gt;
    &lt;a href=&quot;https://www.unicode.org/Public/UCD/latest/&quot;&gt;https://www.unicode.org/Public/UCD/latest/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As of Dec 3, 2021, the current version of Unicode is version 14.&lt;/p&gt;

&lt;p&gt;The UAXes and UTS #51 can be accessed at
&lt;a href=&quot;https://www.unicode.org/versions/Unicode14.0.0/&quot;&gt;https://www.unicode.org/versions/Unicode14.0.0/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From that page, under ‘14.0.0 Unicode Standard Annexes’ section, 
the link for &lt;em&gt;UAX #44, Unicode Character Database&lt;/em&gt; is listed as&lt;br /&gt;
&lt;a href=&quot;https://www.unicode.org/reports/tr44/tr44-28.html&quot;&gt;https://www.unicode.org/reports/tr44/tr44-28.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unicode Character Database&lt;br /&gt;
Unicode® Standard Annex #44&lt;br /&gt;
Date: 2021-08-30&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Because of the legacy format constraints for UnicodeData.txt, that file 
contains no specific information about default values for properties. 
The default values for fields in UnicodeData.txt are documented in 
Table 4 below if they cannot be derived from the general rules about 
default values for properties.&lt;/p&gt;

  &lt;p&gt;– snip – &lt;br /&gt;
Table 4. Default Values for Properties&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Property Name     Default Value(s)           Complex?
-- snip --
East_Asian_Width  Neutral (= N), Wide (= W)  Yes
-- snip --
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;p&gt;The Table 4 indicates that the &lt;em&gt;East_Asian_Width&lt;/em&gt; property can be either&lt;br /&gt;
Neutral (= &lt;strong&gt;N&lt;/strong&gt;) or Wide (= &lt;strong&gt;W&lt;/strong&gt;).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch https://www.unicode.org/Public/UCD/latest/ucd/EastAsianWidth.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% grep ^231A EastAsianWidth.txt
231A..231B;W     # So     [2] WATCH..HOURGLASS

% grep ^23F1 EastAsianWidth.txt
23F1..23F2;N     # So     [2] STOPWATCH..TIMER CLOCK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Therefore, the &lt;em&gt;watch&lt;/em&gt; (U+231A) code point’s East_Asian_Width property is 
&lt;strong&gt;wide&lt;/strong&gt;, while the &lt;em&gt;stopwatch&lt;/em&gt; (U+23F1) code point’s East_Asian_Width 
property is &lt;strong&gt;neutral&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;That’s why the code point’s width for ‘watch’ symbol in xterm is &lt;strong&gt;2&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;C - Example 6&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% fetch https://raw.githubusercontent.com/notevenodd/wcswidth/master/wcswidth.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc -O2 -Wall -o wcswidth wcswidth.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./wcswidth TODO3 - WATCH 1 WIDTH
1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./wcswidth TODO4 - WATCH 2 WIDTH
2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Python2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/23873771/how-to-handle-combining-diacritical-marks-with-unicodeutils&quot;&gt;https://stackoverflow.com/questions/23873771/how-to-handle-combining-diacritical-marks-with-unicodeutils&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Python3&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg search cwidth
py38-cwcwidth-0.1.4            Python bindings for wc(s)width
py38-wcwidth-0.1.8             Determine the printable width of the terminal
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% sudo pkg install py38-cwcwidth
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% python3.8
Python 3.8.10 (default, Jul  4 2021, 01:12:00)
[Clang 11.0.1 (git@github.com:llvm/llvm-project.git llvmorg-11.0.1-0-g43ff75f2c on freebsd13
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; import cwcwidth
&amp;gt;&amp;gt;&amp;gt;  
&amp;gt;&amp;gt;&amp;gt; cwcwidth.wcwidth(&quot;a&quot;)
1
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; cwcwidth.wcswidth(&quot;コ&quot;)
2
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; cwcwidth.wcswidth(&quot;⌚&quot;)
2
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&amp;gt;&amp;gt;&amp;gt; quit()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/280843/xterm-doesnt-display-some-unicode-characters-properly&quot;&gt;https://unix.stackexchange.com/questions/280843/xterm-doesnt-display-some-unicode-characters-properly&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/2352018/cant-use-unichr-in-python-3-1&quot;&gt;https://stackoverflow.com/questions/2352018/cant-use-unichr-in-python-3-1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In Python 3, you just use chr (instead of unichr() in Python 2):&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat prunichr.py
#!/usr/bin/env python3.8

for x in range(0x2620, 0x2938):
        print(chr(x))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% chmod 0744 prunichr.py
 
% ./prunichr.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Java&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;GB2312Unicode.java - GB2312 to Unicode Mapping&lt;br /&gt;
&lt;a href=&quot;http://www.herongyang.com/GB2312/GB2312Unicode-Java-GB2312-Unicode-Mapping.html&quot;&gt;http://www.herongyang.com/GB2312/GB2312Unicode-Java-GB2312-Unicode-Mapping.html&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If we compare GB2312 codes with Unicode codes of same Chinese characters, 
we will not find any mathematical relations. So if someone wants to 
convert a Chinese text file from the GB2312 encoding to a Unicode 
encoding, he/she needs to use a big mapping table that covers all 
7445 GB2312 characters.&lt;/p&gt;

  &lt;p&gt;If we search the Internet, we probably can find copies of such mapping 
table in different formats.&lt;/p&gt;

  &lt;p&gt;But if you have JDK (Java Development Kit) installed on your computer, 
you can build a GB2312 to Unicode mapping table yourself with a simple 
program.&lt;/p&gt;

  &lt;p&gt;Here is a Java program I wrote to build a GB2312 to Unicode mapping table, 
GB2312Unicode.java. The output of the program includes 5 columns per 
character:&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;“Q.W.” Column: The GB2312 Location Code of the character.&lt;/li&gt;
    &lt;li&gt;Second Column: The GB2312 Encoding of the character.&lt;/li&gt;
    &lt;li&gt;“GB” Column: The GB2312 Encoding in HEX value of the character.&lt;/li&gt;
    &lt;li&gt;“Uni.” Column: The Unicode Code in HEX value of the character.&lt;/li&gt;
    &lt;li&gt;“UTF-8.” Column: The UTF-8 Encoding in HEX value of the character.&lt;/li&gt;
  &lt;/ul&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/* GB2312Unicode.java
- Copyright (c) 2015, HerongYang.com, All Rights Reserved.
*/
---- snip ----

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;p&gt;Download the source code. Place it in a file; for example, called javaUnicodeGB2312.java.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% vi javaUnicodeGB2312.java
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the Java class.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% javac javaUnicodeGB2312.java
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lhrt
total 9
-rw-r--r--  1 dusko  wheel   3.9K Dec 16 18:47 javaUnicodeGB2312.java
-rw-r--r--  1 dusko  wheel   3.8K Dec 16 18:54 UnicodeGB2312.class
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run the Java program.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% java UnicodeGB2312
Number of GB characters wrote: 7445
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lhrt
total 98
-rw-r--r--  1 dusko  wheel   3.9K Dec 16 18:47 javaUnicodeGB2312.java
-rw-r--r--  1 dusko  wheel   3.8K Dec 16 18:54 UnicodeGB2312.class
-rw-r--r--  1 dusko  wheel   108K Dec 16 18:54 unicode_gb2312.gb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ls -lh unicode_gb2312.gb
-rw-r--r--  1 dusko  wheel   108K Dec 16 18:54 unicode_gb2312.gb

% file unicode_gb2312.gb
unicode_gb2312.gb: ISO-8859 text, with CRLF line terminators

% wc -l unicode_gb2312.gb
    1493 unicode_gb2312.gb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat unicode_gb2312.gb
&amp;lt;pre&amp;gt;
Uni. GB   ¡¡   Uni. GB   ¡¡   Uni. GB   ¡¡   Uni. GB   ¡¡   Uni. GB   ¡¡

00A4 A1E8 ¡è   00A7 A1EC ¡ì   00A8 A1A7 ¡§   00B0 A1E3 ¡ã   00B1 A1C0 ¡À
00B7 A1A4 ¡¤   00D7 A1C1 ¡Á   00E0 A8A4 ¨¤   00E1 A8A2 ¨¢   00E8 A8A8 ¨¨
00E9 A8A6 ¨¦   00EA A8BA ¨º   00EC A8AC ¨¬   00ED A8AA ¨ª   00F2 A8B0 ¨°
00F3 A8AE ¨®   00F7 A1C2 ¡Â   00F9 A8B4 ¨´   00FA A8B2 ¨²   00FC A8B9 ¨¹
0101 A8A1 ¨¡   0113 A8A5 ¨¥   011B A8A7 ¨§   012B A8A9 ¨©   014D A8AD ¨­
016B A8B1 ¨±   01CE A8A3 ¨£   01D0 A8AB ¨«   01D2 A8AF ¨¯   01D4 A8B3 ¨³
01D6 A8B5 ¨µ   01D8 A8B6 ¨¶   01DA A8B7 ¨·   01DC A8B8 ¨¸   02C7 A1A6 ¡¦
02C9 A1A5 ¡¥   0391 A6A1 ¦¡   0392 A6A2 ¦¢   0393 A6A3 ¦£   0394 A6A4 ¦¤
0395 A6A5 ¦¥   0396 A6A6 ¦¦   0397 A6A7 ¦§   0398 A6A8 ¦¨   0399 A6A9 ¦©
039A A6AA ¦ª   039B A6AB ¦«   039C A6AC ¦¬   039D A6AD ¦­   039E A6AE ¦®
039F A6AF ¦¯   03A0 A6B0 ¦°   03A1 A6B1 ¦±   03A3 A6B2 ¦²   03A4 A6B3 ¦³
03A5 A6B4 ¦´   03A6 A6B5 ¦µ   03A7 A6B6 ¦¶   03A8 A6B7 ¦·   03A9 A6B8 ¦¸
03B1 A6C1 ¦Á   03B2 A6C2 ¦Â   03B3 A6C3 ¦Ã   03B4 A6C4 ¦Ä   03B5 A6C5 ¦Å
---- snip ----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Ruby&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;TODO2&lt;/p&gt;

&lt;p&gt;Add: &lt;br /&gt;
mime – email messages&lt;br /&gt;
imagemagick -&amp;gt; view with: xv, sxiv, feh, meh
fc-cache&lt;br /&gt;
~/.fonts&lt;br /&gt;
~/.config&lt;br /&gt;
~/.xinitrc&lt;br /&gt;
xterm: -report-charclass, -report-colors, -report-fonts, -report-icons,
       -report-xres &lt;br /&gt;
Normalization&lt;br /&gt;
Double-width Unicode characters in xterm &lt;br /&gt;
uxterm&lt;/p&gt;

&lt;p&gt;Install PHP source code for the Unicode Searcher (a.k.a. The UniSearcher)&lt;br /&gt;
&lt;a href=&quot;http://www.isthisthingon.org/unicode/unisearch-1.1.tgz&quot;&gt;http://www.isthisthingon.org/unicode/unisearch-1.1.tgz&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg search yudit
yudit-3.0.7                    Multi-lingual Unicode text editor with TTF support
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg search ^lv 
lv-4.51.20200728               Powerful Multilingual File Viewer
lv-aspell-0.5.5.1_1,2          Aspell Latvian dictionary
lv-libreoffice-7.2.1.2         lv language pack for libreoffice
lv2-1.18.2                     Open standard for audio plugins (successor to LADSPA)
lv2file-0.84.31_1              Simple program that apples LV2 effects to audio files
lv2lint-0.14.0                 Check whether a given LV2 plugin is up to the specification
lv2proc-0.5.1_1                Simple command line effect processor using LV2 plugins
lvtk-2.0.0.r1.14               Wraps the LV2 C API and extensions into easy to use C++ classes
 
% pkg search mined
mined-2015.25                  Text mode editor with Unicode support
p5-LWP-UserAgent-Determined-1.07_1 Virtual browser that retries errors
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% pkg info --regex --full vim-gtk3
---- snip ----

FreeBSD has the following Vim packages:
* vim: Console-only Vim (vim binary) with all runtime files
* vim-gtk3, -gtk2, -athena, -motif, -x11: Console Vim plus 
  a GUI (gvim binary)
* vim-tiny: Vim binary only, with no runtime files. Not useful for most 
  people; intended for minimal (ex. jail) installations

WWW: http://www.vim.org/
WWW: https://github.com/vim/vim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% xterm -class UXTerm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;From&lt;br /&gt;
From Bash to Z Shell: Conquering the Command Line &lt;br /&gt;
Apress November 2004 &lt;br /&gt;
By Oliver Kiddle, Jerry Peek, Peter Stephenson &lt;br /&gt;
Chapter 4 - the sidebar “The Terminal Driver”&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The Terminal Driver&lt;/p&gt;

  &lt;p&gt;Why are there all these strange effects associated with terminals, 
and why do we need the stty command to control them?&lt;/p&gt;

  &lt;p&gt;In the early days of Unix, shells had no editing capabilities of their own, 
not even the basic ability to delete the previous character. 
However, a program existed that read the characters typed by the user, 
and sent them to the shell: the terminal driver. It gradually developed 
a few simple editing features of its own, until it grew to include all 
the features you can see from the output of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty -a&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;By default, the terminal driver accepts input a line at a time; this is 
sometimes known as “canonical” input mode. For commands that don’t know 
about terminals, such as simple shells without their own editors, 
the terminal driver usually runs in a mode sometimes known as “cooked.” 
(This is Unix humour; when not in “cooked” mode, the terminal is in “raw” 
mode.) Here, all the special keys are used. This allows you some very 
primitive editing on a line of input. For these simple editing features, 
the command stty acts as a sort of bind or bindkey command.&lt;/p&gt;

  &lt;p&gt;For example, let’s try cat, which simply copies input to output. 
Type the following:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cat
this is a line&amp;lt;ctrl-u&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;The line disappears; that’s because of the kill stty setting. 
If it didn’t work, try setting the following first:&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% stty kill &apos;^u&apos;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;This is handled entirely by the terminal driver; neither the program 
(cat) nor the shell knows anything about it. In “cooked” mode, the 
terminal passes a complete line to the program when you press Return. 
So cat never saw what you typed before the Ctrl-u.&lt;/p&gt;

  &lt;p&gt;Since not all programs want the terminal driver to handle their input, 
the terminal has other modes. The shell itself uses “cbreak” mode 
(not quite equivalent to “raw” mode), which means many of the characters 
which are special in “cooked” mode are passed straight through to 
the shell. Hence when you press Backspace in either bash or zsh, it’s 
the shell, not the terminal driver, that deals with it.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;unicode-combining-diacritics-in-a-terminal&quot;&gt;Unicode Combining Diacritics in a Terminal&lt;/h3&gt;

&lt;p&gt;Reference:&lt;br /&gt;
&lt;a href=&quot;https://forums.linuxmint.com/viewtopic.php?t=339238&quot;&gt;https://forums.linuxmint.com/viewtopic.php?t=339238&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;locale.h&amp;gt;

int main(void)
{
  setlocale(LC_ALL, &quot;en_CA.UTF-8&quot;);
  puts(&quot;\xc3\xab&quot;);   // e with diaeresis as one utf-8 char
  puts(&quot;e\xc2\xa8&quot;);  // e as one char, then combining diaeresis as utf-8 char
  puts(&quot;\xc2\xa8&quot;&quot;e&quot;);// combining diaeresis as utf-8 char, then e as next char
    
  return 0;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Compile and test:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% cc diacritics.c
 
% ls -lh a.out 
-rwxr-xr-x  1 dusko  wheel    15K Nov 27 13:18 a.out
 
% date
Sat 27 Nov 2021 13:18:36 PST
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% ./a.out
ë
e¨
¨e
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;print-double-width-characters---escape-characters-with-xterm&quot;&gt;Print Double Width Characters - Escape Characters with xterm&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% bash
$
$ command -v echo
echo

$ command -V echo
echo is a shell builtin

$ type -a echo
echo is a shell builtin
echo is /bin/echo

$ which echo
/bin/echo

$ whereis echo
echo: /bin/echo /usr/share/man/man1/echo.1.gz /usr/src/bin/echo

$ where echo
bash: where: command not found
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print double width characters, move cursor one position left and print an ‘x’.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ echo -e &quot;你好\e[Dx&quot;
你 x
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Return back to csh:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ exit
exit
% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% command -v echo
echo
 
% command -V echo
echo is a shell builtin
 
% type echo
echo is a shell builtin
 
% type -a echo
echo is a shell builtin
-a: not found
 
% which echo
echo: shell built-in command.
 
% whereis echo
echo: /bin/echo /usr/share/man/man1/echo.1.gz /usr/src/bin/echo
 
% where echo
echo is a shell built-in
/bin/echo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% echo -e &quot;你好\e[Dx&quot;
-e 你好\e[Dx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm(1)&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The dump-html action can also be triggered using the
Media Copy control sequence CSI 1 0 i, for example from a
shell script with&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;printf &apos;\033[10i&apos;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;你好\033Dx&quot;
你好
    x% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To send the escape sequence from keyboard directly: &lt;br /&gt;
The character &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;^[&lt;/code&gt; is typed this way&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl + v&lt;/code&gt; then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Esc&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% printf &quot;你好^[Dx&quot;
你好
    x% 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% echo -n &quot;你好^[Dx&quot;
你好
    x%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;% echo &quot;你好^[Dx&quot;
你好
    x
%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;References:&lt;br /&gt;
&lt;a href=&quot;https://github.com/selectel/pyte/issues/9&quot;&gt;cursor behavior for full/ambiguous width characters #9&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/369845/why-i-cant-send-escape-sequences-from-keyboard-but-can-do-it-from-another-tty&quot;&gt;Why I can’t send escape sequences from keyboard, but can do it from another tty?&lt;/a&gt;&lt;br /&gt;
Posted on Jun 7, 2017 - Updated on Sep 19, 2019 - Retrieved on Nov 6, 2021&lt;/p&gt;

&lt;p&gt;The man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xterm(1)&lt;/code&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;echotc [-sv] arg ... (+)
    Exercises the terminal capabilities (see termcap(5)) in args.
    For example, &apos;echotc home&apos; sends the cursor to the home
    position, &apos;echotc cm 3 10&apos; sends it to column 3 and row 10, and
    &apos;echotc ts 0; echo &quot;This is a test.&quot;; echotc fs&apos; prints &quot;This
    is a test.&quot;  in the status line.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;unichar-function-in-spreadsheets&quot;&gt;UNICHAR Function in Spreadsheets&lt;/h2&gt;

&lt;h3 id=&quot;unichar-function-in-libreoffice&quot;&gt;UNICHAR Function in LibreOffice&lt;/h3&gt;

&lt;p&gt;LibreOffice Help&lt;br /&gt;
&lt;a href=&quot;https://help.libreoffice.org/Calc/Text_Functions#UNICHAR&quot;&gt;https://help.libreoffice.org/Calc/Text_Functions#UNICHAR&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Converts a code number into a Unicode character or letter&lt;/p&gt;

&lt;p&gt;UNICHAR &lt;br /&gt;
Converts a code number into a Unicode character or letter.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Syntax&lt;/em&gt;&lt;br /&gt;
UNICHAR(number)&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Example&lt;/em&gt;&lt;br /&gt;
=UNICHAR(169) returns the Copyright character ©.&lt;/p&gt;

&lt;h3 id=&quot;unichar-function-in-excel&quot;&gt;UNICHAR Function in Excel&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://exceljet.net/excel-functions/excel-unichar-function&quot;&gt;https://exceljet.net/excel-functions/excel-unichar-function&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;references&quot;&gt;References:&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode Utilities - Unicode.org: Character Properties&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://util.unicode.org/UnicodeJsps/character.jsp&quot;&gt;https://util.unicode.org/UnicodeJsps/character.jsp&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode Utilities: Description and Index&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://util.unicode.org/UnicodeJsps/&quot;&gt;https://util.unicode.org/UnicodeJsps/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;UTF-8 encoding table and Unicode characters&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://utf8-chartable.de/unicode-utf8-table.pl&quot;&gt;https://utf8-chartable.de/unicode-utf8-table.pl&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;UniView&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://r12a.github.io/uniview/&quot;&gt;https://r12a.github.io/uniview/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode code converter v10&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://r12a.github.io/app-conversion/&quot;&gt;https://r12a.github.io/app-conversion/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Analyse string&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://r12a.github.io/app-analysestring/&quot;&gt;https://r12a.github.io/app-analysestring/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Encoding converter (Unicode, UTF-8, hex, char, dec)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://r12a.github.io/app-encodings/&quot;&gt;https://r12a.github.io/app-encodings/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Information about a Unicode Code Point&lt;br /&gt;
For example:  SNOWMAN WITHOUT SNOW, (U+26C4)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://codepoints.net/U+26C4&quot;&gt;http://codepoints.net/U+26C4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See also:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Fileformat.info&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.fileformat.info/info/unicode/char/26C4/index.htm&quot;&gt;https://www.fileformat.info/info/unicode/char/26C4/index.htm&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The Unicode Searcher (a.k.a. The UniSearcher)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.isthisthingon.org/unicode/index.phtml?glyph=26C4&quot;&gt;http://www.isthisthingon.org/unicode/index.phtml?glyph=26C4&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://www.isthisthingon.org/unicode/index.php?page=02&amp;amp;subpage=6&amp;amp;glyph=026C4&quot;&gt;http://www.isthisthingon.org/unicode/index.php?page=02&amp;amp;subpage=6&amp;amp;glyph=026C4&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;All Unicoded Characters by Code Point&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.isthisthingon.org/unicode/allchars1.php&quot;&gt;http://www.isthisthingon.org/unicode/allchars1.php&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode website&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://unicode.org/cldr/utility/character.jsp?a=26C4&quot;&gt;https://unicode.org/cldr/utility/character.jsp?a=26C4&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://util.unicode.org/UnicodeJsps/character.jsp?a=26C4&quot;&gt;https://util.unicode.org/UnicodeJsps/character.jsp?a=26C4&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Wikipedia&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/%E2%9B%84&quot;&gt;https://en.wikipedia.org/wiki/%E2%9B%84&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Graphemica&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://graphemica.com/%E2%9B%84&quot;&gt;https://graphemica.com/%E2%9B%84&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ScriptSource&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://scriptsource.org/cms/scripts/page.php?item_id=character_detail&amp;amp;key=U0026C4&quot;&gt;https://scriptsource.org/cms/scripts/page.php?item_id=character_detail&amp;amp;key=U0026C4&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Compart&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.compart.com/en/unicode/U+26C4&quot;&gt;https://www.compart.com/en/unicode/U+26C4&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode-table&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://unicode-table.com/en/search/?q=26C4&quot;&gt;https://unicode-table.com/en/search/?q=26C4&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;X11 fonts - a tutorial&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://twiserandom.com/unix/x11-fonts-a-tutorial/index.html&quot;&gt;https://twiserandom.com/unix/x11-fonts-a-tutorial/index.html&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;X.org Fonts General&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://xpt.sourceforge.net/techdocs/nix/x/fonts/xf18-XorgFontsGeneral/single/&quot;&gt;http://xpt.sourceforge.net/techdocs/nix/x/fonts/xf18-XorgFontsGeneral/single/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A semi-brief history and overview of X fonts and font rendering technology&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://utcc.utoronto.ca/~cks/space/blog/unix/XFontTypes&quot;&gt;https://utcc.utoronto.ca/~cks/space/blog/unix/XFontTypes&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode Explained book By Jukka K. Korpela&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://learning.oreilly.com/library/view/unicode-explained/059610121X/&quot;&gt;https://learning.oreilly.com/library/view/unicode-explained/059610121X/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Fontconfig - freedesktop.org&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.freedesktop.org/wiki/Software/fontconfig/&quot;&gt;https://www.freedesktop.org/wiki/Software/fontconfig/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Xft - freedesktop.org&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://freedesktop.org/wiki/Software/Xft/&quot;&gt;https://freedesktop.org/wiki/Software/Xft/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Character Encoder / Decoder Tool – String Functions - Online String Manipulation Tools&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://string-functions.com/encodedecode.aspx&quot;&gt;https://string-functions.com/encodedecode.aspx&lt;/a&gt;&lt;/p&gt;
&lt;h5 id=&quot;what-is-a-code-page&quot;&gt;What Is a Code Page?&lt;/h5&gt;
&lt;blockquote&gt;
  &lt;p&gt;Code page is another name for character encoding. It consists of a table 
of values that describes the character set for a particular language.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h5 id=&quot;what-is-character-encoding&quot;&gt;What is Character Encoding?&lt;/h5&gt;
&lt;blockquote&gt;
  &lt;p&gt;Character encoding is the process of encoding a collection of characters 
according to an encoding system. This process normally pairs numbers with 
characters to encode information that can be used by a computer.&lt;/p&gt;

  &lt;p&gt;Character encodings allow us to understand the encoding that is taking 
place with computers. Due to there being a variety of character encodings, 
errors can spring up when encoded with one character encoding and decoding 
with another. The above tool can be used to simulate if any errors will 
come up when encoding with any character encoding and decoding with another.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h5 id=&quot;types-of-character-encodings&quot;&gt;Types of Character Encodings&lt;/h5&gt;
&lt;blockquote&gt;
  &lt;p&gt;There is a wide variety of encodings that can be used to encode or decode 
a string of characters, including UTF-8, ASCII, and ISO 9959-1.&lt;/p&gt;

  &lt;p&gt;Examples of popular character encodings:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;ASCII: American Standard Code for Information Exchange&lt;/li&gt;
    &lt;li&gt;ANSI: American National Standards Institute&lt;/li&gt;
    &lt;li&gt;Unicode (internal text codes used by operating systems)&lt;/li&gt;
    &lt;li&gt;UTF-8 (Unicode Transformation Format that uses 1 byte to represent characters)&lt;/li&gt;
    &lt;li&gt;UTF-16 (Unicode Transformation Format that uses 2 bytes to represent characters)&lt;/li&gt;
    &lt;li&gt;UTF-32 (Unicode Transformation Format that uses 4 bytes to represent characters)&lt;/li&gt;
  &lt;/ul&gt;

  &lt;p&gt;While these are certainly popular encodings that are used, there are 
times when strings of code are encoded with encodings that aren’t as 
widely used, such as x-IA5-Norgwegian or DOS-720. This can cause confusion 
and possible errors, so it’s important to understand how to reduce these 
errors by simulating beforehand using String Functions’
character encoding/decoding tool.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;Misconceptions about Unicode and UTF-8/16/32 - Daniel Miessler&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://danielmiessler.com/blog/misconceptions-about-unicode-and-utf-81632/&quot;&gt;https://danielmiessler.com/blog/misconceptions-about-unicode-and-utf-81632/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The chart above reveals a misconception about Unicode: the “8” in “UTF-8” 
doesn’t actually indicate how many bits a code point gets encoded into. 
The final size of the encoded data is based on two things: a) the code 
unit size, and b) the number of code units used. So the 8 in UTF-8 stands 
for the code unit size, not the number of bits that will be used to 
encode a code point.&lt;/p&gt;

  &lt;p&gt;As the chart indicates, UTF-8 can actually store a code point using 
between one and four bytes. I find it helpful to think of the code unit 
size as the “granularity level”, or the “building block size” you have 
available to you. So with UTF-16 you can still only have four bytes 
maximum, but your code unit size is 16 bits, so your minimum number of 
bytes is two.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;Flexible and Economical UTF-8 Decoder&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://bjoern.hoehrmann.de/utf-8/decoder/dfa/&quot;&gt;http://bjoern.hoehrmann.de/utf-8/decoder/dfa/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Integer ASCII value to character in bash using printf&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/890262/integer-ascii-value-to-character-in-bash-using-printf&quot;&gt;https://stackoverflow.com/questions/890262/integer-ascii-value-to-character-in-bash-using-printf&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Find the best font for rendering a [Unicode] code point&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/162305/find-the-best-font-for-rendering-a-codepoint/393740#393740&quot;&gt;https://unix.stackexchange.com/questions/162305/find-the-best-font-for-rendering-a-codepoint/393740#393740&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;U+2620 Skull and Crossbones&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://codepoints.net/U+2620&quot;&gt;https://codepoints.net/U+2620&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode Check Mark (U+2713) Font Support (U+2713)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.fileformat.info/info/unicode/char/2713/fontsupport.htm&quot;&gt;https://www.fileformat.info/info/unicode/char/2713/fontsupport.htm&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode Character “ỗ” (U+1ED7) - Name: Latin Small Letter O with Circumflex and Tilde&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.compart.com/en/unicode/U+1ED7&quot;&gt;https://www.compart.com/en/unicode/U+1ED7&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode Character “顠” (U+9860) - Name: CJK Unified Ideograph-9860&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.compart.com/en/unicode/U+9860&quot;&gt;https://www.compart.com/en/unicode/U+9860&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Encoding Problem Table&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://string-functions.com/encodingtable.aspx?encoding=65001&amp;amp;decoding=20127&quot;&gt;https://string-functions.com/encodingtable.aspx?encoding=65001&amp;amp;decoding=20127&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;What happens if you encode a character with one encoding and then try to 
decode with another? This is often the case when you have a mix of 
operating systems and/or internationalization requirements.  Also, this 
tends to be a problem with web frameworks where the code page can be set 
in the http header or in the http head section.  Selecting the wrong 
encoding (code page) may display some characters correctly but others 
will be scrambled.  The first 256 characters in a mixed selection of 
encodings are displayed below.  Encoding a text with Unicode (UTF-8) and 
decoding with US-ASCII will sometimes produce strange characters. 
Characters may display as a box denoting binary data, another character 
or even several other characters.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;The Universal Coded Character Set (UCS, Unicode)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Universal_Coded_Character_Set&quot;&gt;https://en.wikipedia.org/wiki/Universal_Coded_Character_Set&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Squinting at ASCII on Linux&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.networkworld.com/article/3244135/squinting-at-ascii-on-linux.html&quot;&gt;https://www.networkworld.com/article/3244135/squinting-at-ascii-on-linux.html&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Multilingual form encoding - W3C Internationalization&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.w3.org/International/questions/qa-forms-utf-8&quot;&gt;https://www.w3.org/International/questions/qa-forms-utf-8&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Search for Unicode characters&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://unicode-search.net/&quot;&gt;https://unicode-search.net/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode to Bytes Converter - World’s Simplest Unicode Tool&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://onlineunicodetools.com/convert-unicode-to-bytes&quot;&gt;https://onlineunicodetools.com/convert-unicode-to-bytes&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/&quot;&gt;https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Introduction to Unicode and UTF-8&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://flaviocopes.com/unicode/&quot;&gt;https://flaviocopes.com/unicode/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;UTFs - IBM Db2 for z/OS Documentation&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/docs/en/db2-for-zos/12?topic=unicode-utfs&quot;&gt;https://www.ibm.com/docs/en/db2-for-zos/12?topic=unicode-utfs&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Endianness - IBM Db2 for z/OS Documentation&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/docs/en/db2-for-zos/12?topic=data-endianness&quot;&gt;https://www.ibm.com/docs/en/db2-for-zos/12?topic=data-endianness&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;UTF-8, UTF-16, UTF-32 &amp;amp; BOM - Unicode.org FAQ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://unicode.org/faq/utf_bom.html&quot;&gt;http://unicode.org/faq/utf_bom.html&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Forms of Unicode&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://icu-project.org/docs/papers/forms_of_unicode/&quot;&gt;https://icu-project.org/docs/papers/forms_of_unicode/&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;How to find UTF-8 reference of a composite unicode character - Stack Overflow&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/30733035/how-to-find-utf-8-reference-of-a-composite-unicode-character#30733559&quot;&gt;https://stackoverflow.com/questions/30733035/how-to-find-utf-8-reference-of-a-composite-unicode-character#30733559&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Normalization Browser - ICU (International Components for Unicode)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://icu4c-demos.unicode.org/icu-bin/nbrowser&quot;&gt;https://icu4c-demos.unicode.org/icu-bin/nbrowser&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Canonically Equivalent Shortest Form&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://icu.unicode.org/design/normalizing-to-shortest-form&quot;&gt;https://icu.unicode.org/design/normalizing-to-shortest-form&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Character Normalization in IETF Protocols&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://datatracker.ietf.org/doc/html/draft-duerst-i18n-norm-04&quot;&gt;https://datatracker.ietf.org/doc/html/draft-duerst-i18n-norm-04&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Globalization Gotchas&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.macchiato.com/unicode/globalization-gotchas&quot;&gt;http://www.macchiato.com/unicode/globalization-gotchas&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;What is NFC?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.macchiato.com/unicode/nfc-faq&quot;&gt;http://www.macchiato.com/unicode/nfc-faq&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Some gotchas about Unicode that EVERY programmer should know&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://nukep.github.io/progblog/2015/02/26/some-gotchas-about-unicode-that-every-programmer-should-know.html#characters-that-appear-the-same-might-not-test-equal&quot;&gt;https://nukep.github.io/progblog/2015/02/26/some-gotchas-about-unicode-that-every-programmer-should-know.html#characters-that-appear-the-same-might-not-test-equal&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Can we use base 16, and not 85, for ASCII charset representations?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://lists.freedesktop.org/archives/fontconfig/2013-September/004915.html&quot;&gt;https://lists.freedesktop.org/archives/fontconfig/2013-September/004915.html&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;UTF-8 and Unicode FAQ for Unix/Linux&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cl.cam.ac.uk/~mgk25/unicode.html&quot;&gt;https://www.cl.cam.ac.uk/~mgk25/unicode.html&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In bash, how can I convert a Unicode Code Point [0-9A-F] into a printable character?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://unix.stackexchange.com/questions/12273/in-bash-how-can-i-convert-a-unicode-codepoint-0-9a-f-into-a-printable-charact&quot;&gt;https://unix.stackexchange.com/questions/12273/in-bash-how-can-i-convert-a-unicode-codepoint-0-9a-f-into-a-printable-charact&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Unicode List of Control characters to paste as seen in Notepad++ re those funny characters&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://metadataconsulting.blogspot.com/2019/06/Unicode-List-of-Control-characters-to-paste-as-seen-in-Notepad-re-those-funny-characters.html&quot;&gt;http://metadataconsulting.blogspot.com/2019/06/Unicode-List-of-Control-characters-to-paste-as-seen-in-Notepad-re-those-funny-characters.html&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 06 Nov 2021 21:03:22 -0700</pubDate>
        <link>http://localhost:4000/xterm/font/unicode/utf8/unix/x11/fontconfig/locale/2021/11/06/xterm-font-unicode-utf8-characters.html</link>
        <guid isPermaLink="true">http://localhost:4000/xterm/font/unicode/utf8/unix/x11/fontconfig/locale/2021/11/06/xterm-font-unicode-utf8-characters.html</guid>
        
        
        <category>xterm</category>
        
        <category>font</category>
        
        <category>unicode</category>
        
        <category>utf8</category>
        
        <category>unix</category>
        
        <category>x11</category>
        
        <category>fontconfig</category>
        
        <category>locale</category>
        
      </item>
    
      <item>
        <title>Use SSH Public/Private RSA or DSA key (SSH Passwordless Operation)</title>
        <description>&lt;p&gt;Updated: Sep 25, 2024&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
In code excerpts and examples, the long lines are folded and then 
indented to make sure they fit the page.&lt;/p&gt;

&lt;p&gt;Components of SSH Used:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;ssh-keygen(1) – authentication key generation, management and conversion&lt;/li&gt;
  &lt;li&gt;ssh-agent(1)  – authentication agent&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Local environment: bash shell, Red Hat Enterprise Linux 7.3 64-bit, 
user’s home directory: /web.&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ps &lt;span class=&quot;nv&quot;&gt;$$&lt;/span&gt;
  PID TTY      STAT   TIME COMMAND
11123 pts/1    Ss     0:00 &lt;span class=&quot;nt&quot;&gt;-bash&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; /etc/redhat-release
Red Hat Enterprise Linux Server release 7.3 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Maipo&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;arch
&lt;/span&gt;x86_64

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt;
Linux local.example 3.10.0-514.el7.x86_64 &lt;span class=&quot;c&quot;&gt;#1 SMP&lt;/span&gt;
  Wed Oct 19 11:24:13 EDT 2016 x86_64 x86_64 x86_64
  GNU/Linux

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep &lt;/span&gt;user1 /etc/passwd
user1:x:1000:48::/web:/bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Before setting up passwordless SSH, you are prompted for a password when 
logging in to the remote system:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ssh user1@remote.example
Password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;generating-the-key-pair&quot;&gt;Generating the Key Pair&lt;/h2&gt;

&lt;p&gt;The first step is to create your public- and 
private-key pair on your local machine.&lt;/p&gt;

&lt;p&gt;The following command creates a 4,096-bit RSA key pair 
and prompts you for a passphrase (which you can leave blank).&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ssh-keygen &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; rsa &lt;span class=&quot;nt&quot;&gt;-b&lt;/span&gt; 4096
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output (the key fingerprint obfuscated):&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Generating public/private rsa key pair.
Enter file &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;which to save the key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;/web/.ssh/id_rsa&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
Enter passphrase &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;empty &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;no passphrase&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
Enter same passphrase again:
Your identification has been saved &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; /web/.ssh/id_rsa.
Your public key has been saved &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; /web/.ssh/id_rsa.pub.
The key fingerprint is:
ef:94:ab:11:22:33:44:55:66:77:88:99:aa:bb:cc:dd user1@local.example
The key&lt;span class=&quot;s1&quot;&gt;&apos;s randomart image is:
---- snip ----
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can place the public key file in any account on any remote machine 
running the SSH server (deamon), usually named &lt;em&gt;sshd&lt;/em&gt;.  Your private key 
on the local machine allows you access to the remote machines.&lt;/p&gt;

&lt;p&gt;To allow access to an account on a remote system, place the content of 
the public key file from the local system (~/.ssh/id_rsa.pub) in 
~/.ssh/authorized_keys file on the remote system.  The file contains one 
public key per line in its  ASCII representation.  If the file does not 
exist, simply make a copy of your public key file (from the local system).&lt;/p&gt;

&lt;p&gt;If the account on the remote machine doesn’t have ~/.ssh directory, 
create it by running the following on the remote machine:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; ~/.ssh
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;0700 ~/.ssh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run the following command on your local machine:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;scp ~/.ssh/id_rsa.pub user1@remote.example:.ssh/authorized_keys
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you need to add a second key, append it to the file.&lt;/p&gt;

&lt;p&gt;On the remote machine:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;0600 ~/.ssh/authorized_keys
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After you’ve set up passwordless SSH, logging in from the local machine 
to the remote system is direct, that is, without being prompted for 
the password:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ssh user1@remote.example

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;hostname
&lt;/span&gt;remote.example
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; It is recommended that you create &lt;strong&gt;separate&lt;/strong&gt; SSH key pairs for &lt;strong&gt;each&lt;/strong&gt; &lt;em&gt;of the services&lt;/em&gt; you are using because if a private key is compromised, only one service would be possibly affected and require SSH key change.&lt;/p&gt;

&lt;p&gt;If you already have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id_rsa&lt;/code&gt; key file, running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ssh-keygen&lt;/code&gt; will overwrite that key (it will ask for confirmation before overwriting it).  Since &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id_rsa&lt;/code&gt; is the default name for RSA key type, you can have as many keys as you want with any names you want.  You can specify the output file name by adding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-f&lt;/code&gt; option.  You can also specify the type and length of the key if you want.&lt;/p&gt;

&lt;p&gt;SSH keys for user authentication are usually stored in the user’s .ssh directory under the home directory, that is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.ssh&lt;/code&gt; but in enterprise environments, the location is often different.  The default key file name depends on the algorithm, in the example above when using the default RSA algorithm it was &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id_rsa&lt;/code&gt;.  It could also be, for example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id_dsa&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id_ecdsa&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[TODO]&lt;/strong&gt;  Complete this section&lt;/p&gt;

&lt;p&gt;ODAVDE&lt;/p&gt;

&lt;p&gt;From the man page for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ssh-keygen(1)&lt;/code&gt; on FreeBSD 14 with OpenSSH version OpenSSH_9.5p1 and &lt;a href=&quot;https://www.ssh.com/academy/ssh/keygen&quot;&gt;https://www.ssh.com/academy/ssh/keygen&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;OpenSSH supports the following key algorithms for authentication keys:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;rsa - the default key size for is 3072 bits; 4096 bits is better.  Choosing a different algorithm may be advisable.  It is quite possible the RSA algorithm will become practically breakable in the foreseeable future.  All SSH clients support this algorithm.&lt;/li&gt;
  &lt;li&gt;ecdsa - a new Digital Signature Algorithm using elliptic curves.  This is probably a good algorithm for current applications.  Only three key sizes are supported: 256, 384, and 521 bits.  It’s recommended to always use it with 521 bits.  Most SSH clients now support this algorithm.&lt;/li&gt;
  &lt;li&gt;ed25519 - this is a new algorithm added in OpenSSH.  Support for it in clients is not yet universal.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;References: &lt;a href=&quot;https://community.atlassian.com/t5/Bitbucket-questions/SSH-Keygen-invalidates-existing-SSH-keys/qaq-p/1289261&quot;&gt;https://community.atlassian.com/t5/Bitbucket-questions/SSH-Keygen-invalidates-existing-SSH-keys/qaq-p/1289261&lt;/a&gt;, &lt;a href=&quot;https://www.ssh.com/academy/ssh/keygen&quot;&gt;https://www.ssh.com/academy/ssh/keygen&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;DOOVDE&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;(Retrieved on Sep 25, 2024)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://community.atlassian.com/t5/Bitbucket-questions/SSH-Keygen-invalidates-existing-SSH-keys/qaq-p/1289261&quot;&gt;SSH Keygen, invalidates existing SSH keys?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.ssh.com/academy/ssh/keygen&quot;&gt;How to Use ssh-keygen to Generate a New SSH Key?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.redhat.com/sysadmin/configure-ssh-keygen&quot;&gt;Using ssh-keygen and sharing for key-based authentication in Linux&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

</description>
        <pubDate>Sat, 02 Oct 2021 20:53:02 -0700</pubDate>
        <link>http://localhost:4000/ssh/unix/sysadmin/2021/10/02/ssh-passwordless.html</link>
        <guid isPermaLink="true">http://localhost:4000/ssh/unix/sysadmin/2021/10/02/ssh-passwordless.html</guid>
        
        
        <category>ssh</category>
        
        <category>unix</category>
        
        <category>sysadmin</category>
        
      </item>
    
      <item>
        <title>Store Your Dotfiles in a Bare Git Repository in Bitbucket</title>
        <description>&lt;p&gt;###&lt;/p&gt;

&lt;p&gt;OS: Mac OS X 10.9.5&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ printf &quot;$HOME\n&quot;
/Users/dusko

$ printf &quot;$SHELL\n&quot;
/bin/zsh

$ git init --bare $HOME/.cfg
Initialized empty Git repository in /Users/dusko/.cfg/

$ ls -ld /Users/dusko/.cfg
drwxr-xr-x  9 dusko  staff  306 22 May 15:26 /Users/dusko/.cfg

$ which git
/usr/local/bin/git

$ whereis git
/usr/bin/git

$ git --version
git version 2.6.1

$ /usr/local/bin/git --version
git version 2.6.1

$ /usr/bin/git --version
git version 1.9.5 (Apple Git-50.3)

$ ls -lh .zshrc*
lrwxr-xr-x  1 dusko  staff    35B 12 Oct  2015 .zshrc -&amp;gt; /Users/dusko/.zprezto/runcoms/zshrc
... ... ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Login into your Bitbucket account.
In Bitbucket web interface: Repositories &amp;gt; Create repository
Repository name: cfg, Access level: This is a private repository, 
Repository type: Git&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cp /Users/dusko/.zprezto/runcoms/zshrc /Users/dusko/.zprezto/runcoms/zshrc.2016-05-22_1530.bak

$ printf &quot;\n&quot; &amp;gt;&amp;gt; /Users/dusko/.zprezto/runcoms/zshrc
$ printf &quot;alias cfg=&apos;/usr/local/bin/git --git-dir=$HOME/.cfg/ --work-tree=$HOME&apos;\n&quot; &amp;gt;&amp;gt; /Users/dusko/.zprezto/runcoms/zshrc

$ whereis diff
/usr/bin/diff

$ /usr/bin/diff --unified=0 /Users/dusko/.zprezto/runcoms/zshrc.2016-05-22_1530.bak /Users/dusko/.zprezto/runcoms/zshrc
--- /Users/dusko/.zprezto/runcoms/zshrc.2016-05-22_1530.bak     2016-05-22 15:36:26.000000000 -0700
+++ /Users/dusko/.zprezto/runcoms/zshrc 2016-05-22 19:36:32.000000000 -0700
@@ -125,0 +126,2 @@
+
+alias cfg=&apos;/usr/local/bin/git --git-dir=/Users/dusko/.cfg/ --work-tree=/Users/dusko&apos;

$ pwd
/Users/dusko

$ cfg status
On branch master

Initial commit

nothing to commit (create/copy files and use &quot;git add&quot; to track)

$ which cfg
cfg: aliased to /usr/local/bin/git --git-dir=/Users/dusko/.cfg/ --work-tree=/Users/dusko

$ printf &quot;.cfg\n&quot; &amp;gt; .gitignore

$ git clone --bare https://bitbucket.org/duskop/cfg.git $HOME/.cfg
fatal: destination path &apos;/Users/dusko/.cfg&apos; already exists and is not an empty directory.

$ rm -rf ~/.cfg

$ git clone --separate-git-dir=$HOME/.cfg https://bitbucket.org/duskop/cfg.git cfg-tmp
Cloning into &apos;cfg-tmp&apos;...
Username for &apos;https://bitbucket.org&apos;: duskop
Password for &apos;https://duskop@bitbucket.org&apos;: 
warning: You appear to have cloned an empty repository.
Checking connectivity... done.

$ ls -ld ~/.cfg
drwxr-xr-x  9 dusko  staff  306 22 May 17:26 /Users/dusko/.cfg

$ cfg status
On branch master

Initial commit

Untracked files:
  (use &quot;git add &amp;lt;file&amp;gt;...&quot; to include in what will be committed)

    ... ... ... 
    ... ... ... 
    .gitignore
    ... ... ... 
    .mutt
    ... ... ... 
    .vimrc
    ... ... ... 


nothing added to commit but untracked files present (use &quot;git add&quot; to track)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cfg add .vimrc
$ cfg commit -m &quot;Add vimrc&quot;
[master (root-commit) 7afb825] Add vimrc
 Committer: Dusko Pijetlovic &amp;lt;dusko@Duskos-MacBook-Pro.local&amp;gt;
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 337 insertions(+)
 create mode 100644 .vimrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cfg status
On branch master
Your branch is based on &apos;origin/master&apos;, but the upstream is gone.
  (use &quot;git branch --unset-upstream&quot; to fixup)
Untracked files:
  (use &quot;git add &amp;lt;file&amp;gt;...&quot; to include in what will be committed)

    ... ... ...
    ... ... ...

nothing added to commit but untracked files present (use &quot;git add&quot; to track)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cfg push
warning: push.default is unset; its implicit value has changed in
Git 2.0 from &apos;matching&apos; to &apos;simple&apos;. To squelch this message
and maintain the traditional behavior, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

  git config --global push.default simple

When push.default is set to &apos;matching&apos;, git will push local branches
to the remote branches that already exist with the same name.

Since Git 2.0, Git defaults to the more conservative &apos;simple&apos;
behavior, which only pushes the current branch to the corresponding
remote branch that &apos;git pull&apos; uses to update the current branch.

See &apos;git help config&apos; and search for &apos;push.default&apos; for further information.
(the &apos;simple&apos; mode was introduced in Git 1.7.11. Use the similar mode
&apos;current&apos; instead of &apos;simple&apos; if you sometimes use older versions of Git)

Username for &apos;https://bitbucket.org&apos;: duskop
Password for &apos;https://duskop@bitbucket.org&apos;: 
Counting objects: 3, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 6.57 KiB | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://bitbucket.org/duskop/cfg.git
 * [new branch]      master -&amp;gt; master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log in your Bitbucket account and check whether sync worked with 
your remote repository.&lt;/p&gt;

&lt;h4 id=&quot;references&quot;&gt;References&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item&amp;#63;id=11070797&quot;&gt;Ask HN: What do you use to manage dotfiles?&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://developer.atlassian.com/blog/2016/02/best-way-to-store-dotfiles-git-bare-repo/&quot;&gt;The best way to store dotfiles: A bare Git repository&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 13 Mar 2017 18:14:21 -0700</pubDate>
        <link>http://localhost:4000/dotfiles/git/applemacosx/versioncontrol/2017/03/13/store-dotfiles-in-bitbucket.html</link>
        <guid isPermaLink="true">http://localhost:4000/dotfiles/git/applemacosx/versioncontrol/2017/03/13/store-dotfiles-in-bitbucket.html</guid>
        
        
        <category>dotfiles</category>
        
        <category>git</category>
        
        <category>applemacosx</category>
        
        <category>versioncontrol</category>
        
      </item>
    
      <item>
        <title>Setup Grav CMS on NetBSD 7 VM in VirtualBox</title>
        <description>&lt;p&gt;On the host OS:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;VBoxManage &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
createvm &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--ostype&lt;/span&gt; NetBSD_64 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; NetBSDWeb &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--register&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;VBoxManage &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
modifyvm NetBSDWeb &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--memory&lt;/span&gt; 2048 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--vram&lt;/span&gt; 32 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--cpus&lt;/span&gt; 1 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--audio&lt;/span&gt; coreaudio &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--audiocontroller&lt;/span&gt; ac97 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--biosbootmenu&lt;/span&gt; messageandmenu &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--clipboard&lt;/span&gt; bidirectional &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--usb&lt;/span&gt; on &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--usbehci&lt;/span&gt; on &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--nic1&lt;/span&gt; nat &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--natpf1&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;guestssh,tcp,,5555,,22&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--natpf1&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;guesthttp,tcp,,7777,,80&quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--nictype1&lt;/span&gt; 82540EM
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;VBoxManage &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
storagectl NetBSDWeb &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; IDE &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--add&lt;/span&gt; ide &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--controller&lt;/span&gt; PIIX4 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--bootable&lt;/span&gt; on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;VBoxManage &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
createhd &lt;span class=&quot;nt&quot;&gt;--filename&lt;/span&gt; /Users/dusko/VirtualBox&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;VMs/NetBSDWeb/NetBSDWeb.vdi &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--size&lt;/span&gt; 20480 &lt;span class=&quot;nt&quot;&gt;--format&lt;/span&gt; VDI

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;VBoxManage &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
storageattach NetBSDWeb &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--storagectl&lt;/span&gt; IDE &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--port&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;--device&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;--type&lt;/span&gt; hdd &lt;span class=&quot;nt&quot;&gt;--medium&lt;/span&gt; /Users/dusko/VirtualBox&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;VMs/NetBSDWeb/NetBSDWeb.vdi

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;VBoxManage &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
storageattach NetBSDWeb &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--storagectl&lt;/span&gt; IDE &lt;span class=&quot;nt&quot;&gt;--port&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;--device&lt;/span&gt; 1 &lt;span class=&quot;nt&quot;&gt;--type&lt;/span&gt; dvddrive &lt;span class=&quot;nt&quot;&gt;--medium&lt;/span&gt; /Users/dusko/NetBSD-7.0-amd64.iso
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;VBoxManage startvm NetBSDWeb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1. Install NetBSD
&amp;gt;a: Installation messages in English
Keyboard type:  &amp;gt;a: unchanged
&amp;gt;a: Install NetBSD to hard disk
Shall we continue?  &amp;gt;b: Yes
Available disks   &amp;gt;a: wd0 (20G, VBOX HARDDISK)
&amp;gt;a: This is the correct geometry
&amp;gt;b: Use the entire disk
Do you want to install the NetBSD bootcode?  &amp;gt;a: Yes
&amp;gt;b: Use existing partition sizes
&amp;gt;x: Partition sizes ok
Please enter a name for your NetBSD disk [VBOX HARDDISK  ]:  &amp;lt;enter&amp;gt;
Shall we continue?  &amp;gt;b: Yes
Bootblocks selection  &amp;gt;a: Use BIOS console
&amp;gt;x: Exit
&amp;gt;a: Full installation
Install from  &amp;gt;a: CD-ROM / DVD / install image media
&amp;gt;Hit enter to continue
&amp;gt;a: Configure network
Available interfaces  &amp;gt;a: wm0
Network media type [autoselect]: &amp;lt;enter&amp;gt;
Perform autoconfiguration?  &amp;gt;a: Yes
Your host name:  nbsdweb

The following are the values you entered.
DNS Domain:             telus
Host Name:              nbsdweb
Nameserver:             84.200.69.80
Primary Interface:      wm0
Media type:             autoselect
Host IP:                10.0.2.15
Netmask:                255.255.255.0
IPv4 Gateway:           10.0.2.2
IPv6 autoconf:

Are they OK?  &amp;gt;a: Yes

Is the network information you entered accurate for this machine
in regular operation and do you want it installed in /etc?
&amp;gt;a: Yes

&amp;gt;b: Timezone
&amp;gt;America &amp;gt; America/Vancouver
&amp;gt;Exit

&amp;gt;d: Change root password
&amp;gt;a: Yes
New password: ******************
Retype new password: ******************

&amp;gt;e: Enable installation of binary packages
&amp;gt;a: Host                   ftp.NetBSD.org
 b: Base directory         pub/pkgsrc/packages/NetBSD
 c: Package directory      /amd64/7.0/All
 d: User                   ftp
 e: Password 
 f: Proxy
 g: Additional packages
 h: Configure network
 i: Quit installing binary pkgs
 x: Install pkgin and update package summary

&amp;gt;x: Install pkgin and update package summary
&amp;gt;Hit enter to continue

&amp;gt;g: Enable sshd
&amp;gt;h: Enable ntpd
&amp;gt;i: Run ntpdate at boot

&amp;gt;o: Add a user
8 character username to add: dusko
Do you wish to add this user to group wheel?
&amp;gt;a: Yes
User shell  &amp;gt;a: /bin/sh
New password:
Retype new password:

&amp;gt;x: Finished configuring
&amp;gt;Hit enter to continue

&amp;gt;x: Exit Install System
# shutdown -p now 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the host OS:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ VBoxManage storageattach NetBSDWeb --storagectl IDE --port 0 --device 1 --medium emptydrive
$ VBoxManage startvm NetBSDWeb

$ ssh -p 5555 dusko@localhost
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ su
# cd /usr &amp;amp;&amp;amp; cvs -q -z2 -d anoncvs@anoncvs.NetBSD.org:/cvsroot checkout -r pkgsrc-2015Q4 -P pkgsrc &amp;gt; /home/dusko/pkgsrc_via_cvs.txt 2&amp;gt;&amp;amp;1

# echo &quot;# Recommended CVS configuration file from the pkgsrc guide&quot; &amp;gt; /root/.cvsrc
# echo &quot;#     http://www.netbsd.org/docs/pkgsrc/getting.html#getting-via-cvs&quot; &amp;gt;&amp;gt; /root/.cvsrc
# echo &quot;cvs -q -z2&quot; &amp;gt;&amp;gt; /root/.cvsrc
# echo &quot;checkout -P&quot; &amp;gt;&amp;gt; /root/.cvsrc
# echo &quot;update -dP&quot; &amp;gt;&amp;gt; /root/.cvsrc
# echo &quot;diff -upN&quot; &amp;gt;&amp;gt; /root/.cvsrc
# echo &quot;rdiff -u&quot; &amp;gt;&amp;gt; /root/.cvsrc
# echo &quot;release -d&quot; &amp;gt;&amp;gt; /root/.cvsrc

# cd /usr/pkgsrc &amp;amp;&amp;amp; cvs update -dP

# export PKG_PATH=&quot;http://ftp.NetBSD.org/pub/pkgsrc/packages/$(uname -s)/$(uname -m)/$(uname -r)/All&quot; 

# ftp -o - `echo $PKG_PATH` | grep -i php- | grep 5 
&amp;lt;a href=&quot;ap22-suphp-0.7.2.tgz&quot;&amp;gt;ap22-suphp-0.7.2.tgz&amp;lt;/a&amp;gt;                     12-Jan-2016 16:08             75kB
&amp;lt;a href=&quot;asp2php-0.77.3.tgz&quot;&amp;gt;asp2php-0.77.3.tgz&amp;lt;/a&amp;gt;                       10-Jan-2016 12:35             44kB
&amp;lt;a href=&quot;mserv-php-0.90nb1.tgz&quot;&amp;gt;mserv-php-0.90nb1.tgz&amp;lt;/a&amp;gt;                    09-Mar-2016 15:54             16kB
&amp;lt;a href=&quot;p5-PHP-Serialization-0.34nb5.tgz&quot;&amp;gt;p5-PHP-Serialization-0.34nb5.tgz&amp;lt;/a&amp;gt;         04-Jan-2016 14:54              8kB
&amp;lt;a href=&quot;php-5.5.33.tgz&quot;&amp;gt;php-5.5.33.tgz&amp;lt;/a&amp;gt;                           08-Mar-2016 20:12           5489kB
&amp;lt;a href=&quot;php-5.6.19.tgz&quot;&amp;gt;php-5.6.19.tgz&amp;lt;/a&amp;gt;                           08-Mar-2016 20:16           5543kB


# pkg_add -v php-5.6.19

# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep gd 
&amp;lt;a href=&quot;php55-gd-5.5.33.tgz&quot;&amp;gt;php55-gd-5.5.33.tgz&amp;lt;/a&amp;gt;                      08-Mar-2016 20:18            146kB
&amp;lt;a href=&quot;php56-gd-5.6.19.tgz&quot;&amp;gt;php56-gd-5.6.19.tgz&amp;lt;/a&amp;gt;                      08-Mar-2016 20:28            146kB
&amp;lt;a href=&quot;php70-gd-7.0.4.tgz&quot;&amp;gt;php70-gd-7.0.4.tgz&amp;lt;/a&amp;gt;                       09-Mar-2016 21:46            145kB

# pkg_add -v php56-gd

# cp /usr/pkg/etc/php.ini /usr/pkg/etc/php.ini.original.bak
# grep -n extension\= /usr/pkg/etc/php.ini
854:;   extension=modulename.extension
... ... ...
... ... ...
912:;extension=php_xsl.dll

# vi +854 /usr/pkg/etc/php.ini
# sed -n 868,872p /usr/pkg/etc/php.ini
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Dynamic Extensions required for Grav ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
extension=gd.so


# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:02:32.000000000 -0700
@@ -867,0 +868,5 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+


# printf &quot;Check whether gd.so is loading fine.    \n\n&quot;
Check whether gd.so is loading fine.    

# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies

# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep curl 
&amp;lt;a href=&quot;php55-curl-5.5.33.tgz&quot;&amp;gt;php55-curl-5.5.33.tgz&amp;lt;/a&amp;gt;                    08-Mar-2016 20:34             35kB
&amp;lt;a href=&quot;php56-curl-5.6.19.tgz&quot;&amp;gt;php56-curl-5.6.19.tgz&amp;lt;/a&amp;gt;                    08-Mar-2016 20:50             35kB
&amp;lt;a href=&quot;php70-curl-7.0.4.tgz&quot;&amp;gt;php70-curl-7.0.4.tgz&amp;lt;/a&amp;gt;                     09-Mar-2016 21:53             34kB

# pkg_add -v php56-curl

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:09:54.000000000 -0700
@@ -867,0 +868,6 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+

# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies


# ftp -o - `echo $PKG_PATH` | grep -i php | grep crypt 
&amp;lt;a href=&quot;php55-mcrypt-5.5.33.tgz&quot;&amp;gt;php55-mcrypt-5.5.33.tgz&amp;lt;/a&amp;gt;                  08-Mar-2016 20:32             18kB
&amp;lt;a href=&quot;php56-mcrypt-5.6.19.tgz&quot;&amp;gt;php56-mcrypt-5.6.19.tgz&amp;lt;/a&amp;gt;                  08-Mar-2016 21:23             18kB
&amp;lt;a href=&quot;php70-mcrypt-7.0.4.tgz&quot;&amp;gt;php70-mcrypt-7.0.4.tgz&amp;lt;/a&amp;gt;                   09-Mar-2016 22:22             17kB

# pkg_add -v php56-mcrypt
# vi +872 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:18:08.000000000 -0700
@@ -867,0 +868,7 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies


# pkg_add -v openssl


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep zip 
&amp;lt;a href=&quot;php55-zip-5.5.33.tgz&quot;&amp;gt;php55-zip-5.5.33.tgz&amp;lt;/a&amp;gt;                     08-Mar-2016 20:33             46kB
&amp;lt;a href=&quot;php56-zip-5.6.19.tgz&quot;&amp;gt;php56-zip-5.6.19.tgz&amp;lt;/a&amp;gt;                     08-Mar-2016 20:45             57kB
&amp;lt;a href=&quot;php70-zip-7.0.4.tgz&quot;&amp;gt;php70-zip-7.0.4.tgz&amp;lt;/a&amp;gt;                      09-Mar-2016 21:51             63kB


# pkg_add -v php56-zip
# vi +873 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:21:57.000000000 -0700
@@ -867,0 +868,8 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep mbstring
&amp;lt;a href=&quot;php55-mbstring-5.5.33.tgz&quot;&amp;gt;php55-mbstring-5.5.33.tgz&amp;lt;/a&amp;gt;                08-Mar-2016 20:29            664kB
&amp;lt;a href=&quot;php56-mbstring-5.6.19.tgz&quot;&amp;gt;php56-mbstring-5.6.19.tgz&amp;lt;/a&amp;gt;                08-Mar-2016 20:35            664kB


# pkg_add -v php56-mbstring
# vi +874 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:24:46.000000000 -0700
@@ -867,0 +868,9 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep xml 
&amp;lt;a href=&quot;php55-xmlrpc-5.5.33.tgz&quot;&amp;gt;php55-xmlrpc-5.5.33.tgz&amp;lt;/a&amp;gt;                  08-Mar-2016 21:25             43kB
&amp;lt;a href=&quot;php56-xmlrpc-5.6.19.tgz&quot;&amp;gt;php56-xmlrpc-5.6.19.tgz&amp;lt;/a&amp;gt;                  09-Mar-2016 00:50             43kB


# pkg_add -v php56-xmlrpc
# vi +875 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:27:01.000000000 -0700
@@ -867,0 +868,10 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep apcu 
&amp;lt;a href=&quot;php55-apcu-4.0.7.tgz&quot;&amp;gt;php55-apcu-4.0.7.tgz&amp;lt;/a&amp;gt;                     09-Mar-2016 05:57             51kB
&amp;lt;a href=&quot;php56-apcu-4.0.7.tgz&quot;&amp;gt;php56-apcu-4.0.7.tgz&amp;lt;/a&amp;gt;                     09-Mar-2016 06:01             51kB

# pkg_add -v php56-apcu
# vi +876 /usr/pkg/etc/php.ini


#  diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:30:25.000000000 -0700
@@ -867,0 +868,11 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+extension=apcu.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep opcache 
&amp;lt;a href=&quot;php55-opcache-5.5.33.tgz&quot;&amp;gt;php55-opcache-5.5.33.tgz&amp;lt;/a&amp;gt;                 08-Mar-2016 21:26             67kB
&amp;lt;a href=&quot;php55-zendopcache-7.0.5.tgz&quot;&amp;gt;php55-zendopcache-7.0.5.tgz&amp;lt;/a&amp;gt;              09-Mar-2016 05:57             70kB
&amp;lt;a href=&quot;php56-opcache-5.6.19.tgz&quot;&amp;gt;php56-opcache-5.6.19.tgz&amp;lt;/a&amp;gt;                 09-Mar-2016 01:12             73kB


# pkg_add -v php56-opcache
# vi +877 /usr/pkg/etc/php.ini


# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:32:44.000000000 -0700
@@ -867,0 +868,12 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+extension=apcu.so
+zend_extension=opcache.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies
    with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Technologies


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep xcache 
&amp;lt;a href=&quot;php55-xcache-3.2.0nb1.tgz&quot;&amp;gt;php55-xcache-3.2.0nb1.tgz&amp;lt;/a&amp;gt;                09-Mar-2016 06:18            116kB
&amp;lt;a href=&quot;php56-xcache-3.2.0nb1.tgz&quot;&amp;gt;php56-xcache-3.2.0nb1.tgz&amp;lt;/a&amp;gt;                09-Mar-2016 06:18            117kB


# pkg_add -v php56-xcache
# vi +878 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:36:18.000000000 -0700
@@ -867,0 +868,13 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+extension=apcu.so
+zend_extension=opcache.so
+extension=xcache.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies
    with XCache v3.2.0, Copyright (c) 2005-2014, by mOo
    with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Technologies
    with XCache Optimizer v3.2.0, Copyright (c) 2005-2014, by mOo
    with XCache Cacher v3.2.0, Copyright (c) 2005-2014, by mOo
    with XCache Coverager v3.2.0, Copyright (c) 2005-2014, by mOo


# ftp -o - `echo $PKG_PATH` | grep -i yaml
... ... ...
... ... ...
&amp;lt;a href=&quot;libyaml-0.1.6nb1.tgz&quot;&amp;gt;libyaml-0.1.6nb1.tgz&amp;lt;/a&amp;gt;                     30-Dec-2015 18:04            115kB
... ... ...
... ... ...


# pkg_add -v libyaml


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep xdebug 
&amp;lt;a href=&quot;php55-xdebug-2.3.3.tgz&quot;&amp;gt;php55-xdebug-2.3.3.tgz&amp;lt;/a&amp;gt;                   09-Mar-2016 05:59            101kB
&amp;lt;a href=&quot;php56-xdebug-2.3.3.tgz&quot;&amp;gt;php56-xdebug-2.3.3.tgz&amp;lt;/a&amp;gt;                   09-Mar-2016 06:02            101kB


# pkg_add -v php56-xdebug
# vi +880 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:43:25.000000000 -0700
@@ -867,0 +868,14 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+extension=apcu.so
+zend_extension=opcache.so
+extension=xcache.so
+zend_extension=xdebug.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies
    with XCache v3.2.0, Copyright (c) 2005-2014, by mOo
    with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Technologies
    with Xdebug v2.3.3, Copyright (c) 2002-2015, by Derick Rethans
    with XCache Optimizer v3.2.0, Copyright (c) 2005-2014, by mOo
    with XCache Cacher v3.2.0, Copyright (c) 2005-2014, by mOo
    with XCache Coverager v3.2.0, Copyright (c) 2005-2014, by mOo


# printf &quot;PEAR (PHP Extension and Application Repository) has the PHP Yaml module.    \n\n&quot;
PEAR (PHP Extension and Application Repository) has the PHP Yaml module.    

# printf &quot;PEAR includes PECL (PHP Extension Community Library).     \n\n&quot;
PEAR includes PECL (PHP Extension Community Library).     


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep pear
&amp;lt;a href=&quot;php55-pear-1.10.1.tgz&quot;&amp;gt;php55-pear-1.10.1.tgz&amp;lt;/a&amp;gt;                    08-Mar-2016 20:17            364kB
... ... ...
... ... ...
&amp;lt;a href=&quot;php56-pear-1.10.1.tgz&quot;&amp;gt;php56-pear-1.10.1.tgz&amp;lt;/a&amp;gt;                    08-Mar-2016 20:18            364kB
... ... ...
... ... ...


# pkg_add -v php56-pear


# grep -n include_path /usr/pkg/etc/php.ini | grep pkg | grep php
710:include_path = &quot;.:/usr/pkg/lib/php&quot;


# which pear
/usr/pkg/bin/pear
# whereis pear
/usr/pkg/bin/pear

# which pecl
/usr/pkg/bin/pecl
# whereis pecl
/usr/pkg/bin/pecl


# pear search yaml 
Retrieving data...0%
no packages found that match pattern &quot;yaml&quot;, for channel pear.php.net.


# pecl search yaml 
Retrieving data...0%
Matched packages, channel pecl.php.net:
=======================================
Package Stable/(Latest) Local
yaml    2.0.0RC7 (beta)       YAML-1.1 parser and emitter


# pecl install yaml
downloading yaml-1.2.0.tar ...
Starting to download yaml-1.2.0.tar (230,400 bytes)
.................................................done: 230,400 bytes
9 source files, building
running: phpize
Configuring for:
PHP Api Version:         20131106
Zend Module Api No:      20131226
Zend Extension Api No:   220131226
Cannot find autoconf. Please check your autoconf installation and the
$PHP_AUTOCONF environment variable. Then, rerun this script.

ERROR: `phpize&apos; failed


# ftp -o - `echo $PKG_PATH` | grep -i autoconf 
&amp;lt;a href=&quot;autoconf-2.69nb6.tgz&quot;&amp;gt;autoconf-2.69nb6.tgz&amp;lt;/a&amp;gt;                     30-Dec-2015 17:21            887kB
&amp;lt;a href=&quot;autoconf-archive-2015.02.24.tgz&quot;&amp;gt;autoconf-archive-2015.02.24.tgz&amp;lt;/a&amp;gt;          10-Jan-2016 17:31            546kB
&amp;lt;a href=&quot;autoconf213-2.13nb5.tgz&quot;&amp;gt;autoconf213-2.13nb5.tgz&amp;lt;/a&amp;gt;                  01-Jan-2016 01:20            244kB
&amp;lt;a href=&quot;p5-Config-AutoConf-0.311nb1.tgz&quot;&amp;gt;p5-Config-AutoConf-0.311nb1.tgz&amp;lt;/a&amp;gt;          04-Jan-2016 02:53             36kB


# pkg_add -v autoconf

# pecl install yaml
# vi +881 /usr/pkg/etc/php.ini


# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 13:58:20.000000000 -0700
@@ -867,0 +868,15 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+extension=apcu.so
+zend_extension=opcache.so
+extension=xcache.so
+zend_extension=xdebug.so
+extension=yaml.so
+


# php -v
PHP 5.6.19 (cli) (built: Mar  8 2016 20:15:11) 
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies
    with XCache v3.2.0, Copyright (c) 2005-2014, by mOo
    with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Technologies
    with Xdebug v2.3.3, Copyright (c) 2002-2015, by Derick Rethans
    with XCache Optimizer v3.2.0, Copyright (c) 2005-2014, by mOo
    with XCache Cacher v3.2.0, Copyright (c) 2005-2014, by mOo
    with XCache Coverager v3.2.0, Copyright (c) 2005-2014, by mOo


# ftp -o - `echo $PKG_PATH` | grep -i php | grep 5 | grep ap 
... ... ...
&amp;lt;a href=&quot;ap22-php56-5.6.19.tgz&quot;&amp;gt;ap22-php56-5.6.19.tgz&amp;lt;/a&amp;gt;                    08-Mar-2016 21:23           2719kB
... ... ... 
... ... ... 
&amp;lt;a href=&quot;ap24-php56-5.6.19.tgz&quot;&amp;gt;ap24-php56-5.6.19.tgz&amp;lt;/a&amp;gt;                    09-Mar-2016 06:25           2719kB
... ... ... 
... ... ... 


# pkg_add -v ap24-php56
# cp /usr/pkg/share/examples/rc.d/apache /etc/rc.d/apache
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -w name\= /etc/rc.d/apache
name=&quot;apache&quot;

# cp /etc/rc.conf /etc/rc.conf.original.bak

# printf &quot;apache=YES\n&quot; &amp;gt;&amp;gt; /etc/rc.conf

# diff --unified=0 /etc/rc.conf.original.bak /etc/rc.conf
--- /etc/rc.conf.original.bak   2016-05-07 16:46:04.000000000 -0700
+++ /etc/rc.conf        2016-05-07 16:46:25.000000000 -0700
@@ -29,0 +30 @@
+apache=YES

# /etc/rc.d/apache start
Starting apache.
AH00557: httpd: apr_sockaddr_info_get() failed for nbsdweb.telus
AH00558: httpd: Could not reliably determine the server&apos;s fully qualified domain name, using 127.0.0.1. Set the &apos;ServerName&apos; directive globally to suppress this message

# /etc/rc.d/apache status
apache is running as pid 7367.

# cp /etc/hosts /etc/hosts.original.bak
# vi /etc/hosts

# diff --unified=0 /etc/hosts.original.bak /etc/hosts
--- /etc/hosts.original.bak     2016-05-07 16:52:59.000000000 -0700
+++ /etc/hosts  2016-05-07 16:55:02.000000000 -0700
@@ -14,0 +15 @@
+127.0.0.1              mygravblog.localhost localhost.

# cp /usr/pkg/etc/httpd/httpd.conf /usr/pkg/etc/httpd/httpd.conf.original.bak
# grep -n ServerName /usr/pkg/etc/httpd/httpd.conf 
202:# ServerName gives the name and port that the server uses to identify itself.
208:#ServerName www.example.com:80

# diff --unified=0 /usr/pkg/etc/httpd/httpd.conf.original.bak /usr/pkg/etc/httpd/httpd.conf
--- /usr/pkg/etc/httpd/httpd.conf.original.bak  2016-05-07 16:56:44.000000000 -0700
+++ /usr/pkg/etc/httpd/httpd.conf       2016-05-07 16:58:17.000000000 -0700
@@ -208 +208 @@
-#ServerName www.example.com:80
+ServerName mygravblog.localhost:80

# /etc/rc.d/apache restart

# which nc
# whereis nc

# export PKG_PATH=&quot;http://ftp.NetBSD.org/pub/pkgsrc/packages/$(uname -s)/$(uname -m)/$(uname -r)/All&quot;

# ftp -o - `echo $PKG_PATH` | grep -i netcat
&amp;lt;a href=&quot;gnetcat-0.7.1nb3.tgz&quot;&amp;gt;gnetcat-0.7.1nb3.tgz&amp;lt;/a&amp;gt;                     10-Jan-2016 15:16             33kB
&amp;lt;a href=&quot;netcat-1.10nb3.tgz&quot;&amp;gt;netcat-1.10nb3.tgz&amp;lt;/a&amp;gt;                       05-Jan-2016 13:36             26kB
&amp;lt;a href=&quot;netcat-openbsd-20131208.tgz&quot;&amp;gt;netcat-openbsd-20131208.tgz&amp;lt;/a&amp;gt;              10-Jan-2016 15:05             21kB
&amp;lt;a href=&quot;netcat6-1.0nb3.tgz&quot;&amp;gt;netcat6-1.0nb3.tgz&amp;lt;/a&amp;gt;                       10-Jan-2016 15:05             31kB


# pkg_add -v netcat
# which nc
/usr/pkg/sbin/nc
# whereis nc
/usr/pkg/sbin/nc

# nc -z -v mygravblog.localhost 80
DNS fwd/rev mismatch: mygravblog.localhost != localhost
mygravblog.localhost [127.0.0.1] 80 (http) open


# nc localhost 80
GET / HTTP/1.1
HOST: mygravblog.localhost
&amp;lt;line feed&amp;gt;

** Notes: **
- No OS cursor caret, the connection is open so you just get a blank line waiting for input. 
- Press &amp;lt;enter&amp;gt; twice after the &quot;HOST:&quot;.
- To disconnect, press Ctrl-C (which the shell will display as ^C).


OUTPUT:
HTTP/1.1 200 OK
Date: Sun, 08 May 2016 00:56:38 GMT
Server: Apache/2.4.17 (Unix)
Last-Modified: Fri, 01 Jan 2016 16:32:10 GMT
ETag: &quot;2d-5284850171680&quot;
Accept-Ranges: bytes
Content-Length: 45
Content-Type: text/html

&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;It works!&amp;lt;/h1&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
^C punt!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the host OS, with your web browser, browse to http://localhost:7777, which 
was configured to forward to guest OS’s port 80.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lynx localhost:7777
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print from the ‘lynx’ text web browser:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                          It works!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /usr/libexec/locate.updatedb 

# locate mod_php5.so
/usr/pkg/lib/httpd/mod_php5.so


# grep -v ^\# /usr/pkg/etc/httpd/httpd.conf | grep LoadModule
LoadModule authn_file_module lib/httpd/mod_authn_file.so
... ... ...
... ... ...
LoadModule alias_module lib/httpd/mod_alias.so


# grep -n mod_alias.so /usr/pkg/etc/httpd/httpd.conf 
165:LoadModule alias_module lib/httpd/mod_alias.so

# vi +165 /usr/pkg/etc/httpd/httpd.conf 

# diff --unified=0 /usr/pkg/etc/httpd/httpd.conf.original.bak /usr/pkg/etc/httpd/httpd.conf
--- /usr/pkg/etc/httpd/httpd.conf.original.bak  2016-05-07 21:00:34.000000000 -0700
+++ /usr/pkg/etc/httpd/httpd.conf       2016-05-07 20:52:47.000000000 -0700
@@ -165,0 +166,4 @@
+LoadModule php5_module lib/httpd/mod_php5.so
+&amp;lt;FilesMatch \.php$&amp;gt;
+    SetHandler application/x-httpd-php
+&amp;lt;/FilesMatch&amp;gt;
@@ -208 +212 @@
-#ServerName www.example.com:80
+ServerName mygravblog.localhost:80

# /etc/rc.d/apache restart
Stopping apache.
Waiting for PIDS: 2230.
Starting apache.
[Sat May 07 21:11:50.954964 2016] [:crit] [pid 1947:tid 140187566933760] Apache is running a threaded MPM, but your PHP Module is not compiled to be threadsafe.  You need to recompile PHP.
AH00013: Pre-configuration failed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fix: Switch to the prefork MPM, which does not use threads -=&amp;gt; replace mpm_event_module with mpm_prefork_module:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n mpm /usr/pkg/etc/httpd/httpd.conf 
145:LoadModule mpm_event_module lib/httpd/mod_mpm_event.so
146:#LoadModule mpm_prefork_module lib/httpd/mod_mpm_prefork.so
147:#LoadModule mpm_worker_module lib/httpd/mod_mpm_worker.so
468:#Include etc/httpd/httpd-mpm.conf

# grep -n prefork /usr/pkg/etc/httpd/httpd.conf
146:#LoadModule mpm_prefork_module lib/httpd/mod_mpm_prefork.so

# vi +145 /usr/pkg/etc/httpd/httpd.conf

# diff --unified=0 /usr/pkg/etc/httpd/httpd.conf.original.bak /usr/pkg/etc/httpd/httpd.conf
--- /usr/pkg/etc/httpd/httpd.conf.original.bak  2016-05-07 21:00:34.000000000 -0700
+++ /usr/pkg/etc/httpd/httpd.conf       2016-05-07 21:16:06.000000000 -0700
@@ -145,2 +145,2 @@
-LoadModule mpm_event_module lib/httpd/mod_mpm_event.so
-#LoadModule mpm_prefork_module lib/httpd/mod_mpm_prefork.so
+#LoadModule mpm_event_module lib/httpd/mod_mpm_event.so
+LoadModule mpm_prefork_module lib/httpd/mod_mpm_prefork.so
@@ -165,0 +166,4 @@
+LoadModule php5_module lib/httpd/mod_php5.so
+&amp;lt;FilesMatch \.php$&amp;gt;
+    SetHandler application/x-httpd-php
+&amp;lt;/FilesMatch&amp;gt;
@@ -208 +212 @@
-#ServerName www.example.com:80
+ServerName mygravblog.localhost:80
@@ -464 +468 @@
-#Include etc/httpd/httpd-mpm.conf
+Include etc/httpd/httpd-mpm.conf


# /etc/rc.d/apache status
apache is not running.

# /etc/rc.d/apache restart
apache not running? (check /var/run/httpd.pid).
Starting apache.

# /etc/rc.d/apache status
apache is running as pid 1557.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Vhost Setup&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# grep -n vhosts /usr/pkg/etc/httpd/httpd.conf
486:#Include etc/httpd/httpd-vhosts.conf

# vi +486 /usr/pkg/etc/httpd/httpd.conf

# diff --unified=0 /usr/pkg/etc/httpd/httpd.conf.original.bak /usr/pkg/etc/httpd/httpd.conf
--- /usr/pkg/etc/httpd/httpd.conf.original.bak  2016-05-07 21:00:34.000000000 -0700
+++ /usr/pkg/etc/httpd/httpd.conf       2016-05-07 21:24:00.000000000 -0700
@@ -145,2 +145,2 @@
-LoadModule mpm_event_module lib/httpd/mod_mpm_event.so
-#LoadModule mpm_prefork_module lib/httpd/mod_mpm_prefork.so
+#LoadModule mpm_event_module lib/httpd/mod_mpm_event.so
+LoadModule mpm_prefork_module lib/httpd/mod_mpm_prefork.so
@@ -165,0 +166,4 @@
+LoadModule php5_module lib/httpd/mod_php5.so
+&amp;lt;FilesMatch \.php$&amp;gt;
+    SetHandler application/x-httpd-php
+&amp;lt;/FilesMatch&amp;gt;
@@ -208 +212 @@
-#ServerName www.example.com:80
+ServerName mygravblog.localhost:80
@@ -464 +468 @@
-#Include etc/httpd/httpd-mpm.conf
+Include etc/httpd/httpd-mpm.conf
@@ -482 +486 @@
-#Include etc/httpd/httpd-vhosts.conf
+Include etc/httpd/httpd-vhosts.conf

# grep -n -i mod_rewrite /usr/pkg/etc/httpd/httpd.conf
170:#LoadModule rewrite_module lib/httpd/mod_rewrite.so

# vi +170 /usr/pkg/etc/httpd/httpd.conf

# diff --unified=0 /usr/pkg/etc/httpd/httpd.conf.original.bak /usr/pkg/etc/httpd/httpd.conf
--- /usr/pkg/etc/httpd/httpd.conf.original.bak  2016-05-07 21:00:34.000000000 -0700
+++ /usr/pkg/etc/httpd/httpd.conf       2016-05-07 23:22:39.000000000 -0700
@@ -145,2 +145,2 @@
-LoadModule mpm_event_module lib/httpd/mod_mpm_event.so
-#LoadModule mpm_prefork_module lib/httpd/mod_mpm_prefork.so
+#LoadModule mpm_event_module lib/httpd/mod_mpm_event.so
+LoadModule mpm_prefork_module lib/httpd/mod_mpm_prefork.so
@@ -166 +166,5 @@
-#LoadModule rewrite_module lib/httpd/mod_rewrite.so
+LoadModule php5_module lib/httpd/mod_php5.so
+&amp;lt;FilesMatch \.php$&amp;gt;
+    SetHandler application/x-httpd-php
+&amp;lt;/FilesMatch&amp;gt;
+LoadModule rewrite_module lib/httpd/mod_rewrite.so
@@ -208 +212 @@
-#ServerName www.example.com:80
+ServerName mygravblog.localhost:80
@@ -464 +468 @@
-#Include etc/httpd/httpd-mpm.conf
+Include etc/httpd/httpd-mpm.conf
@@ -482 +486 @@
-#Include etc/httpd/httpd-vhosts.conf
+Include etc/httpd/httpd-vhosts.conf


# grep -n DocumentRoot /usr/pkg/etc/httpd/httpd.conf
232:# DocumentRoot: The directory out of which you will serve your
236:DocumentRoot &quot;/usr/pkg/share/httpd/htdocs&quot;
336:    # access content that does not live under the DocumentRoot.


# cp /usr/pkg/etc/httpd/httpd-vhosts.conf /usr/pkg/etc/httpd/httpd-vhosts.conf.original.bak
# vi /usr/pkg/etc/httpd/httpd-vhosts.conf 

# tail -13 /usr/pkg/etc/httpd/httpd-vhosts.conf
    &amp;lt;Directory /var/www/grav&amp;gt;
        Options Indexes FollowSymLinks MultiViews
        DirectoryIndex index.php
        AllowOverride all
        Require all granted
    &amp;lt;/Directory&amp;gt;

    ServerAdmin webmaster@dummy-host2.example.com
    DocumentRoot &quot;/var/www/grav&quot;
    ServerName mygravblog.localhost
    ErrorLog &quot;/var/log/httpd/mygravblog-error_log&quot;
    CustomLog &quot;/var/log/httpd/mygravblog-access_log&quot; common
&amp;lt;/VirtualHost&amp;gt;


# ls -ld /var/www
drwxr-xr-x  2 root  wheel  512 Sep 25  2015 /var/www

# mkdir -p /var/www/grav
# ls -ld /var/www/grav
drwxr-xr-x  2 root  wheel  512 May  7 21:38 /var/www/grav

# printf &quot;My Grav Blog\n&quot; &amp;gt; /var/www/grav/index.html

# /etc/rc.d/apache restart

# nc localhost 80
GET / HTTP/1.1
HOST: mygravblog.localhost

HTTP/1.1 200 OK
Date: Sun, 08 May 2016 04:47:57 GMT
Server: Apache/2.4.17 (Unix) PHP/5.6.19
Last-Modified: Sun, 08 May 2016 04:41:52 GMT
ETag: &quot;d-5324d4f971480&quot;
Accept-Ranges: bytes
Content-Length: 13
Content-Type: text/html

My Grav Blog
^C punt!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Grav Installation&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# rm -i /var/www/grav/index.html
remove &apos;/var/www/grav/index.html&apos;? y

# ftp https://github.com/getgrav/grav/releases/download/1.0.10/grav-admin-v1.0.10.zip

# printf &quot;ftp saved it under name octet-stream. \n\n&quot;
ftp saved it under name octet-stream. 

# mv octet-stream grav-admin-v1.0.10.zip
# file grav-admin-v1.0.10.zip 
grav-admin-v1.0.10.zip: Zip archive data, at least v1.0 to extract

# unzip grav-admin-v1.0.10.zip 
... ... ...
... ... ...

# rmdir /var/www/grav/
# mv grav-admin /var/www/grav

# groups dusko
users wheel

# find /var/www/grav -type d -exec chmod 0775 {} \;
# find /var/www/grav -type f -exec chmod 0664 {} \;
# find /var/www/grav/bin -type f -exec chmod 0774 {} \;

# grep apache /etc/passwd
www:*:1001:1000:apache www user:/nonexistent:/sbin/nologin

# grep 1000 /etc/group 
www:*:1000:


# chown -R dusko:www /var/www/grav

# printf &quot;In order to run Grav&apos;s GPM (Grav Package Manager), you need to add your user to the group of the user running the web server.  \n\n&quot;
In order to run Grav&apos;s GPM (Grav Package Manager), you need to add your user to the group of the user running the web server.  

# usermod -G www dusko
# groups dusko
users wheel www

# exit
$ cd /var/www/grav 

$ bin/gpm index
PHP Fatal error:  Call to undefined function Grav\Common\Config\json_encode() in /var/www/grav/system/src/Grav/Common/Config/CompiledBase.php on line 112
PHP Stack trace:
PHP   1. {main}() /var/www/grav/bin/gpm:0
PHP   2. Pimple\Container-&amp;gt;offsetGet() /var/www/grav/bin/gpm:41
... ... ...
... ... ...


$ su
Password:

# ftp -o - `echo $PKG_PATH` | grep -i php | grep json 
&amp;lt;a href=&quot;php55-json-5.5.33.tgz&quot;&amp;gt;php55-json-5.5.33.tgz&amp;lt;/a&amp;gt;                    08-Mar-2016 20:30             19kB
&amp;lt;a href=&quot;php56-json-5.6.19.tgz&quot;&amp;gt;php56-json-5.6.19.tgz&amp;lt;/a&amp;gt;                    08-Mar-2016 20:38             18kB
&amp;lt;a href=&quot;php70-json-7.0.4.tgz&quot;&amp;gt;php70-json-7.0.4.tgz&amp;lt;/a&amp;gt;                     09-Mar-2016 21:49             20kB


# pkg_add -v php56-json

# vi +882 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-07 22:47:58.000000000 -0700
@@ -867,0 +868,16 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+extension=apcu.so
+zend_extension=opcache.so
+extension=xcache.so
+zend_extension=xdebug.so
+extension=yaml.so
+extension=json.so
+

# grep -n &quot;date.timezone&quot; /usr/pkg/etc/php.ini
940:; http://php.net/date.timezone
941:;date.timezone =

# vi +941 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-08 00:01:23.000000000 -0700
@@ -867,0 +868,16 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+extension=apcu.so
+zend_extension=opcache.so
+extension=xcache.so
+zend_extension=xdebug.so
+extension=yaml.so
+extension=json.so
+
@@ -925 +941 @@
-;date.timezone =
+date.timezone = &quot;America/Vancouver&quot; 

# exit
$ pwd
/var/www/grav

$ bin/gpm index

PHP Warning:  Invalid argument supplied for foreach() in /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php on line 110
PHP Stack trace:
PHP   1. {main}() /var/www/grav/bin/gpm:0
PHP   2. Symfony\Component\Console\Application-&amp;gt;run() /var/www/grav/bin/gpm:57
... ... ...
... ... ...


# sed -n 110,110p /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php
        foreach ($data as $type =&amp;gt; $packages) {


# cp /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php.original.bak
# vi +110 /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php

# diff --unified=0  /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php.original.bak /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php
--- /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php.original.bak     2016-05-07 22:55:14.000000000 -0700
+++ /var/www/grav/system/src/Grav/Console/Gpm/IndexCommand.php  2016-05-07 22:55:44.000000000 -0700
@@ -110 +110 @@
-        foreach ($data as $type =&amp;gt; $packages) {
+        foreach ((array) $data as $type =&amp;gt; $packages) {


# exit
$ bin/gpm index

You can either get more informations about a package by typing:
    bin/gpm info &amp;lt;package&amp;gt;

Or you can install a package by typing:
    bin/gpm install &amp;lt;package&amp;gt;


# find /var/www/grav/cache -type d -exec chmod 0775 {} \;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Troubleshooting&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Sorry, something went terribly wrong!
E_ERROR - Class ‘DOMDocument’ not found
For further details please review your logs/ folder, or enable displaying of errors in your system configuration.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# cat /var/www/grav/logs/grav.log 
[2016-05-08 00:34:09] grav.WARNING: Plugin &apos;jscomments&apos; enabled but not found! Try clearing cache with `bin/grav clear-cache` [] []
[2016-05-08 00:34:10] grav.CRITICAL: Class &apos;DOMDocument&apos; not found - Trace: #0 /var/www/grav/vendor/filp/whoops/src/Whoops/Run.php(357): Whoops\Run-&amp;gt;handleError(1, &apos;Class &apos;DOMDocum...&apos;, &apos;/var/www/grav/s...&apos;, 67) #1 [internal function]: Whoops\Run-&amp;gt;handleShutdown() #2 {main} [] []

# php -i | grep -i -w dom
Configure Command =&amp;gt;  &apos;./configure&apos;  &apos;--with-config-file-path=/usr/pkg/etc&apos; &apos;--with-config-file-scan-dir=/usr/pkg/etc/php.d&apos; &apos;--sysconfdir=/usr/pkg/etc&apos; &apos;--localstatedir=/var&apos; &apos;--with-regex=system&apos; &apos;--without-mysql&apos; &apos;--without-iconv&apos; &apos;--without-pear&apos; &apos;--disable-posix&apos; &apos;--disable-dom&apos; &apos;--disable-opcache&apos; &apos;--disable-pdo&apos; &apos;--disable-json&apos; &apos;--enable-cgi&apos; &apos;--enable-mysqlnd&apos; &apos;--enable-xml&apos; &apos;--with-libxml-dir=/usr/pkg&apos; &apos;--enable-ipv6&apos; &apos;--with-openssl=/usr&apos; &apos;--without-readline&apos; &apos;--prefix=/usr/pkg&apos; &apos;--build=x86_64--netbsd&apos; &apos;--host=x86_64--netbsd&apos; &apos;--mandir=/usr/pkg/man&apos; &apos;build_alias=x86_64--netbsd&apos; &apos;host_alias=x86_64--netbsd&apos; &apos;CC=gcc&apos; &apos;CFLAGS=-O2 &apos;-pthread&apos; &apos;-I/usr/pkg/include&apos; &apos;-I/usr/include&apos;&apos; &apos;LDFLAGS=-L/usr/pkg/lib &apos;-Wl,-R/usr/pkg/lib&apos; &apos;-L/usr/lib&apos; &apos;-Wl,-R/usr/lib&apos; &apos;-pthread&apos;&apos; &apos;LIBS=&apos; &apos;CPPFLAGS=-I/usr/pkg/include &apos;-I/usr/include&apos;&apos; &apos;CXX=c++&apos; &apos;CXXFLAGS=-O2 &apos;-pthread&apos; &apos;-I/usr/pkg/include&apos; &apos;-I/usr/include&apos;&apos; &apos;CXXCPP=cpp&apos;


# php -i | grep -n &quot;disable-dom&quot;
6:Configure Command =&amp;gt;  &apos;./configure&apos;  &apos;--with-config-file-path=/usr/pkg/etc&apos; &apos;--with-config-file-scan-dir=/usr/pkg/etc/php.d&apos; &apos;--sysconfdir=/usr/pkg/etc&apos; &apos;--localstatedir=/var&apos; &apos;--with-regex=system&apos; &apos;--without-mysql&apos; &apos;--without-iconv&apos; &apos;--without-pear&apos; &apos;--disable-posix&apos; &apos;--disable-dom&apos; &apos;--disable-opcache&apos; &apos;--disable-pdo&apos; &apos;--disable-json&apos; &apos;--enable-cgi&apos; &apos;--enable-mysqlnd&apos; &apos;--enable-xml&apos; &apos;--with-libxml-dir=/usr/pkg&apos; &apos;--enable-ipv6&apos; &apos;--with-openssl=/usr&apos; &apos;--without-readline&apos; &apos;--prefix=/usr/pkg&apos; &apos;--build=x86_64--netbsd&apos; &apos;--host=x86_64--netbsd&apos; &apos;--mandir=/usr/pkg/man&apos; &apos;build_alias=x86_64--netbsd&apos; &apos;host_alias=x86_64--netbsd&apos; &apos;CC=gcc&apos; &apos;CFLAGS=-O2 &apos;-pthread&apos; &apos;-I/usr/pkg/include&apos; &apos;-I/usr/include&apos;&apos; &apos;LDFLAGS=-L/usr/pkg/lib &apos;-Wl,-R/usr/pkg/lib&apos; &apos;-L/usr/lib&apos; &apos;-Wl,-R/usr/lib&apos; &apos;-pthread&apos;&apos; &apos;LIBS=&apos; &apos;CPPFLAGS=-I/usr/pkg/include &apos;-I/usr/include&apos;&apos; &apos;CXX=c++&apos; &apos;CXXFLAGS=-O2 &apos;-pthread&apos; &apos;-I/usr/pkg/include&apos; &apos;-I/usr/include&apos;&apos; &apos;CXXCPP=cpp&apos;


# ftp -o - `echo $PKG_PATH` | grep -i php | grep -i dom
&amp;lt;a href=&quot;php55-dom-5.5.33.tgz&quot;&amp;gt;php55-dom-5.5.33.tgz&amp;lt;/a&amp;gt;                     08-Mar-2016 20:21             72kB
&amp;lt;a href=&quot;php56-dom-5.6.19.tgz&quot;&amp;gt;php56-dom-5.6.19.tgz&amp;lt;/a&amp;gt;                     08-Mar-2016 20:33             73kB
&amp;lt;a href=&quot;php70-dom-7.0.4.tgz&quot;&amp;gt;php70-dom-7.0.4.tgz&amp;lt;/a&amp;gt;                      09-Mar-2016 21:47             70kB


# pkg_add -v php56-dom

# vi +883 /usr/pkg/etc/php.ini

# diff --unified=0 /usr/pkg/etc/php.ini.original.bak /usr/pkg/etc/php.ini
--- /usr/pkg/etc/php.ini.original.bak   2016-05-07 12:58:30.000000000 -0700
+++ /usr/pkg/etc/php.ini        2016-05-08 00:49:52.000000000 -0700
@@ -867,0 +868,17 @@
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+; Dynamic Extensions required for Grav ;
+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
+extension=gd.so
+extension=curl.so
+extension=mcrypt.so
+extension=zip.so
+extension=mbstring.so
+extension=xmlrpc.so
+extension=apcu.so
+zend_extension=opcache.so
+extension=xcache.so
+zend_extension=xdebug.so
+extension=yaml.so
+extension=json.so
+extension=dom.so
+
@@ -925 +942 @@
-;date.timezone =
+date.timezone = &quot;America/Vancouver&quot; 

# /etc/rc.d/apache restart
Stopping apache.
Waiting for PIDS: 6995.
Starting apache.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;browser-check-on-the-host&quot;&gt;Browser check on the host&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Add the following line &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127.0.0.1   mygravablog.localhost&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;With your web browser, navigate to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://mygravblog.localhost:7777/&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 12 Aug 2016 17:04:02 -0700</pubDate>
        <link>http://localhost:4000/bsd/netbsd/virtualization/php/webdevelopment/2016/08/12/netbsd-virtualbox-grav.html</link>
        <guid isPermaLink="true">http://localhost:4000/bsd/netbsd/virtualization/php/webdevelopment/2016/08/12/netbsd-virtualbox-grav.html</guid>
        
        
        <category>bsd</category>
        
        <category>netbsd</category>
        
        <category>virtualization</category>
        
        <category>php</category>
        
        <category>webdevelopment</category>
        
      </item>
    
  </channel>
</rss>
